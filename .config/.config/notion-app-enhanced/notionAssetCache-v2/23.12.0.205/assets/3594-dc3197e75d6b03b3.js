"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3594],{46978:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(23174),i=n.n(o),a=n(67294),r=n(24405);function s(e,t){let{isSelected:n}=e;window.__c={n:"RadioButtonIcon"};const{radioButtonStyle:o,dotStyle:s}=(0,r.yK)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:8,background:n?e.blueColor:e.whiteButtonBackground,border:n?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:n?1:0}})),[n]);return a.createElement("div",{ref:t,style:o},i()("div",{style:s}))}const d=a.forwardRef(s)},27386:(e,t,n)=>{n.d(t,{Z:()=>p,k:()=>c});var o=n(23174),i=n.n(o),a=(n(67294),n(83355)),r=n(34859),s=n(91754),d=n(61519),l=n(53336);function c(e){return e?18:60}class u extends a.Z{static renderDivider(){return i()(d.Z,{size:37})}renderComponent(){const{device:e}=this.environment,{children:t,controlRow:n,bannerText:o,controlRowPaddingTopBottom:a=16}=this.props,d=()=>e.isMobile?18:36;return this.props.disableScroller?i()("div",{style:{paddingLeft:c(e.isMobile),paddingRight:c(e.isMobile)}},void 0,i()("div",{style:{paddingTop:d(),paddingBottom:d()}},void 0,t),n&&i()("div",{style:{paddingTop:a,paddingBottom:a,boxShadow:`0 -1px 0 ${this.theme.regularDividerColor}`}},void 0,n)):i()("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:this.theme.cardContentBackground}},void 0,o&&i()(s.Z,{styleKey:s.v.Blue,isMobile:!1},void 0,o),i()(l.Z,{type:r.Z.All,style:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:c(e.isMobile),paddingRight:c(e.isMobile),paddingTop:o?15:d(),paddingBottom:o?22:d()}},void 0,t),n&&i()("div",{style:{flexGrow:0,flexShrink:0,paddingLeft:c(e.isMobile),paddingRight:c(e.isMobile),paddingTop:a,paddingBottom:a,boxShadow:`0 -1px 0 ${this.theme.regularDividerColor}`}},void 0,n))}}u.displayName="SettingBox";const p=u},71422:(e,t,n)=>{n.d(t,{Z:()=>x});var o=n(23174),i=n.n(o),a=(n(21703),n(57658),n(67294)),r=n(480),s=n(86628),d=n(24405),l=n(11751),c=n(5366),u=n(82990),p=n(50906),m=n(65544),g=n(62216),y=n(18168),v=n(18514),f=n(42402);const h=function(e){window.__c={n:"AddOnDiscountMessage"};const t=(n=e.reduceTopMargin,(0,d.yK)((e=>({discountDescription:{alignItems:"center",marginBottom:36,color:e.mediumTextColor,fontSize:12,lineHeight:u.Z.lineHeight.UISmall.desktop,marginTop:n?-8:void 0}})),[n]));var n;return i()("div",{style:t.discountDescription},void 0,i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.discountMessage",defaultMessage:"Get an additional <bold>50% off Notion AI</bold> for the next 3 months with a paid plan. <terms>See details.</terms>",values:{bold:e=>i()("b",{},void 0,e),terms:e=>i()(f.Z,{href:(0,v.UY)("terms.discounts.ai.summer.2023")},void 0,e)}}))};function b(){return(0,d.yK)((e=>({discountText:{color:e.invoiceGreen,fontSize:12},icon:{width:16,height:16},mainTextSelected:{fontWeight:u.Z.fontWeight.medium,color:e.regularTextColor,fontSize:14,lineHeight:"14px"},mainTextUnselected:{color:e.mediumTextColor,fontSize:14,lineHeight:"14px"},priceText:{fontSize:14,color:e.mediumTextColor,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},section:{marginBottom:20},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:u.Z.fontWeight.semibold,color:e.mediumTextColor}})),[])}function S(e){window.__c={n:"Section"};const{header:t,children:n}=e,o=b();return i()("div",{style:o.section},void 0,i()("div",{style:o.sectionHeader},void 0,t),n)}function C(e){window.__c={n:"BillingIntervalOption"};const{isSelected:t,billingInterval:n}=e,o=b(),r=t?o.mainTextSelected:o.mainTextUnselected;let s;switch(n){case"month":s=i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",defaultMessage:"Monthly"});break;case"year":s=i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${n}`)}return a.createElement(a.Fragment,null,i()("div",{style:o.row},void 0,i()("div",{style:r},void 0,s),"year"===n?i()("div",{style:o.discountText},void 0,i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",defaultMessage:"{percent}% off",values:{percent:20}})):null))}function M(e){window.__c={n:"NoThanksOption"};const{isSelected:t}=e,n=b(),o=t?n.mainTextSelected:n.mainTextUnselected;return i()("div",{style:o},void 0,i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.noThanks",defaultMessage:"No thanks"}))}function w(e){window.__c={n:"AiOption"};const{coupon:t,isSelected:n}=e,o=b(),r=n?o.mainTextSelected:o.mainTextUnselected;return a.createElement(a.Fragment,null,i()("div",{style:o.row},void 0,(0,l.t)(o.icon),i()("div",{style:r},void 0,i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.notionAi",defaultMessage:"Notion AI"})),t?i()("div",{style:o.discountText},void 0,i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.aiDiscount",defaultMessage:"{percent}% off",values:{percent:50}})):null))}function x(e){window.__c={n:"SpaceSubscriptionOrderOptions"};const{subscriptionTier:t,billingInterval:n,addOnFeature:o,canAddAI:d,coupon:l,onChangeBillingInterval:u,onChangeAddOnFeature:v}=e,f=(0,r.O7)(),b=(0,s.VK)((()=>g.F4()),[]);(0,a.useEffect)((()=>{m.W_(f)}),[f,n,o]);const x=(0,a.useMemo)((()=>{const e={key:"month",render:()=>i()(C,{isSelected:"month"===n,billingInterval:"month",subscriptionTier:t,coupon:l})},o={key:"year",render:()=>i()(C,{isSelected:"year"===n,billingInterval:"year",subscriptionTier:t,coupon:l})};return b?[o,e]:[e,o]}),[n,t,b,l]),B=(0,a.useMemo)((()=>[{key:"none",render:()=>i()(M,{isSelected:!o,coupon:l})},{key:"ai",render:()=>i()(w,{isSelected:!!o,coupon:l})}]),[o,l]);return a.createElement(a.Fragment,null,i()(S,{header:i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",defaultMessage:"Billing period"})},void 0,i()(y.Z,{items:x,value:n,onChange:e=>{p.FRI(f,{billingInterval:e}),u(e)}})),d?a.createElement(a.Fragment,null,i()(S,{header:i()(c.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.header",defaultMessage:"Add-ons"})},void 0,i()(y.Z,{items:B,value:o??"none",onChange:e=>{const t=[];let n;switch(e){case"ai":n="ai",t.push("ai");break;default:n=void 0}p.qzU(f,{addOnFeatures:t}),v&&v(n)}})),l?i()(h,{reduceTopMargin:!0}):null):null)}},10644:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(23174),i=n.n(o),a=(n(67294),n(83355)),r=n(5366),s=n(64369),d=n(27386);class l extends a.Z{renderComponent(){return i()(d.Z,{},void 0,i()(s.Z,{isSmall:!0,style:{textAlign:"center"}},void 0,i()(r.FormattedMessage,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})))}}l.displayName="SpaceSubscriptionPlansOfflineMessage";const c=l},16116:(e,t,n)=>{n.d(t,{F:()=>s});var o=n(23174),i=n.n(o),a=n(86664),r=n(67294);function s(e){window.__c={n:"AddressElementWrapper"};const{address:t,updateAddress:n}=e,o=(0,r.useCallback)((e=>{const{name:t,address:o}=e.value;n({name:t,addressLine1:o.line1,addressLine2:o.line2??void 0,city:o.city,state:o.state,zipCode:o.postal_code,country:o.country})}),[n]);return i()(a.AddressElement,{options:{mode:"billing",defaultValues:{name:null==t?void 0:t.name,address:{line1:null==t?void 0:t.addressLine1,line2:null==t?void 0:t.addressLine2,city:null==t?void 0:t.city,state:null==t?void 0:t.state,postal_code:null==t?void 0:t.zipCode,country:null==t?void 0:t.country}}},onChange:o})}},93537:(e,t,n)=>{n.d(t,{f:()=>A});var o=n(23174),i=n.n(o),a=n(67294),r=n(24405),s=n(8848),d=n(64369);function l(e){window.__c={n:"CheckoutErrorMessage"};const{error:t}=e.state,n=(0,r.yK)((()=>({label:{marginTop:8,color:s.ZP.red}})),[]);return t?i()(d.Z,{isMultiline:!0,style:n.label},void 0,t):null}var c=n(95381),u=n(86628),p=n(5366),m=n(27242),g=n(42922);function y(e){const{state:t}=e,{open:n,type:o,useTestClock:r}=t;return n&&o===m.U.TargetSpace?i()(p.FormattedMessage,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):r?a.createElement(a.Fragment,null,"Upgrade with test clock"):i()(p.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"})}function v(e){window.__c={n:"CheckoutUpgradeButton"};const{state:t,paymentOptionAvailabilityStore:n,onClickUpgrade:o}=e,a=(0,r.yK)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),s=(0,u.VK)((()=>n.state.supportsApplePay),[n]),d=t.temporaryPaymentMethod;return s&&"native_payment_platform"===d?i()("button",{style:{...a.upgradeButton,WebkitAppearance:"-apple-pay-button"},onClick:o}):i()(g.Z,{disabled:"disabled"===t.payButtonState,style:a.upgradeButton,onClick:o},void 0,i()(y,{state:t}))}var f=n(480);const h=(0,n(45238).I)("chat",{viewBox:"0 0 32 32",svg:i()("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})});var b=n(47425),S=n(82990),C=n(50906),M=n(41168),w=n(80444),x=n(77080),B=n(73796),_=n(63296);function F(e){window.__c={n:"ContactSalesButton"};const{state:t}=e,n=(0,f.O7)(),o=(0,p.useIntl)(),s=(0,r.yK)((e=>({contactSalesButton:{width:"100%",height:40,marginTop:10},contactSalesCta:{fontWeight:S.Z.fontWeight.medium},contactSalesIcon:{height:18,width:20,marginRight:6},contactSalesQuestionsText:{color:e.mediumTextColor,fontSize:12,lineHeight:S.Z.lineHeight.UISmall.desktop}})),[]),[d,l]=(0,u.VK)((()=>{const e=x.default.getEligibleGroup({experimentId:"in_app_contact_sales_cta_billing",defaultGroup:"control"});return[t.subscriptionTier,e]}),[t]);if(!(0,b.Rs)(d))return null;const c=i()(p.FormattedMessage,"on"===l?{defaultMessage:"Request a demo",id:"helpButton.salesChat.menuItemDemoVariant"}:{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"});return a.createElement(a.Fragment,null,i()(_.Z,{style:s.contactSalesButton,onClick:()=>{const{currentUserStore:e}=w.default.state,i=null!=e&&e.isDefined()?null==e?void 0:e.getModel():void 0;B.Z.setState({open:!0,email:i&&i.getEmail(),name:i&&i.getDisplayName(o),question:M.m_(t.subscriptionTier)}),C.Zbu(n)}},void 0,h(s.contactSalesIcon),i()("span",{style:s.contactSalesCta},void 0,c)),i()("p",{style:s.contactSalesQuestionsText},void 0,i()(p.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})))}function A(e){const{state:t,paymentOptionAvailabilityStore:n,products:o,onClickUpgrade:r}=e;return a.createElement(a.Fragment,null,i()("div",{style:{display:"flex",flexDirection:"column",gap:16}},void 0,i()(v,{state:t,paymentOptionAvailabilityStore:n,onClickUpgrade:r}),i()(c.E,{products:o})),i()(l,{state:t}),i()(F,{state:t}))}},16608:(e,t,n)=>{n.d(t,{k:()=>x});var o=n(23174),i=n.n(o),a=n(86664),r=n(67294),s=n(86628),d=n(97880),l=n(62216),c=n(80444),u=n(27242),p=n(16116),m=n(24405),g=n(8848),y=n(77458),v=n(67677),f=n(28067),h=n(95485),b=n(82990),S=n(5366);function C(e){window.__c={n:"CardElementWrapper"};const{paymentMethods:t,temporaryPaymentMethod:n,payButtonState:o}=e,r=(0,m.yK)((e=>({container:{backgroundColor:e.cardContentBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,padding:"5px 5px 5px 10px"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:b.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},iconWrapper:{display:"flex",gap:5},icon:{width:23},stripeBase:{iconColor:e.blueColor,color:e.regularTextColor,fontFamily:b.Z.baseFontFamily.sans,fontSmoothing:"antialiased",fontSize:"14px","::placeholder":{color:e.lightTextColor},lineHeight:"2em"},stripeComplete:{iconColor:e.blueColor},stripeInvalid:{color:g.ZP.red,iconColor:g.ZP.red}})),[]);if("credit_card"!==n)return null;const s=1===t.length&&"credit_card"===t[0];return i()("div",{},void 0,i()("label",{style:r.header},void 0,i()(S.FormattedMessage,{id:"spaceSubscriptionPaymentForm.paymentInformation.header",defaultMessage:"Payment details"}),s?i()("div",{style:r.iconWrapper},void 0,i()("div",{},void 0,(0,h.w)(r.icon)),i()("div",{},void 0,(0,f.N)(r.icon)),i()("div",{},void 0,(0,y.b)(r.icon)),i()("div",{},void 0,(0,v.d)(r.icon))):null),i()("div",{style:r.container},void 0,i()(a.CardElement,{options:{disabled:"disabled"===o,hidePostalCode:!0,style:{base:r.stripeBase,complete:r.stripeComplete,invalid:r.stripeInvalid}}})))}var M=n(502);function w(){u.Z.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))}function x(e){window.__c={n:"CheckoutPaymentField"};const{paymentMethods:t,payButtonState:n,temporaryPaymentMethod:o,address:u,updateAddress:m}=e,[g,y]=(0,s.VK)((()=>{var e;return[l.o0(),null===(e=c.default.state.currentUserStore)||void 0===e?void 0:e.getEmail()]}),[]);if("control"===g)return i()(C,{paymentMethods:t,payButtonState:n,temporaryPaymentMethod:o});if("payment_and_address"===g){const e={};return y&&(e.defaultValues={email:y}),i()("div",{style:{display:"flex",flexDirection:"column",gap:24}},void 0,i()(M.w,{title:"Billed to"},void 0,u&&m?r.createElement(r.Fragment,null,i()(p.F,{address:u,updateAddress:m}),i()("div",{style:{paddingTop:8,width:"100%"}})):null,i()(a.LinkAuthenticationElement,{options:e})),i()(M.w,{title:"Payment details"},void 0,i()(a.PaymentElement,{onChange:()=>w()})))}if("payment"===g){const e={};return y&&(e.defaultValues={email:y}),i()("div",{style:{display:"flex",flexDirection:"column",gap:24}},void 0,i()(M.w,{title:"Billed to"},void 0,i()(a.LinkAuthenticationElement,{options:e})),i()(M.w,{title:"Payment details"},void 0,i()(a.PaymentElement,{onChange:()=>w()})))}(0,d.t1)(g)}},58025:(e,t,n)=>{n.d(t,{g:()=>v});var o=n(23174),i=n.n(o),a=(n(67294),n(480)),r=n(86628),s=n(24405),d=n(82990),l=n(5366),c=n(50906),u=n(41168),p=n(27242),m=n(46978);function g(){return(0,s.yK)((e=>({radioButton:{cursor:"pointer"},radioButtonUnavailable:{opacity:.4},radioButtonCaption:{color:e.mediumTextColor,fontSize:12,marginLeft:24,marginTop:2,marginBottom:8},radioButtonTitle:{display:"flex",alignItems:"center",fontSize:12},subheader:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:d.Z.fontWeight.semibold,color:e.mediumTextColor}})),[])}function y(e){window.__c={n:"RadioButton"};const{title:t,caption:n,isSelected:o,onClick:a,unavailable:r}=e,s=g();return i()("div",{style:r?s.radioButtonUnavailable:s.radioButton,onClick:a},void 0,i()("div",{style:s.radioButtonTitle},void 0,i()(m.Z,{isSelected:o}),t),i()("div",{style:s.radioButtonCaption},void 0,n))}function v(e){window.__c={n:"CheckoutPaymentMethodSection"};const{state:t,paymentOptionAvailabilityStore:n}=e,o=(0,a.O7)(),s=g(),d=(0,r.VK)((()=>n.state.availablePaymentMethods),[n]),m=t.temporaryPaymentMethod,v=i()(l.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.paymentMethodSection.header",defaultMessage:"Payment method"}),f=u.E$({state:t,availablePaymentMethods:d});if(f.length<2)return null;const h=u.zt(f);return i()("div",{},void 0,i()("div",{style:s.subheader},void 0,i()("div",{},void 0,v)),h.map((e=>{let{type:t,title:n,caption:a}=e;return i()(y,{title:n,caption:a,isSelected:m===t,onClick:()=>{p.Z.update((e=>({...e,temporaryPaymentMethod:t}))),c.ieb(o,{paymentMethod:t})},unavailable:!1},t)})))}},48209:(e,t,n)=>{n.d(t,{n:()=>g});var o=n(10434),i=n.n(o),a=n(23174),r=n.n(a),s=n(67294),d=n(24405),l=n(82990),c=n(5366),u=n(80366),p=n(74194),m=n(26388);function g(e){window.__c={n:"CheckoutVATCodeInput"};const{temporaryVatCode:t,vatApplicable:n,disabled:o,tooltip:a,onChange:g}=e,y=(0,d.yK)((e=>({container:{backgroundColor:e.cardContentBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottom:"none"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:l.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},input:{background:"none",boxShadow:"none",padding:8},subtitle:{color:e.mediumTextColor,fontSize:l.Z.fontSize.UISmall.desktop,marginTop:5,marginBottom:10},whiteSpace:{marginBottom:20}})),[]),v=(0,c.useIntl)(),f=(0,s.useCallback)((e=>{g(e.target.value)}),[g]);return n?r()("div",{},void 0,r()("label",{style:y.header},void 0,r()(c.FormattedMessage,{id:"spaceSubscriptionPaymentForm.vatCountryCode.header",defaultMessage:"VAT (optional)"})),r()(m.Z,{placement:m.Z.Placement.Top,alignment:m.Z.Alignment.End,render:e=>s.createElement("div",i()({},e,{style:y.container}),r()(u.c,{},void 0,r()(p.Z,{value:t,style:y.input,disabled:o,placeholder:v.formatMessage({id:"spaceSubscriptionPaymentForm.vatCountryCode.placeholder",defaultMessage:"VAT/GST number"}),onChange:f}))),disableTooltip:!a,renderTooltip:()=>a}),r()("div",{style:y.subtitle},void 0,r()(c.FormattedMessage,{id:"spaceSubscriptionBilling.vatCountryCode.subtitle",defaultMessage:"Please include your country code"}))):r()("div",{style:y.whiteSpace})}},40675:(e,t,n)=>{n.d(t,{J:()=>T});var o=n(23174),i=n.n(o),a=n(67294),r=n(86628),s=n(97880),d=n(62216),l=n(16116),c=n(480),u=n(24405),p=n(5366),m=n(50906),g=n(80366),y=n(74194),v=n(10434),f=n.n(v),h=n(58573),b=n(87279),S=n(52275),C=n(78140),M=n(32163),w=n(53437),x=n(72495);function B(e){window.__c={n:"CheckoutCountryDropdown"};const{availableCountries:t,address:n,updateAddress:o}=e,r=(0,u.yK)((()=>({input:{background:"none",boxShadow:"none",padding:8,fontSize:14}})),[]),s=(0,c.O7)(),d=(0,p.useIntl)(),[l,v]=(0,a.useState)(!1),[B,_]=a.useState(""),F=(0,h.ZP)(B,t,(e=>e.name)).map(((e,t)=>({key:t,render:t=>a.createElement(S.Z,f()({},t,{title:e.name})),action:()=>{e.countryCode!==n.country&&o({addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:e.countryCode}),_(e.name),v(!1),m.rYO(s,{addressType:"country",addressUpdate:e.name})}})));return i()(g.c,{},void 0,i()(w.ZP,{popupType:w.ZP.PopupType.Popup,alignmentToOrigin:w.ZP.Alignment.End,placementToOrigin:w.ZP.Placement.Right,originGap:0,open:l,origin:i()(y.Z,{value:B,focus:l,placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.country",defaultMessage:"Country or region"}),style:r.input,onChange:e=>{_(e.target.value),o({country:void 0})},onFocus:()=>{v(!0)}}),onDismiss:()=>{v(!1)},render:()=>i()(C.Z,{menuType:b.og.Popup,width:"100%"},void 0,i()(M.Z,{type:M.i.Vertical,initialFocus:B.length>0?0:void 0,sections:[{key:0,showNoResultMessage:!0,render:e=>a.createElement(x.Z,f()({},e,{title:i()(p.FormattedMessage,{id:"spaceSubscriptionBillingInfoForm.countryDropdown.title",defaultMessage:"Select a country or region"})})),items:F}]}))}))}function _(){return(0,u.yK)((e=>({container:(0,g.s)(e),cityZipRow:{display:"flex"},verticalDivider:{display:"flex",borderLeft:"1px solid",borderLeftColor:e.groupedFormBorder},zipRow:{display:"flex",flex:2},stateRow:{display:"flex",flex:3},input:{background:"none",boxShadow:"none",padding:8,fontSize:14}})),[])}function F(e){window.__c={n:"CheckoutNotionAddressForm"};const{address:t,availableCountries:n,shouldShowBusinessName:o,updateAddress:r}=e,s=_(),d=(0,p.useIntl)();return i()("div",{style:s.container},void 0,i()(A,{placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.fullName",defaultMessage:"Full name"}),address:t,updateAddress:r,addressKey:"name"}),o&&i()(A,{placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.businessName",defaultMessage:"Business name (optional)"}),address:t,updateAddress:r,addressKey:"businessName"}),n?i()(B,{availableCountries:n,updateAddress:r,address:t}):null,t?a.createElement(a.Fragment,null,i()(A,{placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.address",defaultMessage:"Address"}),address:t,addressKey:"addressLine1",updateAddress:r}),i()(A,{placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.city",defaultMessage:"City"}),addressKey:"city",address:t,updateAddress:r}),i()("div",{style:s.cityZipRow},void 0,i()("div",{style:s.stateRow},void 0,i()(A,{placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.state",defaultMessage:"State / Province"}),address:t,addressKey:"state",updateAddress:r})),i()("div",{style:s.verticalDivider}),i()("div",{style:s.zipRow},void 0,i()(A,{placeholder:d.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.zipCode",defaultMessage:"Zip code"}),address:t,addressKey:"zipCode",updateAddress:e.updateAddress})))):null)}function A(e){window.__c={n:"AddressInputField"};const{address:t,updateAddress:n,addressKey:o,placeholder:r}=e,s=(0,c.O7)(),d=_(),l=(0,a.useCallback)((e=>{m.rYO(s,{addressType:o,addressUpdate:e.target.value}),n({[o]:e.target.value})}),[o,n,s]);return i()(g.c,{},void 0,i()(y.Z,{value:t[o],style:d.input,placeholder:r,onBlur:l,onChange:e=>n({[o]:e.target.value})}))}function T(e){window.__c={n:"SpaceSubscriptionAddressForm"};const{address:t,availableCountries:n,updateAddress:o,shouldShowBusinessName:a}=e,c=(0,r.VK)((()=>d.o0()),[]);return"payment"===c||"payment_and_address"===c?i()(l.F,{address:t,updateAddress:o}):"control"===c?i()("div",{style:{marginTop:20}},void 0,i()(F,{address:t,availableCountries:n,shouldShowBusinessName:a,updateAddress:o})):void(0,s.t1)(c)}},502:(e,t,n)=>{n.d(t,{C:()=>h,w:()=>b});var o=n(23174),i=n.n(o),a=n(67294),r=n(480),s=n(86628),d=n(24405),l=n(72126),c=n(65544),u=n(62216),p=n(8323),m=n(38479),g=n(27242),y=n(16608),v=n(48209),f=n(40675);function h(e){window.__c={n:"SpaceSubscriptionBillingInfoForm"};const{paymentMethods:t}=e,n=(0,r.O7)(),o=(0,m.y)(),d=(0,a.useMemo)((()=>(0,l.Ds)((async()=>{await c.W_(n)}),3e3)),[n]),[h,b,S,C,M,w,x]=(0,s.VK)((()=>{let e,t,n,o,i=!1;const{state:a}=g.Z;return a.open&&(e=a.temporaryAddress,t=a.temporaryPaymentMethod,n=a.payButtonState,o=a.temporaryVatCode,i=a.vatApplicable),[(0,p.mq)(),e,t,o,n,i,u.o0()]}),[]),B=(0,a.useCallback)((async e=>{if(g.Z.state.open&&(g.Z.setAddressField(e),await d(),o)){const t=o.find((t=>t.countryCode===(null==e?void 0:e.country)));t&&g.Z.update((e=>({...e,vatApplicable:Boolean(t.vatApplicable)})))}}),[o,d]),_=(0,a.useCallback)((async e=>{g.Z.update((t=>({...t,temporaryVatCode:e}))),await d()}),[d]);return b&&S&&M?i()("div",{},void 0,i()(y.k,{paymentMethods:t,temporaryPaymentMethod:S,payButtonState:M,address:b,updateAddress:B}),"control"===x?i()(f.J,{address:b,availableCountries:o,shouldShowBusinessName:h,updateAddress:B}):null,i()(v.n,{onChange:_,temporaryVatCode:C,vatApplicable:w})):null}function b(e){window.__c={n:"BillingSection"};const t=(0,d.yK)((()=>({text:{color:"var(--text-secondary-dark, #7F7F7F)",fontSize:12,fontWeight:500,marginBottom:12}})),[]);return i()("div",{},void 0,i()("div",{style:t.text},void 0,e.title),e.children)}},80366:(e,t,n)=>{n.d(t,{c:()=>s,s:()=>r});var o=n(23174),i=n.n(o),a=(n(67294),n(24405));function r(e){return{backgroundColor:e.groupedFormBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottomWidth:0}}function s(e){window.__c={n:"FormGroup"};const t=(0,a.yK)((t=>({group:{display:"flex",borderBottomColor:t.groupedFormBorder,borderBottomWidth:1,borderBottomStyle:"solid",alignItems:"center",flex:1,...e.style}})),[e.style]);return i()("div",{style:t.group},void 0,e.children)}},16100:(e,t,n)=>{n.r(t),n.d(t,{getStripe:()=>b,injectStripe:()=>h,translateStripeError:()=>M,useElementsOptions:()=>C});var o=n(23174),i=n.n(o),a=n(86664),r=n(97894),s=n(67294),d=n(86628),l=n(24405),c=n(24211),u=n(97880),p=n(82990),m=n(50906),g=n(95477),y=n(62216),v=n(80444);let f=null;function h(e){return t=>{const[n]=s.useState(b);return i()(a.Elements,{stripe:n},void 0,i()(a.ElementsConsumer,{},void 0,(n=>{let{stripe:o,elements:i}=n;const a={...t,stripe:o,elements:i};return s.createElement(e,a)})))}}async function b(){return f||(r.loadStripe.setLoadParameters({advancedFraudSignals:!1}),f=(0,r.loadStripe)(g.default.stripe.key)),f}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function C(e){const t=(0,l.Fg)(),{type:n}=e,o="setup"===n||"subscription"===n?e.currency:void 0,i="subscription"===n?e.amount:void 0,[a,r]=(0,d.VK)((()=>{var e;const t=(null===(e=v.default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||c.al;return[y.rR(),t]}),[]);return(0,s.useMemo)((()=>{const e="dark"===t.mode,s={appearance:{labels:"floating",variables:{spacingGridRow:"8px",colorPrimary:t.blueColor,colorText:t.regularTextColor,colorTextPlaceholder:e?"#5A5A5A":"#ACABA9",fontFamily:p.Z.baseFontFamily.sans,borderRadius:"4px"},rules:{".Input":{display:"flex",alignItems:"center",width:"100%",fontSize:"14px",lineHeight:"20px",letterSpacing:"-0.154px",padding:"3px 6px",height:"40px",boxShadow:"none",backgroundColor:e?"#262626":"#F9F9F8",borderWidth:"1px",borderStyle:"solid",borderColor:e?"#1C1C1C":"rgba(227,226,224,0.5)",cursor:"text",color:e?"#E1E1E1":"#1D1B16"},".Label":{fontSize:"14px",color:e?"#5A5A5A":"#ACABA9"},".Label--resting":{fontSize:"14px",lineHeight:"140%",letterSpacing:"-0.154px",color:e?"#5A5A5A":"#ACABA9"},".Label--floating":{fontSize:"10px",fontWeight:"600",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease"}}},locale:S(r)};switch(n){case"address":return s;case"setup":return a?{...s,currency:null==o?void 0:o.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"}:{};case"subscription":return a?{...s,amount:i,currency:null==o?void 0:o.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual"}:{};default:(0,u.t1)(n)}}),[t,n,i,o,r,a])}function M(e,t,n){if(!n.code)return n.message||"";switch(m._qN(e,{error:n.code,stripe_decline_code:n.decline_code}),n.code){case"invalid_expiry_year_past":return t.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return t.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return t.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(t,n.decline_code);default:return n.message||""}}},38479:(e,t,n)=>{n.d(t,{y:()=>s});var o=n(480),i=n(59054),a=n(97880),r=n(54642);function s(){const e=(0,o.O7)(),[t]=(0,i.r5)((async()=>{const t=await r.getAvailableCountries(e,{});return"success"===t.type?t.data.countries:"failed"===t.type?[]:void(0,a.t1)(t)}),[e]);return t.value}},45407:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(49085),i=n(72126);class a extends o.default{getInitialState(){return{availablePaymentMethods:["credit_card"],paymentRequest:void 0,supportsApplePay:!1}}isPaymentOptionAvailable(e){return this.state.availablePaymentMethods.includes(e)}addPaymentOption(e){const t=i.jj([...this.state.availablePaymentMethods,e]);this.setState({...this.state,availablePaymentMethods:t})}}const r=a}}]);