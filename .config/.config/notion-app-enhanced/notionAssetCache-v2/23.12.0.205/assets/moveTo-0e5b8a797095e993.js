"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4670],{83564:(e,t,o)=>{o.r(t),o.d(t,{MoveOrDuplicateProgress:()=>Z.Z,MoveToMenuRenderer:()=>v,MoveToOrCreateMenu:()=>n.Z,MoveToSnackbarButtons:()=>f.Z});var n=o(9325),s=o(23174),r=o.n(s),i=(o(67294),o(480)),a=o(86628),d=o(50906),p=o(48299),l=o(11302),u=o(53437),c=o(75770),m=o(42330);function P(){window.__c={n:"MoveToMenuModal"};const e=(0,i.O7)(),t=(0,a.VK)((()=>{const e=m.ZP.state;if(e.isOpen)return{autocompleteQuery:e.autocompleteQuery,targets:e.targets,isAddTo:e.isAddTo,isOpen:e.isOpen}}),[]);if(void 0===t||!t.isOpen)return null;const o=()=>{if(m.ZP.state.isOpen){const{flowId:t,targets:o,moveToContext:n}=m.ZP.state;d.A6G(e,{from:n,render_type:"web",target_block_ids:o.map((e=>e.id)),flowId:t})}l.xv(e)},{autocompleteQuery:s,targets:u,isAddTo:P}=t,v=e.device.isMobile;return r()(n.Z,{captureSelection:!0,restoreSelection:!v,autocompleteQuery:s,targets:u,onAutocompleteQueryChange:t=>{if(m.ZP.state.isOpen){m.ZP.setState({...m.ZP.state,autocompleteQuery:t});const{flowId:o,moveToContext:n}=m.ZP.state;d.a6v(e,{flowId:o,from:n,newValue:t})}},onAccept:async t=>{const n=m.ZP.state.isOpen&&m.ZP.state.targets||[],s=await(0,c.ed)({environment:e,blocks:n,from:"moveTo",moveToArgs:{moveToValue:t,destination:(0,c.uw)(t)}});if(!s.confirmed)return void o();for(const i of n){const t=await p.NN({environment:e,block:i,action:"move"});"user_canceled"===t?o():t.length>1&&m.ZP.state.isOpen&&m.ZP.setState({...m.ZP.state,targets:t})}if(m.ZP.state.isOpen){const{flowId:o,targets:n,moveToContext:s,openedTimeMs:r}=m.ZP.state;d.mfs(e,{from:s,render_type:"web",type:t.type,target_block_ids:n.map((e=>e.id)),time_to_select_ms:Date.now()-r,flowId:o})}const{shouldClearPagePermissions:r}=s;(async t=>{let{value:o,shouldClearPagePermissions:n}=t;await l.pB({environment:e,value:o,useSudoMode:m.ZP.state.isOpen&&m.ZP.state.useSudoMode,renderType:"web",shouldClearPagePermissions:n})})({value:t,shouldClearPagePermissions:r})},onCancel:o,desktopWidth:330,isAddTo:P,isCreateIn:!1})}function v(){window.__c={n:"MoveToMenuRenderer"};const e=(0,i.O7)(),t=e.device.isMobile,o=(0,a.VK)((()=>{const e=m.ZP.state;if(e.isOpen)return{renderType:e.renderType,isOpen:e.isOpen,rect:e.rect}}),[]);return r()(u.ZP,{popupType:t?u.ZP.PopupType.SlideUp:u.ZP.PopupType.Popup,alignmentToOrigin:u.ZP.Alignment.Start,open:void 0!==o&&"mobileNative"!==o.renderType&&o.isOpen,render:()=>r()(P,{}),originRect:null==o?void 0:o.rect,onDismiss:()=>{if(m.ZP.state.isOpen){const{flowId:t,targets:o,moveToContext:n}=m.ZP.state;d.A6G(e,{from:n,render_type:"web",target_block_ids:o.map((e=>e.id)),flowId:t})}l.xv(e)}})}v.displayName="MoveToMenuRenderer";var f=o(98110),Z=o(91948)}}]);