"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[8324],{67706:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(23174),n=o.n(i),s=o(10434),r=o.n(s),a=o(67294),l=o(24405),d=o(82990),c=o(53437),u=o(26388);function m(e){let{text:t,tooltipText:o,icon:i}=e;window.__c={n:"InlineTextWithIconTooltip"};const s=(0,l.yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.lightBoxShadow},container:{display:"flex",alignItems:"center",fontWeight:d.Z.fontWeight.regular,color:e.mediumTextColor,fontSize:d.Z.fontSize.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return n()(u.Z,{style:s.tooltip,render:e=>a.createElement("div",r()({style:s.text},e),t),renderTooltip:()=>n()("div",{style:s.container},void 0,i(s.icon),n()("div",{},void 0,o)),alignment:c.ZP.Alignment.Start,placement:c.ZP.Placement.Bottom})}},36517:(e,t,o)=>{o.d(t,{Z:()=>B});var i=o(23174),n=o.n(i),s=(o(57658),o(67294)),r=o(480),a=o(86628),l=o(24405),d=o(6695),c=o(72126),u=o(4615),m=o(21202),p=o(19889),g=o(82990),f=o(5366),v=(o(95477),o(66890)),h=o(41168),S=o(80444),C=o(886),b=o(88632),y=o(77080),w=o(19671),x=o(57559),M=o(78291),k=o(97039),I=o(78030),L=o(45653),R=o(29551),D=o(49778);const Z=["Title","Pronoun","Teams (via Teams DB)","Office","Manager","Languages (Fluency)","Tenure"],T={"Teams (via Teams DB)":"Teams","Languages (Fluency)":"Languages"};function B(e){let{targetUserStore:t}=e;window.__c={n:"PeopleProfilePopup"};const o=(0,l.yK)((e=>({wrapper:{minWidth:320,maxWidth:720},profile:{padding:"12px 16px 16px",borderBottom:`1px solid ${e.regularDividerColor}`},content:{padding:"12px 16px 16px"},breadcrumb:{color:e.text.secondary},profileTitle:{paddingLeft:8,fontSize:22,lineHeight:1.25,fontWeight:g.Z.fontWeight.semibold,color:e.text.primary},profileSubtitle:{paddingLeft:8,paddingTop:4,fontSize:g.Z.fontSize.UIRegular.desktop,color:e.icon.primary,paddingBottom:2},profileKeyRow:{minWidth:100},profileKeyText:{textTransform:"capitalize",fontWeight:500},description:{padding:"12px 16px 12px 26px",fontSize:g.Z.fontSize.UIRegular.desktop,color:e.icon.primary}})),[]),i=(0,a.VK)((()=>S.default.state.currentSpaceStore),[]),c=(0,a.VK)((()=>{if(!t)return;const e=t.getEmail();if(!e)return;const o=y.default.getConfigKey("notion_people_block_id","data")[e];if(!o)return;return x.G.createChildStore(t,{table:m.iU,id:(0,u.Mt)(o)})}),[t]),{collectionStore:p,schema:f,format:h}=(0,D.d)(c),b=function(e){let{collectionStore:t,format:o,schema:i,userPeopleCollectionPage:s}=e;return(0,a.VK)((()=>{var e;if(!(t&&o&&i&&s))return;const r=d.iB(o,i,void 0,d.j5.Collection),a=null==r||null===(e=r.collection_page_properties)||void 0===e?void 0:e.filter((e=>{var t;const o=null===(t=i[e.property])||void 0===t?void 0:t.name;return void 0!==o&&Z.includes(o)}));if(!a)return;const l={};return a.forEach((e=>{var o;l[(null===(o=i[e.property])||void 0===o?void 0:o.name)||""]=n()(k.Z,{store:s,property:e.property,locked:!0,disabled:!0,format:I.C.Page,onTab:()=>{},onUntab:()=>{},tableWrap:!1,blockPropertyValueOverlayStore:w.Z,showRelationTooltip:!1,collectionStore:t})})),l}),[t,i,o,s])}({collectionStore:p,format:h,schema:f,userPeopleCollectionPage:c}),M=(0,r.O7)(),L=(0,s.useMemo)((()=>new C.Z(M)),[M]);return(0,s.useEffect)((()=>{p&&L.setContext({type:"collectionPage",collectionStore:p})}),[L,p]),t&&t.isDefined()&&i?n()("div",{style:o.wrapper},void 0,c&&L?n()(v.L1,{value:L},void 0,n()(R.Ht,{},void 0,n()(R.gq,{gap:6,alignItems:"center",style:o.profile},void 0,n()(E,{userStore:t,styles:o})),n()("div",{style:o.description},void 0,n()(_,{userProfile:b,styles:o}),n()(R.gq,{gap:2,alignItems:"center"},void 0,n()(F,{spaceStore:i,limit:5,styles:o}))))):n()(R.Ht,{},void 0,n()(R.gq,{gap:6,alignItems:"center",style:o.profile},void 0,n()(E,{userStore:t,styles:o})),n()("div",{style:o.description},void 0,n()(R.gq,{gap:2,alignItems:"center"},void 0,n()(F,{spaceStore:i,limit:5,styles:o}))))):null}function E(e){let{userStore:t,styles:o}=e;window.__c={n:"UserContactCard"};const i=(0,f.useIntl)(),{name:r,email:l}=(0,a.VK)((()=>({name:t.getFullName(i),email:t.getEmail()})),[t,i]);return s.createElement(s.Fragment,null,n()(L.Z,{userStore:t,size:100,borderStyle:"none"}),n()(R.Ht,{gap:2},void 0,n()("div",{style:o.profileTitle},void 0,r),n()("div",{style:o.profileSubtitle},void 0,l)))}function _(e){let{userProfile:t,styles:o}=e;return t?s.createElement(s.Fragment,null,Z.filter((e=>t[e])).map((e=>n()(R.gq,{gap:2,alignItems:"center"},e,n()(R.Ht,{},void 0,n()(R.gq,{style:o.profileKeyRow},void 0,n()("div",{style:o.profileKeyText},void 0,T[e]?T[e]:e))),n()(R.Ht,{},void 0,t[e]))))):null}function F(e){let{spaceStore:t,limit:o,styles:i}=e;window.__c={n:"UserSimilarity"};const{userSimilarityList:s}=(0,a.VK)((()=>{var e,i;const n=null===(e=M.default.state)||void 0===e?void 0:e.data,s=n?h.CM(n):[],r=(null==n?void 0:n.userSimilarity)||{},a=s.map((e=>{const t=r[e.userId];return{id:e.userId,similarity:t||0}})).sort(((e,t)=>t.similarity-e.similarity)).slice(0,o),l=[],d=c.yW(a.map((e=>{const o=x.U6.createChildStore(t,{table:p.KJ,id:e.id});return l.push({id:e.id,similarity:e.similarity,userStore:o}),o.isReady()})));return{isOnline:b.Z.state.online,subscriptionDataStoreData:n,userSimilarityData:(null===(i=M.default.state.data)||void 0===i?void 0:i.userSimilarity)||{},visibleUsersLoaded:d,visibleUsers:s,userSimilarityList:l}}),[t,o]);return t&&s&&0!==s.length?n()(R.gq,{gap:2,alignItems:"center",style:{paddingTop:4}},void 0,n()(R.Ht,{},void 0,n()(R.gq,{style:i.profileKeyRow},void 0,n()("div",{style:i.profileKeyText},void 0,"Coworkers"))),n()(R.Ht,{},void 0,n()(R.gq,{gap:10},void 0,n()("div",{},void 0,n()("div",{style:{display:"flex",position:"relative",float:"right"}},void 0,s.map((e=>n()("div",{style:{marginLeft:3}},e.id,n()(L.Z,{userStore:e.userStore,size:28}))))))))):null}},93963:(e,t,o)=>{o.d(t,{z:()=>a});var i=o(23174),n=o.n(i),s=(o(67294),o(24405)),r=o(5366);function a(e){let{color:t,size:o,style:i}=e;window.__c={n:"StatusDot"};const a=(0,r.useIntl)(),l=(0,s.yK)((e=>({dot:{height:o||8,width:o||8,background:t||e.blueColor,flexShrink:0,borderRadius:"100%",pointerEvents:"none",...i}})),[o,t,i]);return n()("div",{role:"img","aria-label":a.formatMessage({id:"statusDot.ariaLabel",defaultMessage:"New"}),style:l.dot})}},5917:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ke});var i=o(23174),n=o.n(i),s=o(67294),r=o(1302),a=o(480),l=o(6740),d=o(97511),c=o(33125),u=o(86628),m=o(24405),p=o(59194),g=o(69651),f=o(27006),v=o(21202),h=o(82990),S=o(5366),C=o(54564),b=o(47307),y=o(96514),w=o(9953),x=o(4083),M=o(61045),k=o(98104),I=o(39699),L=o(11368),R=o(4708),D=o(78089),Z=o(65598),T=o(16402),B=o(89574),E=o(61766),_=o(87404),F=o(96049),P=o(57559),A=o(74136),V=o(26388),K=o(64369),N=o(42402),O=o(67706),U=o(65085),z=o(36517),W=o(65187),H=o(10434),j=o.n(H),$=(o(57658),o(15145)),q=o(41432),X=o(37652),G=o(56666),J=o(27714),Q=o(25651),Y=o(40350),ee=o(45238);const te=(0,ee.I)("reopen",{viewBox:"0 0 14 14",svg:n()("path",{d:"M1.64844 7.88477C1.64844 10.791 3.98047 13.1289 6.88086 13.1289C9.78125 13.1289 12.1133 10.791 12.1133 7.88477C12.1133 7.53906 11.873 7.29297 11.5273 7.29297C11.1934 7.29297 10.9707 7.53906 10.9707 7.88477C10.9707 10.1582 9.14844 11.9805 6.88086 11.9805C4.61328 11.9805 2.79688 10.1582 2.79688 7.88477C2.79688 5.59961 4.60156 3.78906 6.86328 3.78906C7.25 3.78906 7.60742 3.81836 7.90625 3.88281L6.3125 5.46484C6.20703 5.57617 6.1543 5.69922 6.1543 5.85156C6.1543 6.17383 6.39453 6.41992 6.71094 6.41992C6.875 6.41992 7.00977 6.36719 7.10938 6.26172L9.51758 3.83594C9.64062 3.71289 9.69922 3.57227 9.69922 3.41406C9.69922 3.26172 9.63477 3.10938 9.51758 2.99219L7.10938 0.548828C7.00977 0.4375 6.875 0.378906 6.71094 0.378906C6.39453 0.378906 6.1543 0.636719 6.1543 0.953125C6.1543 1.10547 6.20703 1.24023 6.30664 1.3457L7.72461 2.74609C7.4668 2.69336 7.16797 2.66406 6.86328 2.66406C3.96875 2.66406 1.64844 4.98438 1.64844 7.88477Z"})}),oe=(0,ee.I)("resolve",{viewBox:"0 0 16 16",svg:s.createElement(s.Fragment,null,n()("path",{d:"M6.6123 14.2646C7.07715 14.2646 7.43945 14.0869 7.68555 13.7109L14.0566 3.96973C14.2344 3.69629 14.3096 3.44336 14.3096 3.2041C14.3096 2.56152 13.8311 2.09668 13.1748 2.09668C12.7236 2.09668 12.4434 2.26074 12.1699 2.69141L6.57812 11.5098L3.74121 7.98926C3.48828 7.68848 3.21484 7.55176 2.83203 7.55176C2.16895 7.55176 1.69043 8.02344 1.69043 8.66602C1.69043 8.95312 1.7793 9.20605 2.02539 9.48633L5.55273 13.7588C5.84668 14.1074 6.1748 14.2646 6.6123 14.2646Z"}))});var ie=o(98519),ne=o(37612),se=o(72126),re=o(19889),ae=o(97880),le=o(14871),de=o(95477),ce=o(43250),ue=o(87279),me=o(18514),pe=o(80444),ge=o(52275),fe=o(31945),ve=o(73063),he=o(78140),Se=o(32163),Ce=o(72495),be=o(83182),ye=o(32016);function we(e){window.__c={n:"CommentActionGroup"};const{discussionLocation:t}=e,o=(0,S.useIntl)(),i=(0,a.O7)(),r=i.device,l=(0,s.useRef)(null),c=(0,d.l)(),m=(0,u.VK)((()=>Boolean(e.discussionStore.getResolved())),[e.discussionStore]),p=(0,u.VK)((()=>e.store.isDefined()),[e.store]),g=(0,u.VK)((()=>{var e;return null===(e=pe.default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),v=(0,u.VK)((()=>{const t=e.store.getCreatedById();return e.store.getCreatedByTable()===re.KJ&&g===t}),[g,e.store]),h=(0,u.VK)((()=>{var e;const t=null===(e=pe.default.state.currentSpaceStore)||void 0===e?void 0:e.getRole();return t&&f.zz(t)}),[]),b=(0,u.VK)((()=>e.blockStore.getRole()),[e.blockStore]),w=(0,u.VK)((()=>{var e;return null==c||null===(e=c.publicEditModeStore.state)||void 0===e?void 0:e.permission}),[null==c?void 0:c.publicEditModeStore]),x="comment_only"===b||"comment"===w;if(!p||!g)return null;const M=()=>{I.createAndCommit({userAction:"Comment.handleReopen",environment:i,perform:t=>{y.bh({environment:i,commentStore:e.store,discussionStore:e.discussionStore,transaction:t,discussionLocation:e.discussionLocation})}})},k=t=>{I.createAndCommit({userAction:"Comment.handleResolve",environment:i,perform:t=>{y.DX({environment:i,commentStore:e.store,discussionStore:e.discussionStore,transaction:t,discussionLocation:e.discussionLocation})}}),C.Xv(),null==t||t.stopPropagation()},L=()=>{var t,o;const n=e.store.getParentStore();if(!n||null==n||!n.isDefined())return null;let s=n.getParentStore();if(null===(t=s)||void 0===t||!t.isDefined())return null;var r;s.getType()===q.Ti.tableRow&&(s=null===(r=s)||void 0===r?void 0:r.getParentBlockStore());if(null===(o=s)||void 0===o||!o.isDefined())return null;const a=s.getModel().getRenderUrl({baseUrl:de.default.domainBaseUrl,getRecordModel:e.store.getRecordModel,discussionId:n.id,pageVisitSource:$.tY.CopyLink});le.RD({environment:i,stringValue:a,copiedMessage:le.tq.copiedLinkToClipboard})};if(!i.currentUser.isLoggedIn())return null;const R=b&&f.rz(b);if(R)return null;const D=e.isFirstComment&&"comment_unfurl"!==t&&!r.isMobile&&!x&&!R,Z=[];!r.isMobile||x||R||(m?Z.push("reopen"):Z.push("resolve")),v&&Z.push("edit"),e.isFirstComment&&Z.push("copyLink"),(v||h)&&Z.push("delete");const T=Z.length>0;return T||D||e.canShowReactions?s.createElement(fe.ZP,{ref:l,popupType:r.isMobile?fe.Z4.SlideUp:fe.Z4.Popup,buttonPopupStore:e.buttonPopupStore,placementToOrigin:fe.pO.Right,stopClickPropagation:!0,renderOrigin:s=>n()(xe,{buttonConfig:{resolve:{visible:D,resolved:m,onResolve:k,onReopen:M},react:{visible:e.canShowReactions,onReact:()=>{var n;(0,ye.openEmojiMenuForReaction)(i,o,e.store,(null===(n=l.current)||void 0===n?void 0:n.getAnchor())??null,t,e.handleReaction)}},moreActions:{visible:T}},visible:e.visible,buttonPopupEvents:s,discussionLocation:e.discussionLocation,store:e.store}),render:t=>{let o;o=r.isMobile?{menuType:ue.og.ActionSheet}:{menuType:ue.og.Popup};const i=Z.map((t=>"reopen"===t?{key:"reopen",render:e=>s.createElement(ge.Z,j()({},e,{icon:(0,X.V)({height:16,width:16}),title:n()(S.FormattedMessage,{id:"comment.reopenDiscussion.button",defaultMessage:"Re-open discussion"})})),action:M}:"resolve"===t?{key:"resolve",render:e=>s.createElement(ge.Z,j()({},e,{icon:(0,ie.k)({height:16,width:16}),title:n()(S.FormattedMessage,{id:"comment.resolveDiscussion.button",defaultMessage:"Resolve comments"})})),action:()=>k()}:"edit"===t?{key:"edit",render:e=>s.createElement(ge.Z,j()({},e,{icon:(0,Q.R)({height:16,width:16}),title:n()(S.FormattedMessage,{id:"comment.editComment.button",defaultMessage:"Edit comment"})})),action:e.handleEditComment}:"delete"===t?{key:"delete",render:e=>s.createElement(ge.Z,j()({},e,{icon:(0,ne.y)({height:16,width:16}),title:n()(S.FormattedMessage,{id:"comment.deleteComment.button",defaultMessage:"Delete comment"})})),action:e.handleDeleteComment}:"copyLink"===t?{key:"copyLink",render:e=>s.createElement(ge.Z,j()({},e,{icon:(0,J.N)({height:16,width:16}),title:n()(S.FormattedMessage,{id:"comment.copyLinkToDiscussion.button",defaultMessage:"Copy link to discussion"})})),action:L}:void(0,ae.t1)(t)));return n()("div",{className:ce.G6g},void 0,s.createElement(he.Z,o,n()(Se.Z,{type:Se.i.Vertical,initialFocus:void 0,onAccept:t.close,sections:se.oA([i.length&&{key:0,render:e=>s.createElement(Ce.Z,e),items:i}])}),!r.isMobile&&n()(Ce.Z,{topBorder:!0,disableDesktopPadding:!1},void 0,n()(be.Z,{title:n()(S.FormattedMessage,{defaultMessage:"Learn about comments",id:"comments.learn"}),href:(0,me.UY)("guides.comments"),analyticsFrom:"comments"}))))}}):null}function xe(e){window.__c={n:"ActionGroupOrigin"};const{buttonPopupEvents:t,discussionLocation:o}=e,{resolved:i,onResolve:r,onReopen:l}=e.buttonConfig.resolve,d=(0,a.O7)().device,c=(0,m.yK)((t=>({addIcon:{width:15,fill:t.mediumIconColor},container:{display:"flex",boxShadow:t.lightBoxShadow,position:"absolute",flexShrink:0,padding:"2px",backgroundColor:t.buttonGroupBackground,...d.isMobile?{borderRadius:3,marginTop:4,right:16}:{marginRight:"margin_comments"===o?0:8,marginTop:"updates_sidebar"===e.discussionLocation?6:0,right:"margin_comments"===o?12:16,top:"margin_comments"===o?6:0,opacity:e.visible?1:0,gap:1,borderRadius:4,transition:"opacity 100ms ease-out",zIndex:1}}})),[d.isMobile,o,e.discussionLocation,e.visible]);return n()("div",{style:c.container},void 0,e.buttonConfig.react.visible&&n()(V.Z,{renderTooltip:()=>n()(S.FormattedMessage,{defaultMessage:"Add reaction",id:"comment.actions.addReaction.label"}),render:t=>s.createElement(ve.Z,j()({hasBackground:!1,showShadow:!1,icon:()=>(0,Y.V)(c.addIcon),onClick:e.buttonConfig.react.onReact,style:{height:22,width:22,flex:"0 0 auto"}},t))}),e.buttonConfig.resolve.visible&&n()(V.Z,{renderTooltip:()=>n()(S.FormattedMessage,i?{defaultMessage:"Re-open",id:"comment.actions.reopenButton.label"}:{defaultMessage:"Resolve",id:"comment.actions.resolveButton.label"}),render:e=>s.createElement(ve.Z,j()({hasBackground:!1,showShadow:!1,icon:i?te:oe,onClick:i?l:r,style:{height:22,width:22,flex:"0 0 auto"}},e))}),e.buttonConfig.moreActions.visible&&n()(V.Z,{renderTooltip:()=>n()(S.FormattedMessage,{defaultMessage:"More actions",id:"comment.actions.moreActions.label"}),render:e=>s.createElement(ve.Z,j()({},t,e,{hasBackground:!1,showShadow:!1,icon:G.o,style:{height:22,width:22,flex:"0 0 auto"}}))}))}var Me=o(72893),ke=o(95538),Ie=o(70203),Le=o(31781),Re=o(53471),De=o(68785),Ze=o(50919),Te=o(69721),Be=o(79954),Ee=o(6706);function _e(e){if("image"!==e.getType())return!1;const t=Ie.QaF(e.getPropertyValue("source"));return void 0!==t&&!(0,ke.y_)(t,".jfif")&&!(0,ke.y_)(t,".webp")}function Fe(e){window.__c={n:"CommentContent"};const t=e.discussionFormat===D.O2.Sidebar?Le.vW.SidebarComment:Le.vW.PageComment,{filmStripFiles:o,embedBlockStores:i}=(0,u.VK)((()=>{if(e.collapsed)return{filmStripFiles:Re.nQ(e.contentStores),embedBlockStores:[]};if(e.discussionFormat===D.O2.Page&&e.contentStores.filter((e=>_e(e))).length>1){const[t,o]=se.uK(e.contentStores,(e=>_e(e)));return{filmStripFiles:Re.nQ(t),embedBlockStores:o}}return{filmStripFiles:[],embedBlockStores:e.contentStores}}),[e.contentStores,e.collapsed,e.discussionFormat]),r=i.length>0&&i.map((o=>n()(Be.Z,{store:o,analyticsName:"comment_media",actionSectionGroupKey:"comment_media",canTriggerContextMenu:!0,style:{marginTop:8}},o.id,Ze.Z.hasRendererForStore(o)?n()(Ze.Z,{disabled:!1,disableDrag:!0,store:o,disableResizers:!0,preserveScale:!0,inlineContentStyle:{height:"auto",width:"auto",maxHeight:240,maxWidth:"100%",cursor:"zoom-in"},blockLocation:t,iconSvg:()=>n()(De.Z,{style:{marginRight:10}}),onRemoveBlockFromComment:e.onRemoveContent},void 0,n()(S.FormattedMessage,{defaultMessage:"Uploading file...",id:"comment.embeddedFile.uploadInProgressMessage"})):n()(Te.Z,{disabled:!1,store:o})))),a=o.length>0&&n()(Ee.Z,{files:o,disableRemove:!0});return s.createElement(s.Fragment,null,a,r)}function Pe(){window.__c={n:"CommentNewBar"};const e=(0,m.yK)((e=>({newBarLine:{height:"0px",borderBottom:`1px solid ${e.darkDividerColor}`,width:"100%",marginLeft:0},newBarWrapper:{color:e.mediumTextColor,textTransform:"uppercase",fontSize:10.5,letterSpacing:.5,fontWeight:h.Z.fontWeight.semibold,display:"flex",alignItems:"center",marginRight:16,marginLeft:16,marginTop:10,marginBottom:10},newBarText:{padding:"0 10px"}})),[]);return n()("div",{style:e.newBarWrapper},void 0,n()("div",{style:e.newBarLine}),n()("div",{style:e.newBarText},void 0,n()(S.FormattedMessage,{id:"comment.newIndicator.label",defaultMessage:"New comments"})),n()("div",{style:e.newBarLine}))}var Ae=o(54824);function Ve(e){switch(e){case"margin_comments":return 0;case"updates_sidebar":return 35;case"comment_unfurl":return 29;default:return 32}}const Ke=function(e){window.__c={n:"Comment"};const{store:t,discussionContext:o,maxLines:i,discussionLocation:H}=e,j=(0,a.O7)(),$=(0,S.useIntl)(),[q,X]=(0,s.useState)(!1),[G,J]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(!1),ee=Ve(H),te=(0,u.VK)((()=>e.store.isDefined()?new _.Z(j,e.store.getSpaceId()):void 0),[j,e.store]),oe=(0,u.VK)((()=>Z.le(e.store).filter((e=>(0,P.Vh)(e,{table:v.iU,id:e.id},"alive").getValue()))),[e.store]),ie=(0,u.VK)((()=>e.discussionStore.getResolved()),[e.discussionStore]),ne=(0,u.VK)((()=>null==te?void 0:te.state.files),[te]),se=(0,u.VK)((()=>null==te?void 0:te.state.textStore),[te]),re=(0,s.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,l.E)(t)&&J(!0)}),[]),ae=(0,s.useCallback)((()=>{J(!1)}),[]),le=(0,s.useCallback)((()=>{F.Z.state||Y(!0)}),[]),de=(0,s.useCallback)((()=>{Y(!1)}),[]),ce=(0,d.l)(),ue=(0,u.qz)(void 0,E.Z),me=(0,u.VK)((()=>ue.state.open),[ue]),pe=(0,u.VK)((()=>{const t=e.discussionStore.getComments();return Boolean(t&&t[0]===e.store.id)}),[e.discussionStore,e.store.id]),ge=(0,u.VK)((()=>{var t;const o=e.blockStore.getRole(),i=pe&&"comment_unfurl"!==H,n=o&&f.rz(o),{device:s}=j,r="comment_only"===o||ce&&"comment"===(null===(t=ce.publicEditModeStore.state)||void 0===t?void 0:t.permission),a=i&&!s.isMobile&&!r&&!n;return Q||G||e.hoveringDiscussion&&i||me||s.isMobile||e.showResolveButtonByDefaultIfPossible&&a}),[e.blockStore,e.hoveringDiscussion,e.showResolveButtonByDefaultIfPossible,pe,H,j,ce,Q,G,me]),fe=(0,s.useContext)(L.Ue),ve=(0,u.VK)((()=>{const e=t.getCreatedByPointer();return e?{createdByPointer:e,lastEditedTime:t.getLastEditedTime(),createdTime:t.getCreatedTime(),text:t.getText(),reactions:t.getUserVisibleReactions()}:null}),[t]),he=(0,u.VK)((()=>{if(!ve)return null;const e=P.t1.createChildStore(t,ve.createdByPointer);return{displayName:e.getDisplayName($),store:e}}),[ve,$,t]),Se=(0,u.VK)((()=>(0,R.En)()),[]),Ce=(0,s.useCallback)((()=>{I.createAndCommit({userAction:"Comment.deleteComment",environment:j,perform:t=>{y.YF({environment:j,commentStore:e.store,transaction:t,discussionLocation:H})},skipUpdatingEditedMetadata:!0})}),[j,e.store,H]),be=(0,s.useCallback)((async()=>{await b.confirmUserAction({message:n()(S.FormattedMessage,{defaultMessage:"Would you like to delete this comment?",id:"comment.confirmDialog.deleteComment.prompt"}),acceptLabel:n()(S.FormattedMessage,{defaultMessage:"Delete",id:"comment.confirmDialog.deleteComment.deleteButton.label"})})&&(Ce(),C.Xv(),x.Cd(j))}),[Ce,j]),xe=(0,s.useCallback)((async t=>{const o=Z.zP(e.store).getValue(),i=Z.le(e.store).filter((e=>e.id!==t.id)),n=o&&o.length>0,s=0===i.length;!n&&s?(await be(),X(!1)):I.createAndCommit({userAction:"Comment.handleRemoveFileFromActions",environment:j,perform:o=>{y.Zo({commentStore:e.store,fileBlocks:[t],transaction:o})}})}),[j,be,e.store]),ke=(0,s.useCallback)((()=>{Ze.current&&M.bx({element:Ze.current,scrollers:{verticalScroller:null==fe?void 0:fe.verticalScroller},vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[fe]),Ie=(0,s.useCallback)((async()=>{if(!te)return;const t=Z.zP(e.store).getValue()||[],o=te.state.textStore;I.createAndCommit({userAction:"Comment.handleEditComment",environment:j,perform:e=>{w.sO({store:o,value:t,transaction:e})}}),X(!0),await r.default.afterNextFlush(),await r.default.afterNextFlush(),k.NX({store:o})}),[te,j,e.store]),Le=(0,s.useCallback)((async()=>{if(!te)return!1;if(!(0,D.hu)(te,e.store))return X(!1),!0;if(await b.confirmUserAction({message:n()(S.FormattedMessage,{defaultMessage:"Do you want to discard this edit?",id:"comment.confirmDialog.discardEdit.prompt"}),acceptLabel:n()(S.FormattedMessage,{defaultMessage:"Discard",id:"comment.confirmDialog.discardEdit.discardButton.label"})}))return X(!1),!0;return!1}),[te,e.store]),Re=(0,s.useCallback)((async()=>{const t=null==se?void 0:se.getValue();t&&t.length>0||ne&&ne.length>0?I.createAndCommit({userAction:"Comment.handleSubmitEdit",environment:j,perform:o=>{y.DF({environment:j,store:e.store,text:t||[],transaction:o,discussionLocation:H,files:ne||[]})}}):await be(),X(!1)}),[ne,se,H,j,be,e.store]),De=(0,s.useRef)(null),Ze=(0,s.useRef)(null);(0,c.c)(B.Z,(()=>({edit:Ie,handleCancelEdit:Le,getNode:()=>De.current,isEditing:()=>q,discussionLocation:H,commentId:e.store.id})),[Ie,Le,q,H,e.store.id]);const Te=D.Je[H],Be=null==ve?void 0:ve.text,Ee=void 0!==Be&&Be.length>0,_e=Ee&&(0,D.p9)(Be),Ke=function(e){let{discussionLocation:t,isAllEmojis:o,avatarSize:i}=e;const n=Ve(t);return(0,m.yK)((e=>({container:{flexGrow:"comment_unfurl"===t?1:void 0},comment:{display:"flex",alignItems:"flex-start",position:"relative",fontSize:14},avatar:{marginRight:10,marginTop:"comment_unfurl"===t?16:2,userSelect:"none",WebkitUserSelect:"none"},userRow:{alignItems:"center",position:"relative",display:"flex",flexDirection:"row",padding:"margin_comments"===t?"8px 14px 0px 13px":"comment_unfurl"===t?"6px 16px 0px 10px":"6px 16px 0px 18px",marginTop:"comment_unfurl"===t?-11:void 0,userSelect:"none",WebkitUserSelect:"none"},placeholder:{height:8,width:81,borderRadius:3,background:e.lightDividerColor},userNameTooltip:{backgroundColor:e.contentBackground},unfurlLessWrapper:{color:e.regularTextColor,fontWeight:h.Z.fontWeight.medium,paddingLeft:n,marginLeft:7},unfurlMoreWrapper:{color:"comment_unfurl"===t?e.regularTextColor:e.mediumTextColor,fontWeight:"comment_unfurl"===t?h.Z.fontWeight.medium:void 0},attachIcon:{width:18,height:18,fill:e.mediumIconColor},text:{cursor:"comment_unfurl"!==t?"text":void 0,paddingLeft:n,marginLeft:"comment_unfurl"===t?8:void 0,...o?{fontSize:32}:{}},textWrapper:{padding:"margin_comments"===t?"4px 14px":"0px 16px 3px 16px",marginTop:"comment_unfurl"===t?"-14px":void 0},reactionContainer:{marginLeft:"margin_comments"===t?14:50,marginRight:14,marginTop:4,marginBottom:4},attachmentContainer:{padding:"0px 16px 6px 54px",marginTop:-12,display:"flex",alignItems:"center"},timestamp:{margin:"0 6px",flexBasis:"comment_unfurl"!==t?140:void 0,whiteSpace:"normal",flexGrow:"updates_sidebar"===t||"comment_unfurl"===t?void 0:1,display:"inline"},commentAttachment:{margin:"0px 14px 0px "+("margin_comments"===t?"14px":"50px")},commentAuthorPlaceholder:{marginRight:8,marginTop:"comment_unfurl"===t?14:2,height:i,width:i,borderRadius:20,flexShrink:0}})),[t,n,o,i])}({discussionLocation:H,isAllEmojis:_e,avatarSize:Te});if(!te)return null;if(!ve||!he)return null;const Ne="comment_unfurl"!==H;let Oe,Ue;ve.lastEditedTime&&ve.lastEditedTime>ve.createdTime+100?(Oe=n()(S.FormattedMessage,{defaultMessage:"{lastEditedTime} (edited)",id:"comment.editedAtTime.label",values:{lastEditedTime:(0,T.IS)(ve.lastEditedTime)}}),Ue=(0,T.uy)(ve.lastEditedTime)):(Oe=(0,T.IS)(ve.createdTime),Ue=(0,T.uy)(ve.createdTime));const ze=n()("div",{style:Ke.commentAttachment},void 0,n()(Fe,{contentStores:oe,onRemoveContent:xe,discussionFormat:(0,D.ad)(H),collapsed:e.collapsed}));return s.createElement("div",{ref:De,onClick:e=>q&&e.stopPropagation(),style:Ke.container},e.showNewBar&&n()(Pe,{}),n()("div",{style:Ke.comment,onFocus:re,onBlur:ae,onMouseMove:le,onMouseLeave:de},void 0,n()("div",{style:{flexGrow:1,minWidth:0}},void 0,n()("div",{style:Ke.userRow},void 0,n()(Me.S,{authorStore:null==he?void 0:he.store,avatarSize:Te,avatarStyle:Ke.avatar,placeholderStyle:Ke.commentAuthorPlaceholder}),n()("div",{style:{overflow:"hidden"}},void 0,n()("span",{style:{fontWeight:h.Z.fontWeight.semibold,whiteSpace:"normal"}},void 0,Se?n()(V.Z,{renderTooltip:()=>he&&he.store instanceof P.U6&&he.store.isDefined()?n()(z.Z,{targetUserStore:he.store}):null,placement:V.Z.Placement.Bottom,alignment:V.Z.Alignment.Start,render:e=>s.createElement("span",e,he.displayName),style:Ke.userNameTooltip}):he.displayName||n()("span",{style:Ke.placeholder})),n()(K.Z,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:Ke.timestamp},void 0,n()(O.Z,{text:Oe,tooltipText:Ue,icon:g.C})),"comment_unfurl"===H&&ie&&n()("div",{style:{display:"inline-flex"}},void 0,n()(A.Z,{},void 0,n()(S.FormattedMessage,{id:"comment.unfurl.resolvedStatus",defaultMessage:"Resolved"}))))),n()("div",{style:{paddingLeft:ee+15,paddingRight:16}},void 0,o),q?n()("div",{style:(0,D.ad)(H)===D.O2.Margin?{marginTop:8}:void 0},void 0,n()(Ae.default,{containerStyle:{padding:"margin_comments"===H?"0px 14px 4px 14px":"0px 10px 0px 45px"},showAvatar:!1,parentStore:e.store,blockStore:e.blockStore,onCancel:Le,onSubmit:Re,discussionInputStore:te,isEditingExistingComment:!0,isMobileSlideUpMenu:!0,shouldSaveUnsentComments:!1,commentStore:e.store,discussionFormat:(0,D.ad)(H),canDrop:!0})):s.createElement(s.Fragment,null,Ee&&!q&&n()("div",{style:Ke.textWrapper},void 0,n()(U.Z,{onMore:"comment_unfurl"===H?void 0:()=>{},lessElement:"comment_unfurl"===H?n()("span",{className:"notion-link",style:Ke.unfurlLessWrapper},void 0,n()(S.FormattedMessage,{id:"comments.showLessLabel",defaultMessage:"show less"})):void 0,moreElement:n()(N.Z,{disableUnderline:!0,style:Ke.unfurlMoreWrapper},void 0,"…"," ",n()("span",{},void 0,n()(S.FormattedMessage,{id:"text.truncated.showMoreLabel",defaultMessage:"more"}))),maxLines:e.collapsed?i:void 0},void 0,n()(W.Z,{style:Ke.text,store:Z.zP(e.store),disabled:!0,disableDateMentions:!0,disableEquationInteraction:!0}))),"comment_unfurl"!==H?ze:!Ee&&n()("div",{style:Ke.attachmentContainer},void 0,n()("div",{style:{marginRight:5}},void 0,(0,p.s)(Ke.attachIcon)),n()(S.FormattedMessage,{defaultMessage:"{numberOfAttachments, plural, one {{numberOfAttachments} attachment} other {{numberOfAttachments} attachments}}",values:{numberOfAttachments:oe.length},id:"comment.unfurl.attachments.title"}))),s.createElement("div",{ref:Ze},Ne&&ve.reactions.length>0&&n()("div",{style:Ke.reactionContainer},void 0,n()(ye.default,{parentStore:e.store,discussionLocation:H})))),"comment_unfurl"!==H&&!q&&n()(we,{store:e.store,discussionStore:e.discussionStore,blockStore:e.blockStore,discussionLocation:H,visible:ge,isFirstComment:pe,buttonPopupStore:ue,canShowReactions:Ne,handleEditComment:Ie,handleDeleteComment:be,handleReaction:ke})))}},72893:(e,t,o)=>{o.d(t,{S:()=>g});var i=o(23174),n=o.n(i),s=(o(67294),o(86628)),r=o(24405),a=o(54368),l=o(77420),d=o(19889),c=o(97880),u=o(83420),m=o(70301),p=o(45653);function g(e){let{authorStore:t,avatarSize:o,avatarStyle:i,placeholderStyle:g}=e;window.__c={n:"CommentAuthorAvatar"};const f=(0,r.Fg)(),v=(0,s.VK)((()=>(0,u.TL)(t)),[t]);return v.asActor?v.table===d.KJ?n()(p.Z,{hasTooltip:!0,userValue:v.asActor,style:i,size:o,avatarShouldShowShadow:!0}):v.table===l.cZ?n()(m.Z,{botValue:v,size:o,style:i}):v.table===a.y?n()("div",{style:{...g,background:f.lightDividerColor}}):void(0,c.t1)(v):n()("div",{style:{...g,background:f.lightDividerColor}})}},39454:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ee});var i=o(23174),n=o.n(i),s=o(67294),r=o(1302),a=o(480),l=o(33125),d=o(86628),c=o(24405),u=o(72126),m=o(70203),p=o(97880),g=o(5366),f=o(47307),v=o(96514),h=o(17503),S=o(61045),C=o(98104),b=o(39699),y=o(78089),w=o(65598),x=o(89574),M=o(46351),k=o(95802),I=o(34859),L=o(87404),R=o(96049),D=o(45589),Z=o(83575),T=o(53336),B=o(79954),E=o(93963),_=o(5917),F=o(13991),P=o(41432),A=o(99036),V=o(8848),K=o(25501),N=o(59753),O=o(82990),U=o(33929),z=o(2456);const W=new Set([P.Ti.toggle,P.Ti.bulletedList,P.Ti.numberedList,P.Ti.quote,P.Ti.toDo,P.Ti.code,P.Ti.callout,P.Ti.header,P.Ti.subHeader,P.Ti.subSubHeader,P.Ti.tableRow]);function H(e){window.__c={n:"DiscussionContext"};const t=(0,c.Fg)(),o=(0,d.VK)((()=>{var t;return e.store.isDefined()?null===(t=e.store.getParentStore())||void 0===t?void 0:t.getValue():null}),[e.store]),i=(0,d.VK)((()=>e.blockStore.getSpaceId()),[e.blockStore]),s=(0,d.VK)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext();if(!t)return;return m.VP_(t,(t=>!m.xw5(t)||m.h19(t)===e.store.id))}),[e.store]);function r(o){if(!s)return null;const r={display:"flex",alignItems:"flex-start",fontSize:14,marginTop:8,marginBottom:8,color:t.mediumTextColor,width:"100%"},a=A.Kc(U.default.getIntl()).title;return a?n()("div",{style:r},void 0,n()("div",{style:{display:"flex",width:"100%"}},void 0,n()(j,{}),(o=>{let{textValue:s,propertySchema:r,discussionParentValue:a}=o;const l=n()("div",{style:{maxHeight:72,overflow:"hidden",lineHeight:"24px"}},void 0,n()(z.KX,{value:{value:s,spaceId:i},propertySchema:r,labeled:!1,rootStore:e.blockStore,disableStyleAnnotations:!0,disableDateStyleAnnotations:!0}));if(!a)return l;const d=a.type;return d===P.Ti.code?n()(K.Z,{title:(0,z.SP)(a),theme:t,style:{marginTop:0,marginBottom:0}},void 0,n()("span",{style:{fontFamily:O.Z.getCompositeFontFamily(F.SP).mono,fontSize:12,tabSize:2}},void 0,l)):(0,z.pH)(d)?n()(K.Z,{title:(0,z.pH)(d),theme:t,style:{marginTop:0,marginBottom:0}},void 0,l):l})({textValue:s,discussionParentValue:o,propertySchema:a}))):null}if("updates_sidebar"===e.discussionLocation){if(!o)return null;if("text"!==o.type)return n()("div",{onClick:e.onClick,style:{display:"flex",cursor:N.kk.fromBlock(o).isType(P.Zi)?"text":void 0}},void 0,s&&W.has(o.type)?r(o):n()("div",{style:{display:"flex",marginTop:8,marginBottom:8,width:"100%"}},void 0,n()(j,{}),n()(z.ZP,{blockValue:o,rootStore:e.blockStore,blockPreviewLocation:"comments_sidebar"})))}return n()("div",{onClick:e.onClick,style:{cursor:"text"}},void 0,r())}function j(){return n()("div",{style:{width:3,borderRadius:3,marginLeft:2,marginRight:8,background:V.DB,flexShrink:0,paddingBottom:2}})}var $=o(7189),q=o(27006),X=o(26388),G=o(54824);const J=s.forwardRef(((e,t)=>{window.__c={n:"DiscussionPopupInput"};const o=(0,a.O7)(),{format:i,role:r,showMoreCommentsButton:l,onMoreCommentsClick:u,inputVisible:m}=e,p=r&&q.rz(r),f=o.currentUser.isLoggedIn(),{device:v,WindowSizeStore:h}=o,S=(0,c.Fg)(),C=(0,d.VK)((()=>({paddingLeft:v.isMobile&&h.getSafePaddingLeftCSS(18)||i===y.O2.Margin&&9||13,paddingRight:v.isMobile&&h.getSafePaddingLeftCSS(14)||i===y.O2.Margin&&12||16})),[h,v.isMobile,i]),b=(0,c.yK)((t=>({container:{paddingTop:e.collapsed?1:4,paddingLeft:C.paddingLeft,paddingRight:C.paddingRight,paddingBottom:(v.isMobile&&i!==y.O2.Page?8:i===y.O2.Sidebar&&14)||0,position:"relative"},moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,left:0,right:0,marginTop:-32,height:30,background:`linear-gradient(to bottom, ${t.contentBackgroundTransparent} 0px, ${t.selectedMarginDiscussionBackground} 30px`},tooltip:{...(0,X.J)(t,!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"}})),[C,v.isMobile,i,e.collapsed]);return s.createElement(s.Fragment,null,f&&!p&&n()("div",{style:b.container},void 0,l&&n()("div",{style:b.moreCommentsWrapper},void 0,n()("div",{style:b.tooltip,onClick:u},void 0,n()("div",{style:{marginRight:5}},void 0,(0,$.K)({fill:S.regularInvertedTextColor,height:12,width:12})),n()(g.FormattedMessage,{defaultMessage:"More",id:"discussion.moreMessageTooltip"}))),m&&s.createElement(G.default,{showAvatar:"margin_comments"!==e.discussionLocation,containerStyle:v.isMobile?void 0:{paddingLeft:5,paddingRight:2},parentStore:e.store,onCancel:e.onCancel,onSubmit:e.onSubmit,discussionInputStore:e.discussionInputStore,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,onEditPreviousComment:e.onEditPreviousComment,inReplyToDiscussionId:e.store.id,discussionFormat:e.format,showCtaButtons:e.showCtaButtons,ref:t,onFileUploaded:e.onFileUploaded})))}));var Q=o(62385);function Y(e){window.__c={n:"DiscussionShowAllButton"};const t=(0,c.yK)((t=>({newBarLine:{height:"0px",borderBottom:`1px solid ${t.darkDividerColor}`,marginLeft:0,flex:1},moreCommentsWrapper:{color:t.lightTextColor,fontSize:14,paddingLeft:e.insetButton?38:2,flexGrow:1,display:"flex",alignItems:"center"},button:{padding:"14px 12px",margin:"1px 0",borderRadius:0,fontSize:14,color:t.mediumTextColor,width:"100%",justifyContent:"space-between"},buttonHovered:{background:t.focusDiscussionInputBackground}})),[e.insetButton]);return e.count<=0?null:n()(Q.Z,{style:t.button,onClick:e.onClick,hoveredStyle:t.buttonHovered},"show",n()("div",{style:t.moreCommentsWrapper},void 0,n()(g.FormattedMessage,{defaultMessage:"{moreCommentsNumber, plural, one {{moreCommentsNumber} more comment} other {{moreCommentsNumber} more comments}}",id:"discussion.showMoreCommentsSidebarButton.label",values:{moreCommentsNumber:e.count}})))}function ee(e){window.__c={n:"Discussion"};const t=(0,s.useRef)(null),o=(0,a.O7)(),i=(0,d.VK)((()=>w.D4(e.store)),[e.store]),F=(0,d.VK)((()=>i.filter((e=>e.isDefined()))),[i]),P=(0,s.useRef)(e.discussionInputStore||new L.Z(o,e.store.pointer.spaceId)).current,A=(0,d.VK)((()=>(0,y.n9)(P)),[P]),V=(0,d.VK)((()=>e.store.isDefined()),[e.store]),K=(0,d.VK)((()=>e.store.getResolved()),[e.store]),[N,O]=(0,s.useState)(!1),[U,z]=(0,s.useState)(!1),[W,j]=(0,s.useState)(!0),$=(0,d.qz)(void 0,D.Z),q=(0,d.VK)((()=>$.state.clientRect),[$]),X=e.format===y.O2.Sidebar,G=e.format===y.O2.Margin,Q=(0,s.useRef)(null);(0,l.c)(M.Z,(()=>({isSidebarFormat:()=>X,isMarginFormat:()=>G,getStore:()=>e.store,getInputStore:()=>P,getNode:()=>Q.current})),[X,G,e.store,P]);const ee=(0,d.VK)((()=>{if(!X)return;return(0,y.NI)(e.store).find((t=>h.t({discussionStore:e.store,commentStore:t})))}),[X,e.store]),oe=(0,s.useRef)(ee),ie=(0,d.VK)((()=>{const{showAllRepliesAfterTimestamp:t}=e,o=(()=>{var o;if(U||F.length<=5||"block_menu"===e.discussionLocation||"page_discussion"===e.discussionLocation)return F;const i=[t,null===(o=oe.current)||void 0===o?void 0:o.getCreatedTime(),null==ee?void 0:ee.getCreatedTime()].filter(p.$K),n=i.length>0?Math.min(...i):void 0;if(n){const e=F.filter((e=>(e.getCreatedTime()||0)>n)),t=F.filter((e=>(e.getCreatedTime()||0)<=n));return t.length<=5?F:[...u.pm(t,2),...e]}return u.pm(F,2)})(),i=new Set(o.map((e=>e.id))),n=F.filter((e=>!i.has(e.id))),s=n.length;return{commentStores:F,commentsToShow:o,commentsToCollapse:n,remainingCommentCount:s,shouldRenderFirstComment:s>0}}),[F,ee,e,U],{useDeepEqual:!0}),ne=(0,s.useCallback)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext();if(!t)return;return m.VP_(t,(t=>!m.xw5(t)||m.h19(t)===e.store.id))}),[e.store]),se=(0,d.VK)((()=>{if(!X)return;return(0,y.NI)(e.store).find((t=>h.t({discussionStore:e.store,commentStore:t})))}),[X,e.store]),re=s.createRef(),ae=(0,s.useRef)(e.blockStore.clone()).current,le=(0,c.yK)((t=>({discussionWrapper:{...e.format===y.O2.Page&&{margin:"14px -14px 14px"},...e.format===y.O2.Menu&&{paddingTop:10,paddingBottom:12,marginLeft:-2,boxShadow:e.isFirst?"none":`0 -1px 0 ${t.regularDividerColor}`,marginTop:e.isFirst?0:1},...e.format===y.O2.Margin&&{paddingBottom:e.collapsed?7:14,borderRadius:3}}})),[e.collapsed,e.format,e.isFirst]);(0,s.useEffect)((()=>{o.KatexStore.loadIfNeeded(ne)}),[o.KatexStore,ne]);const de=t=>{const{device:i}=o;if(!i.isMobile)return;if(!e.store.isDefined())return;t.stopPropagation(),t.preventDefault(),Z.Z.setState({open:!1});const n=u.oA(k.C.findSelectablesFromIds([e.store.getParentId()])),s=null==n?void 0:n[0];s&&S.NQ({component:s,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})},ce=()=>{const o=(0,y.QT)(i.length);if(!e.collapsed)return s.createElement(T.Z,{style:{display:"flex",flexDirection:"column",maxHeight:500,overflowY:"scroll"},ref:t,type:I.Z.Y,store:$},i.map((t=>n()(_.default,{store:t,discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:N,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:o},t.id))));const r=i[0]&&n()(_.default,{store:i[0],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:N,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:o,collapsed:e.collapsed},i[0].id),a=i.length>1&&i[i.length-1]&&n()(_.default,{store:i[i.length-1],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:N,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:o,collapsed:e.collapsed},i[i.length-1].id),l=i.length-2;return s.createElement(s.Fragment,null,r,n()(Y,{insetButton:!G,count:l,onClick:he}),a)};const ue=(0,d.VK)((()=>e.blockStore.getRole()),[e.blockStore]),me=t.current,pe=(0,d.VK)((()=>(null==me?void 0:me.atScrollEnd())??!0),[me]),ge=W&&!e.collapsed&&G&&q&&t.current&&!pe,fe=()=>{r.default.afterNextFlush((()=>{t.current&&t.current.scrollToBottom({animate:!0})}))},ve=u.Ds((()=>{setTimeout((()=>j(!0)),50)}),50),he=e=>{G||(e.stopPropagation(),z(!0))},Se=()=>{P.reset()};return n()(B.Z,{store:ae,analyticsName:"discussion",canNativeDropOnto:!0,onNativeDrop:async e=>{let{files:t}=e;re.current&&await re.current.uploadFiles(t)},keepTextSelectionOnDrop:!0,shouldShowDropZone:!0},void 0,s.createElement("div",{ref:Q,style:le.discussionWrapper,onMouseMove:()=>{R.Z.state||O(!0)},onMouseLeave:()=>{O(!1)}},function(){if(G)return ce();const{commentStores:t,shouldRenderFirstComment:o,commentsToShow:i,commentsToCollapse:s}=ie,r=i.map(((t,i)=>{var s;return n()(_.default,{store:t,discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:N,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,discussionContext:!o&&e.format!==y.O2.Margin&&0===i&&n()(H,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:de}),showNewBar:t.id===(null===(s=oe.current)||void 0===s?void 0:s.id)&&0!==i},t.id)})),a=o&&n()(_.default,{store:t[0],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:N,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,discussionContext:e.format!==y.O2.Margin&&V&&n()(H,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:de})},t[0].id);return n()("div",{style:{position:"relative"}},void 0,a,X&&se&&n()(E.z,{style:te}),n()(Y,{insetButton:!G,count:s.length-1,onClick:he}),r)}(),K?n()("div",{style:{height:8}}):s.createElement(J,{ref:re,showMoreCommentsButton:!!ge,onMoreCommentsClick:fe,inputVisible:!e.collapsed||!A,store:e.store,format:e.format,discussionInputStore:P,discussionLocation:e.discussionLocation,onCancel:async()=>{if((0,y.hu)(P)){await f.confirmUserAction({message:n()(g.FormattedMessage,{defaultMessage:"Do you want to discard this reply?",id:"discussion.confirmDialog.discardReply.prompt"}),acceptLabel:n()(g.FormattedMessage,{defaultMessage:"Discard",id:"discussion.confirmDialog.discardReplyButton.label"})})?(Se(),e.onDismiss&&e.onDismiss()):(await r.default.afterNextFlush(),C.NX({store:P.state.textStore}))}else Se(),e.onDismiss&&e.onDismiss()},onSubmit:async()=>{j(!1);const{device:t}=o,{store:i,discussionLocation:n}=e;b.createAndCommit({userAction:"Discussion.handleSubmitReply",environment:o,perform:e=>{v.Xi({environment:o,discussionStore:i,textValue:P.state.textStore.getValue()||[],transaction:e,discussionLocation:n,files:P.state.files})}}),Se(),C.ZH(o),fe(),ve(),t.isMobile||(await r.default.afterNextFlush(),C.N_({store:P.state.textStore}))},onEditPreviousComment:()=>{const t=o.currentUser.id;if(!t)return;const i=w.D4(e.store).filter((e=>e.getCreatedById()===t)),n=u.Z$(i);if(!n)return;const s=x.Z.find((t=>t.commentId===n.id&&t.discussionLocation===e.discussionLocation));s&&(C.ZH(o),s.edit())},showCtaButtons:!!G||void 0,onFileUploaded:()=>{const e=k.C.findSelectableFromStore(ae);e&&S.NQ({component:e,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})},role:ue})))}const te={marginRight:4,position:"absolute",right:16,top:14}},54824:(e,t,o)=>{o.r(t),o.d(t,{default:()=>re});var i=o(23174),n=o.n(i),s=o(67294),r=o(1302),a=o(480),l=o(6740),d=o(86628),c=o(24405),u=o(15157),m=o(72126),p=o(5366),g=o(50906),f=o(47307),v=o(53471),h=o(65598);var S=o(67060),C=o(97444),b=o(98104),y=o(39699),w=o(28020),x=o(43250),M=o(78089),k=o(33929),I=o(68056),L=o(77546),R=o(56171),D=o(24666);const Z=(0,p.defineMessages)({defaultPlaceholder:{defaultMessage:"Add a comment…",id:"discussionInput.defaultPlaceholder.addComment"},pasteFileIntoCommentNotAllowed:{id:"clipboardActions.pasteFileIntoCommentError.message",defaultMessage:"Sorry, you cannot paste files into a comment."},replyInputPlaceholder:{defaultMessage:"Reply...",id:"updateSidebar.placeholder.addComment"}}),T={height:{stiffness:80,damping:12,precision:.001}};var B=o(23063),E=o(37601),_=o(3386),F=o(45653),P=o(79954),A=o(65187),V=o(10434),K=o.n(V),N=o(59194),O=o(91315),U=o(64275),z=o(22962),W=o(83065),H=o(61519),j=o(73063),$=o(1892),q=o(26388);const X=function(e){window.__c={n:"CommentActionButton"};const t=(0,a.O7)(),{icon:o,onClick:i,tooltip:r}=e;return n()($.Z,{capture:!0,render:e=>n()(q.Z,{renderTooltip:()=>r,render:n=>s.createElement(j.Z,K()({ariaLabel:r,icon:o,iconStyle:{width:t.device.isMobile?20:16,height:t.device.isMobile?20:16},style:{marginLeft:t.device.isMobile?16:10},onClick:i},n,e))})})};const G=function(e){window.__c={n:"CommentInputActionBar"};const t=(0,p.useIntl)(),o=(0,a.O7)(),{device:i}=o,r=(0,c.yK)((e=>({icon:{background:e.mediumIconColor,borderRadius:"50%",marginLeft:o.device.isMobile?16:12,pointerEvents:"auto",height:20,width:20},iconHovered:{background:e.lightIconColor}})),[o.device.isMobile]),{canSend:l,visible:d,onSend:u,onCancel:m,isEditing:g,animated:f,onMention:v,onAttach:h,inline:S}=e,C={opacity:d?1:0};return n()(B.Z,{springConfig:T,isVisible:!0,animationStyle:C,render:()=>n()("div",{style:{display:"flex",...S?{flexDirection:"column-reverse",alignItems:"end",marginRight:8}:{flexDirection:"row",position:"absolute",bottom:7,right:12,alignItems:"center"},pointerEvents:d?void 0:"none",...f&&C}},void 0,n()("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},void 0,n()(X,{icon:N.s,onClick:h,tooltip:t.formatMessage({id:"discussionInput.uploadFile.button.tooltip",defaultMessage:"Attach file"})}),!i.isMobileBrowser&&n()(X,{icon:z.O,onClick:v,tooltip:t.formatMessage({id:"discussionInput.insertMention.button.tooltip",defaultMessage:"Mention a person, page, or date"})}),g&&s.createElement(s.Fragment,null,n()("div",{style:{height:14,marginLeft:o.device.isMobile?10:8}},void 0,n()(H.Z,{vertical:!0,size:1})),n()($.Z,{capture:!0,render:e=>s.createElement(j.Z,K()({icon:U.D,isDarkIconColor:!0,onClick:m,iconStyle:{fill:"white",height:o.device.isMobile?18:16,width:o.device.isMobile?18:16},hoveredStyle:r.iconHovered,style:r.icon},e))})),n()($.Z,g?{capture:!0,render:e=>s.createElement(j.Z,K()({icon:O.r,onClick:u,isBlue:l,disabled:!l,iconStyle:{height:o.device.isMobile?23:21,width:o.device.isMobile?23:21},style:{marginLeft:o.device.isMobile?16:12,pointerEvents:"auto",height:20,width:20}},e))}:{capture:!0,render:e=>s.createElement(j.Z,K()({icon:W._,onClick:u,isBlue:l,disabled:!l,iconStyle:{height:o.device.isMobile?26:24,width:o.device.isMobile?26:24},style:{marginLeft:o.device.isMobile?16:12,pointerEvents:"auto",height:20,width:20}},e))})))})};var J=o(6706);const Q=s.forwardRef(((e,t)=>{var o;window.__c={n:"DiscussionInput"};const i=(0,a.O7)(),{device:L,currentUser:R}=i,[P,V,K]=(0,d.AF)(e.discussionInputStore),{textStore:N,files:O}=P,U=(0,d.VK)((()=>N.getValue()),[N]),[z,W]=(0,s.useState)(!1),[H,j]=(0,s.useState)(!1),$=(0,s.useRef)(null),{commentStore:q}=e,X=e.discussionFormat!==M.O2.Page;(0,s.useImperativeHandle)(t,(()=>({uploadFiles:me})));const Q=(0,d.VK)((()=>(0,w.B7)(i)),[i]),ne=(0,s.useRef)(null===(o=e.blockStore)||void 0===o?void 0:o.clone()),re=(0,d.VK)((()=>{const e=D.default.state;return"editing"===e.mode&&(0,I.qS)(e.multiSelection)&&e.multiSelection.start.store===N}),[N]),ae=(0,d.VK)((()=>({isEmpty:(0,M.n9)(K),hasChanged:(0,M.hu)(K,q)})),[K,q]),le=(0,d.VK)((()=>re||!ae.isEmpty),[ae.isEmpty,re]),de=(0,s.useCallback)((async()=>{const e=D.default.state;"editing"===e.mode&&(0,I.qS)(e.multiSelection)&&e.multiSelection.start.store===N||(b.NX({store:N}),await r.default.afterNextFlush())}),[N]),ce=e=>{const t=K.state;K.setState({...t,files:t.files.filter((t=>t.id!==e.id))})},ue=async e=>{await me(e.files),g.Zq6(i,{type:"paste"})},me=(0,s.useCallback)((async t=>{var o;if(await de(),O.length+t.length>10)return void f.showErrorMessage(n()(p.FormattedMessage,{id:"discussionInput.uploadFile.tooManyFilesErrorMessage",defaultMessage:"You cannot upload more than {maxFiles} files per comment.",values:{maxFiles:10}}));const i=t.map(v.Xo);V({...P,files:[...O,...i]}),null===(o=e.onFileUploaded)||void 0===o||o.call(e)}),[de,O,V,P,e]),pe=e.discussionFormat===M.O2.Margin,ge=e.discussionFormat===M.O2.Sidebar;(0,s.useEffect)((()=>{e.commentStore&&function(e,t){const o=h.le(t),i=v.nQ(o);e.setState({...e.state,files:i})}(K,e.commentStore)}),[K,e.commentStore]);const fe=(0,s.useRef)(!1),ve=(0,s.useCallback)((t=>{t?u.Z.set({userId:R.id,key:se(e.parentStore.id,e.inReplyToDiscussionId),value:t??null}):u.Z.remove({userId:R.id,key:se(e.parentStore.id,e.inReplyToDiscussionId)})}),[R.id,e.inReplyToDiscussionId,e.parentStore.id]);(0,s.useEffect)((()=>{e.shouldSaveUnsentComments&&fe.current&&ve(U),fe.current=!0}),[e.shouldSaveUnsentComments,ve,U]);const he=(0,s.useRef)(N);(0,s.useEffect)((()=>{if(e.shouldSaveUnsentComments){const t=u.Z.get({userId:R.id,key:se(e.parentStore.id,e.inReplyToDiscussionId)});t&&y.createAndCommit({userAction:"DiscussionInput.willMount",environment:i,perform:e=>{C.sO({environment:i,store:he.current,value:t,transaction:e})}})}}),[i,R.id,e.inReplyToDiscussionId,e.parentStore.id,e.shouldSaveUnsentComments]);const Se=(0,s.useRef)(O);(0,s.useEffect)((()=>{Se.current=O}),[O]),(0,s.useEffect)((()=>()=>{Se.current&&Se.current.forEach((e=>{"local"===e.type&&e.dataURL&&URL.revokeObjectURL(e.dataURL)}))}),[]);const Ce=!(!e.isEditingExistingComment&&(e.discussionFormat===M.O2.Page||e.discussionFormat===M.O2.Menu)),be=()=>{var e;return null===(e=$.current)||void 0===e?void 0:e.focus()},ye=O&&O.length>0,we=!(e.discussionFormat===M.O2.Menu&&e.inReplyToDiscussionId)&&(ge||pe&&!e.isNewComment),xe=void 0!==e.showCtaButtons?e.showCtaButtons:e.isEditingExistingComment||le||z,Me={paddingBottom:Ce&&xe?34:4},ke=!e.isMobileSlideUpMenu,Ie=(pe||ge)&&!e.isNewComment,Le=(0,c.yK)((t=>({inputWrapper:{display:"flex",flexDirection:"column",alignItems:"bottom",minHeight:pe?void 0:32,width:"100%",fontSize:14,paddingTop:pe?1:4,paddingBottom:pe?1:4,borderRadius:4,boxShadow:!e.isNewComment&&pe?`0px 0px 0px 1px ${t.darkDividerColor}`:void 0,transition:"background 300ms ease",background:H&&!xe&&t.focusDiscussionInputBackground||xe&&!e.isEditingExistingComment&&(e.isNewComment&&pe?t.selectedMarginDiscussionBackground:t.discussionInputActivatedBackground)||"inherit",cursor:xe?"text":"pointer",alignSelf:"center",position:"relative"}})),[H,pe,e.isEditingExistingComment,e.isNewComment,xe]),Re=ge?23:20,De={fontSize:14,marginTop:ge?2:3,marginBottom:2,paddingLeft:6,paddingRight:10,maxHeight:L.isMobileNative?"50vh":"70vh",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",userSelect:"auto",WebkitUserSelect:"auto"},Ze=()=>{if(!re)return;0===(N.getValue()||[]).length&&e.onEditPreviousComment?e.onEditPreviousComment():X&&ie($.current,"start")},Te=()=>{re&&X&&ie($.current,"start")},Be=()=>{re&&X&&ie($.current,"end")},Ee=()=>{ve(void 0),e.onSubmit()},_e=()=>{if(!L.isMobile)return void Ee();const e="editing"===D.default.state.mode&&D.default.state.multiSelection;e&&y.createAndCommit({userAction:"DiscussionInput.handleEnter",environment:i,perform:t=>{C.hJ({environment:i,string:"\n",multiSelection:e,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})},Fe=n()(G,{visible:xe,onAttach:async()=>{const{device:e}=i;e.isIOS&&e.isMobileNative&&!e.isTablet&&(b.ZH(i),await r.default.afterNextFlush());const t=await v.y({multiple:!0});await me(t),g.Zq6(i,{type:"file_picker"})},onMention:async()=>{await de(),S.lZ(i,{page:!0,createPage:!1,user:!0,bot:!0,date:!0,reminder:!1,templateVariable:!1,group:!0})},canSend:!ae.isEmpty,onSend:Ee,onCancel:e.onCancel,isEditing:e.isEditingExistingComment||!1,animated:pe,inline:!Ce});return n()(_.Z,{capture:re,onCommandEnter:m.yR},void 0,n()(oe,{enabled:!!ne.current&&!!e.canDrop,store:ne.current,onNativeDrop:async e=>{let{files:t}=e;await me(t),g.Zq6(i,{type:"drop"})}},void 0,n()("div",{className:e.isEditingExistingComment?x.hzx:x.wFE,style:{...Y,...e.containerStyle||{}},onFocus:e=>{const t=e.target;t instanceof HTMLElement&&(0,l.E)(t)&&W(!0)},onBlur:()=>W(!1),onMouseOver:()=>j(!0),onMouseOut:()=>j(!1)},void 0,n()("div",{style:ee},void 0,e.showAvatar&&n()(F.Z,{userStore:Q,size:Re,avatarShouldShowShadow:!0,style:te}),n()(B.Z,{springConfig:T,isVisible:!0,animationStyle:Me,render:()=>n()("div",{className:we?x.Wh_:"",onClick:be,style:{...Le.inputWrapper,...pe&&Me},tabIndex:-1},void 0,n()("div",{style:{flexGrow:1,display:"flex"}},void 0,s.createElement(A.Z,{style:De,store:N,parentStore:e.parentStore,disabled:!1,onEnter:_e,onCommandEnter:Ee,onPasteFiles:ue,onEsc:e.onCancel,onUp:Ze,onLeft:Te,onRight:Be,onDown:Be,placeholder:k.default.formatMessage(Ie?Z.replyInputPlaceholder:Z.defaultPlaceholder),ref:$,isDiscussionInput:!0,disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disableDateReminderMentions:!0,disableMobileActionBar:!0,disableStyleAnnotations:L.isMobileBrowser,pasteBehavior:"inline"}),!Ce&&Fe),ye&&n()("div",{style:{paddingBottom:Ce?8:0,paddingLeft:8,paddingRight:8}},void 0,n()(J.Z,{files:O,onRemoveFile:ce})),Ce&&Fe)}),ke&&n()(E.Z,{show:re,onDismiss:()=>b.ZH(i)})))))})),Y={display:"flex",flexDirection:"column",width:"100%",cursor:"pointer"},ee={display:"flex",alignItems:"center",flexGrow:1},te={flexShrink:0,flexGrow:0,marginRight:6,alignSelf:"flex-start",marginTop:6};function oe(e){const{enabled:t,children:o,store:i,onNativeDrop:r}=e;return t&&i?n()(P.Z,{store:i,analyticsName:"discussion_input",canNativeDropOnto:!0,onNativeDrop:r,keepTextSelectionOnDrop:!0,shouldShowDropZone:!0},void 0,o):s.createElement(s.Fragment,null,o)}function ie(e,t){if(!e)return;const o=e.getNode();if(!(o&&o instanceof HTMLElement)||document.activeElement!==o)return;const i=o.parentNode;if(!i)return;const n=ne(i);if(!n)return;const s=n.scrollTop,r=R.toStaticRange(R.get());if(!r)return;const a=()=>{n.scrollTop=s,"start"===t?b.N_({store:e.props.store}):b.NX({store:e.props.store})};window.requestAnimationFrame((()=>{const e=Math.abs(n.scrollTop-s),i=R.toStaticRange(R.get()),l=document.activeElement!==o;if(!i)return;const d=!R.areRangesEqual(r,i),c=o.contains(i.startContainer)&&o.contains(i.endContainer);let u=!1;var m;0!==e&&(m=n,Math.abs(m.scrollHeight-m.clientHeight-m.scrollTop)<1)&&!l&&!d?u=!0:c||(u=!0),u&&(o.focus(),a(),window.requestAnimationFrame((()=>{a(),"end"===t&&window.requestAnimationFrame(a)})))}))}function ne(e){const t=(0,L.VW)(e);return t&&t.style.maxHeight&&t.parentNode?ne(t.parentNode):t}function se(e,t){return t?`UnsentDiscussion-${e}-${t}`:`UnsentDiscussion-${e}`}const re=Q},6706:(e,t,o)=>{o.d(t,{Z:()=>N});var i=o(23174),n=o.n(i),s=o(67294),r=o(86628),a=o(24405),l=o(31505),d=o(39301),c=o(73744),u=o(34859),m=o(45589),p=o(73063),g=o(53336),f=o(480),v=o(95538),h=o(64275),S=o(95477),C=o(1533),b=o(64921),y=o(54604),w=o(12981),x=o(81865);function M(e){window.__c={n:"FullScreenImage"};const{url:t,imageNaturalHeight:o,imageNaturalWidth:i}=e,r=(0,s.useMemo)((()=>({display:"block",width:`min(${i}px, 100%)`,height:`min(${o}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[i,o]);return n()("div",{style:k},void 0,n()(w.Z,{src:t,style:r,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}}))}const k={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"};const I=function(e){window.__c={n:"DiscussionInputImageRenderer"};const t=(0,s.useRef)(null),{file:o}=e,i=(0,f.O7)(),r=(0,a.yK)((e=>({imageThumbnail:{borderRadius:3,border:`1px solid ${e.lightDividerColor}`,objectFit:"cover",height:48,width:48,cursor:"zoom-in"}})),[]),l=(0,s.useCallback)((()=>{var e;const i=null===(e=t.current)||void 0===e?void 0:e.getImageDimensions();if(!i)return;const{naturalHeight:s,naturalWidth:r}=i;return"local"===o.type?n()(M,{url:o.dataURL,imageNaturalHeight:s,imageNaturalWidth:r}):n()(x.Z,{url:o.source,render:(e,t)=>n()(M,{url:t,error:e,imageNaturalHeight:s,imageNaturalWidth:r}),isAuthenticated:!0,permissionRecord:o.store.pointer})}),[o]),d=(0,s.useCallback)((e=>{var o;e.stopPropagation();const n=null===(o=t.current)||void 0===o?void 0:o.getImageDimensions();n&&y.ui({environment:i,renderFullScreenNode:l,fullScreenNodeRect:n.clientRect,contentAspectRatio:n.naturalHeight/n.naturalWidth})}),[l,i]);return"local"===o.type?s.createElement(w.Z,{src:o.dataURL,style:r.imageThumbnail,placeholderStyle:r.imageThumbnail,onClick:d,ref:t}):n()(x.Z,{url:o.source,isAuthenticated:!0,permissionRecord:o.store.pointer,render:(e,o)=>s.createElement(w.Z,{src:o,style:r.imageThumbnail,placeholderStyle:r.imageThumbnail,onClick:d,ref:t})})};var L=o(45238);const R=(0,L.I)("fileAttachment",{viewBox:"0 0 28 28",svg:s.createElement(s.Fragment,null,n()("rect",{width:"28",height:"28",fill:"none"}),n()("path",{d:"M7.70703 27.3799H21.2783C23.7412 27.3799 24.9854 26.1104 24.9854 23.6348V11.7266C24.9854 10.3555 24.8076 9.74609 23.9697 8.88281L16.5049 1.3418C15.6924 0.516602 15.0322 0.326172 13.8008 0.326172H7.70703C5.26953 0.326172 4 1.58301 4 4.05859V23.6348C4 26.1104 5.25684 27.3799 7.70703 27.3799ZM7.7832 25.8057C6.32324 25.8057 5.57422 25.0312 5.57422 23.5967V4.09668C5.57422 2.7002 6.32324 1.8877 7.7959 1.8877H13.7246V9.53027C13.7246 10.9775 14.4609 11.6631 15.8701 11.6631H23.4238V23.5967C23.4238 25.0312 22.6621 25.8057 21.2021 25.8057H7.7832ZM16.0352 10.1777C15.4512 10.1777 15.21 9.94922 15.21 9.36523V2.20508L23.1064 10.1777H16.0352Z"}))}),D=(0,L.I)("videoAttachment",{viewBox:"0 0 28 28",svg:s.createElement(s.Fragment,null,n()("rect",{width:"28",height:"28",fill:"none"}),n()("path",{d:"M14.1333 26.4668C21.103 26.4668 26.8667 20.7031 26.8667 13.7334C26.8667 6.75098 21.103 1 14.1206 1C7.15088 1 1.3999 6.75098 1.3999 13.7334C1.3999 20.7031 7.16357 26.4668 14.1333 26.4668ZM14.1333 24.8164C7.98877 24.8164 3.05029 19.8652 3.05029 13.7334C3.05029 7.58887 7.98877 2.6377 14.1206 2.6377C20.2651 2.6377 25.2163 7.58887 25.229 13.7334C25.229 19.8652 20.2778 24.8164 14.1333 24.8164ZM18.9702 14.3936C19.4653 14.1016 19.4526 13.4287 18.9702 13.1367L11.7212 8.79492C11.2261 8.49023 10.5786 8.73145 10.5786 9.27734V18.2275C10.5786 18.7734 11.188 19.0273 11.7212 18.71L18.9702 14.3936Z"}))});var Z=o(82990);function T(e){window.__c={n:"DiscussionInputFileRenderer"};const{file:t,type:o}=e,i=(0,a.Fg)(),r=(0,s.useMemo)((()=>({doc:{title:"DOC",color:i.msDocDiscussionInputPreview},docx:{title:"DOCX",color:i.msDocDiscussionInputPreview},xls:{title:"XLS",color:i.msExcelDiscussionInputPreview},xlsx:{title:"XLSX",color:i.msExcelDiscussionInputPreview},pdf:{title:"PDF",color:i.pdfDiscussionInputPreview},video:{icon:D}})),[i]),l=(0,a.yK)((e=>{const t=r[o];return{wrapper:{height:48,width:220,display:"flex",background:"transparent",borderRadius:5,overflow:"hidden",border:`1px solid ${e.regularDividerColor}`},fileTypeArea:{background:null!=t&&t.color?t.color:e.sidebarSecondaryBackground,height:48,width:48,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0},icon:{height:26,width:26,fill:e.regularIconColor},fileType:{fontSize:11,lineHeight:"16.8px",fontWeight:Z.Z.fontWeight.semibold,color:e.regularInvertedTextColor},fileDescription:{padding:"6px 12px 6px 12px",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},fileTitle:{color:e.regularTextColor,textOverflow:"ellipsis",fontSize:14,lineHeight:"19.6px",whiteSpace:"nowrap",overflow:"hidden",width:"100%",paddingBottom:20},fileSize:{color:e.lightTextColor,fontSize:12,lineHeight:"16.8px",width:"100%"}}}),[o,r]),d=r[o];return n()("div",{style:l.wrapper},void 0,n()("div",{style:l.fileTypeArea},void 0,null!=d&&d.title?n()("div",{style:l.fileType},void 0,d.title):null!=d&&d.icon?d.icon(l.icon):R(l.icon)),n()("div",{style:l.fileDescription},void 0,n()("div",{style:l.fileTitle},void 0,t.name),n()("div",{style:l.fileSize},void 0,t.size)))}const B={image:I,pdf:T,doc:T,xls:T,embed:T},E={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/msword":"doc","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx",image:"image"};function _(e){return"local"===e.type?function(e){const[t]=e.split("/");return E[e]||E[t]}(e.file.type)||(0,v.Dz)({url:e.file.name,baseUrl:S.default.domainBaseUrl,publicDomainName:S.default.publicDomainName}):(0,v.y_)(e.source,".doc")?"doc":(0,v.y_)(e.source,".docx")?"docx":(0,v.y_)(e.source,".xls")?"xls":(0,v.y_)(e.source,".xlsx")?"xlsx":(0,v.Dz)({url:e.source,baseUrl:S.default.domainBaseUrl,publicDomainName:S.default.publicDomainName})}function F(e){let{file:t,onRemoveFile:o,disableRemove:i}=e;window.__c={n:"DiscussionInputFilePreview"};const[{hovered:a},,l]=(0,r.AF)(void 0,C.Z),d=(0,s.useCallback)((()=>null==o?void 0:o(t)),[t,o]),c=(0,f.O7)(),u=!i&&(a||c.device.isMobile);(0,s.useEffect)((()=>()=>{"local"===t.type&&t.dataURL&&URL.revokeObjectURL(t.dataURL)}),[t]);const m=_(t),g=B[m]||T;return n()(b.Z,{store:l,style:V,hoveredStyle:P,pressedStyle:A},void 0,n()(g,{file:t,type:m}),u&&n()(p.Z,{icon:h.D,style:K,hasBackground:!0,isDarkIconColor:!0,hovered:!1,showShadow:!0,onClick:d}))}const P={background:"none"},A={background:"none"},V={display:"flex",alignItems:"center",justifyContent:"center",position:"relative",paddingRight:"10px",cursor:"pointer"},K={position:"absolute",top:"-5px",right:"6px",height:18,width:18,borderRadius:18,padding:4};function N(e){window.__c={n:"DiscussionInputFilmStrip"};const t=(0,s.useRef)(null),o=(0,a.yK)((e=>({leftArrowStyle:{left:10,top:26,background:e.mediumIconColor,...z},rightArrowStyle:{right:10,top:26,background:e.mediumIconColor,...z},iconStyle:{height:6,fill:e.contentBackground},hoveredStyle:{background:e.regularIconColor}})),[]),[{scrollLeft:i,scrollWidth:f,clientWidth:v},,h]=(0,r.AF)(void 0,m.Z),S=(0,s.useCallback)((e=>{var o;e.stopPropagation(),null===(o=t.current)||void 0===o||o.scrollByOffset(0,-.8*v,{animate:!0})}),[v]),C=(0,s.useCallback)((e=>{var o;e.stopPropagation(),null===(o=t.current)||void 0===o||o.scrollByOffset(0,.8*v,{animate:!0})}),[v]),b=(0,s.useCallback)((()=>{var e;null===(e=t.current)||void 0===e||e.getClientRect()}),[]);(0,s.useEffect)((()=>(c.lj(window,"resize",b),()=>{c.ZV(window,"resize",b)})),[b]);const y=(0,s.useMemo)((()=>Math.floor(i)>0),[i]),w=(0,s.useMemo)((()=>Math.ceil(i+v)<f),[i,f,v]);return(0,s.useEffect)((()=>{b()}),[e.files,b]),0===e.files.length?null:n()("div",{style:U},void 0,s.createElement(g.Z,{style:O,ref:t,type:u.Z.X,onScroll:b,zIndex:0,store:h},e.files.filter((e=>"local"===e.type||Boolean(e.source))).map((t=>n()(F,{file:t,onRemoveFile:e.onRemoveFile,disableRemove:e.disableRemove},t.id)))),y&&n()(p.Z,{icon:l.Y,hovered:!1,showShadow:!0,onClick:S,style:o.leftArrowStyle,iconStyle:o.iconStyle,hoveredStyle:o.hoveredStyle}),w&&n()(p.Z,{icon:d.n,hovered:!1,showShadow:!0,onClick:C,style:o.rightArrowStyle,iconStyle:o.iconStyle,hoveredStyle:o.hoveredStyle}))}const O={overflow:"scroll",display:"flex",alignItems:"flex-start",flexDirection:"row",paddingTop:10},U={display:"flex",paddingRight:0,position:"relative"},z={position:"absolute",borderRadius:3,width:16,height:16,opacity:1,flexShrink:0,boxShadow:"none"}},96321:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var i=o(23174),n=o.n(i),s=o(67294),r=o(480),a=o(86628),l=o(24405),d=o(7476),c=o(78089),u=o(63698),m=o(13884),p=o(36488),g=o(56940),f=o(53437),v=o(3553),h=o(73935),S=o(83355),C=o(14568),b=o(49085);class y extends b.default{getInitialState(){return{}}}const w=y;class x extends S.Z{constructor(){super(...arguments),this.storeTypes={store:w},this.rootNode=void 0,this.observer=void 0,this.handleMutation=()=>{this.rootNode&&this.stores.store.setState({node:this.rootNode})}}get registries(){return[C.Z]}didMount(){this.props.capture&&this.startListeners()}willUpdate(e){e.capture&&!this.props.capture?this.startListeners():!e.capture&&this.props.capture&&this.stopListeners()}willUnmount(){this.stopListeners()}startListeners(){const e=h.findDOMNode(this);e&&(this.rootNode=e,this.observer=new MutationObserver(this.handleMutation),this.observer.observe(this.rootNode,{attributes:!0,subtree:!0}))}stopListeners(){this.observer&&(this.observer.disconnect(),this.rootNode=void 0,this.observer=void 0)}renderComponent(){return s.Children.only(this.props.children)}}x.displayName="SlideUpInputArea";const M=x;var k=o(54824);const I=function(){window.__c={n:"NewDiscussionMenu"};const e=(0,r.O7)(),{device:t,WindowSizeStore:o}=e,i=(0,a.VK)((()=>m.Z.state.rect),[]),s=(0,a.VK)((()=>{if(m.Z.state.open){const{blockStore:t,discussionInputStore:o}=m.Z.state;return{blockStore:t,discussionInputStore:o,canMarginCommentsRender:(0,u.az)(e,t)}}return null}),[e]),h=(0,a.VK)((()=>({paddingLeft:t.isMobileNative?o.getSafePaddingLeftCSS(10):10,paddingRight:t.isMobileNative?o.getSafePaddingRightCSS(10):10})),[o,t.isMobileNative]),S=(0,l.yK)((()=>({inputWrapper:{width:t.isMobileNative?"100%":470,maxWidth:t.isMobileBrowser?"90vw":"100%",paddingTop:8,paddingBottom:t.isAndroid?12:8,paddingLeft:h.paddingLeft,paddingRight:h.paddingRight}})),[t,h]),C=()=>{d.ZL(e)},b=()=>{s&&d.uK(s.discussionInputStore,e)};return null!=s&&s.canMarginCommentsRender?null:n()(f.ZP,{popupType:t.isMobileNative?f.ZP.PopupType.SlideUp:f.ZP.PopupType.Popup,keepFocus:!0,open:null!==s,originRect:i,placementToOrigin:f.ZP.Placement.Bottom,alignmentToOrigin:f.ZP.Alignment.Center,originGap:4,onDismiss:b,render:()=>{if(s){const{blockStore:e,discussionInputStore:t}=s;return n()(g.Z,{capture:!0,ignoreBlockSelection:!0,restoreSelection:!0,focusOffscreenInput:!1,render:()=>n()(M,{capture:!0},void 0,n()(p.Z,{capture:!0,allowOpenLinkMenu:!0,render:()=>n()(v.Z,{store:e,droppable:!0,render:()=>n()("div",{style:S.inputWrapper},void 0,n()(k.default,{showAvatar:!0,parentStore:e,onCancel:b,onSubmit:C,discussionInputStore:t,isMobileSlideUpMenu:!0,shouldSaveUnsentComments:!1,discussionFormat:c.O2.Page,blockStore:e,canDrop:!0}))},e.id)}))})}}})}},32016:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$,openEmojiMenuForReaction:()=>j});var i=o(10434),n=o.n(i),s=o(23174),r=o.n(s),a=o(67294),l=o(73935),d=o(480),c=o(86628),u=o(24405),m=o(8848),p=o(40350),g=o(97880),f=o(82990),v=o(5366),h=o(27153),S=o(4615),C=o(80396),b=o(23867),y=o(19889),w=o(94419),x=o(57559),M=o(50906),k=o(9953),I=o(39699);function L(e){const{discussionLocation:t,environment:o,transaction:i,commentStore:n,icon:s}=e,r=function(e){let{commentStore:t,icon:o}=e;const i=(0,x.Vh)(t,t.pointer,"reactions").getValue();if(void 0===i)return;return i.map((e=>{const o=x.t1.createChildStore(t,{table:C.yo,id:e,spaceId:(0,b.C)(t.pointer.spaceId)});if(o.isDefined())return o})).filter(g.$K).find((e=>e.getIcon()===o))}({commentStore:n,icon:s});if(void 0===o.currentUser.id)return;const a={table:y.KJ,id:o.currentUser.id};null!=r&&r.isDefined()?function(e){var t;let{store:o,actorPointer:i,transaction:n,environment:s,discussionLocation:r}=e;const a={store:o,actorPointer:i,transaction:n,environment:s,discussionLocation:r};(null===(t=o.getActors())||void 0===t?void 0:t.some((e=>e.id===i.id)))?function(e){const{store:t,actorPointer:o,discussionLocation:i,transaction:n,environment:s}=e;if(!t.isDefined())return;const r=t.getParentStore(),a=null==r?void 0:r.getParentStore();M.Eml({environment:s,reaction_value:t.getIcon(),comment_id:t.getParentId(),discussion_id:null==a?void 0:a.id,parent_block_id:null==a?void 0:a.getParentId(),reaction_count:t.getActors().length??0,from:i});const l=t.getModel();I.applyOperation({transaction:n,store:t,operation:l.ops.removeActor(o)})}(a):function(e){const{store:t,actorPointer:o,discussionLocation:i,transaction:n,environment:s}=e;if(!t.isDefined())return;const r=t.getParentStore(),a=null==r?void 0:r.getParentStore();M.pPS({environment:s,reaction_value:t.getIcon(),comment_id:t.getParentId(),discussion_id:null==a?void 0:a.id,parent_block_id:null==a?void 0:a.getParentId(),reaction_count:t.getActors().length??0,from:i});const l=t.getModel();I.applyOperation({transaction:n,store:t,operation:l.ops.appendActor(o)})}(a)}({environment:o,store:r,actorPointer:a,transaction:i,discussionLocation:t}):function(e){let{environment:t,transaction:o,commentStore:i,icon:n,currentActorPointer:s,discussionLocation:r}=e;const a=(0,S.ZP)(),l=i.getParentStore();M.pPS({environment:t,reaction_value:n,comment_id:i.id,discussion_id:null==l?void 0:l.id,parent_block_id:null==l?void 0:l.getParentId(),reaction_count:0,from:r});const d=k.Ue({environment:t,table:C.yo,args:{id:a,spaceId:(0,b.C)(i.pointer.spaceId),commentId:i.id,icon:n,actorPointer:s},inMemoryRecordCache:i.inMemoryRecordCache,transaction:o}),c=(0,x.Vh)(i,i.pointer,"reactions");w.R3({parent:c,append:d,transaction:o})}({environment:o,transaction:i,commentStore:n,icon:s,currentActorPointer:a,discussionLocation:t})}var R=o(11059),D=o(72187),Z=o(64921),T=o(73063),B=o(26388),E=o(87279);var _=o(31945),F=o(78140),P=o(28992),A=o(66957),V=o(72893);function K(e){let{reactionStores:t,initialIndex:o}=e;window.__c={n:"ReactionSheetContent"};const[i,n]=a.useState(o),s=(0,v.useIntl)(),l=(0,c.VK)((()=>t.map((e=>e.getIcon()))),[t]),d=(0,c.VK)((()=>t[i].getActorStores().map((e=>({id:e.id,store:e,name:e.getDisplayName(s)}))).filter(g.$K)),[t,i,s]);return r()(F.Z,{menuType:E.og.ActionSheet},void 0,r()(A.Z,{tabStyle:{flex:1,justifyContent:"center",display:"flex",minWidth:60},tabs:l,selectedIndex:i,onChange:e=>n(e)}),d.map((e=>r()(P.Z,{title:e.name,dontShrinkIcon:!0,icon:r()(V.S,{authorStore:e.store,avatarSize:20,avatarStyle:{width:20,height:20},placeholderStyle:{width:20,height:20}})},e.id))))}function N(e){window.__c={n:"ReactionSheet"};const t=(0,d.Fy)(),o=(0,c.VK)((()=>e.commentStore.getUserVisibleReactions()),[e.commentStore]),i=(0,a.useRef)(null),n=function(e){const t=(0,d.O7)(),{onLongPress:o,hapticsEnabled:i=!0,timeout:n=300}=e,s=(0,a.useCallback)((()=>{var e,n,s;i&&(null!==(e=t.mobileNative)&&void 0!==e&&e.buzz?t.mobileNative.buzz():null===(n=(s=window.navigator).vibrate)||void 0===n||n.call(s,20)),o()}),[t.mobileNative,i,o]),r=(0,a.useRef)(),l=(0,a.useCallback)((()=>clearTimeout(r.current)),[]);return(0,a.useEffect)((()=>l),[l]),{onTouchStart:(0,a.useCallback)((()=>{clearTimeout(r.current),r.current=setTimeout(s,n)}),[n,s]),onTouchEnd:l,onTouchCancel:l}}({onLongPress:()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.setOpen(!0)}});if(!t.isMobile)return a.createElement(a.Fragment,null,e.children);const s=o.findIndex((t=>!e.reactionStore||t===e.reactionStore))??0;return a.createElement(_.ZP,{ref:i,key:e.commentStore.id,renderOrigin:()=>a.createElement("div",n,e.children),popupType:t.isTablet?_.Z4.Popup:_.Z4.SlideUp,render:()=>r()(K,{initialIndex:s,reactionStores:o})})}function O(){const{isMobile:e}=(0,d.Fy)();return(0,u.yK)((t=>({reaction:{display:"flex",margin:"1px",padding:"1px 6px 1px 6px",justifyContent:"center",gap:"4px",border:`1px solid ${t.regularDividerColor}`,borderRadius:"100px",fontSize:14,lineHeight:"20px",fontVariantNumeric:"tabular-nums",background:t.whiteButtonBackground},count:{color:t.mediumTextColor,fontSize:e?f.Z.fontSize.UISmall.mobile:f.Z.fontSize.UISmall.desktop,lineHeight:"20px"},countReacted:{color:t.blueColor},reacted:{background:m.ZP.blueWithAlpha(.08),border:`1px solid ${t.filterPillBorder}`,fontWeight:500},reactedHover:{background:m.ZP.blueWithAlpha(.18)},emojiStyle:{color:"black",display:"inline-block"}})),[e])}function U(e){let{store:t,disabled:o,onClick:i}=e;window.__c={n:"Reaction"};const s=(0,c.VK)((()=>t.getActors()),[t]),l=(0,c.VK)((()=>t.getIcon()),[t]),u=O(),{currentUser:m}=(0,d.O7)();if(!s||!l)return null;if(0===s.length)return null;const p=s.some((e=>e.id===m.id)),g={...u.reaction,...p&&u.reacted},f={...u.count,...p&&u.countReacted};return r()(B.Z,{placement:B.Z.Placement.Bottom,delayThreshold:300,renderTooltip:()=>r()(z,{store:t,icon:l}),render:e=>a.createElement(Z.Z,n()({disabled:o,style:g,hoveredStyle:p?u.reactedHover:void 0,onClick:i},e),r()("span",{style:u.emojiStyle},void 0,r()(R.Z,{size:14,char:l})),r()("span",{style:f},void 0,s.length))})}function z(e){let{store:t,icon:o}=e;window.__c={n:"ReactionTooltip"};const i=(0,u.yK)((e=>({text:{color:e.mediumInvertedTextColor}})),[]),n=(0,v.useIntl)(),s=(0,c.VK)((()=>t.getActorStores()),[t]),a=(0,c.VK)((()=>s.map((e=>e.getDisplayName(n))).filter(g.$K)),[s,n]);return r()(v.FormattedMessage,{defaultMessage:"{numberOfNames, plural, one {{nameOrNames} <medium>reacted with</medium> {icon}} other {{nameOrNames} <medium>reacted with</medium> {icon}}}",id:"ReactionBar.hoverTooltip.text",values:{numberOfNames:a.length,nameOrNames:a.join(", "),medium:e=>r()("span",{style:i.text},void 0,e),icon:r()(R.Z,{size:14,char:o})}})}function W(e){let{commentStore:t,discussionLocation:o,onEmojiSelection:i}=e;window.__c={n:"NewReaction"};const n=(0,d.O7)(),s=(0,a.useRef)(null),l=(0,d.Fy)(),c=(0,u.yK)((e=>({container:{padding:2,display:"flex",boxShadow:e.lightBoxShadow,backgroundColor:e.buttonGroupBackground,borderRadius:l.isMobile?3:4},addIcon:{width:15,fill:e.mediumIconColor},iconButton:{height:22,width:22,flex:"0 0 auto"}})),[l.isMobile]),m=(0,v.useIntl)();return r()("div",{style:c.container},void 0,a.createElement(T.Z,{hasBackground:!0,ariaLabel:m.formatMessage({defaultMessage:"Add reaction",id:"ReactionBar.newReaction.ariaLabel"}),showShadow:!1,icon:()=>(0,p.V)(c.addIcon),style:c.iconButton,ref:s,onClick:()=>j(n,m,t,null==s?void 0:s.current,o,i)}))}function H(e){let{commentStore:t,discussionLocation:o,onEmojiSelection:i}=e;window.__c={n:"NewInlineReaction"};const n=(0,u.Fg)(),s=(0,d.O7)(),r=(0,a.useRef)(null),l=O(),c=(0,v.useIntl)(),m=(0,p.V)({width:15,height:20,marginTop:.5,marginLeft:.5,fill:n.mediumIconColor});return a.createElement(Z.Z,{style:{...l.reaction,minWidth:"2em"},ref:r,onClick:()=>j(s,c,t,null==r?void 0:r.current,o,i)},m)}function j(e,t,o,i,n,s){const a=l.findDOMNode(i);if(!a)return;if(!(a instanceof Element))return;const d=a.getBoundingClientRect();h.$(e,{originGap:4,originRect:d,popupWidth:D.FZ,popupHeight:D.kX,isSmallWidth:!1,title:t.formatMessage({defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title"}),currentTab:"emoji",tabs:[{type:"emoji",title:r()(v.FormattedMessage,{defaultMessage:"Emojis",id:"recordIcon.emojiTab.title"}),hideRandomButton:!0,onChange:(t,i)=>{s&&s(),I.createAndCommit({environment:e,userAction:"Comment.toggleReactionFromMenu",perform:s=>{L({environment:e,transaction:s,commentStore:o,icon:t,discussionLocation:n}),i&&i.keepVisible||h.Z()}})}}]})}const $=function(e){let{parentStore:t,discussionLocation:o,onClick:i}=e;window.__c={n:"ReactionBar"};const n=(0,c.VK)((()=>t.canComment()),[t]),s=(0,c.VK)((()=>t.getUserVisibleReactions()),[t]),a=(0,d.O7)();return r()("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"4px",marginBottom:"4px"}},void 0,s.map((e=>r()(N,{reactionStore:e,commentStore:t},e.id,r()(U,{disabled:!n,store:e,onClick:()=>{e.isDefined()&&(i&&i(),I.createAndCommit({environment:a,userAction:"Comment.toggleReaction",perform:i=>{L({environment:a,transaction:i,commentStore:t,icon:e.getIcon(),discussionLocation:o})}}))}})))),n&&s.length>0&&r()(N,{commentStore:t},void 0,r()(H,{commentStore:t,discussionLocation:o,onEmojiSelection:i})),n&&0===s.length&&r()(W,{commentStore:t,discussionLocation:o,onEmojiSelection:i}))}},6771:(e,t,o)=>{o.r(t),o.d(t,{default:()=>de});var i=o(23174),n=o.n(i),s=o(67294),r=o(480),a=o(86628),l=o(24405),d=o(78316),c=o(63698),u=o(82136),m=o(23063),p=o(14577),g=o(72126),f=o(18613),v=o(80503),h=o(51454),S=o(96514),C=o(39500),b=o(49427),y=o(24229),w=o(35973),x=o(13884),M=o(50628),k=o(7011),I=o(10434),L=o.n(I),R=o(97880),D=o(41432),Z=o(69651),T=o(37240),B=o(21202),E=o(19889),_=o(82990),F=o(5366),P=o(43250),A=o(65598),V=o(16402),K=o(57559),N=o(76798),O=o(64369),U=o(67706),z=o(72893);function W(e){let{discussionData:{groupedDiscussionsData:t,id:o},onClick:i}=e;window.__c={n:"GroupedMarginDiscussionItem"};const[r,d]=(0,s.useState)(!1),u=(0,s.useCallback)((()=>{d(!0)}),[]),m=(0,s.useCallback)((()=>{d(!1)}),[]),p=(0,s.useCallback)((async e=>{const o=t[0].discussionStore;await i(e,o)}),[i,t]),g=(0,a.VK)((()=>t.flatMap((e=>(0,A.D4)(e.discussionStore)))),[t]),f=(0,a.VK)((()=>{const e=t[0].parentBlockStore;return[...new Set(g.map((e=>e.getCreatedById())).filter(R.$K))].map((t=>K.U6.createChildStore(e,{table:E.KJ,id:t}))).slice(0,3)}),[t,g]),v=(0,a.VK)((()=>{const e=t[0].closestVisibleParentId,o=t[0].parentBlockStore;if(!e)return;const i=K.G.createChildStore(o,{table:B.iU,id:e}),n=i.getParentStore();return n&&n.table===B.iU&&n.getType()===D.Ti.tab?i:void 0}),[t]),h=(0,a.VK)((()=>{const e=g.map((e=>e.getLastEditedTime()));return Math.max(...e)}),[g]),S=(0,l.yK)((e=>({discussion:{border:`1px solid ${e.regularDividerColor}`,borderRadius:3,background:r?e.hoveredMarginDiscussionBackground:e.contentBackground,width:c.Z,display:"flex",padding:"10px 12px",cursor:"pointer"},userAvatarsContainer:{display:"flex",marginRight:6,justifyContent:"center",alignItems:"center",flexDirection:"row-reverse"},hiddenUsers:{fontSize:14,color:e.mediumTextColor,marginRight:6},commentCount:{fontSize:14,fontWeight:_.Z.fontWeight.semibold,whiteSpace:"normal",marginLeft:6},textPlaceholder:{background:e.lightDividerColor,height:14,width:81,borderRadius:3,marginLeft:4},lastEditedTime:{margin:"1px 0px 0px 6px",whiteSpace:"normal",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"21px"},commentAuthorAvatarStyle:{width:20,height:20,borderRadius:20,marginRight:-3,position:"relative",userSelect:"none",WebkitUserSelect:"none"},commentAuthorPlaceholderStyle:{width:20,height:20,borderRadius:20,marginRight:-3,position:"relative"},secondaryLabel:{fontSize:_.Z.fontSize.UISmall.desktop,marginLeft:4,color:e.lightTextColor,marginTop:1,whiteSpace:"normal",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"21px"},expandIcon:{width:_.Z.fontSize.UISmall.desktop,height:_.Z.fontSize.UISmall.desktop,fill:e.lightTextColor,marginTop:1}})),[r]);return n()("div",{style:S.discussion,onMouseEnter:u,onMouseLeave:m,onClick:p,className:P.S9A},void 0,s.createElement(s.Fragment,null,n()("div",{style:S.userAvatarsContainer},void 0,f.map((e=>n()(z.S,{authorStore:e,avatarSize:20,avatarStyle:S.commentAuthorAvatarStyle,placeholderStyle:S.commentAuthorPlaceholderStyle},e.id)))),g.length>0?n()("div",{style:S.commentCount},void 0,n()(F.FormattedMessage,{defaultMessage:"{numComments, plural, one {{numComments} comment} other {{numComments} comments}}",id:"marginComments.collapsed.numComments.count",values:{numComments:g.length}})):n()("div",{style:S.textPlaceholder}),r?s.createElement(s.Fragment,null,n()("div",{style:{marginLeft:10,display:"flex",justifyContent:"center",alignItems:"center"}},void 0,(0,T.s)(S.expandIcon)),n()("div",{style:S.secondaryLabel},void 0,n()(F.FormattedMessage,{defaultMessage:"Expand",id:"marginComments.collapsed.expand.label"}))):h&&n()(O.Z,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:S.lastEditedTime},void 0,n()(U.Z,{text:(0,V.IS)(h),tooltipText:(0,V.uy)(h),icon:Z.C})),v&&n()("div",{style:S.secondaryLabel},void 0,n()(N.Z,{store:v,maxLength:10}))))}var H=o(74725),j=o(7476),$=o(78089),q=o(54824);function X(e){let{discussionData:{parentBlockStore:t,discussionInputStore:o},isVisible:i}=e;window.__c={n:"NewMarginDiscussionItem"};const a=(0,s.useRef)(null),d=(0,r.O7)(),u=(0,s.useCallback)((()=>{j.ZL(d)}),[d]),m=(0,s.useCallback)((()=>{j.uK(o,d)}),[d,o]),p=(0,s.useMemo)((()=>[`.${P.mJW}`]),[]);(0,H.O)({active:i,closeHandler:m,ref:a,excludedSelectors:p,ignoreKeydown:!0});const g=(0,l.yK)((e=>({discussion:{borderRadius:3,boxShadow:e.marginDiscussionSelectedShadow,width:c.Z,background:e.selectedMarginDiscussionBackground},discussionInputContainer:{borderRadius:3,padding:"6px 4px 4px 8px"}})),[]);return s.createElement("div",{style:g.discussion,ref:a,className:P.S9A},n()(q.default,{parentStore:t,discussionInputStore:o,shouldSaveUnsentComments:!1,isMobileSlideUpMenu:!1,discussionFormat:$.O2.Margin,onSubmit:u,onCancel:m,isNewComment:!0,blockStore:t,canDrop:!0,showAvatar:!1,containerStyle:g.discussionInputContainer,showCtaButtons:!0}))}var G=o(22491),J=o(50906),Q=o(54564),Y=o(89574),ee=o(87404),te=o(39454);function oe(e){let{discussionData:{discussionStore:t,parentBlockStore:o},timeMounted:i,onClick:a,isVisible:d,isDiscussionSelected:u,isDiscussionHovered:m}=e;window.__c={n:"SingleMarginDiscussionItem"};const p=(0,s.useRef)(null),g=(0,r.O7)(),[f,v]=(0,s.useState)((()=>new ee.Z(g,t.pointer.spaceId))),h=t.id,S=(0,s.useMemo)((()=>[`.${(0,G.dk)({discussionId:h})}`,`.${P.mJW}`,`.${P.S9A}`]),[h]),C=(0,s.useCallback)((async()=>{const e=Y.Z.find((e=>e.isEditing()));if(e){if(!(await e.handleCancelEdit()))return}Q.LZ()}),[]);(0,H.O)({active:d&&u,closeHandler:C,ref:p,excludedSelectors:S,ignoreKeydown:!0});const b=(0,l.yK)((e=>({discussion:{border:u?void 0:`1px solid ${e.regularDividerColor}`,borderRadius:3,padding:u?"1px":void 0,background:u?e.selectedMarginDiscussionBackground:m?e.hoveredMarginDiscussionBackground:e.contentBackground,boxShadow:u?e.marginDiscussionSelectedShadow:void 0,width:c.Z,willChange:"transform",transition:"transform 150ms",transform:u?"translateX(-20px)":m?"translateX(-5px)":void 0,cursor:u?void 0:"pointer"}})),[m,u]),y=(0,s.useCallback)((async e=>{u||(J.UwD(g,{discussion_id:t.id,from:"margin_comments",parent_block_id:t.getParentId()}),await a(e,t))}),[a,t,u,g]);return s.createElement("div",{style:b.discussion,onClick:y,ref:p,className:P.S9A},n()(te.default,{store:t,blockStore:o,format:$.O2.Margin,isFirst:!1,isOnly:!1,showResolveButtonByDefaultIfPossible:!1,discussionLocation:"margin_comments",showAllRepliesAfterTimestamp:i,discussionInputStore:f,collapsed:!u}))}const ie=s.memo(oe);function ne(e){window.__c={n:"MarginDiscussionItem"};const{discussionData:t,isLastItem:o,isDiscussionSelected:i,discussionItemElementMap:n}=e,r=(0,l.yK)((e=>({discussionContainer:{transition:"background 300ms ease\n\t\t\t\t"+(t.hide?"":", top 200ms ease-in-out"),top:t.offsetTop,position:"absolute",paddingBottom:o?c.Vs:c.wo,zIndex:i?1:void 0,opacity:t.hide?0:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",pointerEvents:"auto"}})),[t.hide,t.offsetTop,i,o]);let a;const d=t.type;"existing"===d?a=s.createElement(ie,L()({},e,{discussionData:t})):"new"===d?a=s.createElement(X,L()({},e,{discussionData:t})):"grouped"===d?a=s.createElement(W,L()({},e,{discussionData:t})):(0,R.t1)(d);const u=(0,s.useCallback)((()=>{w.Z.setState({source:"margin_comments",discussionIds:[t.id]})}),[t.id]),m=(0,s.useCallback)((()=>{w.Z.setState({discussionIds:[]})}),[]),p=(0,s.useCallback)((e=>{n.set(t.id,e)}),[t.id,n]);return s.createElement("div",{style:r.discussionContainer,onMouseEnter:u,onMouseLeave:m,ref:p},a)}const se=s.memo(ne),re=`.${f.zd}, .${f.FB}`;function ae(e){let{pageBlockStore:t,timeMounted:o,isVisible:i,animating:d,pageViewBlockAccessor:u,width:m}=e;window.__c={n:"MarginCommentsContent"};const f=(0,r.O7)(),I=(0,s.useRef)(null),L=(0,s.useRef)(new Map),R=(0,s.useRef)(new Map),D=(0,a.VK)((()=>w.Z.getFirstSelectedDiscussionId()),[]),Z=(0,s.useCallback)((async(e,o)=>{(0,C.X9)()||e.target instanceof Element&&e.target.closest(re)||await S.Ri({discussionStore:o,currentBlockStore:t,environment:f,analyticsFrom:"margin_comments",currentEl:I.current})}),[t,f]),[T,B]=(0,s.useState)({data:[],hasNewDiscussion:!1,selectedDiscussion:void 0}),[E,_]=(0,s.useState)(!1),{WindowSizeStore:F}=f,P=v.R6(f.device.isElectronMac);(0,s.useEffect)((()=>{if(!i)return;const e=new p.Z((()=>({selectableRectMap:M.Z.state.selectableRectMap,pageContentStores:t.getContentStores(),sidebarIsAnimating:k.ZP.state.isAnimating,windowHeight:F.state.height})),{debugName:"effectDataStore"}),o=new p.Z((()=>c.EM.state),{debugName:"discussionStoresStore"}),n=new p.Z((()=>{const e=x.Z.state;if(e.open&&e.rect&&b.Z.isBlockInFrame(e.blockStore))return{blockStore:e.blockStore,discussionInputStore:e.discussionInputStore}}),{debugName:"newMarginDiscussionArgsStore"}),s=new p.Z((()=>y.Z.getFramePageFirstSelectedDiscussionId()),{debugName:"selectedDiscussionIdStore"});let r=!1;const a=(0,g.Ds)((()=>{const{selectableRectMap:i,pageContentStores:a,sidebarIsAnimating:l,windowHeight:m}=e.state,p=o.state,g=n.state,f=s.state;if(d||l)return;const v=u();if(!(v&&I.current&&i&&i.size))return;(0,c.H0)({discussionStores:p,pageContentStores:a,marginDiscussionItemRefs:L.current,selectedDiscussionId:f,newMarginDiscussionArgs:g,marginContainerElement:I.current,pageViewBlockElement:v,onComputeComplete:(e,t)=>{r||(R.current=t,E||_(!0),B(e))},computedOnce:E,topbarHeight:P,windowHeight:m,isFullWidth:t.isFullWidth(),prevSelectedDiscussionId:T.selectedDiscussion,previousDiscussionElements:R.current})}),5);return e.addListener(a),o.addListener(a),s.addListener(a),n.addListener(a),()=>{r=!0,e.removeListener(a),o.removeListener(a),s.removeListener(a),n.removeListener(a)}}),[i,d,u,E,t,T.selectedDiscussion,F,P]);const A=(0,l.yK)((e=>({gradientOverlay:{position:"absolute",pointerEvents:"none",width:"100%",height:"100%",top:"-5px",background:`linear-gradient(to bottom, ${e.contentBackground} 0px, ${e.contentBackgroundTransparent} 15px)`},marginCommentsContainer:{display:"flex",flexDirection:"column",paddingTop:5,paddingBottom:5,paddingLeft:c.fS,paddingRight:c.fS,width:m-2*c.fS,flexShrink:0,height:"100%",position:"relative",pointerEvents:"none",zIndex:h.p8}})),[m]);return s.createElement("div",{style:A.marginCommentsContainer,ref:I},T.data.map(((e,t)=>n()(se,{discussionData:e,timeMounted:o,onClick:Z,isVisible:i,discussionItemElementMap:L.current,isDiscussionSelected:e.selected||"new"===e.type,isDiscussionHovered:e.id===D,isLastItem:t===T.data.length-1},`margin-discussion-${e.id}`))),n()("div",{style:A.gradientOverlay}))}const le=s.memo(ae);function de(e){let{pageBlockStore:t,isVisible:o,pageViewBlockAccessor:i,context:p,isCollapsedAnchor:g}=e;window.__c={n:"MarginCommentsSection"};const[f,v]=(0,s.useState)(!1),h=(0,r.O7)(),S=(0,s.useMemo)((()=>(new Date).getTime()),[]),C=(0,a.VK)((()=>t.isFullWidth()||p===u.S.CollectionPageView),[p,t]),b=(0,a.VK)((()=>g?{paddingLeft:42,height:0}:C?void 0:{position:"absolute",right:(0,c.oS)(h,(0,d.en)(t),(0,d.Ks)(t))}),[C,h,t,g]),y=(0,s.useCallback)((()=>{v(!0)}),[]),w=(0,s.useCallback)((()=>{v(!1)}),[]),x=(0,l.yK)((()=>({marginCommentsSection:{display:o||f?"flex":"none",flexShrink:0,pointerEvents:"none",width:o?c.QB:0,...b}})),[o,f,b]);return n()(m.Z,{isVisible:!0,animationStyle:{opacity:o?1:0},onAnimationStart:y,onAnimationEnd:w,render:()=>n()("div",{style:x.marginCommentsSection},void 0,n()(le,{pageBlockStore:t,timeMounted:S,isVisible:o,animating:f,pageViewBlockAccessor:i,width:c.QB}))})}},14568:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(35431);class n extends i.Z{}const s=new n},63334:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(49085);class n extends i.default{getInitialState(){return{}}}const s=n},7189:(e,t,o)=>{o.d(t,{K:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("arrowDownSmall",{viewBox:"0 0 12 12",svg:n()("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},37652:(e,t,o)=>{o.d(t,{V:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("arrowLeft",{viewBox:"0 0 30 30",svg:n()("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})})},91315:(e,t,o)=>{o.d(t,{r:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("circleCheckFilled",{viewBox:"0 0 16 16",svg:n()("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},31505:(e,t,o)=>{o.d(t,{Y:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("collectionTimelineArrowLeft",{viewBox:"0 0 9 7",svg:n()("path",{d:"M0 3.5021C0 3.70786 0.0939831 3.93041 0.237195 4.06479L3.11934 6.76065C3.28493 6.91602 3.48633 7 3.67877 7C4.17106 7 4.48881 6.68506 4.48881 6.27774C4.48881 6.03839 4.37245 5.86203 4.22029 5.72345L3.19095 4.77025L2.56887 4.22855L3.47737 4.27055L8.13625 4.27055C8.6554 4.27055 9 3.96401 9 3.5021C9 3.04019 8.6554 2.73365 8.13625 2.73365L3.47737 2.73365L2.56887 2.77564L3.19095 2.23395L4.22029 1.27654C4.37245 1.13377 4.48881 0.961608 4.48881 0.722255C4.48881 0.314937 4.17106 0 3.67877 0C3.48633 0 3.28493 0.0839832 3.11487 0.239352L0.237195 2.93941C0.0939831 3.07378 0 3.29634 0 3.5021Z"})})},39301:(e,t,o)=>{o.d(t,{n:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("collectionTimelineArrowRight",{viewBox:"0 0 9 7",svg:n()("path",{d:"M9 3.4979C9 3.29214 8.90602 3.06959 8.7628 2.93521L5.88066 0.239352C5.71507 0.0839835 5.51368 3.13148e-07 5.32123 2.96324e-07C4.82894 2.53287e-07 4.51119 0.314937 4.51119 0.722256C4.51119 0.961608 4.62755 1.13797 4.77971 1.27654L5.80905 2.22975L6.43113 2.77145L5.52263 2.72945L0.863749 2.72945C0.344604 2.72945 -6.62078e-07 3.03599 -7.02459e-07 3.4979C-7.4284e-07 3.95981 0.344604 4.26635 0.863749 4.26635L5.52263 4.26635L6.43113 4.22436L5.80905 4.76605L4.77971 5.72346C4.62755 5.86623 4.51119 6.03839 4.51119 6.27774C4.51119 6.68506 4.82894 7 5.32123 7C5.51367 7 5.71507 6.91602 5.88513 6.76065L8.7628 4.06059C8.90602 3.92622 9 3.70366 9 3.4979Z"})})},22962:(e,t,o)=>{o.d(t,{O:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("mention",{viewBox:"0 0 20 20",svg:n()("path",{d:"M1 9.86523C1 15.2939 4.72705 18.6807 9.98975 18.6807C11.3511 18.6807 12.4634 18.5312 13.1606 18.2905C13.6919 18.1079 13.8828 17.8174 13.8828 17.4521C13.8828 17.0537 13.6089 16.7715 13.1523 16.7715C13.0195 16.7715 12.8784 16.7881 12.6958 16.8213C11.9238 16.9873 11.2266 17.1118 10.2637 17.1118C5.74805 17.1118 2.74316 14.4058 2.74316 9.91504C2.74316 5.56543 5.61523 2.56055 9.88184 2.56055C13.7417 2.56055 16.7383 4.97607 16.7383 9.11816C16.7383 11.3511 15.9995 12.8452 14.8125 12.8452C14.0239 12.8452 13.5757 12.3472 13.5757 11.4839V6.44531C13.5757 5.84766 13.252 5.49072 12.6709 5.49072C12.0981 5.49072 11.7578 5.84766 11.7578 6.44531V7.10107H11.6333C11.21 6.09668 10.2305 5.49072 9.01855 5.49072C6.90186 5.49072 5.43262 7.28369 5.43262 9.89844C5.43262 12.5547 6.91846 14.3892 9.11816 14.3892C10.3799 14.3892 11.3013 13.7417 11.7578 12.6045H11.8823C12.1147 13.7168 13.0942 14.3809 14.4307 14.3809C16.8877 14.3809 18.3984 12.1895 18.3984 8.96045C18.3984 4.1626 14.8706 1 9.89014 1C4.66064 1 1 4.56104 1 9.86523ZM9.5415 12.7207C8.26318 12.7207 7.46631 11.6499 7.46631 9.92334C7.46631 8.21338 8.27148 7.14258 9.5498 7.14258C10.8364 7.14258 11.6582 8.20508 11.6582 9.89844C11.6582 11.625 10.8281 12.7207 9.5415 12.7207Z"})})},40350:(e,t,o)=>{o.d(t,{V:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("reactionAdd",{viewBox:"0 0 16 16",svg:n()("g",{},void 0,n()("path",{d:"M8.7207 12.0259C8.7207 12.4243 9.04492 12.7446 9.43945 12.7446H11.4199V14.7251C11.4199 15.1235 11.7441 15.4438 12.1426 15.4438C12.5371 15.4438 12.8613 15.1235 12.8613 14.7251V12.7446H14.8418C15.2363 12.7446 15.5605 12.4243 15.5605 12.0259C15.5605 11.6274 15.2363 11.3032 14.8418 11.3032H12.8613V9.32666C12.8613 8.92822 12.5371 8.604 12.1426 8.604C11.7441 8.604 11.4199 8.92822 11.4199 9.32666V11.3032H9.43945C9.04492 11.3032 8.7207 11.6274 8.7207 12.0259Z"}),n()("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.02947 13.6952C8.43019 13.8731 7.79681 13.9688 7.14258 13.9688C3.46729 13.9688 0.439453 10.9409 0.439453 7.25928C0.439453 3.58398 3.46094 0.556152 7.14258 0.556152C10.8179 0.556152 13.8457 3.58398 13.8457 7.25928C13.8457 7.72257 13.7979 8.1755 13.7069 8.61336C13.439 8.02567 12.8508 7.61289 12.1648 7.60415C12.1724 7.49021 12.1763 7.37521 12.1763 7.25928C12.1763 4.47266 9.9292 2.22559 7.14258 2.22559C4.34961 2.22559 2.11523 4.47266 2.11523 7.25928C2.11523 10.0522 4.35596 12.2993 7.14258 12.2993C7.34385 12.2993 7.54226 12.2876 7.73717 12.2649C7.83478 12.9674 8.35636 13.53 9.02947 13.6952ZM6.02539 5.83105C6.02539 6.31982 5.67627 6.67529 5.28271 6.67529C4.88916 6.67529 4.55908 6.31982 4.55908 5.83105C4.55908 5.33594 4.88916 4.98047 5.28271 4.98047C5.67627 4.98047 6.02539 5.33594 6.02539 5.83105ZM9.73242 5.83105C9.73242 6.31982 9.3833 6.67529 8.99609 6.67529C8.60254 6.67529 8.26611 6.31982 8.26611 5.83105C8.26611 5.33594 8.59619 4.98047 8.99609 4.98047C9.38965 4.98047 9.73242 5.33594 9.73242 5.83105ZM9.37695 8.9668C9.37695 9.39844 8.48193 10.2808 7.14258 10.2808C5.79688 10.2808 4.90186 9.39844 4.90186 8.9668C4.90186 8.80811 5.06055 8.72559 5.21289 8.80176L5.22971 8.81029C5.68936 9.04333 6.22701 9.31592 7.14258 9.31592C8.01512 9.31592 8.53968 9.05921 8.99207 8.83782C9.01689 8.82568 9.04149 8.81364 9.06592 8.80176C9.21826 8.73193 9.37695 8.80811 9.37695 8.9668Z"}))})},83065:(e,t,o)=>{o.d(t,{_:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("sendArrow",{viewBox:"0 0 20 20",svg:n()("path",{d:"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z"})})}}]);