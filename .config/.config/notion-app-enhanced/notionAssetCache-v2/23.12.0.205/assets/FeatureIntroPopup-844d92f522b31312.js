"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{41458:(e,t,o)=>{o.r(t),o.d(t,{FeatureIntroPopup:()=>k,default:()=>x});var n=o(23174),i=o.n(n),r=o(67294),a=o(86628),l=o(24405),s=o(8848),d=o(66673),u=o(64275),g=o(64878),c=o(5366),p=o(82990),m=o(80444),h=o(42922),f=o(73063),y=o(28451),v=o(89728),b=o(53437);const C=function(e){window.__c={n:"FeatureIntroContent"};const{imageSrc:t,imageStyles:o,title:n,subtitle:a}=e,s=(0,l.yK)((e=>({content:{padding:"0 24px",height:90},title:{fontSize:p.Z.fontSize.UIRegular.desktop,fontWeight:p.Z.fontWeight.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:p.Z.fontSize.UIRegular.desktop,color:e.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${e.lightDividerColor}`,display:"flex"}})),[]);return r.createElement(r.Fragment,null,i()("div",{style:s.imageWrapper},void 0,i()("img",{style:{...s.image,...o},src:t},t)),i()("div",{style:s.content},void 0,i()("div",{style:s.title},void 0,n),i()("div",{style:s.subtitle},void 0,a)))};const B=function(e){window.__c={n:"FeatureIntroInitialContent"};const t=(0,l.yK)((e=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:p.Z.fontWeight.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:e.mediumIconColor,marginTop:4},description:{fontSize:14,color:e.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return r.createElement(r.Fragment,null,e.icon&&i()("div",{style:t.iconContainer},void 0,e.icon(e.iconStyle?e.iconStyle:t.icon)),i()("div",{style:t.headerContainer},void 0,i()("div",{style:t.headerText},void 0,e.header)),i()("div",{style:t.description},void 0,e.description))};function k(e){window.__c={n:"FeatureIntroPopup"};const{children:t,initialPromo:o,steps:n,isUserEligible:k=!0,placementToOrigin:x,alignmentToOrigin:S,seenFeatureUserSetting:I,userSettingsStore:F,allowExternalMouseEvents:w,onDismiss:M,onTryFeatureClick:T,onPopupSeen:P,onLearnMore:Z,ctaMessage:W,calloutId:E}=e,L=(0,c.useIntl)(),R=(0,l.yK)((e=>({popupContainer:{background:"light"===e.mode?e.contentBackground:e.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:e.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:e.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:e.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===e.mode?s.FN.light.gray[400]:s.FN.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:p.Z.fontWeight.medium},nextButton:{fontWeight:p.Z.fontWeight.medium},inactiveDot:{fill:e.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[_,D]=(0,r.useState)(0),z=(0,r.useCallback)((()=>{const e=null==F?void 0:F.getSettings();return!e||Boolean(!0===e[I])}),[I,F]),O=(0,a.VK)((()=>!z()&&k&&m.default.state.inAppCalloutStore.canShow(E)||Boolean(e.forceShow)),[E,z,k,e.forceShow]),G=(0,r.useCallback)((()=>{D(_+1),null==Z||Z()}),[_,Z]),K=(0,d.D9)(O);return(0,r.useEffect)((()=>{O&&!K&&(null==P||P())}),[O,P,K]),i()(b.ZP,{popupType:b.ZP.PopupType.Popup,open:O,origin:t,placementToOrigin:x,alignmentToOrigin:S,originGap:15,disableMouseCapture:w,render:()=>{const e=0===_,t=e?r.createElement(B,o):r.createElement(C,n[_-1]),a=e?r.createElement(r.Fragment,null,i()(h.Z,{style:R.button,onClick:G,isLarge:!0},void 0,W||i()(c.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",defaultMessage:"Learn more"})),i()(v.Z,{onClick:M,isLightGray:!0,style:{...R.button,...R.dismissButton}},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",defaultMessage:"Dismiss"}))):i()("div",{style:R.footer},void 0,i()("div",{style:{display:"flex"}},void 0,[...Array(n.length)].map(((e,t)=>{let o=R.dot;return o=t===_-1?{...o}:{...o,...R.inactiveDot},t===n.length&&(o={...o,marginRight:0}),(0,g.h)(o)}))),i()("div",{style:{...R.button,marginLeft:"auto"}},void 0,_>1&&i()(v.Z,{onClick:()=>D(_-1),style:R.backButton,isGray:!0},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.backButton",defaultMessage:"Back"})),_<n.length&&i()(v.Z,{onClick:()=>D(_+1),style:R.nextButton,isBlue:!0},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.nextButton",defaultMessage:"Next"})),_===n.length&&i()(h.Z,{onClick:T},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",defaultMessage:"Try it out"}))));return i()(y.P,{calloutId:E},void 0,t,i()(f.Z,{icon:u.D,style:R.closeButton,hoveredStyle:R.closeButtonHoveredStyle,iconStyle:R.closeButtonIcon,disableBackground:!0,onClick:M,ariaLabel:L.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",defaultMessage:"Close"})}),a)},style:0===_?R.popupContainer:{...R.popupContainer,padding:void 0}})}const x=k}}]);