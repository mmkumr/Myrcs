"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1822],{73657:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(10434),i=o.n(n),r=o(67294),l=o(83355),a=o(28992);class s extends l.Z{renderComponent(){return r.createElement(a.Z,i()({},this.props,{style:{background:"none",borderBottom:"none",boxShadow:"",marginTop:2,marginBottom:6,paddingTop:4,paddingBottom:4,minHeight:"none",...this.props.style}}))}}s.displayName="CaptionMenuItem";const d=s},62644:(e,t,o)=>{o.d(t,{Qv:()=>Pe,ZP:()=>We,I4:()=>Ne,Sm:()=>Oe});var n=o(10434),i=o.n(n),r=o(23174),l=o.n(r),a=(o(30541),o(57658),o(67294)),s=o(83355),d=o(480),c=o(86628),u=o(49085),p=o(66897),m=o(76205),h=o(99036),g=o(80951),v=o(84619),f=o(45433),y=o(40506),C=o(53877),S=o(58573),M=o(42875),b=o(42853),x=o(56666),k=o(21197),w=o(37612),Z=o(72126),F=o(32056),T=o(23014),I=o(21202),R=o(77420),V=o(13493),E=o(29369),P=o(19889),A=o(70203),B=o(97880),D=o(82990),_=o(4308),L=o(5366),W=o(31299),O=o(28020),N=o(97004),H=o(17335),G=o(26991),U=o(33929),K=o(87279),z=o(98742),Y=o(98165),Q=o(29376),q=o(59054),j=o(16854);var $=o(80444),X=o(61766),J=o(29798),ee=o(57559),te=o(68834),oe=o(63743),ne=o(50959),ie=o(64921),re=o(52275),le=o(31945),ae=o(60458),se=o(73063),de=o(68894),ce=o(3386),ue=o(68785),pe=o(78140),me=o(32163),he=o(43765),ge=o(40721),ve=o(53437),fe=o(11470),ye=o(77137),Ce=o(72495),Se=o(45959),Me=o(26388),be=o(92864),xe=o(64369),ke=o(66653),we=o(41209),Ze=o(93289),Fe=o(83264),Te=o(78948),Ie=o(10009),Re=o(22084),Ve=o(85567),Ee=o(47082);let Pe=function(e){return e[e.AdvancedFilter=0]="AdvancedFilter",e[e.PropertyFilter=1]="PropertyFilter",e}({});const Ae=(0,L.defineMessages)({startingMessage:{defaultMessage:"Select or type a date...",id:"search.dateMenu.dateMessage"}}),Be="50vh";class De extends s.Z{constructor(){super(...arguments),this.storeTypes={query:u.default.createClass(""),menuListStore:J.Z,dateFilterPopupStore:X.Z,dateRangeFilterPopupStore:X.Z},this.renderTextMenu=e=>{const{intl:t}=this.props,{device:o}=this.environment,n=l()(Ce.Z,{isInput:!0,disableDesktopPadding:!0},void 0,l()(de.ZP,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,m.vR)(e)&&e.value.value?e.value.value:"",onChange:e=>{const t=e.target.value;this.updateValue({type:"exact",value:t})},onClearButtonClick:()=>{this.updateValue({type:"exact",value:void 0})},placeholder:t.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.textType.searchPlaceholder"}),showClearButton:!0,textWrapperStyle:{marginLeft:8,marginRight:8}})),i=l()(Ce.Z,{disableMobileBorders:!0,disableMobilePadding:!0},void 0,!o.isMobile&&this.renderDesktopTopActions(),(0,m.vR)(e)&&n);let r;return r=o.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose,header:i}:{menuType:K.og.Popup,maxHeight:Be,width:220,header:i},a.createElement(pe.Z,r)},this.renderNumberMenu=e=>{const{intl:t}=this.props,{device:o}=this.environment,n=l()(Ce.Z,{isInput:!0,disableDesktopPadding:!0},void 0,l()(de.ZP,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,m.vR)(e)&&"number"==typeof e.value.value?e.value.value.toString():"",inputLeft:this.renderNumberOperator(e),onChange:e=>{const t=(0,F.p3)(e.target.value);this.updateValue({type:"exact",value:t})},onClearButtonClick:()=>{this.updateValue({type:"exact",value:void 0})},placeholder:t.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.numberType.searchPlaceholder"}),showClearButton:!0,textWrapperStyle:{marginLeft:8,marginRight:8}})),i=l()(Ce.Z,{disableMobileBorders:!0,disableMobilePadding:!0},void 0,!o.isMobile&&this.renderDesktopTopActions(),(0,m.vR)(e)&&n);let r;return r=o.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose,header:i}:{menuType:K.og.Popup,maxHeight:Be,width:220,header:i},a.createElement(pe.Z,r)},this.renderUserMenuItem=(e,t)=>{const{device:o}=this.environment,n=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>a.createElement(re.Z,i()({},t,{title:l()(be.vw,{isSingle:!0,shouldShrink:!0,format:o.isMobile?be.vw.Format.Large:be.vw.Format.Medium,userValue:e,showRemoveButton:!1}),isTokenTitle:!0,checkState:n})),action:()=>{const o=n?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:P.KJ,id:e.id}}];this.updateValue(o)}}},this.renderBotMenuItem=(e,t)=>{const{device:o}=this.environment,n=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>a.createElement(re.Z,i()({},t,{title:l()(be.Jn,{isSingle:!0,shouldShrink:!0,format:o.isMobile?be.Jn.Format.Large:be.Jn.Format.Medium,botValue:e,showRemoveButton:!1}),isTokenTitle:!0,checkState:n})),action:()=>{const o=n?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:R.cZ,id:e.id}}];this.updateValue(o)}}},this.getRelatedCollectionPartial=this.createComputedStore((()=>{const e=this.getFilterAppliedPropertySchema();return e&&(0,h.p_)(e)?{appConfigUri:(0,Q.ke)(e,this.props.parentStore),schema:(0,Q.uJ)(e,this.props.parentStore)}:{}})),this.renderMoreActionsPopup=e=>{const{allowAddingToCombinatorFilter:t}=this.props,{device:o}=this.environment;let n;n=o.isMobile?{menuType:K.og.ActionSheet}:{menuType:K.og.Popup,maxHeight:Be};const r=Z.oA([{key:"delete",render:e=>a.createElement(re.Z,i()({},e,{title:l()(L.FormattedMessage,{id:"database.filterValue.deleteFilter.title",defaultMessage:"Delete filter"}),icon:(0,w.y)({width:14})})),action:()=>{var t,o;e.close(),null===(t=(o=this.props).onDelete)||void 0===t||t.call(o)}},t&&{key:"merge",render:e=>l()(Me.Z,{placement:Me.Z.Placement.Right,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>l()("div",{},void 0,l()(oe.ep,{})),render:t=>a.createElement(re.Z,i()({},(0,z.Z)(e,t),{title:l()(L.FormattedMessage,{id:"database.filterValue.mergeIntoAdvancedFilter.title",defaultMessage:"Add to advanced filter"}),icon:(0,k.Q)({width:14})}))}),action:()=>{var t,o;e.close(),null===(t=(o=this.props).onAddToCombinatorFilter)||void 0===t||t.call(o)}}]);return a.createElement(pe.Z,n,l()(me.Z,{type:me.i.Vertical,sections:[{key:"actions",render:e=>a.createElement(Ce.Z,i()({disableMobilePadding:!0},e)),items:r}],initialFocus:void 0}))},this.handleClose=e=>{var t,o;null===(t=(o=this.props).onClose)||void 0===t||t.call(o)},this.getPersonAutocompleteResults=async e=>{let{users:t,bots:o}=await W.CO({environment:this.environment,query:e,membersOnly:!1});return t=t.slice(0,20),o=o.slice(0,20),await Promise.all([...t.map((async e=>{let{id:t}=e;const o=(0,ee.Kv)(this.props.parentStore,{table:P.KJ,id:t});await o.load()})),...o.map((async e=>{const t=(0,ee.Kv)(this.props.parentStore,{table:R.cZ,id:e.id,spaceId:e.space_id});await t.load()}))]),{users:t,bots:o}},this.getRelationAutocompleteResults=async e=>{const{query:t,spaceId:o,collectionId:n}=e;if(!o||!n)return[];const{results:i}=await W.df({environment:this.environment,query:t,collectionId:n,limit:20,spaceId:o,excludeTemplates:!0,source:"relation_menu",includePublicPagesWithoutExplicitAccess:!1,boostRecentlyViewedPages:!1});return 0===i.length?[]:(await Promise.all(i.map((async e=>{const t=(0,ee.Kv)(this.props.parentStore,{table:I.iU,id:e});await t.load()}))),i)}}renderComponent(){return l()(ce.Z,{capture:!0,onEsc:this.handleClose},void 0,this.renderMenu())}renderMenu(){const{propertyFilter:e,schema:t,parentStore:o}=this.props,{property:n,filter:i}=e,r=(0,m.fI)({schema:t,property:n,getRecordModel:o.getRecordModel}),a=(0,m.a_)(i)?i.subfilter:i;if("text"===r)return(0,m.Ly)(a)&&this.renderTextMenu(a);if("relation"===r)return(0,m.e)(a)&&this.renderRelationRequest(a);if("checkbox"===r)return(0,m.XA)(a)&&this.renderCheckboxMenu(a);if("select"===r||"multi_select"===r)return((0,m.dx)(a)||(0,m.NU)(a))&&this.renderSelectMenu(a);if("status"===r)return(0,m.r2)(a)&&this.renderStatusMenu(a);if("person"===r)return(0,m.Gb)(a)&&this.renderPersonRequest(a);if("number"===r)return(0,m.h6)(a)&&this.renderNumberMenu(a);if("date"===r)return(0,m.gE)(a)&&this.renderDateMenu(a);if("file"===r);else{if("location"===r)return(0,m.Mp)(a)?l()(Le,{filter:a,parentStore:o,updateValue:e=>this.updateValue(e),onClose:this.props.onClose,desktopTopActions:this.renderDesktopTopActions(),mobileMenuTitle:this.renderMobileMenuTitle(),mobileMoreActions:this.renderMobileMoreActions()}):null;if("verification"===r)return(0,m.Jw)(a)&&this.renderVerificationMenu(a);(0,B.t1)(r)}}renderSelectMenu(e){const{intl:t}=this.props,{device:o}=this.environment,n=this.stores.query.state,i=this.getFilterAppliedPropertySchema();if(!i||!(0,h.cu)(i))return;const r=i.options||[],s=(0,m.vR)(e)?(0,m.dx)(e)?(0,m.mg)(e):(0,m.qC)(e):[],d=Ne({query:n,propertySchema:i,selectedValues:s,updateValue:e=>{this.updateValue(e)},isMobile:o.isMobile,styles:{checkboxIcon:{fill:this.theme.regularIconColor,pointerEvents:"none"}}}),c=s.map((e=>{if(void 0===e.value)return;const t=(0,g.i7)(r,e.value);return t?l()(Re.a,{format:o.isMobile?v.l.Large:v.l.Small,isSingle:!1,value:t.value,color:t.color,showRemoveButton:!0,onClickRemove:()=>{const t=Z.zu(s,e);this.updateValue(t)}},t.id):void 0})),u=l()(Ee.Z,{focus:!o.isMobile||void 0,focusAfterAnimation:!0,format:Ee.Z.Format.FilterValue,tokens:c,placeholder:t.formatMessage({defaultMessage:"Select one or more options…",id:"database.filterValue.selectType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=s.slice(0,s.length-1);this.updateValue(e)},onClearButtonClick:()=>{var e,t;this.updateValue([]),null===(e=(t=this.props).onClose)||void 0===e||e.call(t)},value:this.stores.query.state,onChange:e=>{this.updateInputValue(e.target.value)},dontShowBorderBottom:o.isAndroid,showClearButton:!0}),p=l()(Ce.Z,{desktopStyle:{paddingBottom:0}},void 0,!o.isMobile&&this.renderDesktopTopActions(),(0,m.vR)(e)&&u);let f;return f=o.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose,header:p}:{menuType:K.og.Popup,maxHeight:Be,width:260,header:p,disableHeaderBorder:!0,tokenInputHeader:!0},a.createElement(pe.Z,f,(0,m.vR)(e)&&a.createElement(a.Fragment,null,0===d.length&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})),d.length>0&&l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:[{key:"select",render:e=>a.createElement(Ce.Z,e),items:d}],store:this.stores.menuListStore,onAccept:()=>{this.updateInputValue("")}})))}renderStatusMenu(e){const{device:t}=this.environment,o=this.getFilterAppliedPropertySchema();if(!o||"status"!==o.type)return;const n=l()(Ce.Z,{desktopStyle:{paddingBottom:0}},void 0,!t.isMobile&&this.renderDesktopTopActions());let r;r=t.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose,header:n}:{menuType:K.og.Popup,maxHeight:Be,width:260,header:n,disableHeaderBorder:!0,tokenInputHeader:!0};const s=Oe({propertySchema:o,statusFilterValues:(0,m.vR)(e)?(0,m.wB)(e):[],updateValue:e=>{this.updateValue(e)},isMobile:t.isMobile,styles:{checkboxIcon:{fill:this.theme.regularIconColor}}}),d=l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:[{key:"groups",items:s,render:e=>a.createElement(Ce.Z,i()({},e,{title:"",style:{paddingTop:0}}))}]}),c=l()(Ce.Z,{topBorder:!0},void 0,l()(re.Z,{title:l()(L.FormattedMessage,{defaultMessage:"Clear selection",id:"database.filterValue.selectType.clearSelection.message"}),focused:!1,onClick:()=>{this.updateValue([])}}));return a.createElement(pe.Z,r,(0,m.vR)(e)&&a.createElement(a.Fragment,null,d,c))}renderPersonRequest(e){const t=this.stores.query.state;return l()(ye.Z,{request:t,performRequest:this.getPersonAutocompleteResults,render:(t,o)=>this.renderPersonMenu(e,t,o)})}renderPersonMenu(e,t,o){const{intl:n}=this.props,{device:r}=this.environment,s=this.stores.query.state,d=this.getFilterAppliedPropertySchema();if(!d)return;const c=(0,m.vR)(e)?(0,m.R8)(e):[],u=Z.oA(c.map((e=>{if("exact"===e.type&&e.value){const t=(0,p.Hl)({pointer:e.value,getRecordValue:this.props.parentStore.getRecordValue});return l()(be.ZP,{actor:t,format:r.isMobile?be.ZP.Format.Large:be.ZP.Format.Small,showRemoveButton:!0,onClickRemove:()=>{const t=Z.zu(c,e);this.updateValue(t)},shouldShrink:!0,isSingle:!1},e.value.id)}if("relative"===e.type&&"me"===e.value&&this.props.allowRelativePersonFilter)return l()(Ve.Z,{format:r.isMobile?v.l.Large:v.l.Small,value:this.renderMeMessage(),onClickRemove:()=>{const t=Z.zu(c,e);this.updateValue(t)},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showFullValueTooltip:!0})}))),h=l()(Ee.Z,{focus:!r.isMobile||void 0,focusAfterAnimation:!0,format:Ee.Z.Format.FilterValue,tokens:u,placeholder:n.formatMessage({defaultMessage:"Search for one or more people…",id:"database.filterValue.personType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=c.slice(0,c.length-1);this.updateValue(e)},onClearButtonClick:()=>{var e,t;this.updateValue([]),null===(e=(t=this.props).onClose)||void 0===e||e.call(t)},value:this.stores.query.state,onChange:e=>{this.updateInputValue(e.target.value)},dontShowBorderBottom:r.isAndroid,showClearButton:!0,style:{maxHeight:"20vh",overflowY:"auto"}}),g=l()(Ce.Z,{desktopStyle:{paddingBottom:0}},void 0,!r.isMobile&&this.renderDesktopTopActions(),(0,m.vR)(e)&&h);let f;f=r.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose,header:g}:{menuType:K.og.Popup,maxHeight:Be,width:260,header:g,disableHeaderBorder:!0};const y=Z.oA((o&&o.users||[]).map((e=>this.renderUserMenuItem(e,c)))),C=["created_by","last_edited_by"].includes(d.type)?Z.oA((o&&o.bots||[]).map((e=>this.renderBotMenuItem(e,c)))):[];if(this.props.allowRelativePersonFilter&&o&&(!s||"me".includes(s))){const e=Boolean(c.find((e=>"relative"===e.type&&"me"===e.value)));y.unshift({key:"me",render:t=>a.createElement(re.Z,i()({},t,{title:this.renderMeMessage(),checkState:e,style:r.isMobile?void 0:{fontSize:14}})),action:()=>{const t=e?c.filter((e=>{let{value:t}=e;return"me"!==t})):[...c,{type:"relative",value:"me"}];this.updateValue(t)}})}const S=[];return y.length>0&&S.push({key:"user property",render:e=>a.createElement(Ce.Z,i()({desktopStyle:{paddingTop:0}},e)),items:y}),C.length>0&&S.push({key:"bot property",render:e=>a.createElement(Ce.Z,i()({},e,{title:"Pick a bot"})),items:C}),a.createElement(pe.Z,f,(0,m.vR)(e)&&a.createElement(a.Fragment,null,t&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.filterValue.personType.searchPersonPropertyMenuItem.errorMessage"})})),0===S.length&&o&&!t&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.personType.noResults.message"})})),!o&&!t&&l()(Ce.Z,{},void 0,l()(Te.Z,{})),S.length>0&&l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:S,store:this.stores.menuListStore,onAccept:()=>{this.updateInputValue("")}})))}renderCheckboxMenu(e){var t;const{device:o}=this.environment,{context:n}=this.props;let r;r=o.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose}:{menuType:K.og.Popup,maxHeight:Be,width:220,footer:this.renderClearSection(e)};const s=null===(t=e.value)||void 0===t?void 0:t.value;return a.createElement(pe.Z,r,n===Pe.PropertyFilter&&l()(Ce.Z,{},void 0,!o.isMobile&&this.renderDesktopTopActions()),l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:[{key:"select",render:e=>a.createElement(Ce.Z,i()({style:n===Pe.PropertyFilter?{paddingTop:0}:void 0},e)),items:[{key:"unchecked",render:e=>a.createElement(re.Z,i()({},e,{title:l()(L.FormattedMessage,{defaultMessage:"Unchecked",id:"database.filterValue.checkboxType.unchecked.title"}),isTokenTitle:!0,checkState:!1===s})),action:()=>{this.updateValue({type:"exact",value:!1})}},{key:"checked",render:e=>a.createElement(re.Z,i()({},e,{title:l()(L.FormattedMessage,{defaultMessage:"Checked",id:"database.filterValue.checkboxType.checked.title"}),isTokenTitle:!0,checkState:!0===s})),action:()=>{this.updateValue({type:"exact",value:!0})}}]}],store:this.stores.menuListStore,onAccept:this.props.onClose}),o.isMobile&&this.renderClearSection(e))}renderRelationRequest(e){const t=this.stores.query.state,{currentSpaceStore:o}=$.default.state,n=this.getFilterAppliedPropertySchema();if(!n||!(0,h.p_)(n)||!o)return;const i=o.id,r=(0,h.F0)(n);return r?l()(ye.Z,{request:{query:t,spaceId:i,collectionId:r},performRequest:this.getRelationAutocompleteResults,render:(t,o)=>this.renderRelationMenu(e,t,o)}):void 0}renderRelationMenu(e,t,o){const{intl:n}=this.props,{device:r}=this.environment,s=this.stores.query.state,d=this.getFilterAppliedPropertySchema();if(!d||!(0,h.p_)(d))return;const c=(0,h.F0)(d);if(!c)return;const u=(0,m.vR)(e)?(0,m.YO)(e):[],p=Z.oA(u.map((e=>{if(!e.value)return;const t={format:r.isMobile?v.l.Large:v.l.Small,shouldWrap:!1,showRemoveButton:!0,isSingle:!1,shouldShrink:!0,onClickRemove:()=>{const t=Z.zu(u,e);this.updateValue(t)}},o=e.type;if("exact"===o)return a.createElement(Ie.Z,i()({key:e.value,blockId:e.value,parentStore:this.props.parentStore},t));if("relative"===o){var n;const{appConfigUri:o}=this.getRelatedCollectionPartial.state;if(!o)return;return a.createElement(Ve.Z,i()({value:null===(n=T.qB[o])||void 0===n||null===(n=n[e.value.variable])||void 0===n?void 0:n.formattedMessage,backgroundColor:"transparent",showFullValueTooltip:!0},t))}(0,B.t1)(o)}))),g=l()(Ee.Z,{focus:!r.isMobile||void 0,focusAfterAnimation:!0,format:Ee.Z.Format.FilterValue,tokens:p,placeholder:n.formatMessage({defaultMessage:"Search for one or more pages…",id:"database.filterValue.relationType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=u.slice(0,u.length-1);this.updateValue(e)},onClearButtonClick:()=>{var e,t;this.updateValue([]),null===(e=(t=this.props).onClose)||void 0===e||e.call(t)},value:this.stores.query.state,onChange:e=>{this.updateInputValue(e.target.value)},dontShowBorderBottom:r.isAndroid,style:{maxHeight:"20vh",overflowY:"auto"},showClearButton:!0}),f=l()(Ce.Z,{desktopStyle:{paddingBottom:0}},void 0,!r.isMobile&&this.renderDesktopTopActions(),(0,m.vR)(e)&&g);let y;y=r.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose,header:f}:{menuType:K.og.Popup,maxHeight:Be,width:260,header:f,disableHeaderBorder:!0};const C=this.getTemplatePageStore();o&&!s&&C&&c&&C.getParentCollectionId()===c&&(o=Z.jj([C.id,...o]));let S=[];if(o){const e=this.getExactRelationMenuItems(o,u);S=((0,m.a_)(this.props.propertyFilter.filter)?[]:this.getRelativeRelationMenuItems(s,u)).concat(e)}return a.createElement(pe.Z,y,(0,m.vR)(e)&&a.createElement(a.Fragment,null,t&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.filterValue.relationType.searchRelationPropertyMenuItem.errorMessage"})})),0===S.length&&o&&!t&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.relationType.noResults.message"})})),!o&&!t&&l()(Ce.Z,{},void 0,l()(Te.Z,{})),S.length>0&&l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:[{key:"results",render:e=>a.createElement(Ce.Z,e),items:S}],store:this.stores.menuListStore,onAccept:()=>{this.updateInputValue("")}})))}renderDateMenu(e){const{context:t}=this.props,{device:o}=this.environment;let n;return n=o.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose}:{menuType:K.og.Popup,maxHeight:Be},a.createElement(pe.Z,n,t===Pe.PropertyFilter&&!o.isMobile&&l()(Ce.Z,{desktopStyle:{paddingBottom:0}},void 0,this.renderDesktopTopActions()),(0,m.vR)(e)?(0,m.TQ)(e)?this.renderDateRangePicker(e):this.renderDatePicker(e):void 0)}renderDateRangePicker(e){const t=this.getFilterAppliedPropertySchema();if(!t)return;let o;if((0,m.TQ)(e)&&"exact"===e.value.type&&e.value.value){const t=e.value.value;o={starting:t.start_date?{type:"date",start_date:t.start_date}:void 0,ending:t.end_date?{type:"date",start_date:t.end_date}:void 0}}else o=(0,m.TQ)(e)&&"relative"===e.value.type?e.value:{starting:void 0,ending:void 0};const n={disableMenuWrap:!0,title:t.name,value:o,onUpdate:e=>{var t,n;if(e.error)return;const i={...o,...e.value},r=null===(t=i.starting)||void 0===t?void 0:t.start_date,l=null===(n=i.ending)||void 0===n?void 0:n.start_date,a={operator:"date_is_within",value:{type:"exact",value:r||l?{type:"daterange",start_date:r,end_date:l}:void 0}};this.updateFilter(a)},allowRelativeRangeFilter:this.props.allowRelativeDateFilter,relativeRangePopupStore:this.stores.dateRangeFilterPopupStore,onUpdateRelativeFilter:t=>{const o={...e,value:t};this.updateFilter(o)}};return a.createElement(a.Fragment,null,l()(Ce.Z,{},void 0,a.createElement(Fe.Z,n)))}renderDateInput(e,t){return a.createElement(ke.Z,i()({},t,{placeholder:U.default.formatMessage(Ae.startingMessage),focused:"exact"===e.value.type,value:e.value,onUpdate:t=>{var o;if(t.error)return;const n=null===(o=t.value)||void 0===o?void 0:o.start_date,i={...e,value:{type:"exact",value:n?{type:"date",start_date:n}:void 0}};this.updateFilter(i)},inputRight:this.props.allowRelativeDateFilter&&l()(se.Z,{icon:b.i,iconStyle:{width:12},style:{...!this.environment.device.isMobile&&{height:20,width:20},color:this.theme.mediumIconColor},onClick:()=>{this.stores.dateFilterPopupStore.setState({open:!0})}}),hideClearButton:"relative"===e.value.type||void 0,isRightLastElementOfInput:!0}))}renderDatePicker(e){if(!(0,m.vR)(e))return;const t="exact"===e.value.type?e.value.value:(0,C.Id)(e.value);return!t||(0,y.J_)(t)?a.createElement(a.Fragment,null,l()(Ce.Z,{},void 0,l()(we.Z,{type:"date",filterValue:e.value,onUpdate:t=>{const o={...e,value:t};this.updateFilter(o)},renderOrigin:t=>this.renderDateInput(e,t),disabled:"exact"===e.value.type&&this.props.allowRelativeDateFilter,buttonPopupStore:this.stores.dateFilterPopupStore})),l()(Ce.Z,{style:{padding:"0px 14px 14px 14px"}},void 0,l()(Ze.Z,{firstDayOfWeek:O.AK.state,value:t?C.OQ.notionDateToLuxon(t).toMillis():Date.now(),onChange:e=>{const t=(0,C.hT)(e,(0,M.r)());this.updateValue({type:"exact",value:t})}}),"relative"===e.value.type&&l()(xe.Z,{isSmall:!0,style:{marginLeft:4,marginTop:4}},void 0,l()(L.FormattedMessage,{id:"collectionFilterMenu.dateFilter.relativeDateFilter.description",defaultMessage:"Filter will update with the current date"})))):void 0}renderVerificationMenu(e){const{device:t}=this.environment,{context:o}=this.props,n=(0,m.vR)(e)?(0,m.fl)(e):[],r=n.map((e=>{let{value:t}=e;return t})),s=_.zz.map((e=>{const t=r.includes(e);return{key:e,render:o=>a.createElement(re.Z,i()({icon:l()(ae.Z,{checked:t,size:14,style:{fill:this.theme.regularIconColor,pointerEvents:"none"}}),title:(0,H.cq)({type:"exact",value:e})},o)),action:()=>{if(t)this.updateValue(n.filter((t=>{let{value:o}=t;return o!==e})));else{const t={type:"exact",value:e};this.updateValue([...n,t])}}}}));let d;return d=t.isMobile?{menuType:K.og.Modal,title:this.renderMobileMenuTitle(),left:this.renderMobileMoreActions(),right:l()(ge.DoneMenuText,{}),onClickRight:this.props.onClose}:{menuType:K.og.Popup,maxHeight:Be,width:220,footer:this.renderClearSection(e)},a.createElement(pe.Z,d,o===Pe.PropertyFilter&&l()(Ce.Z,{},void 0,!t.isMobile&&this.renderDesktopTopActions()),l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:[{key:"select",render:e=>a.createElement(Ce.Z,e),items:s}],store:this.stores.menuListStore}))}renderNumberOperator(e){return l()("span",{style:{color:this.theme.lightTextColor}},void 0,(0,H.WC)(e.operator).toLocaleLowerCase())}renderMeMessage(){return l()(L.FormattedMessage,{defaultMessage:"Me",id:"database.filterValue.personType.firstPersonPropertyValue.title"})}renderClearSection(e){if(!(0,m.yI)(e.value))return l()(Ce.Z,{topBorder:!0},void 0,l()(re.Z,{focused:!1,title:l()(L.FormattedMessage,{defaultMessage:"Clear",id:"database.filterValue.clear.message"}),onClick:()=>{var e,t;this.updateValue({type:"exact",value:void 0}),null===(e=(t=this.props).onClose)||void 0===e||e.call(t)}}))}renderDesktopTopActions(){const e=this.props,{propertyFilter:t,schema:o,context:n}=e;if(n!==Pe.PropertyFilter)return;const{property:i}=t,r=o[i];return r?l()("div",{style:{display:"flex",color:this.theme.lightTextColor,fontSize:12,marginBottom:6}},void 0,l()("span",{style:{flexShrink:1,marginLeft:8,...D.Z.textOverflowStyle}},void 0,this.renderPropertyName(r)),(0,m.a_)(t.filter)&&this.renderRollupOperatorSelect(),this.renderOperatorSelect(),l()("div",{style:{flexGrow:1}}),this.renderMoreActions()):void 0}renderPropertyName(e){return(0,m.c3)(e)?this.renderDateFilterModeSelect(e):e.name}renderDateFilterModeSelect(e){const{propertyFilter:t}=this.props,{device:o}=this.environment,n=t.filter;if(!(0,m.vR)(n)||!(0,m.gE)(n))return e.name;const r={width:190,items:m.T,selectedItem:(0,m.TX)(n),getKey:e=>e,onSelect:e=>{const t={...n,use_end:(0,m.UG)(e)};this.updateFilter(t)},renderItem:e=>l()(Me.Z,{renderTooltip:()=>(0,H._T)(e.value),render:t=>a.createElement(re.Z,i()({title:(0,H.IF)(e.value)},(0,z.Z)(e,t))),placement:Me.Z.Placement.Right,textWrap:!0,style:{width:"260px"}}),renderOrigin:e=>a.createElement(ie.Z,i()({},e,{style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:3,flexShrink:0}}),l()("div",{style:{display:"flex",alignItems:"center",...!o.isMobile&&{color:this.theme.mediumTextColor,fill:this.theme.lightIconColor,fontWeight:500,fontSize:12}}},void 0,l()("span",{style:{marginRight:4}},void 0,(0,H.IF)((0,m.TX)(n))),l()(_e,{})))};return a.createElement(Se.Z,i()({},r,{mobileActionSheet:!0}))}renderMobileMenuTitle(){const{propertyFilter:e,schema:t,context:o}=this.props,{property:n}=e,i=t[n];if(i)return o===Pe.PropertyFilter?l()("div",{style:{display:"flex"}},void 0,l()("span",{style:{fontWeight:D.Z.fontWeight.medium,flexShrink:1,marginLeft:8,maxWidth:150,...D.Z.textOverflowStyle}},void 0,this.renderPropertyName(i)),(0,m.a_)(e.filter)&&this.renderRollupOperatorSelect(),this.renderOperatorSelect()):i.name}renderMobileMoreActions(){const{context:e}=this.props;if(e===Pe.PropertyFilter)return this.renderMoreActions()}renderRollupOperatorSelect(){const{propertyFilter:e,intl:t,onChange:o}=this.props,{filter:n}=e,{device:r}=this.environment;if(!(0,m.a_)(n))return;const s={width:190,items:m.Rf,getKey:e=>e,selectedItem:n.operator,onSelect:e=>{null==o||o({...n,operator:e})},renderItem:e=>a.createElement(re.Z,i()({title:(0,H.SW)(e.value,t)},e)),renderOrigin:e=>a.createElement(ie.Z,i()({},e,{style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:3,flexShrink:0}}),l()("div",{style:{display:"flex",alignItems:"center",...!r.isMobile&&{color:this.theme.lightTextColor,fontSize:12}}},void 0,l()("span",{style:{marginRight:4}},void 0,(0,H.SW)(n.operator,t).toLocaleLowerCase()),l()(_e,{})))};return a.createElement(Se.Z,i()({},s,{mobileActionSheet:!0}))}renderOperatorSelect(){const{propertyFilter:e,schema:t,parentStore:o}=this.props,{property:n}=e,{device:r}=this.environment,s=(0,m.a_)(e.filter)?e.filter.subfilter:e.filter;if((0,m.a_)(s))return;const d=(0,m.fI)({schema:t,property:n,getRecordModel:o.getRecordModel});let c=(0,m.xm)(d);"status"===d&&(c=c.filter((e=>!(0,m._N)(e))));const u={width:190,items:c,selectedItem:s.operator,getKey:e=>e,onSelect:e=>{const t=(0,H.li)(d,s,e,"propertyFilter");this.updateFilter(t)},renderItem:e=>a.createElement(re.Z,i()({title:(0,H.WC)(e.value)},e)),renderOrigin:e=>a.createElement(ie.Z,i()({},e,{style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:3,flexShrink:0}}),l()("div",{style:{display:"flex",alignItems:"center",...!r.isMobile&&{color:this.theme.mediumTextColor,fill:this.theme.lightIconColor,fontWeight:500,fontSize:12}}},void 0,l()("span",{style:{marginRight:4}},void 0,(0,H.WC)(s.operator).toLocaleLowerCase()),l()(_e,{})))};return a.createElement(Se.Z,i()({},u,{mobileActionSheet:!0}))}renderMoreActions(){const{device:e}=this.environment;return l()(le.ZP,{popupType:this.environment.device.isMobile?ve.kQ.SlideUp:ve.kQ.Popup,render:this.renderMoreActionsPopup,renderOrigin:t=>a.createElement(se.Z,i()({icon:x.o,style:{...!e.isMobile&&{height:20,width:20,marginRight:8,marginTop:-2}}},t)),style:{width:240},originGap:2,placementToOrigin:le.pO.Right,alignmentToOrigin:le.vR.Start})}renderRemoveMenuItem(e){return l()(re.Z,{focused:!1,title:l()(L.FormattedMessage,{defaultMessage:"Remove filter",id:"database.filterValue.removeFilter.message"}),onClick:()=>{e()}})}getTemplatePageStore(){const{collectionViewId:e}=this.props;if(!e)return;const t=ee.Xr.createChildStore(this.props.parentStore,{table:V.n,id:e}).getParentBlockStore();if(!t)return;const o=(0,Y.Dg)(t,1);return o&&o.isTemplate()?o:void 0}getExactRelationMenuItems(e,t){return e.map((e=>{const o={type:"exact",value:e},n=this.getCheckedState(t,o),r=ee.G.createChildStore(this.props.parentStore,{table:I.iU,id:e});return{key:e,action:this.getMenuListItemAction(n,t,o),render:e=>a.createElement(fe.Z,i()({store:r,checkState:n,hidePath:!0},e))}}))}getRelativeRelationMenuItems(e,t){const{appConfigUri:o,schema:n}=this.getRelatedCollectionPartial.state;if(!o||!(0,G.Sh)(n,o))return[];const r=T.qB[o],l=Object.keys(r);return Z.oA(l.map((o=>{if(!e||o.includes(e)){const e={type:"relative",value:{type:"builtin",variable:o}},n=this.getCheckedState(t,e);return{key:o,render:e=>a.createElement(re.Z,i()({},e,{title:r[o].formattedMessage,checkState:n})),action:this.getMenuListItemAction(n,t,e)}}})))}updateValue(e){const{onChange:t,propertyFilter:o}=this.props,{filter:n}=o;(0,m.a_)(n)?null==t||t({...n,subfilter:{...n.subfilter,value:this.normalizeValue(e)}}):null==t||t({...n,value:this.normalizeValue(e)})}updateFilter(e){const{onChange:t,propertyFilter:o}=this.props,{filter:n}=o;(0,m.a_)(n)?null==t||t({...n,subfilter:e}):null==t||t(e)}getFilterAppliedPropertySchema(){const{schema:e,propertyFilter:t,parentStore:o}=this.props,{property:n}=t,i=e[n];if(!(i&&"rollup"===i.type&&i.relation_property&&i.target_property))return i;{const t=e[i.relation_property];if(t&&(0,h.p_)(t)){const e=(0,h.j0)(t);if(e){const t=o.getRecordModel(e);if(!t)return;const n=t.getNormalizedSchema();if(n){const e=n[i.target_property];if(e&&"rollup"!==e.type)return e}}}}}normalizeValue(e){return Array.isArray(e)?0===e.length?{type:"exact",value:void 0}:1===e.length?e[0]:e:e}updateInputValue(e){this.stores.query.setState(e),this.stores.menuListStore.setState({focus:{section:0,indexLocal:0,indexGlobal:0}})}getCheckedState(e,t){return Boolean(e.find((e=>Z.Xy(e,t))))}getMenuListItemAction(e,t,o){return()=>{const n=e?t.filter((e=>!Z.Xy(e,o))):[...t,o];this.updateValue(n)}}}function _e(){window.__c={n:"OperatorChevron"};const{device:e}=(0,d.O7)();return(0,b.i)({width:10,height:10,...e.isMobile&&{marginTop:2}})}function Le(e){window.__c={n:"LocationFilterValueMenu"};const{filter:t,parentStore:o,updateValue:n,onClose:r,desktopTopActions:s,mobileMenuTitle:u,mobileMoreActions:p}=e,h=(0,d.O7)(),g=(0,a.useMemo)((()=>(0,m.vR)(t)?(0,m.u0)(t):[]),[t]),y=(0,d.Fy)(),C=(0,c.VK)((()=>Z.oA(g.map((e=>{if(!e.value)return;const t=ee.NW.createChildStore(o,{table:"collection",id:e.value});return l()(Ve.Z,{format:y.isMobile?v.l.Large:v.l.Small,value:l()(te.Z,{collectionStore:t}),onClickRemove:()=>{const t=Z.zu(g,e);n(t)},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showFullValueTooltip:!0},e.value)})))),[g,y.isMobile,o,n]),[M,b]=(0,a.useState)(""),x=(0,L.useIntl)(),k=(0,c.VK)((()=>{var e;return null===(e=$.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),{status:w,typedCollections:F}=function(e){const{spaceId:t,environment:o,parentStore:n,databaseType:i}=e,[{value:r,status:l}]=(0,q.r5)((async()=>j.rG({environment:o,spaceId:t,databaseType:i,parentStore:n})),[t,i,o,n]);return{status:l,typedCollections:r}}({spaceId:k,environment:h,databaseType:f.iS,parentStore:o}),T=(0,c.qz)(void 0,J.Z),I=(0,a.useCallback)(((e,t)=>{const o=Boolean(t.find((t=>"exact"===t.type&&t.value===e.id)));return{key:e.id,render:t=>a.createElement(re.Z,i()({},t,{title:l()(te.Z,{collectionStore:e}),isTokenTitle:!0,checkState:o})),action:()=>{const o=Z.ln(t,[{type:"exact",value:e.id}],(e=>e.value));n(o)}}}),[n]),R=(0,c.VK)((()=>{const e=[],t=(0,S.ZP)(M,F||[],(e=>A.QaF(e.getName()??[]))),n={},r=[];for(const o of t){const e=Y.VP(o);e?n[e.id]=[...n[e.id]??[],o]:r.push(o)}for(const[l,s]of Object.entries(n)){const t=ee.zX.createChildStore(o,{table:E.e0,id:l});e.push({key:l,items:s.map((e=>I(e,g))),render:e=>a.createElement(Ce.Z,i()({topBorder:!0},e,{title:a.createElement(a.Fragment,null,t.getName()??"")}))})}return e.push({key:"private",items:r.map((e=>I(e,g))),render:e=>a.createElement(Ce.Z,i()({topBorder:!0},e,{title:l()(L.FormattedMessage,{id:"collectionFilterValueMenu.privateLocationSection",defaultMessage:"Private"})}))}),e}),[g,o,M,I,F]),V=l()(Ee.Z,{focus:!y.isMobile||void 0,focusAfterAnimation:!0,format:Ee.Z.Format.FilterValue,tokens:C,placeholder:x.formatMessage({defaultMessage:"Search for one or more locations",id:"database.filterValue.locationType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=g.slice(0,g.length-1);n(e)},onClearButtonClick:()=>{n([]),null==r||r()},value:M,onChange:e=>{b(e.target.value)},dontShowBorderBottom:y.isAndroid,showClearButton:!0,style:{maxHeight:"20vh",overflowY:"auto"}}),P=l()(Ce.Z,{desktopStyle:{paddingBottom:0}},void 0,!y.isMobile&&s,V);let B;return B=y.isMobile?{menuType:K.og.Modal,title:u,left:p,right:l()(ge.DoneMenuText,{}),onClickRight:r,header:P}:{menuType:K.og.Popup,maxHeight:Be,width:260,header:P,disableHeaderBorder:!0},a.createElement(pe.Z,B,(0,m.vR)(t)&&a.createElement(a.Fragment,null,("pending"===w||"idle"===w)&&l()(Ce.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 0px"}},void 0,l()(ue.Z,{})),"rejected"===w&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.filterValue.personType.searchPersonPropertyMenuItem.errorMessage"})})),"resolved"===w&&a.createElement(a.Fragment,null,0===(null==F?void 0:F.length)&&l()(Ce.Z,{},void 0,l()(he.Z,{title:l()(L.FormattedMessage,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})),F&&F.length>0&&l()(me.Z,{type:me.i.Vertical,initialFocus:0,sections:R,store:T,onAccept:()=>{b("")}}))))}De.displayName="CollectionFilterValueMenu";const We=(0,L.injectIntl)(De);function Oe(e){const{propertySchema:t,statusFilterValues:o,updateValue:n,isMobile:r,styles:s}=e,d=t.groups??[],c=t.options??[],u=[];for(const p of d){const e=()=>{const e=(0,N.CN)(d,c,o,{type:"is_group",value:p.name});e&&n(e)},t=(0,N.rQ)({group:p,options:c,filterValues:o}),m=c.filter((e=>{var t;return null===(t=p.optionIds)||void 0===t?void 0:t.includes(e.id)})),h=[];for(const u of m){const e=()=>{const e=(0,N.CN)(d,c,o,{type:"is_option",value:u.value});e&&n(e)};h.push({key:`option-${u.id}`,action:e,render:o=>a.createElement(re.Z,i()({},o,{icon:l()(ae.Z,{checked:t.optionCheckedInfo.get(u.id)??!1,size:14,onClick:e,style:s.checkboxIcon}),title:l()(Re.F,{format:r?v.l.Large:v.l.Medium,isSingle:!0,value:u.value,color:u.color,showRemoveButton:!1,groupColor:p.color}),style:{paddingLeft:12}}))})}u.push({key:`group-${p.id}`,action:e,render:o=>a.createElement(re.Z,i()({},o,{icon:l()(ae.Z,{checked:t.groupCheckState,size:14,onClick:e,style:s.checkboxIcon}),title:l()(ne.r_,{group:p})}))},...h)}return u}function Ne(e){const{query:t,propertySchema:o,selectedValues:n,updateValue:r,isMobile:s,styles:d}=e,c=o.options||[];return(t?(0,S.ZP)(t,c,(e=>e.value)):c).map((e=>{const t=Boolean(n.find((t=>t.value===e.value)));return{key:e.value,render:o=>a.createElement(re.Z,i()({icon:l()(ae.Z,{onClick:o.onClick,checked:t,size:14,style:d.checkboxIcon}),title:l()(Re.a,{format:s?v.l.Large:v.l.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1}),isTokenTitle:!0},o)),action:()=>{const o=t?n.filter((t=>{let{value:o}=t;return o!==e.value})):[...n,{type:"exact",value:e.value}];r(o)}}}))}},68834:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(23174),i=o.n(n),r=(o(67294),o(86628)),l=o(31278),a=o(76798);const s=function(e){window.__c={n:"CollectionLocationToken"};const{collectionStore:t}=e,o=(0,r.VK)((()=>t.getIcon()),[t]);return i()("div",{style:{display:"flex",columnGap:4,alignItems:"center"}},void 0,i()(l.Z,{disabled:!0,icon:o,isEmptyPage:!1,size:20}),i()(a.Z,{store:t,style:{maxWidth:180}}))}},42917:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(67294),i=o(480),r=o(24405),l=o(8848),a=o(5257),s=o(56666),d=o(25130),c=o(52275);const u=function(e){window.__c={n:"CollectionSettingsMenuItem"};const{icon:t,iconStyle:o,title:u,caption:p,right:m,rightStyle:h,isRed:g,isGray:v,isOrange:f,isPadded:y,onClick:C,onMouseDown:S,onMouseEnter:M,onMouseLeave:b,disabled:x,showChevron:k,chevronStyle:w,rotateChevron:Z,showDragHandle:F,focused:T,textWrapperStyle:I,shouldWrapCaption:R,desktopIconStyle:V}=e,E=(0,i.O7)(),{isMobile:P}=E.device,A=(0,r.yK)((e=>({style:{color:v?e.mediumTextColor:f?"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]:e.regularTextColor,fill:v?e.mediumIconColor:f?"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]:e.regularIconColor,opacity:x?.4:void 0},redHoveredStyle:{color:l.ZP.red,fill:l.ZP.red},leftIconStyle:{width:24,height:y?24:P?18:16,marginRight:-2,...t===s.o&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:x?e.regularTextColor:e.lightTextColor,fill:x?e.regularIconColor:e.lightIconColor,flexShrink:0,...h},rightIconStyle:{width:12,fill:e.lightIconColor,marginLeft:6,transition:"transform 200ms ease-in-out",...w},rightIconRotatedStyle:{transform:"rotate(90deg)"}})),[v,f,x,o,y,P,t,w,h]),[B,D]=(0,d.o$)(),_=(0,d.nq)(D);return n.createElement(c.Z,{ref:B,icon:null==t?void 0:t(A.leftIconStyle),focused:T||!1,disabled:x,title:u,caption:p,shouldWrapCaption:R,desktopTitleStyle:{flexGrow:1,flexShrink:1},showDragHandle:F,buttonStyle:A.style,rightStyle:A.rightStyle,hoveredStyle:g?A.redHoveredStyle:void 0,ignoreLocalHoverState:!!x||void 0,right:n.createElement(n.Fragment,null,m,!x&&k&&(0,a.o)({...A.rightIconStyle,...Z&&A.rightIconRotatedStyle})),onClick:C,onMouseDown:S,onMouseEnter:M,onMouseLeave:b,textWrapperStyle:I,desktopIconStyle:V,disallowTabbing:!_})}},13709:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(23174),i=o.n(n),r=o(10434),l=o.n(r),a=o(67294),s=o(480),d=o(86628),c=o(92785),u=o(72126),p=o(91155),m=o(87279),h=o(61766),g=o(42917),v=o(52275),f=o(31945),y=o(78140),C=o(32163),S=o(53437),M=o(72495);const b=function(e){let{icon:t,title:o,selectedKey:n,options:r,onChange:b,onClick:x,popupStyle:k,menuItemOptionsStyle:w,disabled:Z,collectionContextStore:F,openButtonPopup:T}=e;window.__c={n:"CollectionSettingsPickListMenuItem"};const I=(0,s.Fy)(),R=r.find((e=>u.Xy(e.key,n))),V=(0,d.qz)(void 0,h.Z),E=(0,d.Kw)(V);return(0,a.useEffect)((()=>{F&&T&&(V.setState({...V.state,open:T}),F.settingsStore.setState({...F.settingsStore.state,openButtonPopup:void 0})),R||c.log({level:"error",from:"CollectionSettingsPickListMenuItem",type:"InvalidSelectedItem",error:(0,p.Ui)("Selected key is invalid.")})})),i()(f.ZP,{popupType:I.isMobile?S.kQ.SlideUp:S.kQ.Popup,alignmentToOrigin:f.vR.End,placementToOrigin:f.pO.Bottom,style:k,originGap:0,buttonPopupStore:V,disabled:Z,onClick:x,renderOrigin:e=>a.createElement(g.Z,l()({title:o,showChevron:!0,right:null==R?void 0:R.title,rotateChevron:E.open,disabled:Z,icon:t},e)),render:e=>{let t;t=I.isMobile?{menuType:m.og.ActionSheet}:{menuType:m.og.Popup,width:250};const o=u.oA(r.map(((t,o)=>({key:o,render:e=>a.createElement(v.Z,l()({},e,{disabled:!1,title:t.title,icon:t.icon,caption:t.caption,body:t.body,style:w,checkState:u.Xy(t.key,n)})),action:()=>{b(t.key),e.close()}}))));return a.createElement(y.Z,t,i()(C.Z,{type:C.i.Vertical,sections:[{key:0,render:e=>a.createElement(M.Z,l()({enableActionSheetTitle:!0},e)),items:o}],initialFocus:0}))}})}},63743:(e,t,o)=>{o.d(t,{R1:()=>H,ep:()=>U,ZP:()=>K});var n=o(23174),i=o.n(n),r=o(10434),l=o.n(r),a=o(67294),s=o(83355),d=o(49085),c=o(76205);const u=(0,o(45238).I)("copyPadded",{viewBox:"0 0 24 24",svg:i()("path",{d:"M4.89062 18.5107C4.89062 19.9873 5.64941 20.7529 7.1123 20.7529H13.5107C14.9736 20.7529 15.7256 19.9805 15.7256 18.5107V17.2461H16.8877C18.3506 17.2461 19.1094 16.4805 19.1094 15.0039V9.58984C19.1094 8.69434 18.9248 8.12012 18.3848 7.56641L14.9736 4.09375C14.4609 3.56738 13.8525 3.36914 13.0664 3.36914H10.4893C9.0332 3.36914 8.26758 4.13477 8.26758 5.61133V6.86914H7.1123C5.64941 6.86914 4.89062 7.6416 4.89062 9.11133V18.5107ZM15.042 11.3262L11.3369 7.55957C10.8105 7.02637 10.3662 6.88281 9.60742 6.87598V5.68652C9.60742 5.05762 9.94238 4.70898 10.6055 4.70898H13.4629V7.97656C13.4629 8.82422 13.9141 9.26172 14.7549 9.26172H17.7695V14.9219C17.7695 15.5576 17.4414 15.9062 16.7715 15.9062H15.7256V13.2539C15.7256 12.3311 15.6162 11.9072 15.042 11.3262ZM14.584 7.80566V5.2627L17.4209 8.14062H14.9189C14.6865 8.14062 14.584 8.04492 14.584 7.80566ZM6.23047 18.4287V9.19336C6.23047 8.56445 6.55859 8.20898 7.22168 8.20898H9.32031V11.9551C9.32031 12.9326 9.80566 13.4111 10.7764 13.4111H14.3857V18.4287C14.3857 19.0645 14.0576 19.4131 13.3945 19.4131H7.22168C6.55859 19.4131 6.23047 19.0645 6.23047 18.4287ZM10.9062 12.2285C10.626 12.2285 10.5029 12.1055 10.5029 11.8252V8.46875L14.2012 12.2285H10.9062Z"})});var p=o(56666),m=o(21197),h=o(38715),g=o(55863),v=o(72126),f=o(97880),y=o(82990),C=o(5366),S=o(8406),M=o(40778),b=o(5149),x=o(39699),k=o(93959),w=o(97004),Z=o(87279),F=o(98742),T=o(61766),I=o(42917),R=o(23063),V=o(52275),E=o(31945),P=o(73063),A=o(78140),B=o(28992),D=o(32163),_=o(89728),L=o(53437),W=o(72495),O=o(26388),N=o(95691);let H=function(e){return e[e.FilterBar=0]="FilterBar",e[e.SettingsFilters=1]="SettingsFilters",e[e.SettingsSort=2]="SettingsSort",e}({});class G extends s.Z{constructor(){super(...arguments),this.storeTypes={showMore:d.default.createClass(!1),moreActionsButtonPopupStore:T.Z},this.renderSaveActionsPopup=e=>{const{device:t}=this.environment;let o;o=t.isMobile?{menuType:Z.og.ActionSheet}:{menuType:Z.og.Popup,width:250};const n=v.oA([t.isPhone&&{key:"reset",render:e=>a.createElement(V.Z,l()({},e,{disabled:!1,title:this.renderResetMessage()})),action:()=>{this.handleReset(e)}},{key:"newView",render:e=>a.createElement(V.Z,l()({},e,{disabled:!1,title:this.renderSaveAsNewViewMessage()})),action:()=>{this.handleSaveAsNewViewClick(e)}},this.shouldShowMergeIntoAdvancedFilter()&&{key:"merge",render:e=>i()(O.Z,{placement:O.Z.Placement.Left,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>i()("div",{},void 0,i()(U,{})),render:t=>a.createElement(V.Z,l()({},(0,F.Z)(e,t),{disabled:!1,title:this.renderMergeIntoAdvancedFilterMessage()}))}),action:()=>{this.handleMergeIntoCombinatorFilter(e)}}]);return a.createElement(A.Z,o,i()(D.Z,{type:D.i.Vertical,sections:[{key:0,render:e=>a.createElement(W.Z,l()({enableActionSheetTitle:!0},e)),items:n}],initialFocus:0}))},this.handleSaveInCurrentViewClick=()=>{const{collectionContextStore:e,context:t}=this.props,o=e.collectionViewStore();o&&(S.wd({environment:this.environment,collectionContextStore:e,action:"click_save_control_save_in_current_view"}),x.createAndCommit({userAction:"CollectionSettingsSaveControl.handleSaveInCurrentViewClick",environment:this.environment,perform:n=>{M.Ys({environment:this.environment,type:t===H.FilterBar?M.mO.All:t===H.SettingsFilters?M.mO.Filters:M.mO.Sorts,collectionContextStore:e,targetCollectionView:o,transaction:n})}}),M.RD({environment:this.environment,seen:!0}))},this.handleSaveAsNewViewClick=e=>{const{collectionContextStore:t,intl:o}=this.props;S.wd({environment:this.environment,collectionContextStore:t,action:"click_save_control_save_as_new_view"}),x.createAndCommit({userAction:"CollectionSettingsSaveControl.handleSaveAsNewViewClick",environment:this.environment,perform:e=>{M.k7({environment:this.environment,collectionContextStore:t,transaction:e,intl:o})}}),null==e||e.close()},this.handleMergeIntoCombinatorFilter=e=>{const{collectionContextStore:t,context:o}=this.props,n=(0,w.Pi)(t),i=t.currentPropertyFiltersStore.state.filter((e=>(0,k.EE)(e.id)));M.iU({environment:this.environment,collectionContextStore:t,temporaryState:{...t.temporaryState.state,propertyFilters:{value:i},combinatorFilter:{value:n}}});const r=o===H.FilterBar?t.filterBarCombinatorFilterSettingsState:t.filterOptionsCombinatorFilterSettingsState;b.wl({collectionSettingsStore:r,item:{type:"filter"}}),S.wd({environment:this.environment,collectionContextStore:t,action:"merge_filter_into_combinator"}),null==e||e.close()},this.handleReset=e=>{const{collectionContextStore:t,context:o}=this.props;S.wd({environment:this.environment,collectionContextStore:t,action:"click_save_control_reset"});const n=t.temporaryState.state,i=o===H.SettingsFilters?{...n,propertyFilters:void 0,combinatorFilter:void 0}:o===H.SettingsSort?{...n,sorts:void 0}:void 0;M._x({environment:this.environment,collectionContextStore:t,temporaryState:i}),M.RD({environment:this.environment,seen:!0}),null==e||e.close()},this.handleMoreOptionsClick=()=>{const{collectionContextStore:e}=this.props;S.wd({environment:this.environment,collectionContextStore:e,action:"click_save_control_more_options_button"}),this.stores.showMore.setState(!0)},this.handleSaveActionsPopupClick=()=>{const{collectionContextStore:e}=this.props;S.wd({environment:this.environment,collectionContextStore:e,action:"click_save_control_more_options_popup"}),M.RD({environment:this.environment,seen:!0})},this.changeCount=this.createComputedStore((()=>{const{collectionContextStore:e,context:t}=this.props,o=e.localStateDiffStore.state;return t===H.SettingsFilters?(o.filters.moved.length>0?1:0)+o.filters.added.length+o.filters.removed.length+o.filters.updated.length:0}))}renderComponent(){const{context:e,collectionContextStore:t,showHoverActionsStore:o}=this.props,{showMore:n}=this.stores,{device:r}=this.environment,s=t.permissionScopes.state;if(e===H.FilterBar)return r.isPhone?s.canConfigureBlock?a.createElement(a.Fragment,null,i()(_.Z,{isOrange:!0,hovered:!0,style:{flexGrow:1,justifyContent:"center",height:32,marginRight:8,fontWeight:y.Z.fontWeight.semibold},onClick:this.handleSaveInCurrentViewClick},void 0,this.renderSaveMessage()),i()(E.ZP,{popupType:this.environment.device.isMobile?L.kQ.SlideUp:L.kQ.Popup,render:this.renderSaveActionsPopup,originGap:4,onClick:this.handleSaveActionsPopupClick,buttonPopupStore:this.stores.moreActionsButtonPopupStore,renderOrigin:e=>a.createElement(P.Z,l()({style:{width:32,height:32},iconStyle:{width:16},hovered:!0,icon:p.o},e))})):a.createElement(a.Fragment,null,i()(_.Z,{style:{flexGrow:1,justifyContent:"center",height:32,marginRight:8,fontWeight:y.Z.fontWeight.semibold},hovered:!0,isGray:!0,onClick:()=>this.handleReset()},void 0,this.renderResetMessage())):i()(R.Z,{isVisible:t.isFullScreen.state||!o||o.state,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:()=>i()("div",{style:{display:"flex",alignItems:"center"}},void 0,i()(_.Z,{isGray:!0,onClick:()=>this.handleReset(),style:{lineHeight:1.1,fontSize:r.isMobile?16:14}},void 0,this.renderResetMessage()),s.canConfigureBlock&&i()(E.ZP,{popupType:this.environment.device.isMobile?L.kQ.SlideUp:L.kQ.Popup,render:this.renderSaveActionsPopup,originGap:4,onClick:this.handleSaveActionsPopupClick,buttonPopupStore:this.stores.moreActionsButtonPopupStore,renderOrigin:e=>i()(N.Z,{title:this.renderSaveMessage(),color:"orange",onClick:this.handleSaveInCurrentViewClick,dropdownEvents:e,style:{marginLeft:6,marginRight:r.isMobile?8:void 0,fontSize:r.isMobile?16:14,...r.isMobile?{height:30}:null}})}))});if(e===H.SettingsFilters||e===H.SettingsSort){const t=e===H.SettingsFilters;return a.createElement(a.Fragment,null,n.state&&s.canConfigureBlock&&(r.isMobile?i()(B.Z,{style:{fontSize:12,color:this.theme.mediumTextColor},title:this.renderSaveExplanationMessage()}):i()("div",{style:{fontSize:12,color:this.theme.mediumTextColor,paddingLeft:14,paddingRight:14,paddingTop:8,paddingBottom:8,maxWidth:220}},void 0,this.renderSaveExplanationMessage())),s.canConfigureBlock&&i()(I.Z,{icon:h.N,isOrange:!0,title:this.renderSaveMessage(),onClick:this.handleSaveInCurrentViewClick}),i()(I.Z,{icon:g.s,isGray:!0,title:i()(C.FormattedMessage,t?{defaultMessage:"Reset filters",id:"database.viewSettings.filterAndSortSaveControl.resetFilters"}:{defaultMessage:"Reset sorts",id:"database.viewSettings.filterAndSortSaveControl.resetSorts"}),onClick:()=>this.handleReset()}),s.canConfigureBlock&&!n.state&&i()(I.Z,{icon:p.o,isGray:!0,title:i()(C.FormattedMessage,{defaultMessage:"More options",id:"database.viewSettings.filterAndSortSaveControl.more"}),onClick:this.handleMoreOptionsClick}),s.canConfigureBlock&&n.state&&a.createElement(a.Fragment,null,i()(I.Z,{icon:u,isPadded:!0,isGray:!0,title:this.renderSaveAsNewViewMessage(),onClick:()=>{this.handleSaveAsNewViewClick()}}),this.shouldShowMergeIntoAdvancedFilter()&&i()(O.Z,{placement:O.Z.Placement.Left,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>i()("div",{},void 0,i()(U,{})),render:e=>a.createElement(I.Z,l()({icon:m.Q,isGray:!0,title:this.renderMergeIntoAdvancedFilterMessage(),onClick:()=>{this.handleMergeIntoCombinatorFilter()}},e))})))}(0,f.t1)(e)}renderSaveExplanationMessage(){const{context:e}=this.props,t=e===H.SettingsFilters;return i()(C.FormattedMessage,t?{defaultMessage:"{count, plural, one {{count} filter changed from what other people see} other {{count} filters changed from what other people see}}",id:"database.viewSettings.filterAndSortSaveControl.filter.caption",values:{count:this.changeCount.state}}:{defaultMessage:"Sort has been changed from what other people see",id:"database.viewSettings.filterAndSortSaveControl.sort.caption"})}renderSaveAsNewViewMessage(){return i()(C.FormattedMessage,{defaultMessage:"Save as new view",id:"database.filterBar.changesControl.saveAsNewView.title"})}renderMergeIntoAdvancedFilterMessage(){return i()(C.FormattedMessage,{defaultMessage:"Merge into advanced filter",id:"database.filterBar.changesControl.mergeIntoAdvancedFilter.title"})}renderResetMessage(){return i()(C.FormattedMessage,{defaultMessage:"Reset",id:"database.filterBar.changesControl.reset.title"})}renderSaveMessage(){return i()(C.FormattedMessage,{defaultMessage:"Save for everyone",id:"database.filterBar.changesControl.saveForEveryone.title"})}shouldShowMergeIntoAdvancedFilter(){const{collectionContextStore:e,context:t}=this.props,o=e.currentPropertyFiltersStore.state;return(t===H.FilterBar||t===H.SettingsFilters)&&Boolean(o.find((e=>(0,c.aN)(e.filter))))}}function U(){return i()(C.FormattedMessage,{id:"database.filterValue.mergeIntoAdvancedFilter.tooltip",defaultMessage:"Use an advanced filter to group filter rules and use AND/OR conditions."})}G.displayName="CollectionSettingsSaveControl";const K=(0,C.injectIntl)(G)},50959:(e,t,o)=>{o.d(t,{r_:()=>C,ZA:()=>f});var n=o(23174),i=o.n(n),r=o(67294),l=o(24405),a=o(42613),s=o(16184),d=o(78807),c=o(45238);const u=(0,c.I)("statusInProgressGroup",{viewBox:"0 0 17 17",svg:i()("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.07031 11.4531L11.5938 8.80469C11.9297 8.60938 11.9219 8.125 11.5938 7.92969L7.07031 5.27344C6.71875 5.07031 6.26562 5.24219 6.26562 5.63281V11.0938C6.26562 11.4766 6.69531 11.6719 7.07031 11.4531Z"})}),p=(0,c.I)("statusTodoGroup",{viewBox:"0 0 17 17",svg:i()("path",{d:"M8.52344 1.85156C8.97656 1.85156 9.34375 1.49219 9.34375 1.05469C9.34375 0.609375 8.97656 0.234375 8.52344 0.234375C8.08594 0.234375 7.72656 0.609375 7.72656 1.05469C7.72656 1.48438 8.09375 1.85156 8.52344 1.85156ZM10.7969 2.21875C11.2422 2.21875 11.6094 1.85156 11.6094 1.41406C11.6094 0.960938 11.2422 0.601562 10.7969 0.601562C10.3516 0.601562 9.99219 0.960938 9.99219 1.41406C9.99219 1.85156 10.3516 2.21875 10.7969 2.21875ZM6.27344 2.21875C6.71094 2.21875 7.07812 1.85156 7.07812 1.41406C7.07812 0.960938 6.71094 0.601562 6.27344 0.601562C5.82812 0.601562 5.46094 0.960938 5.46094 1.41406C5.46094 1.85156 5.82812 2.21875 6.27344 2.21875ZM12.8359 3.25781C13.2812 3.25781 13.6484 2.89844 13.6484 2.45312C13.6484 2.00781 13.2812 1.64062 12.8359 1.64062C12.3984 1.64062 12.0312 2.00781 12.0312 2.45312C12.0312 2.89062 12.3984 3.25781 12.8359 3.25781ZM4.23438 3.25781C4.67188 3.25781 5.03906 2.89062 5.03906 2.45312C5.03906 2.00781 4.67969 1.64062 4.23438 1.64062C3.78906 1.64062 3.42188 2.00781 3.42188 2.45312C3.42188 2.89844 3.78906 3.25781 4.23438 3.25781ZM14.4609 4.88281C14.9062 4.88281 15.2734 4.51562 15.2734 4.07812C15.2734 3.63281 14.9062 3.26562 14.4609 3.26562C14.0234 3.26562 13.6562 3.63281 13.6562 4.07812C13.6562 4.51562 14.0234 4.88281 14.4609 4.88281ZM2.625 4.88281C3.0625 4.88281 3.42969 4.51562 3.42969 4.07812C3.42969 3.63281 3.0625 3.26562 2.625 3.26562C2.17969 3.26562 1.8125 3.63281 1.8125 4.07812C1.8125 4.51562 2.17969 4.88281 2.625 4.88281ZM15.4922 6.90625C15.9375 6.90625 16.3047 6.54688 16.3047 6.10156C16.3047 5.65625 15.9375 5.28906 15.4922 5.28906C15.0547 5.28906 14.6875 5.65625 14.6875 6.10156C14.6875 6.53906 15.0547 6.90625 15.4922 6.90625ZM1.59375 6.90625C2.02344 6.90625 2.39062 6.53906 2.39062 6.10156C2.39062 5.65625 2.03125 5.28906 1.59375 5.28906C1.14062 5.28906 0.78125 5.65625 0.78125 6.10156C0.78125 6.54688 1.14062 6.90625 1.59375 6.90625ZM15.8828 9.17188C16.3281 9.17188 16.6953 8.80469 16.6953 8.35938C16.6953 7.92188 16.3281 7.55469 15.8828 7.55469C15.4453 7.55469 15.0781 7.92188 15.0781 8.35938C15.0781 8.80469 15.4453 9.17188 15.8828 9.17188ZM1.21094 9.17188C1.64844 9.17188 2.01562 8.80469 2.01562 8.35938C2.01562 7.92188 1.64844 7.55469 1.21094 7.55469C0.765625 7.55469 0.398438 7.92188 0.398438 8.35938C0.398438 8.80469 0.765625 9.17188 1.21094 9.17188ZM15.4922 11.4375C15.9375 11.4375 16.3047 11.0703 16.3047 10.625C16.3047 10.1797 15.9375 9.82031 15.4922 9.82031C15.0547 9.82031 14.6875 10.1875 14.6875 10.625C14.6875 11.0703 15.0547 11.4375 15.4922 11.4375ZM1.59375 11.4375C2.03125 11.4375 2.39062 11.0703 2.39062 10.625C2.39062 10.1875 2.02344 9.82031 1.59375 9.82031C1.14062 9.82031 0.78125 10.1797 0.78125 10.625C0.78125 11.0703 1.14062 11.4375 1.59375 11.4375ZM14.4609 13.4609C14.9062 13.4609 15.2734 13.0938 15.2734 12.6484C15.2734 12.2109 14.9062 11.8438 14.4609 11.8438C14.0234 11.8438 13.6562 12.2109 13.6562 12.6484C13.6562 13.0938 14.0234 13.4609 14.4609 13.4609ZM2.625 13.4609C3.0625 13.4609 3.42969 13.0938 3.42969 12.6484C3.42969 12.2109 3.0625 11.8438 2.625 11.8438C2.17969 11.8438 1.8125 12.2109 1.8125 12.6484C1.8125 13.0938 2.17969 13.4609 2.625 13.4609ZM12.8359 15.0859C13.2812 15.0859 13.6484 14.7188 13.6484 14.2734C13.6484 13.8281 13.2812 13.4688 12.8359 13.4688C12.3984 13.4688 12.0312 13.8359 12.0312 14.2734C12.0312 14.7188 12.3984 15.0859 12.8359 15.0859ZM4.23438 15.0859C4.67969 15.0859 5.03906 14.7188 5.03906 14.2734C5.03906 13.8359 4.67188 13.4688 4.23438 13.4688C3.78906 13.4688 3.42188 13.8281 3.42188 14.2734C3.42188 14.7188 3.78906 15.0859 4.23438 15.0859ZM10.7969 16.125C11.2422 16.125 11.6094 15.7656 11.6094 15.3125C11.6094 14.875 11.2422 14.5078 10.7969 14.5078C10.3516 14.5078 9.99219 14.875 9.99219 15.3125C9.99219 15.7656 10.3516 16.125 10.7969 16.125ZM6.27344 16.125C6.71094 16.125 7.07812 15.7656 7.07812 15.3125C7.07812 14.875 6.71094 14.5078 6.27344 14.5078C5.82812 14.5078 5.46094 14.875 5.46094 15.3125C5.46094 15.7656 5.82812 16.125 6.27344 16.125ZM8.52344 16.4922C8.97656 16.4922 9.34375 16.1172 9.34375 15.6719C9.34375 15.2344 8.97656 14.875 8.52344 14.875C8.09375 14.875 7.72656 15.2422 7.72656 15.6719C7.72656 16.1172 8.08594 16.4922 8.52344 16.4922Z"})});var m=o(5366),h=o(16173),g=o(32662),v=o(26388);const f={[a.G1]:r.createElement(m.FormattedMessage,a.ct.statusGroupNameTodo),[a.Ho]:r.createElement(m.FormattedMessage,a.ct.statusGroupNameInProgress),[a.RW]:r.createElement(m.FormattedMessage,a.ct.statusGroupNameComplete),[a.Ap]:r.createElement(m.FormattedMessage,h.sY.current),[a.JV]:r.createElement(m.FormattedMessage,h.sY.future)},y={[a.G1]:p,[a.Ho]:u,[a.RW]:d.l};function C(e){window.__c={n:"CollectionStatusGroupName"};const{group:t,disableGroup:o,style:n,showIcon:a,showColor:d}=e,c=(0,l.Fg)(),u=y[t.name]??p,m=t.color??"gray";return i()("div",{style:{...n,display:"inline-flex",alignItems:"center"}},void 0,a&&u({display:"inline-block",width:16,height:16,fill:d?c.accentColors[m][400]:c.mediumIconColor}),i()("span",{style:{paddingLeft:a?6:void 0,color:d?c.accentColors[m][500]:void 0}},void 0,f[t.name]??t.name),o?r.createElement(r.Fragment,null,i()(g.Z,{size:4}),i()(v.Z,{placement:v.Z.Placement.Bottom,render:e=>r.createElement("div",e,(0,s.Q)({width:12})),renderTooltip:e=>r.createElement("div",e,o.tooltipCaption),disableTooltip:void 0===o.tooltipCaption})):null)}},26909:(e,t,o)=>{o.d(t,{ZP:()=>y,cn:()=>h,fg:()=>v,l0:()=>g});var n=o(10434),i=o.n(n),r=o(23174),l=o.n(r),a=o(67294),s=o(83355),d=o(87279),c=o(36488),u=o(78140),p=o(28992),m=o(40721);const h=8,g=8,v=32;class f extends s.Z{renderComponent(){const{device:e}=this.environment;return l()(c.Z,{capture:!0,allowEsc:!0,allowUndo:!0,render:t=>{let o;return o=e.isMobile?{menuType:d.og.Modal,title:this.props.title,right:l()(m.DoneMenuText,{}),onClickRight:this.props.onCancel,...t}:{menuType:d.og.Popup,...this.props.desktopMinWidth&&{minWidth:this.props.desktopMinWidth},...this.props.desktopMaxWidth&&{maxWidth:this.props.desktopMaxWidth},...this.props.desktopWidth&&{width:this.props.desktopWidth},...t},a.createElement(u.Z,i()({},o,{header:this.renderHeading()}),this.props.children)}})}renderHeading(){if(!this.environment.device.isMobile)return l()(p.Z,{style:f.headingStyle,title:this.props.title,right:this.props.helpButton})}}f.displayName="CollectionViewMenu",f.headingStyle={height:v+h-2,paddingTop:h-2};const y=f},93289:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(23174),i=o.n(n),r=o(67294),l=o(13991),a=o(77907);const s=function(e){let{firstDayOfWeek:t,value:o,selectValue:n=!0,onChange:s,disabledDays:d}=e;window.__c={n:"DatePicker"};const c=(0,r.useMemo)((()=>new Date(o)),[o]),[u,p]=(0,r.useState)(c),m=(0,r.useRef)(o);(0,r.useLayoutEffect)((()=>{m.current!==o&&(p(new Date(o)),m.current=o)}),[o]);const h=(0,r.useCallback)(((e,t,o)=>{s(e.getTime())}),[s]);return i()(a.LazyDayPicker,{locale:l.SP,className:"notion-calendar-picker",numberOfMonths:1,weekStartsOn:t,modifiers:n?{value:c}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:h,onMonthSelected:p,disabled:d,month:u})}},78948:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(23174),i=o.n(n),r=(o(67294),o(83355)),l=o(68785),a=o(28992);class s extends r.Z{renderComponent(){return i()(a.Z,{title:i()(l.Z,{})})}}s.displayName="LoadingMenuItem";const d=s},77498:(e,t,o)=>{o.d(t,{Z:()=>w});var n=o(23174),i=o.n(n),r=o(10434),l=o.n(r),a=(o(30541),o(43261)),s=o.n(a),d=o(67294),c=o(83355),u=o(99036),p=o(80951),m=o(72126),h=o(5366),g=o(87279),v=o(33846),f=o(68894),y=o(78140),C=o(32163),S=o(43765),M=o(40721),b=o(72495),x=o(69872);class k extends c.Z{constructor(){super(...arguments),this.storeTypes={inputStore:v.Z}}renderComponent(){const{onAccept:e,schema:t,onClose:o,allowProperty:n,intl:r,isRelationProperty:a}=this.props,{inputStore:c}=this.stores;let v=Object.keys(t);const k=v.some(p.wl);v=m.MR(v,(e=>{const o=(0,p.Qm)({schema:t,property:e});return o?o.name:""}));const w=k?`${p.UU}${u.iw}`:u.iw;v=m.zu(v,w),v.unshift(w);const Z=c.state.inputValue;if(n&&(v=v.filter((e=>{const o=(0,p.Qm)({schema:t,property:e});return o&&n(o)}))),Z){let e=v.map((e=>{const o=(0,p.Qm)({schema:t,property:e});return o&&o.name}));e=s().filter(Z,e).map((e=>{let{original:t}=e;return t})),v=v.filter((o=>{const n=(0,p.Qm)({schema:t,property:o});return n&&n.name&&e.includes(n.name)}))}const F=m.oA(v.map((o=>{const n=(0,p.Qm)({schema:t,property:o});if(!n)return;return{key:o,render:e=>d.createElement(x.Z,l()({},e,{propertySchema:n,format:x.Z.DisplayFormat.Name})),action:()=>e(o)}}))),T=[{key:0,render:e=>d.createElement(b.Z,e),items:F}],{device:I}=this.environment,R=i()(b.Z,{isInput:!0},void 0,i()(f.ZP,{focus:!I.isMobile||void 0,focusAfterAnimation:!0,value:Z,onChange:e=>this.stores.inputStore.setState({focus:!0,inputValue:e.target.value}),placeholder:a?r.formatMessage({defaultMessage:"Search for a relation property…",id:"propertySelectMenu.searchForProperty.relation.placeholder"}):r.formatMessage({defaultMessage:"Search for a property…",id:"propertySelectMenu.searchForProperty.default.placeholder"})}));let V;return V=I.isMobile?{menuType:g.og.Modal,title:a?r.formatMessage({defaultMessage:"Relation property",id:"propertySelectMenu.mobileMenu.relationProperty.header"}):r.formatMessage({defaultMessage:"Property",id:"propertySelectMenu.mobileMenu.property.header"}),right:i()(M.CancelMenuText,{}),onClickRight:o,header:R}:{menuType:g.og.Popup,width:300,header:R},d.createElement(y.Z,V,0===F.length?i()(b.Z,{},void 0,i()(S.Z,{title:i()(h.FormattedMessage,{defaultMessage:"No results",id:"propertySelectMenu.search.noResults.title"})})):i()(C.Z,{type:C.i.Vertical,sections:T,onAccept:o,initialFocus:Z.length>0?0:void 0}))}}k.displayName="PropertySelectMenu";const w=(0,h.injectIntl)(k)},95691:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(10434),i=o.n(n),r=o(23174),l=o.n(r),a=o(67294),s=o(24405),d=o(8848),c=o(42853),u=o(82990),p=o(64921);const m=function(e){window.__c={n:"SegmentedDropdownButton"};const{style:t,color:o,title:n,onClick:r,icon:m,dropdownEvents:h,className:g}=e,v=(0,s.yK)((e=>({wrap:{position:"relative",display:"inline-flex",flexShrink:0,borderRadius:3,overflow:"hidden",height:28},mainButton:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderTopLeftRadius:3,borderBottomLeftRadius:3,lineHeight:1.1,paddingLeft:8,paddingRight:8,fontWeight:u.Z.fontWeight.medium,..."blue"===o&&{background:d.ZP.blue,color:d.ZP.white},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[100]:e.accentColors.orange[50],color:"dark"===e.mode?e.accentColors.orange[600]:e.accentColors.orange[400]}},dropdownButton:{display:"flex",alignItems:"center",justifyContent:"center",width:24,alignSelf:"stretch",borderTopRightRadius:3,borderBottomRightRadius:3,..."blue"===o&&{background:d.ZP.blue,color:d.ZP.white,boxShadow:`inset 1px 0 0 ${e.darkDividerColor}`},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[100]:e.accentColors.orange[50],color:e.accentColors.orange[400],boxShadow:"dark"===e.mode?`${e.accentColors.orange[300]} 1px 0 0 inset`:`${e.accentColors.orange[200]} 1px 0 0 inset`}},dropdownButtonIcon:{width:10,marginTop:2,..."blue"===o&&{fill:d.ZP.white},..."orange"===o&&{fill:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[400]}},buttonHoveredStyle:{..."blue"===o&&{background:e.blueButtonHoveredBackground},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[200]:e.accentColors.orange[100]}},buttonPressedStyle:{..."blue"===o&&{background:e.blueButtonPressedBackground},..."orange"===o&&{background:"dark"===e.mode?e.accentColors.orange[300]:e.accentColors.orange[200]}},icon:{width:12,marginRight:6,..."blue"===o&&{fill:d.ZP.white},..."orange"===o&&{fill:e.accentColors.orange[400]}},border:{position:"absolute",pointerEvents:"none",borderRadius:3,top:0,left:0,right:0,bottom:0,..."blue"===o&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset, rgba(15, 15, 15, 0.1) 0px 1px 2px"},..."orange"===o&&{boxShadow:"dark"===e.mode?`${e.accentColors.orange[300]} 0px 0px 0px 1px inset`:`${e.accentColors.orange[200]} 0px 0px 0px 1px inset`}}})),[o]);return l()("div",{style:{...v.wrap,...t},className:g},void 0,l()(p.Z,{style:v.mainButton,onClick:r,disabledFeedback:!0,hoveredStyle:v.buttonHoveredStyle,pressedStyle:v.buttonPressedStyle},void 0,m&&m(v.icon),n),a.createElement(p.Z,i()({disabledFeedback:!0,style:v.dropdownButton,hoveredStyle:v.buttonHoveredStyle,pressedStyle:v.buttonPressedStyle},h),(0,c.i)(v.dropdownButtonIcon)),l()("div",{style:v.border}))}},22084:(e,t,o)=>{o.d(t,{F:()=>h,a:()=>m});var n=o(10434),i=o.n(n),r=o(23174),l=o.n(r),a=o(67294),s=o(24405),d=o(8848),c=o(82990),u=o(62896),p=o(85567);function m(e){window.__c={n:"SelectToken"};const{value:t,color:o,descriptionTooltip:n,format:r,showEllipsis:m,onClickRemove:h,showRemoveButton:g,isSingle:v,shouldShrink:f,tooltipPlacement:y,...C}=e,S=(0,s.Fg)(),M=(0,s.yK)((e=>({token:{...m&&c.Z.textOverflowStyle},descriptionTooltip:{color:e.mediumInvertedTextColor}})),[m]),{textColor:b,backgroundColor:x}=(0,d.KR)(S,o);return t?a.createElement(p.Z,i()({format:r,value:l()(u.Z,{},void 0,t),onClickRemove:h,showRemoveButton:g,isSingle:v,color:b,backgroundColor:x,shouldShrink:f,showFullValueTooltip:!0,tooltip:void 0!==n&&n.length>0?n:void 0,tooltipPlacement:y,style:M.token},C)):null}function h(e){window.__c={n:"StatusSelectToken"};const{value:t,color:o,format:n,showEllipsis:r,onClickRemove:m,showRemoveButton:h,isSingle:g,shouldShrink:v,groupColor:f,descriptionTooltip:y,tooltipPlacement:C,...S}=e,M=(0,s.Fg)(),b=(0,s.yK)((()=>({token:{...r&&c.Z.textOverflowStyle}})),[r]);if(!t)return null;const{textColor:x,backgroundColor:k}=(0,d.KR)(M,o??f??"gray"),w=o&&"default"!==o?o:f??"gray";return a.createElement(p.Z,i()({format:n,value:l()(u.Z,{},void 0,t),onClickRemove:m,showRemoveButton:h,isSingle:g,color:x,backgroundColor:k,shouldShrink:v,showFullValueTooltip:!0,style:b.token,isRound:!0,showColoredDot:w,tooltip:void 0!==y&&y.length>0?y:void 0,tooltipPlacement:C},S))}},74648:(e,t,o)=>{o.d(t,{Z:()=>it});var n=o(10434),i=o.n(n),r=o(23174),l=o.n(r),a=(o(57658),o(67294)),s=o(480),d=o(86628),c=o(24405),u=o(21114),p=o(51849),m=o(78106),h=o(66673),g=o(37652),v=o(13148),f=o(84169),y=o(54497),C=o(72126),S=o(68626),M=o(70203),b=o(97880),x=o(82990),k=o(5366),w=o(62134),Z=o(98104),F=o(39699),T=o(37181),I=o(17809),R=o(33929),V=o(68056),E=o(18514),P=o(80444),A=o(24666),B=o(42922),D=o(73063),_=o(3386),L=o(16354),W=o(74420),O=o(89728),N=o(26388),H=o(39068),G=o(84619),U=o(84116),K=o(3067),z=o(68602);const Y={true:{name:"true",type:{type:"checkbox"},description:z.Gw.true,examples:[{input:"true"},{input:[(0,K.h0)("Checked"),[" == true"]]}]},false:{name:"false",type:{type:"checkbox"},description:z.Gw.false,examples:[{input:"false"},{input:[(0,K.h0)("Checked"),[" == false"]]}]},and:{name:"and",type:{type:"checkbox"},description:z.Gw.and,examples:[{input:"3 > 2 and 2 > 3",output:"false"},{input:[(0,K.h0)("Naughty"),[" && "],(0,K.h0)("Nice")]}]},or:{name:"or",type:{type:"checkbox"},description:z.Gw.or,examples:[{input:"3 > 2 or 2 > 3",output:"true"},{input:[(0,K.h0)("Naughty"),[" || "],(0,K.h0)("Nice")]}]},not:{name:"not",type:{type:"checkbox"},description:z.Gw.not,examples:[{input:"not true",output:"false"},{input:"not (2 > 3)",output:"true"},{input:[["!"],(0,K.h0)("Checked")]}]},"+":{name:"+",type:{type:"number"},description:z.Gw["+"],examples:[{input:"3 + 2",output:"5"},{input:"add(-1, 2)",output:"1"}]},"-":{name:"-",type:{type:"number"},description:z.Gw["-"],examples:[{input:"3 - 2",output:"1"},{input:"subtract(-1, 2)",output:"-3"}]},"*":{name:"*",type:{type:"number"},description:z.Gw["*"],examples:[{input:"3 * 2",output:"6"},{input:"multiply(-1, 2)",output:"-2"}]},"/":{name:"/",type:{type:"number"},description:z.Gw["/"],examples:[{input:"3 / 2",output:"1.5"},{input:"divide(-1, 2)",output:"-0.5"}]},"%":{name:"%",type:{type:"number"},description:z.Gw["%"],examples:[{input:"3 % 2",output:"1"},{input:"mod(-1, 2)",output:"-1"}]},"^":{name:"^",type:{type:"number"},description:z.Gw["^"],examples:[{input:"3 ^ 2",output:"9"},{input:"pow(-1, 2)",output:"1"}]},"==":{name:"==",type:{type:"checkbox"},description:z.Gw["=="],examples:[{input:"3 == 2",output:"false"},{input:'equal("A", "A")',output:"true"}]},"!=":{name:"!=",type:{type:"checkbox"},description:z.Gw["!="],examples:[{input:"3 != 2",output:"true"},{input:'unequal("A", "A")',output:"false"}]},">":{name:">",type:{type:"checkbox"},description:z.Gw[">"],examples:[{input:"3 > 2",output:"true"},{input:'now() > parseDate("2040-01-01")',output:"false"}]},"<":{name:"<",type:{type:"checkbox"},description:z.Gw["<"],examples:[{input:"3 < 2",output:"false"},{input:'now() < parseDate("2040-01-01")',output:"true"}]},">=":{name:">=",type:{type:"checkbox"},description:z.Gw[">="],examples:[{input:"3 >= 2",output:"true"},{input:'now() >= parseDate("2040-01-01")',output:"false"}]},"<=":{name:"<=",type:{type:"checkbox"},description:z.Gw["<="],examples:[{input:"3 <= 2",output:"false"},{input:'now() <= parseDate("2040-01-01")',output:"true"}]}};var Q=o(75e3),q=o(56505),j=o(87279),$=o(29798),X=o(73657),J=o(64921),ee=o(52275),te=o(31945),oe=o(78140),ne=o(28992),ie=o(32163),re=o(40721),le=o(72495),ae=o(32620),se=o(42875),de=o(75553),ce=o(20852),ue=o(82883),pe=o(18613),me=o(14871),he=o(95477),ge=o(60682),ve=o(24990),fe=o(62619),ye=o(55227),Ce=o(77907);const Se=a.memo((e=>{let{infoHelper:t,getRecordModel:o,style:n}=e;const i=t;if(void 0===(null==i?void 0:i.kind))return null;switch(i.kind){case U.WY.Token:return l()(xe,{completion:i,getRecordModel:o,style:n});case U.WY.LibraryFunction:{const e=!(null==t||!t.calledFromUnifiedFunctionProperty),r=function(e,t){if(t&&void 0!==e.syntax[1])return e.syntax[1];return e.syntax[0]}(i.libraryFunction,e),a=function(e,t){if(t&&void 0!==e.examples[1])return e.examples[1];return e.examples[0]}(i.libraryFunction,e),s=i.libraryFunction.returnType;return l()(be,{icon:Pe("function"==typeof s?s([]).type:s.type),name:r,description:R.default.formatMessage(i.libraryFunction.description),examples:a.length>0?a.map(((e,t)=>l()(Me,{example:e,getRecordModel:o},t))):void 0,style:n})}case U.WY.Binding:var r;return i.text===ae.GV?l()(be,{icon:Pe(i.type.type),name:i.text,description:R.default.formatMessage(Fe.currentValueDescription),style:n}):i.text===ae.WY?l()(be,{icon:Pe(i.type.type),name:i.text,description:R.default.formatMessage(Fe.currentIndexDescription),style:n}):l()(be,{icon:Pe(i.type.type),name:i.text,description:R.default.formatMessage("array"===(null==i||null===(r=i.type)||void 0===r?void 0:r.type)?Fe.listVariableType:Fe.variableType),style:n});case U.WY.Builtin:{const e=Y[i.builtin];return l()(be,{icon:Pe(e.type.type),name:e.name,description:R.default.formatMessage(e.description),examples:e.examples.length>0?e.examples.map(((e,t)=>l()(Me,{example:e,getRecordModel:o},t))):void 0,style:n})}default:return(0,b.t1)(i)}}));function Me(e){let{example:t,getRecordModel:o}=e;window.__c={n:"CodeExample"};const n=(0,Ce.useDependency)(Ce.deps.prismjs),i=(0,ge.kw)(),r=(0,s.O7)(),{device:u}=r,p=(0,d.VK)((()=>{var e;return null===(e=P.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),m=(0,c.Fg)(),h=(0,k.useIntl)(),g=(0,d.VK)((()=>ve.Z.state),[]),v=(0,d.VK)((()=>{var e;const s=document.createElement("div"),d="string"!=typeof t.input?M.QaF(t.input):t.input,c=(null===(e=n.value)||void 0===e?void 0:e.highlight(`${d}`,n.value.languages[ce.PrismLanguages.notion],ce.PrismLanguages.notion))??"";s.innerHTML=ye.g7(c);const v=C.oA(Array.from(s.childNodes).map(we)),f="string"==typeof t.input?[[t.input],[" = "]]:t.input.concat([[" = "]]),y=ye.kF(f,C.oA(v)),S=f.map(M.hDy).map(((e,t)=>pe.fn({annotations:e,theme:m,getRecordModel:o,spaceId:p})));return y.map(((e,t)=>{const n=S[e.textTokenIndex],s=f[e.textTokenIndex];return M.km_(s)?(0,pe.$i)({args:{textValue:{value:f,spaceId:p},getRecordModel:o,getRecordRole:()=>{},disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disableLinks:!1,userTimeZone:(0,se.r)(),disabled:!1,isAndroid:u.isAndroid,isSafariOrIOS:u.isSafari||u.isIOS,isWindows:u.isWindows,showEmojiInline:u.isWindows,emojiType:i,highlightDiscussionId:void 0,theme:m,intl:h,renderedPageBlockId:void 0,parentBlockId:void 0,katex:void 0,isClient:!0,baseUrl:he.default.domainBaseUrl,publicDomainName:he.default.publicDomainName,currentUserId:r.currentUser.id,overwriteBaseUrlFromSpaceId:void 0,externalIntegrations:[],formulaValueTypes:[],emojiData:g},style:n.style,classNames:n.classNames,index:t,token:s,tokenValue:M.WiV(s),tokenAnnotations:M.hDy(s)}):a.createElement(a.Fragment,null,l()("span",{className:[e.classNames||"",...n.classNames].join(" "),style:n.style,"data-token-index":e.textTokenIndex},t,e.value))}))}),[t.input,n.value,m,o,p,u.isAndroid,u.isSafari,u.isIOS,u.isWindows,i,h,r.currentUser.id,g]),f=(0,d.VK)((()=>Array.isArray(t.output)?(0,pe.IY)({textValue:{value:t.output,spaceId:p},getRecordModel:o,getRecordRole:()=>{},disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disableLinks:!1,userTimeZone:(0,se.r)(),disabled:!1,isAndroid:u.isAndroid,isSafariOrIOS:u.isSafari||u.isIOS,isWindows:u.isWindows,showEmojiInline:u.isWindows,emojiType:i,theme:m,intl:h,katex:void 0,isClient:!0,baseUrl:he.default.domainBaseUrl,publicDomainName:he.default.publicDomainName,currentUserId:r.currentUser.id,overwriteBaseUrlFromSpaceId:void 0,externalIntegrations:[],formulaValueTypes:[],emojiData:g}):t.output),[u.isAndroid,u.isIOS,u.isSafari,u.isWindows,g,i,r.currentUser.id,t.output,o,h,p,m]),y=!1!==t.isCopyable&&("string"==typeof t.input||!0===t.isCopyable),S=(0,a.useCallback)((()=>{if(y){const e=(Array.isArray(t.input)?(0,ue.X)({intl:h,textValue:t.input,getRecordModel:o,userTimeZone:(0,se.r)()}):t.input).replaceAll(/\/\*.*\*\//g,"").trim();me.RD({stringValue:e,environment:r,copiedMessage:Ze.copiedExampleMessage})}}),[r,t.input,o,h,y]),b=(0,c.yK)((e=>({code:{fontFamily:"monospace",whiteSpaceCollapse:"preserve",fontSize:11,borderRadius:5,border:`1px solid ${e.stroke.deemphasized}`,margin:"0 -4px",padding:"0 6px",pointerEvents:"none",opacity:.95,display:"flex",flexDirection:"row",alignItems:"center",tabSize:2},left:{flexGrow:1,padding:"6px 0"},right:{alignSelf:"center"},copyButton:{height:22,width:22,pointerEvents:"auto"},copyButtonIcon:{height:12,width:12}})),[]);return l()("div",{style:b.code},void 0,l()("div",{style:b.left},void 0,l()("div",{},void 0,v),f?l()("div",{},void 0,"= ",f):null),y?l()("div",{style:b.right},void 0,l()(D.Z,{ariaLabel:h.formatMessage(Ze.copyToClipboard),onClick:S,icon:de.U,style:b.copyButton,iconStyle:b.copyButtonIcon,disallowTabbing:!0})):null)}function be(e){let{name:t,icon:o,description:n,examples:i,style:r}=e;window.__c={n:"FormulaHelperBody"};const a=(0,c.yK)((e=>({helper:{display:"flex",flexDirection:"column",fontSize:12,height:"auto",width:"100%",gap:8,overflow:"auto",textWrap:"wrap",...r},name:{fontSize:14,fontWeight:600,display:"flex",alignItems:"center"},description:{color:e.mediumTextColor},iconStyle:{height:14,width:14,fill:e.mediumIconColor,display:"inline",marginRight:6},divider:{borderColor:e.stroke.deemphasized},examples:{display:"flex",flexDirection:"column",gap:4}})),[r]);return l()("div",{style:a.helper},void 0,l()("span",{style:a.name},void 0,void 0!==o&&o(a.iconStyle),t),void 0!==n&&l()("span",{style:a.description},void 0,n),void 0!==i&&l()("div",{style:a.examples},void 0,i))}function xe(e){let{completion:t,getRecordModel:o,style:n}=e;window.__c={n:"FormulaTokenCompletionHelper"};const{name:i,description:r,icon:a,examples:s}=(0,d.VK)((()=>{if(!o)return{};if(t.token.type===U.Oy.BlockProperty){var e;if(U.WG.includes(t.token.property)&&!t.token.collection){var n;const e=null===(n=U.dy[t.token.property])||void 0===n?void 0:n.type,i=e?H.wG[e]:void 0,r=K.QP[t.token.property],l="function"==typeof(null==r?void 0:r.description)?r.description():null==r?void 0:r.description,a=t.name??t.token.property;return{name:a,icon:i,description:l?R.default.formatMessage(l):void 0,examples:null!==r?ke(r,o,{collection:t.token.collection,property:t.token.property,name:a},{name:a,type:t.token.property}):void 0}}if(!t.token.collection)return{};const i=(0,m.SR)(t.token.property),r=o(t.token.collection),l=null==r||null===(e=r.getNormalizedSchema())||void 0===e?void 0:e[i];if(!l)return{};const a=K.QP[l.type];return a?{name:t.name,icon:H.wG[l.type],description:R.default.formatMessage("function"==typeof a.description?a.description(l):a.description),examples:ke(a,o,{collection:t.token.collection,property:i,name:t.name},l)}:{}}return{}}),[t,o]);return void 0===i?null:l()(be,{name:i,icon:a,description:r,examples:s,style:n})}function ke(e,t,o,n){const i=e.examples;let r=[];return r="function"==typeof i?i(o,n).map(((e,o)=>l()(Me,{example:e,getRecordModel:t},o))):i.map(((e,o)=>l()(Me,{example:e,getRecordModel:t},o))),r.length>0?r:void 0}function we(e){return fe.Gs(e)?[e.data]:fe.kK(e)?[e.textContent||"",e.className]:void 0}const Ze=(0,k.defineMessages)({codeExamples:{id:"formula2Input.helperText.codeExamples",defaultMessage:"Examples"},copiedExampleMessage:{id:"formula2Input.helperText.copiedExampleMessage",defaultMessage:"Copied example to clipboard!"},copyToClipboard:{defaultMessage:"Copy to Clipboard",id:"database.copyButton.copyToClipboard"}}),Fe=(0,k.defineMessages)({currentValueDescription:{id:"formula2Input.helperText.currentValueDescription",defaultMessage:"Returns the value of the current item in the list function."},currentIndexDescription:{id:"formula2Input.helperText.currentIndexDescription",defaultMessage:"Returns the index of the current item in the list function, starting from 0."},variableType:{id:"formula2Input.variableHelper.description",defaultMessage:"User-defined variable."},listVariableType:{id:"formula2Input.variableHelper.descriptionWithList",defaultMessage:"User-defined variable, list."},emailForUser:{id:"formula2Input.helperText.emailForUser",defaultMessage:"Returns the email address of a provided user."},nameForUser:{id:"formula2Input.helperText.nameForUser",defaultMessage:"Returns the display name of a provided user."}});var Te=o(21396);function Ie(e){window.__c={n:"FormulaAutocompleteMenu"};const{store:t,selection:o,cursorEditorInfo:n,cursorEditorInfoRef:r,context:u,onChange:p,getRecordModel:h,setInfoHelper:g}=e,v=(0,c.yK)((()=>({menu:{top:0,left:0,right:0,bottom:0,position:"absolute",marginBottom:2},menuSection:{paddingTop:6,paddingBottom:2}})),[]),f=(0,s.Fy)(),y=(0,d.qz)(void 0,$.Z),S=(0,a.useMemo)((()=>{const e=C.vM((null==n?void 0:n.completions)??[],"kind");let l=-1;return Object.entries(e).map(((e,n)=>{const[s,d]=e,c=d.map(((e,s)=>{l+=1;const d=l;return{key:`${n}-${s}`,render:t=>a.createElement(Re,i()({},t,{completion:e,context:u,getRecordModel:h,menuListStore:y,indexGlobal:d,cursorEditorInfoRef:r,setInfoHelper:g})),action:()=>{var n;void 0!==e&&r.current&&(g({...e,calledFromUnifiedFunctionProperty:"member dot receiver"===(null===(n=r.current.completionsInfo)||void 0===n?void 0:n.type)}),function(e){var t;const{completion:o,store:n,selection:i,onChange:r,cursorEditorInfo:l}=e,a=(null==i?void 0:i.startIndex)||0,s=(null==i?void 0:i.endIndex)||0,d=a!==s,c=(null===(t=l.completionsInfo)||void 0===t?void 0:t.prefix)||"",u="overridePrefixLength"in o?o.overridePrefixLength??0:c.length,p=d?a:s-u,h=n.getValue();if(o.kind===U.WY.Token){if(o.token.type===U.Oy.Checkbox)return;if(o.token.type===U.Oy.BlockProperty){const e=(0,M._QS)(h,p,s),t=o.token.collection?(0,m.SR)(o.token.property):o.token.property,n=(0,M.YCD)((0,M.kbv)({collection:o.token.collection,property:t,name:o.name}));return void r({newValue:(0,M.P$X)(e,[n],p),newSelection:{startIndex:p+1,endIndex:p+1}})}if(o.token.type===U.Oy.ContextValue){const e=(0,M._QS)(h,p,s),t=(0,m.Kv)(o.token.valueId),n=(0,M.YCD)((0,M._QF)({id:t}));r({newValue:(0,M.P$X)(e,[n],p),newSelection:{startIndex:p+1,endIndex:p+1}})}else{if(o.token.type===U.Oy.Date||o.token.type===U.Oy.Block||o.token.type===U.Oy.Person)return;(0,b.t1)(o.token)}}else if(o.kind===U.WY.LibraryFunction){var g,v,f,y;const e=(0,M._QS)(h,p,s),t=(0,M.V3y)(`${o.libraryFunction.name}()`,[]),n=(0,M.P$X)(e,[t],p);let i=p+o.libraryFunction.name.length+1;void 0!==(null===(g=o.libraryFunction)||void 0===g||null===(g=g.parameters)||void 0===g?void 0:g.varargs)||null!==(v=o.libraryFunction)&&void 0!==v&&null!==(v=v.parameters)&&void 0!==v&&null!==(v=v.expected)&&void 0!==v&&v.length&&(1!==(null===(f=o.libraryFunction)||void 0===f||null===(f=f.parameters)||void 0===f||null===(f=f.expected)||void 0===f?void 0:f.length)||"member dot receiver"!==(null===(y=l.completionsInfo)||void 0===y?void 0:y.type))||(i+=1);r({newValue:n,newSelection:{startIndex:i,endIndex:i}})}else if(o.kind===U.WY.Binding||o.kind===U.WY.Builtin){const e=(0,M._QS)(h,p,s),t=o.kind===U.WY.Binding?o.text:`${o.builtin} `,n=(0,M.V3y)(t,[]),i=(0,M.P$X)(e,[n],p),l=p+t.length;r({newValue:i,newSelection:{startIndex:l,endIndex:l}})}else(0,b.t1)(o)}({completion:e,store:t,selection:o,onChange:p,cursorEditorInfo:r.current}))}}}));return{key:s,render:e=>a.createElement(le.Z,i()({},e,{style:v.menuSection,title:R.default.formatMessage(De[s])})),items:c}}))}),[u,null==n?void 0:n.completions,r,h,y,p,o,g,t,v.menuSection]),x=(0,a.useCallback)((e=>{var t;if(f.isMobile)return;const o=void 0!==e.indexGlobal?null===(t=r.current)||void 0===t||null===(t=t.completions)||void 0===t?void 0:t[e.indexGlobal]:void 0;var n;o&&g({...o,calledFromUnifiedFunctionProperty:"member dot receiver"===(null===(n=r.current)||void 0===n||null===(n=n.completionsInfo)||void 0===n?void 0:n.type)})}),[r,f.isMobile,g]);let k;return(0,a.useEffect)((()=>{if(f.isMobile)return;const e=e=>{var t,o;if(void 0!==e.state.focus.indexGlobal&&null!==(t=r.current)&&void 0!==t&&t.completions&&(null===(o=r.current)||void 0===o?void 0:o.completions.length)>0){var n;const t=null===(n=r.current)||void 0===n||null===(n=n.completions)||void 0===n?void 0:n[e.state.focus.indexGlobal];void 0!==t&&g((e=>{var o;return void 0===e||void 0===(null===(o=r.current)||void 0===o?void 0:o.callParameter)?t:e}))}};return y.addListener(e),()=>y.removeListener(e)}),[r,y,g,f.isMobile]),(0,a.useEffect)((()=>{var e,t,o,i;if(f.isMobile)return;const r="function"===(null==n||null===(e=n.callParameter)||void 0===e||null===(e=e.expression)||void 0===e||null===(e=e.type)||void 0===e?void 0:e.type)?null===(t=n.callParameter.expression)||void 0===t?void 0:t.type:void 0;void 0!==r&&void 0!==(null==n||null===(o=n.callParameter)||void 0===o?void 0:o.parameterIndex)&&(null==n||null===(i=n.callParameter)||void 0===i?void 0:i.parameterIndex)>-1&&g({kind:U.WY.LibraryFunction,libraryFunction:r.libraryFunction,calledFromUnifiedFunctionProperty:r.calledFromUnifiedFunctionProperty})}),[null==n?void 0:n.callParameter,f.isMobile,g]),(0,a.useEffect)((()=>{S.length>0&&y.update((e=>({focus:{...e,section:0,indexLocal:0,indexGlobal:0}})))}),[S.length,y,g]),k=f.isPhone?{menuType:j.og.ActionSheet,disableBottomPadding:!0,maxHeight:"100%"}:{menuType:j.og.Popup,width:f.isPhone?180:228,minWidth:f.isPhone?180:228,maxWidth:f.isPhone?180:228},a.createElement(oe.Z,i()({},k,{scrollerStyle:v.menu}),l()(ie.Z,{type:ie.i.Vertical,initialFocus:0,priority:1,store:y,onKeyboardArrow:x,sections:C.oA([...S,0===S.length&&{key:"no-results",render:e=>a.createElement(le.Z,i()({},e,{disableDesktopPadding:!0,style:v.menuSection}),l()(Ae,{})),items:[]}])}))}const Re=a.forwardRef(((e,t)=>{window.__c={n:"CompletionMenuItem"};const{completion:o,context:n,getRecordModel:r,menuListStore:u,indexGlobal:p,cursorEditorInfoRef:h,setInfoHelper:g,onMouseEnter:v,...f}=e,y=(0,s.Fy)(),C=(0,c.yK)((e=>({icon:{width:14,fill:e.mediumIconColor},lightParens:{color:e.lightTextColor}})),[]),S=(0,a.useCallback)((e=>{if(!y.isMobile){var t;const e=null===(t=h.current)||void 0===t||null===(t=t.completions)||void 0===t?void 0:t[p];g(e)}null==v||v(e)}),[h,p,v,g,y.isMobile]),M=(0,d.VK)((()=>u.state.focus.indexGlobal===p),[u,p]),x=(0,a.useMemo)((()=>y.isMobile?l()(te.ZP,{popupType:te.Z4.SlideUp,renderOrigin:e=>a.createElement(J.Z,i()({mobileFeedback:!0,style:{width:16,height:16}},e),(0,q.S)(C.icon)),render:e=>{var t;let n;return n=y.isMobile?{menuType:j.og.Modal,title:l()(k.FormattedMessage,{defaultMessage:"Documentation",id:"database.formulaPropertyEntryMenuItem.title"}),right:l()(re.DoneMenuText,{}),onClickRight:e.close}:{menuType:j.og.Popup},a.createElement(oe.Z,n,l()(le.Z,{},void 0,l()(ne.Z,{title:l()(Se,{infoHelper:{...o,calledFromUnifiedFunctionProperty:"member dot receiver"===(null==h||null===(t=h.current)||void 0===t||null===(t=t.completionsInfo)||void 0===t?void 0:t.type)},getRecordModel:r,style:{padding:4}}),style:{paddingTop:16,paddingBottom:16}})))}}):l()(Ve,{visible:M})),[o,h,y.isMobile,r,M,C.icon]),w=(0,d.VK)((()=>{var e;if(o.kind!==U.WY.Token||o.token.type!==U.Oy.BlockProperty||!r)return;if(U.WG.includes(o.token.property))return o.token.property;if(!o.token.collection)return;const t=(0,m.SR)(o.token.property),n=r(o.token.collection);return null==n||null===(e=n.getNormalizedSchema())||void 0===e||null===(e=e[t])||void 0===e?void 0:e.type}),[o,r]);if(o.kind===U.WY.Token){if(o.token.type===U.Oy.Checkbox)return null;if(o.token.type===U.Oy.BlockProperty)return a.createElement(ee.Z,i()({},f,{icon:w?H.wG[w](C.icon):l()(Ee,{type:"unknown"}),title:o.name??o.token.property,right:x,onMouseEnter:S,ref:t}));if(o.token.type===U.Oy.ContextValue){const e=(0,m.vx)(n.valueTypes,(0,m.Kv)(o.token.valueId));return e?a.createElement(ee.Z,i()({},f,{icon:l()(Ee,{type:e.type.type}),title:l()("div",{style:{display:"flex"}},void 0,l()(Te.F,{value:e,format:G.l.Medium,isSingle:!0,shouldShrink:!0})),right:x,onMouseEnter:S,ref:t})):null}if(o.token.type===U.Oy.Date)return null;if(o.token.type===U.Oy.Block)return null;if(o.token.type===U.Oy.Person)return null;(0,b.t1)(o.token)}else{if(o.kind===U.WY.LibraryFunction){const e=o.libraryFunction.returnType;return a.createElement(ee.Z,i()({},f,{icon:l()(Ee,{type:"function"==typeof e?e([]).type:e.type}),title:a.createElement(a.Fragment,null,o.libraryFunction.name,l()("span",{style:C.lightParens},void 0,"()")),right:x,onMouseEnter:S,ref:t}))}if(o.kind===U.WY.Builtin)return a.createElement(ee.Z,i()({},f,{title:o.builtin,icon:l()(Ee,{type:Y[o.builtin].type.type}),right:x,onMouseEnter:S,ref:t}));if(o.kind===U.WY.Binding)return a.createElement(ee.Z,i()({},f,{title:o.text,icon:l()(Ee,{type:o.type.type}),right:x,onMouseEnter:S,ref:t}));(0,b.t1)(o)}})),Ve=a.memo((e=>{let{visible:t}=e;window.__c={n:"FormulaAutocompleteEnterIcon"};const o=(0,c.yK)((e=>({icon:{width:14,fill:e.mediumIconColor,transition:"opacity 50ms 200ms",visibility:t?"visible":"hidden",opacity:t?1:0}})),[t]);return(0,Q.U)(o.icon)})),Ee=a.memo((e=>{var t;let{type:o}=e;window.__c={n:"FormulaValueTypeIcon"};const n=(0,c.yK)((e=>({icon:{width:14,fill:e.mediumIconColor,transition:"transform .3s ease"}})),[]);return null===(t=Pe(o))||void 0===t?void 0:t(n.icon)}));function Pe(e){return"text"===e?H.wG.text:"number"===e?H.wG.number:"checkbox"===e?H.wG.checkbox:"date"===e?H.wG.date:"block"===e?H.wG.relation:"person"===e?H.wG.person:"select"===e?H.wG.select:"array"===e?H.wG.multi_select:"function"===e||void 0===e||"unknown"===e?H.wG.formula:void(0,b.t1)(e)}function Ae(){return l()(X.Z,{caption:l()(k.FormattedMessage,{defaultMessage:"No results",id:"FormulaAutocompleteMenu.noResults.message"})})}const Be=(0,k.defineMessages)({[U.WY.Token]:{defaultMessage:"Properties",id:"formulaAutocompleteMenu.token.message"},[U.WY.LibraryFunction]:{defaultMessage:"Functions",id:"formulaAutocompleteMenu.function.message"},[U.WY.Binding]:{defaultMessage:"Variables",id:"formulaAutocompleteMenu.variables.message"},[U.WY.Builtin]:{defaultMessage:"Built-ins",id:"formulaAutocompleteMenu.builtin.message"}}),De={[U.WY.Token]:Be[U.WY.Token],[U.WY.LibraryFunction]:Be[U.WY.LibraryFunction],[U.WY.Binding]:Be[U.WY.Binding],[U.WY.Builtin]:Be[U.WY.Builtin]};o(52262),o(24506);var _e=o(83355),Le=o(1302),We=o(13991),Oe=o(14577),Ne=o(15095),He=o(62193),Ge=o(6746),Ue=o(55332),Ke=o(97444),ze=o(56971),Ye=o(14976),Qe=o(45023),qe=o(70219),je=o(89086),$e=o(30874),Xe=o(76967),Je=o(29595),et=o(1743),tt=o(93262);class ot extends _e.Z{constructor(){super(...arguments),this.editor=null,this.mergeEditorRefs=(0,He.sH)(),this.renderContentContainer=(e,t)=>{let{leafRef:o,wrapperRef:n,...r}=e;return a.createElement("div",i()({ref:n},r,{onKeyDown:e=>{this.handleCommandEnterOnKeyDown(e),null==r||r.onKeyDown(e)},style:{flexGrow:1,display:"table"}}),a.createElement(Je.Z,{ref:this.mergeEditorRefs(this.editorRef,o),style:ot.contentEditableStyle,getDisabled:this.isDisabled,getHtml:()=>this.getHtml(this.textValueStore.state,this.props.errorRanges),getSelection:this.getContainerSelection,onMutation:this.handleMutation,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",onSelect:t,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,suppressNewlineEvents:!1,placeholder:" "}))},this.renderSyntaxTokens=(e,t)=>{const o=ye.kF(t,e),{device:n}=this.environment,i=t.map(M.hDy).map(((e,t)=>pe.fn({annotations:e,theme:this.theme,getRecordModel:this.props.store.getRecordModel,spaceId:this.props.parentSpaceId})));return o.map(((e,o)=>{const r=t[e.textTokenIndex],s=i[e.textTokenIndex];return M.km_(r)?(0,pe.$i)({args:{textValue:{value:t,spaceId:this.props.parentSpaceId},getRecordModel:this.props.store.getRecordModel,getRecordRole:this.props.store.getRecordRole,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disableLinks:!1,userTimeZone:(0,se.r)(),disabled:!1,isAndroid:n.isAndroid,isSafariOrIOS:n.isSafari||n.isIOS,isWindows:n.isWindows,showEmojiInline:n.isWindows,emojiType:"raw",highlightDiscussionId:void 0,theme:this.theme,intl:R.default.getIntl(),renderedPageBlockId:void 0,parentBlockId:void 0,katex:void 0,isClient:!0,baseUrl:he.default.domainBaseUrl,publicDomainName:he.default.publicDomainName,currentUserId:this.environment.currentUser.id,overwriteBaseUrlFromSpaceId:(0,qe.b)(this.environment),externalIntegrations:$e.Z.integrations.state,formulaValueTypes:this.props.valueTypes,emojiData:ve.Z.state},style:s.style,classNames:s.classNames,index:o,token:r,tokenValue:M.WiV(r),tokenAnnotations:M.hDy(r)}):a.createElement(a.Fragment,null,l()("span",{className:[e.classNames||"",...s.classNames].join(" "),style:s.style,"data-token-index":e.textTokenIndex},o,e.value))}))},this.handleClick=e=>{Ye.SD({environment:this.environment,event:e,textValue:this.textValueStore.state,editorNode:this.getEditorNode(),store:this.props.store,canEdit:!this.isDisabled()})},this.handleMutation=e=>{let{newValue:t}=e;F.createAndCommit({userAction:"FormulaInputText.handleMutation",environment:this.environment,perform:e=>{Ke.aS({environment:this.environment,store:this.props.store,newValue:t,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,disableDateReminderMentions:!0,disableFilters:!0,transaction:e}),e.postEnqueueActions.push((()=>{F.createAndCommit({userAction:"FormulaInputText.normalizeTextValue",environment:this.environment,perform:e=>{Ke.vE({store:this.props.store,transaction:e})}})}))}})},this.handleDelete=e=>{if(this.isDisabled())return;const t=A.default.state;"editing"===t.mode&&t.multiSelection.start.store===this.props.store&&(F.createAndCommit({userAction:"FormulaInputText.handleDelete",environment:this.environment,perform:o=>{ze.as({environment:this.environment,multiSelection:t.multiSelection,deleteForwards:!0,transaction:o,event:e})}}),this.scrollSelectionIntoView())},this.handleBackspace=e=>{if(this.isDisabled())return;const t=A.default.state;if("editing"===t.mode&&t.multiSelection.start.store===this.props.store){if(ze.YV({device:this.environment.device,event:e,multiSelection:t.multiSelection}))return;F.createAndCommit({userAction:"FormulaInputText.handleBackspace",environment:this.environment,perform:o=>{ze.as({environment:this.environment,multiSelection:t.multiSelection,deleteForwards:!1,transaction:o,event:e})}}),this.scrollSelectionIntoView()}},this.handleUndo=e=>{var t;e.preventDefault();(null===(t=Xe.default.state.revisionStack[Xe.default.state.currentIndex].transactions)||void 0===t||null===(t=t[0].stores)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id)===this.props.store.id&&Ue.Yw(this.environment)},this.handleRedo=e=>{var t;e.preventDefault();(null===(t=Xe.default.state.revisionStack[Xe.default.state.currentIndex].transactions)||void 0===t||null===(t=t[0].stores)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id)===this.props.store.id&&Ue.Yw(this.environment)},this.handleCommandEnterOnKeyDown=e=>{(0,Qe.Z)(this.environment,e,"command+enter")&&(this.props.handleSave(),e.stopPropagation())},this.handleShiftEnter=e=>{var t,o,n;if(this.isDisabled())return;if(null===(t=e.preventDefault)||void 0===t||t.call(e),this.editor&&this.editor.isComposing)return;const i=A.default.state,r="editing"===i.mode&&(0,V.QY)(i.multiSelection);if(!r)return;const l=this.textValueStore.state,a=Ne.p4(M.QaF(l)),s=null===(o=a.slice(0,r.selection.startIndex).join("").split("\n"))||void 0===o?void 0:o.at(-1),d=(null==s||null===(n=s.match(/^\t*/))||void 0===n?void 0:n[0].length)||0,c=(null==s?void 0:s.split("").reverse())||[];let u=0;const p=c.some((e=>{if(")"===e)u++;else if("("===e){if(0===u)return!0;u--}return!1}))?d+1:d;let m="\t".repeat(p);const h=")"===a[r.selection.endIndex],g=!(null==s||!s.endsWith("("))&&h;g&&(m+=`\n${"\t".repeat(p-1)}`),F.createAndCommit({userAction:"FormulaInputText.handleShiftEnter",environment:this.environment,perform:e=>{Ke.hJ({environment:this.environment,store:this.props.store,string:`\n${m}`,selection:r.selection,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:e}),g&&Z.Z5({store:this.props.store,selection:{startIndex:r.selection.startIndex+p+1,endIndex:r.selection.startIndex+p+1}})}}),this.scrollSelectionIntoView()},this.handleTab=e=>{if(this.isDisabled())return;e.preventDefault();const t=A.default.state,o="editing"===t.mode&&(0,V.QY)(t.multiSelection);o&&F.createAndCommit({userAction:"FormulaInputText.handleTab",environment:this.environment,perform:e=>{Ke.wA({environment:this.environment,store:this.props.store,selection:o.selection,transaction:e,shouldStripTokens:!1,disableFilters:!0})}})},this.handleUntab=e=>{if(this.isDisabled())return;e.preventDefault();const t=A.default.state,o="editing"===t.mode&&(0,V.QY)(t.multiSelection);o&&F.createAndCommit({userAction:"FormulaInputText.handleUntab",environment:this.environment,perform:e=>{Ke.O5({environment:this.environment,store:this.props.store,selection:o.selection,transaction:e,shouldStripTokens:!1,disableFilters:!0})}})},this.handleAnnotation=e=>{this.isDisabled()||e.preventDefault()},this.handleCopy=e=>{var t;const o=window.getSelection();null!=o&&o.anchorNode&&null!==(t=this.editor)&&void 0!==t&&null!==(t=t.getNode())&&void 0!==t&&t.contains(o.anchorNode)&&me.JG({environment:this.environment,event:e})},this.handleCut=e=>{this.isDisabled()?e.preventDefault():(me.by({environment:this.environment,event:e}),this.scrollSelectionIntoView())},this.handlePaste=e=>{this.isDisabled()?e.preventDefault():(F.createAndCommit({userAction:"FormulaInputText.handlePaste",environment:this.environment,perform:t=>{me.v({environment:this.environment,event:e,disableEmbedMenu:!0,transaction:t,onPasteFiles:me.AL})}}),this.scrollSelectionIntoView())},this.handleMoveUp=e=>{F.createAndCommit({userAction:"FormulaInputText.handleMoveUp",environment:this.environment,perform:e=>{Ke.fs({environment:this.environment,transaction:e,direction:"up"})}})},this.handleMoveDown=e=>{F.createAndCommit({userAction:"FormulaInputText.handleMoveDown",environment:this.environment,perform:e=>{Ke.fs({environment:this.environment,transaction:e,direction:"down"})}})},this.handleMouseOver=e=>{Ye.vO({environment:this.environment,event:e,textValue:this.textValueStore.state,editorNode:this.getEditorNode(),store:this.props.store,canEdit:!this.isDisabled()})},this.handleMouseOut=e=>{Ye.kV({environment:this.environment,event:e,textValue:this.textValueStore.state,editorNode:this.getEditorNode(),store:this.props.store,canEdit:!this.isDisabled()})},this.scrollSelectionIntoView=()=>{const e=window.getSelection();null!=e&&e.rangeCount&&Le.default.afterNextFlush((()=>{var t;const o=e.getRangeAt(0).getClientRects()[0],n=null===(t=this.editor)||void 0===t||null===(t=t.getNode())||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.parentElement,i=null==n?void 0:n.getBoundingClientRect();o&&n&&i&&(i.top>=o.top?n.scrollTo({top:n.scrollTop+(o.top-i.top)-6}):i.bottom<=o.bottom+o.height&&n.scrollTo({top:n.scrollTop+(o.bottom-i.bottom)+28}))}))},this.isDisabled=()=>this.props.disabled,this.createSyntaxToken=e=>fe.Gs(e)?[e.data]:fe.kK(e)?[e.textContent||"",e.className]:void 0,this.getHtml=(e,t)=>{const{Prism:o}=this.props,n=M.QaF(e),i="notion",r=o.languages.notion,s=document.createElement("div"),d=o.highlight(n,r,i);s.innerHTML=ye.g7(d);const c=C.oA(Array.from(s.childNodes).map(this.createSyntaxToken));for(const l of t)e=M.aSf({textValue:e,selection:l,annotation:[M.GKr.FormulaError]});const u=this.renderSyntaxTokens(C.oA(c),e||[]),p=l()(a.Fragment,{},void 0,u,l()("span",{},void 0,"\n"));return Ge.Z.renderToStaticMarkup(p)},this.clearBrowserSelection=()=>{var e;null===(e=this.getEditorNode())||void 0===e||e.blur()},this.textValueStore=new Oe.Z((()=>this.props.store.getValue()||[]),{debugName:"FormulaInputText.textValueStore"}),this.isEditing=this.createComputedStore((()=>{var e;const t=A.default.state;return"editing"===t.mode&&(null===(e=(0,V.QY)(t.multiSelection))||void 0===e?void 0:e.store)===this.props.store})),this.getContainerSelection=()=>{if(this.isEditing.state)return(0,je.HE)(this.props.store)},this.getEndSelection=()=>{const e=Ne.p4(M.QaF(this.textValueStore.state));return{startIndex:e.length,endIndex:e.length}},this.editorRef=e=>{this.editor=e}}willMount(e){e.focus&&Z.NX({store:e.store})}renderComponent(){const{store:e,disabled:t,handleSave:o}=this.props;return l()(et.Z,{capture:!0,allowEnter:!0,allowTabUntab:!0,allowUndo:!0,allowEsc:!0,allowCopyPaste:!0},void 0,l()(tt.Z,{store:e,disabled:t,clearBrowserSelection:this.clearBrowserSelection,getEndSelection:this.getEndSelection,onClick:this.handleClick,onDelete:this.handleDelete,onBackspace:this.handleBackspace,onShiftEnter:this.handleShiftEnter,onCommandShiftEnter:C.yR,onTab:this.handleTab,onUntab:this.handleUntab,onToggleBold:this.handleAnnotation,onToggleItalics:this.handleAnnotation,onToggleUnderline:this.handleAnnotation,onToggleStrike:this.handleAnnotation,onToggleCode:C.yR,onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste,onMoveUp:this.handleMoveUp,onMoveDown:this.handleMoveDown,onUndo:this.handleUndo,onRedo:this.handleRedo,onEsc:o,render:this.renderContentContainer,disableAnnotation:!0,disableMentions:!0,disableSlashCommands:!0,canSelectAllBlocks:!1,canInsertText:!0,canSelectionDrag:!0,disableMobileActionBar:!0,topBottomPadding:40,pasteBehavior:"inline"}))}getEditorNode(){var e;return(null===(e=this.editor)||void 0===e?void 0:e.getNode())||void 0}}ot.displayName="FormulaInputText",ot.contentEditableStyle={flexGrow:1,flexShrink:1,textAlign:"left",fontFamily:x.Z.getCompositeFontFamily(We.SP).githubMono,fontSize:12,tabSize:2,whiteSpace:"pre-wrap",borderRadius:3,minHeight:"1em",height:"100%",wordBreak:"break-all",paddingLeft:12,paddingRight:13,paddingBottom:10};const nt=(0,Ce.withDependency)(Ce.deps.prismjs,((e,t)=>a.createElement(ot,i()({},t,{Prism:e}))));function it(e){window.__c={n:"FormulaInput"};const{evaluationErrors:t,initialCode:o,parentSpaceId:n,outputFooter:i,disabled:r,typecheckContext:g,formulas:v,handleBack:f,onCodeChange:y,onTypeChange:x,parentCollection:w}=e,F=(0,k.useIntl)(),T=(0,s.Fy)(),{store:R,setValue:E}=(0,I.useMockTextStore)({initialValue:o,onChange:y,source:"formula",parentCollection:w}),B=(0,a.useCallback)((e=>{if(E(e.newValue),e.newSelection){const t={start:{store:R,index:e.newSelection.startIndex},end:{store:R,index:e.newSelection.endIndex}};Z.NA({multiSelection:t})}}),[E,R]),D=(0,d.VK)((()=>{var e;const t=A.default.state;if("editing"===t.mode&&(null===(e=(0,V.QY)(t.multiSelection))||void 0===e?void 0:e.store)===R)return{startIndex:t.multiSelection.start.index,endIndex:t.multiSelection.end.index}}),[R]),L=(0,d.VK)((()=>!C.Xy(R.getValue(),o)),[o,R]),{handleClose:W}=e,O=(0,a.useCallback)((()=>{W(R.getValue())}),[W,R]),N=(0,d.VK)((()=>R.getValue()),[R]),[H,G]=(0,d.VK)((()=>N?v.processFormulaInput(N):[void 0,void 0]),[N,v]),U=(0,d.VK)((()=>{if(H)return v.parseFormulaInput(H,G)}),[H,v,G]),K=(0,d.VK)((()=>{if(U)return v.convertFormulaCSTToAST(U[0])}),[v,U]),[z,Y]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{!async function(){if(K&&g&&S.x.isSuccess(K)){const e=await v.addTypesToFormulaASTAsync(K.value,g,G);Y(e),null==x||x(e.node.type)}else Y(void 0)}()}),[K,g,G,U,v,x]);const Q=(0,a.useMemo)((()=>{const e=z?[...(0,m.Kl)(z.node,!1),...z.errors]:[];return{parseErrors:(null==U?void 0:U[1])??[],typeErrors:e,evaluationErrors:t}}),[z,t,U]),q=(0,h.Kt)(Q,400,Object.is),j=Q.parseErrors.length+Q.typeErrors.length+Q.evaluationErrors.length>0,$=(0,d.VK)((()=>function(e){const{errors:t,intl:o,codeLength:n,formulas:i}=e,{parseErrors:r,typeErrors:l,evaluationErrors:a}=t,s=[];if(l&&l.length>0){const e=l.map((e=>{const t=(0,u.FR)((0,u.ic)(e));return{msg:o.formatMessage(...t),range:{startIndex:e.node.startOffset,endIndex:e.node.endOffset+1}}}));s.push(...e)}else if(a&&a.length>0){const e=a.map((e=>{const t=(0,u.FR)((0,u.OY)(e));return{msg:o.formatMessage(...t),range:i.isUniqueFormulaEvaluatorError(e)?{startIndex:e.node.startOffset,endIndex:e.node.endOffset+1}:void 0}}));s.push(...e)}if(r){const e=r.map((e=>{const t=(0,u.FR)((0,u.sG)(e));return{msg:o.formatMessage(...t),range:"eof"===e.offset?{startIndex:n-1,endIndex:n}:{startIndex:e.offset,endIndex:e.offset+1}}}));s.push(...e)}return s}({errors:q,codeLength:G?(0,p.eD)(G):(0,M.QaF)(N).length,formulas:v,intl:F})),[N,q,v,F,G]),X=(0,a.useMemo)((()=>$.map((e=>e.range)).filter(b.$K)),[$]),[J,ee]=(0,a.useState)(void 0),te=(0,a.useRef)(void 0),[oe,ne]=(0,a.useState)(void 0),ie=(0,a.useRef)(1);(0,a.useEffect)((()=>{ie.current++;const e=ie.current;!async function(){if(v){const t=await v.getFormulaEditorInfoAtPosition({formula:N??[],inputPosition:D&&D.startIndex===D.endIndex?D.startIndex:0,context:g,hideDeprecatedCompletions:!0});S.x.isSuccess(t)&&ie.current===e&&(te.current=t.value,ee(t.value))}}()}),[D,v,g,N]);const re=(0,d.VK)((()=>{var e;return!(null!==(e=P.default.state.currentUserSettingsStore)&&void 0!==e&&null!==(e=e.getSettings())&&void 0!==e&&e.dismissed_formulas2_footer)||false}),[]),le=(0,a.useCallback)((()=>{E(o)}),[o,E]);const ae=(0,c.yK)((e=>({container:{display:"flex",height:"100%",paddingBottom:re?30:void 0,flexDirection:"column"},editorSection:{display:"flex",flexDirection:"column",backgroundColor:"light"===e.mode?e.cardBackground:e.accentColors.gray[30]},inputText:{display:"flex",flexGrow:1,flexShrink:1,overflow:"auto",maxHeight:"min(calc(90vh - 240px - 38px - 30px), 298px)",minHeight:"28px",cursor:"text"},bottomSection:{display:"flex",flexDirection:"row",height:T.isMobile?"100%":240,maxHeight:T.isMobile?void 0:"calc(90vh - 38px - 31px - 38px - 30px)",borderTop:`1px solid ${e.outlineButtonBorder}`},leftColumn:{position:"relative",borderRight:`1px solid ${e.outlineButtonBorder}`,width:T.isMobile?"100%":void 0},rightColumn:{display:"flex",flexGrow:1},infoHelper:{padding:"12px 14px"}})),[re,T.isMobile]);return l()(_.Z,{capture:!0},void 0,l()("div",{style:ae.container},void 0,l()("div",{style:ae.editorSection},void 0,l()(rt,{handleBack:f,handleClose:O,handleRevert:le,showRevert:L,disabled:r}),l()("div",{style:ae.inputText},void 0,l()(nt,{value:N,focus:!0,store:R,disabled:r,parentSpaceId:n,valueTypes:g.valueTypes,errorRanges:X,handleSave:O},"input"))),$.length>0&&j?l()(lt,{errorMessagesWithRange:$}):i,!r&&l()("div",{style:ae.bottomSection},void 0,l()("div",{style:ae.leftColumn},void 0,l()(Ie,{store:R,context:g,selection:D,cursorEditorInfo:J,cursorEditorInfoRef:te,onChange:B,getRecordModel:e.getRecordModel,setInfoHelper:ne})),!T.isMobile&&l()("div",{style:ae.rightColumn},void 0,l()(Se,{infoHelper:oe,getRecordModel:e.getRecordModel,style:ae.infoHelper}))),re&&l()(st,{})))}const rt=a.memo((e=>{let{handleBack:t,handleClose:o,handleRevert:n,showRevert:r,disabled:d}=e;window.__c={n:"FormulaInputHeader"};const u=(0,s.O7)(),p=(0,c.yK)((e=>({headerRow:{display:"flex",color:e.mediumTextColor,flexDirection:"row",padding:"8px 2px 6px 12px",flexWrap:"wrap",fontWeight:500},headerLeft:{flexGrow:1,fontSize:14,display:"inline-flex",alignItems:"center"},headerTitle:{fontSize:12,display:"flex",alignItems:"center"},helpButton:{marginLeft:2,height:20,width:20},revertButton:{marginLeft:4,marginRight:4,color:e.mediumIconColor},buttonDone:{alignSelf:"right",marginRight:4,height:24,padding:"0 8px"},commandText:{color:e.mediumInvertedTextColor}})),[]);return l()("span",{style:p.headerRow},void 0,l()("span",{style:p.headerLeft},void 0,t&&l()(O.Z,{isGray:!0,isSmall:!0,icon:g.V,onClick:t},void 0,R.default.formatMessage(dt.back)),!t&&l()("span",{style:p.headerTitle},void 0,R.default.formatMessage(dt.formulaHeader),l()(N.Z,{placement:N.Z.Placement.Top,render:e=>a.createElement(D.Z,i()({},e,{ariaLabel:R.default.formatMessage(dt.learnTooltip),icon:f.m,href:(0,E.UY)("guides.formulas"),external:!0,style:p.helpButton})),renderTooltip:()=>R.default.formatMessage(dt.learnTooltip)}))),r&&l()(N.Z,{placement:N.Z.Placement.Top,render:e=>a.createElement(O.Z,i()({},e,{"aria-label":R.default.formatMessage(dt.revertTooltip),isGray:!0,isSmall:!0,style:p.revertButton,onClick:n}),R.default.formatMessage(dt.revert)),renderTooltip:()=>R.default.formatMessage(dt.revertTooltip)}),d?l()(B.Z,{onClick:o,style:p.buttonDone},void 0,R.default.formatMessage(dt.close)):l()(N.Z,{renderTooltip:()=>l()("div",{},void 0,l()("span",{},void 0,l()(k.FormattedMessage,{defaultMessage:"Accept",id:"database.formula.acceptFormulaInput.tooltip"}))," ",l()("span",{style:p.commandText},void 0,w.fg(u).command,"+Enter")),render:e=>a.createElement(B.Z,i()({onClick:o,style:p.buttonDone},e),R.default.formatMessage(dt.done))}))})),lt=a.memo((e=>{let{errorMessagesWithRange:t}=e;window.__c={n:"FormulaErrorsHelper"};const o=(0,c.yK)((e=>({errors:{display:"flex",flexDirection:"row",alignItems:"center",padding:10,fontSize:x.Z.fontSize.UISmall.desktop,height:38,width:"100%",borderTop:`1px solid ${e.outlineButtonBorder}`,textWrap:"nowrap",color:e.darkTextColor,flexShrink:0},icon:{width:12,height:12,fill:"light"===e.mode?e.accentColors.red[400]:e.accentColors.red[700],display:"inline",marginRight:4,marginTop:1},errorMessages:{overflow:"hidden",textOverflow:"ellipsis",color:"light"===e.mode?e.accentColors.red[500]:e.accentColors.red[800]}})),[]);return 0===t.length?null:l()("div",{style:o.errors},void 0,(0,y.t)(o.icon),l()("span",{style:o.errorMessages},void 0,t.slice(0,3).map(((e,t)=>l()(at,{index:t,errorMessageWithRange:e},t)))))}));function at(e){let{errorMessageWithRange:t,index:o}=e;window.__c={n:"FormulaErrorsHelperError"};const{msg:n,range:i}=t,r=(0,c.yK)((()=>({errorRange:{opacity:.75}})),[]);return a.createElement(a.Fragment,null,o>0?" ":null,n,void 0!==i&&a.createElement(a.Fragment,null," ",l()("span",{style:r.errorRange},void 0,`[${i.startIndex},${i.endIndex}]`)))}const st=a.memo((()=>{window.__c={n:"FormulaUpdateFooter"};const e=(0,s.Fy)(),t=(0,s.O7)(),o=(0,a.useCallback)((()=>{const e=P.default.state.currentUserSettingsStore;e&&F.createAndCommit({userAction:"TutorialActions.dismissTutorial",environment:t,perform:t=>{T.d2({userSettingsStore:e,transaction:t,data:{dismissed_formulas2_footer:!0}})},userId:e.id,canUndo:!1})}),[t]),n=(0,c.yK)((t=>({updateBanner:{zIndex:1,position:e.isMobile?void 0:"absolute",alignSelf:"flex-end",justifySelf:"flex-end",bottom:0,display:"flex",flex:"none",alignItems:"center",fontSize:x.Z.fontSize.UISmall.desktop,paddingLeft:4,paddingRight:8,minHeight:30,height:"auto",width:"100%",color:t.mediumTextColor,borderTop:`1px solid ${t.outlineButtonBorder}`},messageText:{flexGrow:1,marginLeft:4,marginTop:6,marginBottom:6},icon:{width:14,height:14,color:t.blueColor},dismissButton:{marginLeft:2,borderRadius:"100%"},iconCloseStyle:{width:12,height:12}})),[e.isMobile]);return l()("div",{style:n.updateBanner},void 0,l()(W.Z,{}),l()(L.Z,{href:(0,E.UY)("guides.formulasWhatsChanged"),external:!0,style:n.messageText},void 0,R.default.formatMessage(dt.learnMoreFooter)),l()(D.Z,{ariaLabel:R.default.formatMessage(dt.learnMoreFooter),style:n.dismissButton,onClick:o,icon:v.U}))}));const dt=(0,k.defineMessages)({learnMoreFooter:{id:"formula2Input.learnMore.button.label",defaultMessage:"We've recently updated our formula language! Learn more."},back:{defaultMessage:"Back",id:"formulas.SimpleFormulaValuePicker.back"},formulaHeader:{id:"formula2Input.NotionFormula",defaultMessage:"Notion Formula"},done:{id:"formula2Input.done",defaultMessage:"Done"},close:{id:"formula2Input.close",defaultMessage:"Close"},learnTooltip:{id:"formula2Input.learnAboutFormulas",defaultMessage:"Learn about formulas!"},revert:{id:"formula2Input.revert",defaultMessage:"Revert"},revertTooltip:{id:"formula2Input.revertTooltip",defaultMessage:"Revert to previous formula"},errorCount:{id:"formula2Input.errorCount",defaultMessage:"{count, plural, one {{count} error} other {{count} errors}}"}})},21396:(e,t,o)=>{o.d(t,{F:()=>h,e:()=>m});var n=o(10434),i=o.n(n),r=(o(21703),o(67294)),l=o(24405),a=o(84116),s=o(49019),d=o(53016),c=o(26774),u=o(97880),p=o(93044);function m(e){if(e.kind===a.yp.ContextValue)return e.name;if(e.kind===a.yp.Binding||e.kind===a.yp.ThisRow)throw new Error("Not implemented yet.");(0,u.t1)(e)}function h(e){window.__c={n:"FormulaValueToken"};const{value:t}=e,o=(0,l.Fg)(),n=m(t);let a,u;if("date"===t.type.type?a=d.V:"person"===t.type.type?a=c.O:("block"===t.type.type||"array"===t.type.type&&"block"===t.type.of.type)&&(a=s.e),a){const e=a;u=()=>e({width:12,height:12,marginRight:4})}return r.createElement(p.ZP,i()({},e,{title:n,renderAvatar:u,shouldShrink:!0,style:{background:o.outlineBlueButtonPressedBackground,color:o.blueColor,padding:"2px 4px"}}))}},37652:(e,t,o)=>{o.d(t,{V:()=>r});var n=o(23174),i=o.n(n);o(67294);const r=(0,o(45238).I)("arrowLeft",{viewBox:"0 0 30 30",svg:i()("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})})},38715:(e,t,o)=>{o.d(t,{N:()=>l});var n=o(23174),i=o.n(n),r=o(67294);const l=(0,o(45238).I)("save",{viewBox:"0 0 16 16",svg:r.createElement(r.Fragment,null,i()("path",{d:"M7.99316 10.8877C8.16406 10.8877 8.31445 10.833 8.47168 10.6758L10.7686 8.46094C10.8848 8.34473 10.9463 8.22168 10.9463 8.05762C10.9463 7.74316 10.6934 7.51074 10.3857 7.51074C10.2285 7.51074 10.0713 7.5791 9.96191 7.70215L8.99805 8.7207L8.56055 9.21973L8.62891 8.20801V1.11914C8.62891 0.78418 8.3418 0.49707 7.99316 0.49707C7.65137 0.49707 7.36426 0.78418 7.36426 1.11914V8.20801L7.43262 9.22656L6.98828 8.7207L6.03125 7.70215C5.92188 7.5791 5.75781 7.51074 5.60059 7.51074C5.29297 7.51074 5.04004 7.74316 5.04004 8.05762C5.04004 8.22168 5.1084 8.34473 5.22461 8.46094L7.52148 10.6758C7.67871 10.833 7.8291 10.8877 7.99316 10.8877ZM4.0625 15.3174H11.9307C13.4072 15.3174 14.1729 14.5586 14.1729 13.1025V6.36914C14.1729 4.91309 13.4072 4.1543 11.9307 4.1543H10.0781V5.49414H11.8486C12.4775 5.49414 12.833 5.82227 12.833 6.48535V12.9863C12.833 13.6494 12.4775 13.9775 11.8486 13.9775H4.14453C3.50879 13.9775 3.16016 13.6494 3.16016 12.9863V6.48535C3.16016 5.82227 3.50879 5.49414 4.14453 5.49414H5.92871V4.1543H4.0625C2.58594 4.1543 1.82031 4.91309 1.82031 6.36914V13.1025C1.82031 14.5586 2.58594 15.3174 4.0625 15.3174Z"}))})},78807:(e,t,o)=>{o.d(t,{l:()=>r});var n=o(23174),i=o.n(n);o(67294);const r=(0,o(45238).I)("statusCompleteGroup",{viewBox:"0 0 17 17",svg:i()("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.71094 12.0781C8.00781 12.0781 8.27344 11.9219 8.44531 11.6562L11.8828 6.32031C11.9922 6.14844 12.0781 5.95312 12.0781 5.77344C12.0781 5.35156 11.7109 5.07031 11.3125 5.07031C11.0547 5.07031 10.8281 5.21094 10.6562 5.49219L7.6875 10.2578L6.29688 8.51562C6.10938 8.27344 5.91406 8.17969 5.67188 8.17969C5.25781 8.17969 4.92188 8.50781 4.92188 8.92969C4.92188 9.125 5 9.30469 5.14062 9.48438L6.94531 11.6641C7.16406 11.9375 7.40625 12.0781 7.71094 12.0781Z"})})}}]);