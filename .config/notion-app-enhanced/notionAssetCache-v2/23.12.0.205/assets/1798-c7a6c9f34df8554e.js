"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1798],{77671:(e,t,i)=>{i.d(t,{B:()=>p,N:()=>c});var a=i(12955),n=i(24608),o=i(15517),s=i(11646),r=i(47307),d=i(97977),l=i(75018);function m(e,t,i){return(0,n.ZP)({environment:e,url:`/__admin/${t}`,method:"POST",data:i,format:"json"})}async function c(e,t){return m(e,"loginAsUser",t)}async function p(e){if(!(await a.getGhostAdminUserId(e)))return void d.actuallyLogoutAndDeleteAllLocalData({environment:e});if("success"===(await async function(e,t){return m(e,"logoutAsUser",t)}(e,{})).type){const t=e.currentUser.id;return t&&(await s.transactionQueue.clearForUser(t),o.ZL(t)),l.navigate({environment:e,url:"/__admin"}),void location.reload()}r.showMessage({message:"There was an issue logging back in to your admin account. Logging out fully.",onAccept:()=>{d.actuallyLogoutAndDeleteAllLocalData({environment:e})}})}},63908:(e,t,i)=>{i.d(t,{O:()=>o});var a=i(89101),n=i(97977);async function o(e){const{environment:t,userId:i}=e;await n.handleLoginSuccess({environment:t,isNewSignup:!1,userId:i,previousPersistedUserId:"admin",loginMethod:"admin"}),window.location.href=a._j.root}},3104:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(23174),n=i.n(a),o=i(67294),s=i(82990),r=i(77907),d=i(64369);function l(e){const{data:t,hideHelp:i,customCollapsedRenderers:a}=e,l={fontWeight:s.Z.fontWeight.bold,fontSize:18,marginBottom:8};return o.createElement(o.Fragment,null,!i&&o.createElement(o.Fragment,null,n()("div",{style:l},void 0,"Success"),n()(d.Z,{isSmall:!0,isMultiline:!0,style:{marginBottom:8}},void 0,"Click on a value to copy it into your clipboard.")),n()(r.LazyAdminReactJson,{data:t,customCollapsedRenderers:a}))}},86867:(e,t,i)=>{i.d(t,{v:()=>k,Z:()=>R});var a=i(23174),n=i.n(a),o=i(67294),s=i(83355),r=i(7057),d=i(24211),l=i(82990),m=i(5366),c=i(77671),p=i(47307),u=i(92625),g=i(63908),h=i(59266),y=i(15517),f=i(49085);class b extends f.default{getInitialState(){return{loginEmail:"",intercomLink:"",preferredLoginRole:"restricted"}}}const v=b;var S=i(77080),w=i(74194),N=i(63296);const k={full:{text:"read-write"},restricted:{text:"view-only"}};class I extends s.Z{constructor(){super(...arguments),this.storeTypes={store:v},this.handleLoginEmailChange=e=>{const{store:t}=this.stores;t.setState({...t.state,loginEmail:e.target.value})},this.handleIntercomLinkChange=e=>{const{store:t}=this.stores;t.setState({...t.state,intercomLink:e.target.value})},this.handlePreferredLoginRoleChange=e=>{const{store:t}=this.stores;t.setState({...t.state,preferredLoginRole:e})},this.handleSubmit=async e=>{const{store:t}=this.stores,{loginEmail:i,intercomLink:a,preferredLoginRole:n}=t.state,o=(0,m.defineMessages)({loggingInAs:{id:"adminLoginAsUser.loggingInAs.loadingMessage",defaultMessage:"Logging in as {userEmail}"}});if(!S.default.checkGate("user_data_consent_admin_bypass")&&0===a.length)return void p.showErrorMessage("You must include a support ticket link to login as a user!");e.target.blur(),u.j({message:o.loggingInAs,interpolatedValues:{userEmail:i}}),y.ZL(),sessionStorage.clear();const s=await c.N(this.environment,{email:i,intercomLink:a,preferredLoginRole:n});if("failed"===s.type)u.x(),p.showError(s);else{const{userId:e}=s.data,t=`Success! click "Continue" to enter account for "${i}".`,a=s.data.expiryTime?`${t} The user has granted access until ${(0,r.Yx)(s.data.expiryTime,"medium_with_time",d.al)}.`:t;u.x(),p.showDialog({message:a,showCancel:!1,keepFocus:!0,items:[{label:"Continue",color:"blue",onAccept:()=>{g.O({userId:e,environment:this.environment})}}]})}}}willMount(e){e.email&&this.stores.store.setState({...this.stores.store.state,loginEmail:e.email})}renderComponent(){const{store:e}=this.stores,t=!S.default.checkGate("user_data_consent_admin_bypass"),i=Object.keys(k);return n()("div",{},void 0,n()("div",{style:I.headerStyle},void 0,"Log In as User"),t?n()(o.Fragment,{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Support ticket link"),n()(w.Z,{value:e.state.intercomLink,onChange:this.handleIntercomLinkChange,style:{marginBottom:8},placeholder:h.ZT})):void 0,this.props.email?n()("div",{},void 0,"Log in as ",this.props.email):o.createElement(o.Fragment,null,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"User email"),n()(w.Z,{value:e.state.loginEmail,onChange:this.handleLoginEmailChange,onSubmit:this.handleSubmit,style:{marginBottom:8},placeholder:h.cL})),(0,h.v2)()?n()("div",{style:{display:"flex",flexDirection:"row"}},void 0,i.map((e=>n()(N.Z,{isLarge:!0,onClick:async t=>{this.handlePreferredLoginRoleChange(e),await this.handleSubmit(t)},style:{marginRight:"5px"}},void 0,"Log in as ",k[e].text)))):n()(N.Z,{isLarge:!0,onClick:this.handleSubmit},void 0,"Login"))}}I.displayName="AdminLoginAsUser",I.headerStyle={fontWeight:l.Z.fontWeight.bold,fontSize:18,marginTop:24};const R=I},36360:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(83355);class n extends a.Z{willMount(e){document.title=e.title}willUpdate(e){document.title=e.title}renderComponent(){return this.props.children}}n.displayName="DocumentTitle";const o=n},59266:(e,t,i)=>{i.d(t,{It:()=>Oe,_c:()=>fe,KC:()=>xe,Fr:()=>Be,AA:()=>Le,H2:()=>Ce,G0:()=>Fe,Cw:()=>Ae,v2:()=>Ee,Ic:()=>Ne,EJ:()=>ke,ZT:()=>De,cL:()=>Se,VX:()=>we,b9:()=>be,uy:()=>ve});var a=i(23174),n=i.n(a),o=i(67294);i(30120);const s={adminPrimaryWorkspaceChange:!0,adminDeleteFileFromS3:!0,adminDescribeDeleteFileFromS3:!0,adminGetSpacesForAllowedEmailDomain:!0,adminDescribeAccountsToReset:!0,adminResetAccounts:!0,adminDescribeSpacesToDelete:!0,adminDescribeRunSpaceConsolidation:!0,adminDeleteSpaces:!0,adminDeleteUser:!0,adminGetOwnership:!1,adminGetUserBillingInformation:!0,adminListData:!0,adminRemoveAllowedEducationEmails:!0,adminBulkAddPromotionCodes:!0,adminCopyPageBetweenEnvironments:!0,adminSetSpaceDomain:!0,adminShowCustomerInvoice:!0,adminSwapUserDomains:!0,adminSwapUserEmails:!0,adminGetPublicPages:!0,adminBlockEmailDomain:!0,adminEditSpacePermissions:!0,adminBanUser:!0,adminBulkBanUsers:!0,adminRunSpaceConsolidation:!0,adminDowngradeFraudSubscription:!0,adminUpdateIntegrationData:!0,adminJoinSpacesForOauthRedirect:!0,adminGetSamlConfig:!0,adminSetupExperiment:!0,adminUpdateExperiment:!0,adminCancelSubscription:!0,adminEditTeamMembership:!0,adminUpdateTeamMember:!0,adminUpdateUserSettings:!0,adminIsSpaceDomainClaimEligible:!0,adminGetDomainClaimEligibleSpaces:!0,adminGetDomainManagementSettings:!0,adminClaimAndUpgradeForSalesAssisted:!0,adminSamlConfigForSpace:!0,adminDelayClaimSpaceDeletion:!0,adminRemoveChildFromExternalCollection:!0,adminUpdateAddOnSubscription:!0,adminReleaseSubscriptionSchedule:!0,adminBulkCreateTimedTrials:!0,adminRestoreDeletedGuestPermissions:!0,adminDescribeRestoreDeletedGuestPermissions:!0,adminBulkUpgradeEduPlusUser:!0,adminSearchUsers:!1,adminSearchForUsersInSpaces:!1,adminFindDeletedUser:!1,adminAllowlistCreditDomain:!1,adminSearchSpaces:!1,adminSearchBlocks:!1,adminOnboardAISlackQnA:!1,adminSearchTeams:!1,adminRemoveSpaceUsersAndTransferContent:!1,adminGetRateLimits:!1,adminResetRateLimits:!1,adminViewExperiments:!1,adminGetDataAccessConsent:!1,adminGetBulkSpaceIdsByDomain:!1,adminGetBulkSpaceIdsByEmail:!1,adminGetBulkUserIdsByEmail:!1,adminGetClientExperiments:!1,adminGetStatsigExperiment:!1,adminGetStatsigFeatureGate:!1,adminCheckStatsigSegment:!1,adminUpdateStatsigSegmentIds:!1,adminAddEmailToBypass:!1,adminChangeEmail:!1,adminSetDisableSpacePublicAccess:!1,adminDisableReverifyForUser:!1,adminAddPublicEmailDomains:!1,adminSetPageContentClassification:!1,disableUserAnalytics:!1,revokeUserTokens:!1,recoverSpace:!1,recoverUser:!1,getUserAdminApiLog:!1,getSpaceAdminApiLog:!1,getBlockAdminApiLog:!1,getAdminHistory:!1,adminModifyBlock:!1,adminCreateMarketingRoute:!1,adminCountWordsInPage:!1,adminRestoreBlock:!1,adminDescribeDeletedBlockPermissions:!1,adminRestoreDeletedCollectionProperties:!1,adminViewDeletedCollectionProperties:!1,adminBulkApplyPromotionCodes:!1,adminSearchPermanentlyDeletedPages:!1,adminSearchSpaceActivity:!1,adminDescribeEditSpacePermission:!1,adminGetIntegrationData:!1,adminGetSlackIntegrationData:!1,adminGetSyncedDatabaseData:!1,adminForceResyncExternalObjects:!1,adminUpdateSubscription:!1,adminEditBlockPermissions:!1,adminReadBlockPermissions:!1,adminUpdateNotionAIAvailabilityForSpace:!1,adminGetSpaceMembershipUpdates:!1,adminOptOutNotionAIDataSharing:!1,adminRecoverMfa:!1,adminExplainPaymentStatus:!1,adminGetBulkIds:!1,adminUpdatePaymentStatus:!1,adminAddLinkPreviewToSpace:!1},r={"Block Edited":"block-edited",Commented:"commented","Page Locked":"page-locked","Page Unlocked":"page-unlocked","Permissions Edited":"permissions-edited","Page Permanently Deleted":"page-permanently-deleted","Page restored":"page-restored"};var d=i(33728),l=i(12174),m=i(42875),c=i(72126),p=i(27006),u=i(21202),g=i(77420),h=i(60897),y=i(97715),f=i(9844),b=i(78929),v=i(15047),S=i(29369),w=i(19889),N=i(28182),k=i(3791),I=i(97880),R=i(70411),D=i(66897),x=i(45953),O=i(46769),E=i(66079),A=i(33929),C=i(8848);function U(e){const{table:t,record:i,children:a}=e;return n()("a",{href:`/__admin/${t}/${i.id}`,style:{cursor:"pointer",textDecoration:"none"}},void 0,a||o.createElement(o.Fragment,null,i.name,i.name&&" ",i.id))}function T(e){const{user:t,children:i}=e;return t?n()("a",{href:`/__admin/notion_user/${t.id}`,style:{cursor:"pointer",textDecoration:"none"}},void 0,i||o.createElement(o.Fragment,null,t.email," ",t.isBot&&" (bot)")):o.createElement(o.Fragment,null,"Unknown User")}const B={fontWeight:i(82990).Z.fontWeight.bold,fontSize:20,display:"flex",alignItems:"center",marginBottom:6},F={fontSize:12,color:C.ZP.mediumTextColor};function L(e){const{apiLog:t,adminUser:i}=e,a=i?(0,D.$4)(A.default.getIntl(),(0,D.dp)(i)):t.admin_user_id===w.s$.id?"NotionAdminProcess":`Unknown user: ${t.admin_user_id}`;return o.createElement(o.Fragment,null,`${new Date(t.timestamp).toLocaleString()} by `,n()("i",{},void 0,a)," via ",n()("i",{},void 0,t.event_name))}function j(e){const{opLog:t}=e,{operation:i}=t;return"set"===i.command||"update"===i.command?o.createElement(o.Fragment,null,n()("i",{},void 0,i.command)," ",n()("b",{},void 0,(i.path||[]).join("."))," to"," ",n()("b",{},void 0,JSON.stringify(i.args))):o.createElement(o.Fragment,null,JSON.stringify(t.operation))}function P(e){const{pointer:t,recordMap:i}=e,a=i&&i.getValue(t),{table:s}=t;if(!a)return o.createElement(o.Fragment,null);if(s===v.bx||s===u.iU)return n()(U,{record:a,table:s},a.id);if(s===N.Sr||s===O.j||s===E.dx){const e=a;return n()(U,{record:e,table:w.KJ},e.id)}return s===w.KJ?n()(U,{record:a,table:s},a.id,(0,D.$4)(A.default.getIntl(),(0,D.dp)(a))):o.createElement(o.Fragment,null,JSON.stringify(a))}function _(e){window.__c={n:"AdminOpLogs"};const{opLogs:t,recordMapJson:i}=e,a=(0,o.useMemo)((()=>i&&x.Ak.create(i)),[i]);return o.createElement(o.Fragment,null,t.map((e=>n()("li",{},e.id,n()(j,{opLog:e}),a&&" on ",n()(P,{pointer:e.operation.pointer,recordMap:a})))))}function G(e){const{entry:t}=e;return n()("div",{},void 0,t.apiLog?n()(L,{apiLog:t.apiLog,adminUser:t.adminUser}):"????",n()("ul",{style:{marginTop:"0.1em",marginBottom:"0.5em"}},void 0,t.apiLog&&n()("li",{},"params","with params: ",JSON.stringify(t.apiLog.params)),n()(_,{opLogs:t.opLogs})))}function M(e){const{data:t}=e;return 0===t.changes.length?o.createElement(o.Fragment,null,"No changes"):o.createElement(o.Fragment,null,t.changes.map((e=>n()(G,{entry:e},e.apiLog?e.apiLog.id:"unknown_key"))))}var V=i(13991),Z=i(7057),q=i(3104),W=i(36360);function J(e){const{time:t}=e;return t?o.createElement(o.Fragment,null,t):o.createElement(o.Fragment,null,"No time recorded")}const $=e=>{let{data:t,keyPath:i}=e;return i.includes("permissions")&&"from"===i[0]?{element:n()("span",{},void 0,t.parentLevel),expanded:!1}:null};var z=i(64369);function H(e){const[t,i]=o.useState(!1),{title:a,items:s,renderItem:r}=e;return o.createElement(o.Fragment,null,n()(z.Z,{isSmall:!0,isMultiline:!0,style:{marginTop:4,marginBottom:8}},void 0,a,": ",(s||[]).length,n()("span",{style:{paddingLeft:5,cursor:"pointer",color:"blue",textDecoration:"underline",fontSize:"small"}},void 0,!t&&n()("a",{onClick:()=>i(!0)},void 0,"(show)"),t&&n()("a",{onClick:()=>i(!1)},void 0,"(hide)")),t&&s&&n()("ul",{},void 0,s.map(r))))}function K(e){return n()(H,{title:e.title,items:e.users,renderItem:e=>n()("li",{},e.id,n()(T,{user:e}))})}function Y(e){return n()(H,{title:e.title,items:e.bots,renderItem:e=>{var t;return n()("li",{},e.id,e.name||"unnamed"," created by ",null===(t=e.createdBy)||void 0===t?void 0:t.id," on"," ",e.createdAt,", type: ",e.type)}})}function Q(e){let{teams:t}=e;return n()(H,{title:"Teamspaces",items:t,renderItem:e=>n()("li",{},e.id,e.name)})}var X=i(64684);var ee=i(86867);const te={fillRule:"evenodd",clipRule:"evenodd",fill:"#635BFF"},ie=()=>n()("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 468 222.5",style:{height:"15px"}},void 0,n()("g",{},void 0,n()("path",{style:te,d:"M414,113.4c0-25.6-12.4-45.8-36.1-45.8c-23.8,0-38.2,20.2-38.2,45.6c0,30.1,17,45.3,41.4,45.3 c11.9,0,20.9-2.7,27.7-6.5v-20c-6.8,3.4-14.6,5.5-24.5,5.5c-9.7,0-18.3-3.4-19.4-15.2h48.9C413.8,121,414,115.8,414,113.4z M364.6,103.9c0-11.3,6.9-16,13.2-16c6.1,0,12.6,4.7,12.6,16H364.6z"}),n()("path",{style:te,d:"M301.1,67.6c-9.8,0-16.1,4.6-19.6,7.8l-1.3-6.2h-22v116.6l25-5.3l0.1-28.3c3.6,2.6,8.9,6.3,17.7,6.3 c17.9,0,34.2-14.4,34.2-46.1C335.1,83.4,318.6,67.6,301.1,67.6z M295.1,136.5c-5.9,0-9.4-2.1-11.8-4.7l-0.1-37.1 c2.6-2.9,6.2-4.9,11.9-4.9c9.1,0,15.4,10.2,15.4,23.3C310.5,126.5,304.3,136.5,295.1,136.5z"}),n()("polygon",{style:te,points:"223.8,61.7 248.9,56.3 248.9,36 223.8,41.3 \t"}),n()("rect",{x:"223.8",y:"69.3",style:te,width:"25.1",height:"87.5"}),n()("path",{style:te,d:"M196.9,76.7l-1.6-7.4h-21.6v87.5h25V97.5c5.9-7.7,15.9-6.3,19-5.2v-23C214.5,68.1,202.8,65.9,196.9,76.7z"}),n()("path",{style:te,d:"M146.9,47.6l-24.4,5.2l-0.1,80.1c0,14.8,11.1,25.7,25.9,25.7c8.2,0,14.2-1.5,17.5-3.3V135 c-3.2,1.3-19,5.9-19-8.9V90.6h19V69.3h-19L146.9,47.6z"}),n()("path",{style:te,d:"M79.3,94.7c0-3.9,3.2-5.4,8.5-5.4c7.6,0,17.2,2.3,24.8,6.4V72.2c-8.3-3.3-16.5-4.6-24.8-4.6 C67.5,67.6,54,78.2,54,95.9c0,27.6,38,23.2,38,35.1c0,4.6-4,6.1-9.6,6.1c-8.3,0-18.9-3.4-27.3-8v23.8c9.3,4,18.7,5.7,27.3,5.7 c20.8,0,35.1-10.3,35.1-28.2C117.4,100.6,79.3,105.9,79.3,94.7z"})));function ae(e){const{space:t,userRole:i}=e;return n()("li",{},t.id,n()(U,{table:"space",record:t})," • role: ",i," ",t.isDeleted&&" (deleted)"," •",n()("a",{href:t.billing.stripeCustomerUrl,style:{cursor:"pointer"}},void 0,n()(ie,{})))}function ne(e){const{spaces:t,title:i}=e;return 0===Object.keys(t).length?null:o.createElement(o.Fragment,null,n()("div",{},void 0,n()("h3",{},void 0,i),n()("b",{},void 0,`Count: ${Object.keys(t).length}`),n()("ol",{},void 0,Object.entries(t).map((e=>{let[t,i]=e;if(!i)return n()("li",{},t,t," (missing?)");const{space:a,userRole:o}=i;return c.xb(i)?n()("li",{},t,"Unknown space: ",t):n()(ae,{space:a,userRole:o})})))))}var oe=i(24405),se=i(72787);function re(e){const{globalUser:t}=e;return n()("div",{},void 0,n()("h3",{},void 0,"Slack Global User"),t?o.createElement(o.Fragment,null,n()("div",{},void 0,n()("b",{},void 0,"Global User Id: "),t.id),n()("div",{},void 0,n()("b",{},void 0,"Slack Enterprise Id: "),t.slack_enterprise_id||"N/A"),n()("div",{},void 0,n()(le,{slackGlobalUserPreferences:t.preferences}))):"N/A")}function de(e){const{slackLocalUsers:t}=e,i=t.length;return n()("div",{},void 0,n()("h3",{},void 0,`Slack Local Users (${i})`),i>0?n()("ol",{},void 0,t.map(((e,t)=>n()("li",{},t,n()("div",{},void 0,n()("b",{},void 0,"Slack User Id:")," ",e.slack_local_user_id),n()("div",{},void 0,n()("b",{},void 0,"Slack Workspace Id:")," ",e.slack_workspace_id))))):"N/A")}function le(e){const{slackGlobalUserPreferences:t}=e;return o.createElement(o.Fragment,null,n()("h3",{},void 0,"User Preferences"),t?n()(q.Z,{data:t,hideHelp:!0}):"N/A")}function me(e){const{notionTokens:t,spaces:i}=e,a=t.length;return n()("div",{},void 0,n()("h3",{},void 0,`Notion Bot Ids (${a})`),a>0?n()("ol",{},void 0,t.map(((e,t)=>n()("li",{},t,n()("div",{},void 0,n()("b",{},void 0,"Bot Id: "),e.notion_bot_id),n()("div",{},void 0,n()("b",{},void 0,"Bot Creator: "),n()(T,{user:e.botCreator})),n()("div",{},void 0,n()("b",{},void 0,"Notion Workspace: "),i[e.notion_workspace_id]?n()(U,{table:"space",record:{id:i[e.notion_workspace_id].id,name:i[e.notion_workspace_id].name}}):o.createElement(o.Fragment,null,e.notion_workspace_id)),n()("div",{},void 0,n()("b",{},void 0,"Is Token Alive?: "),`${e.alive}`))))):"N/A")}function ce(e){window.__c={n:"AccordionToggle"};const[t,i]=o.useState(!1),a=(0,oe.yK)((e=>({accordionItem:{border:`1px ${C.FN.dark.gray[850]} solid`,borderRadius:4,marginTop:8},accordionItemTitle:{display:"flex",justifyContent:"space-between",padding:"6px 12px",cursor:"pointer",userSelect:"none"},accordionItemHeading:{display:"flex",alignItems:"center"},accordionItemDetails:{paddingLeft:38,paddingRight:24,transition:"all 0.2s ease"},rightStyle:{width:22,height:18}})),[]);return n()("div",{style:a.accordionItem},void 0,n()("div",{style:a.accordionItemTitle,onClick:()=>i(!t)},void 0,n()("div",{style:a.accordionItemHeading},void 0,n()("div",{},void 0,e.title)),e.children&&n()("div",{style:{display:"flex",alignItems:"center"}},void 0,(0,se.Y)({width:12,height:12,color:C.ZP.regularIconColor,transform:t?"rotate(180deg)":void 0,transition:"transform 0.2s ease"}))),n()("div",{style:{...a.accordionItemDetails,opacity:t?1:0,flex:t?1:0,paddingBottom:t?8:0,transform:t?"translate3d(0,-4px,0)":"translate3d(0,-8px,0)"}},void 0,t&&e.children))}var pe=i(77907);var ue=i(59730);var ge=i(84076);i(95477);var he=i(80444),ye=i(77080);const fe={find:{title:"Find user and workspace information"},pricing:{title:"Pricing and credits"},recovery:{title:"Recovery"},security:{title:"Security"},rateLimits:{title:"Rate limits"},experiments:{title:"Experiments"},findAdminLogs:{title:"Find Admin logs"},utilities:{title:"Utilities"},integrations:{title:"Integrations"},marketing:{title:"Marketing"},domainClaim:{title:"Domain Claim (Management)"},spaceConsolidation:{title:"Workspace Consolidation"},ai:{title:"Notion AI"}},be="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",ve=`${be},${be}`,Se="user@example.com",we=`${Se},${Se}`,Ne="subdomain.example.com",ke="sub1.example.com,sub2.example.com",Ie="cus_xxxxxxxxxxxxxx",Re="2000-01-01",De="https://makenotion.zendesk.com/agent/tickets/xxxxxxx",xe=Object.keys(fe);let Oe=function(e){return e[e.String=0]="String",e[e.Number=1]="Number",e[e.Boolean=2]="Boolean",e[e.Options=3]="Options",e[e.Csv=4]="Csv",e[e.Image=5]="Image",e[e.Images=6]="Images",e[e.Timezone=7]="Timezone",e}({});function Ee(){const e=he.default.state.currentUserStore,t=null==e?void 0:e.getEmail();if(t){return"makenotion.com"===(0,d.Gd)(t)}return!1}function Ae(e,t){for(const i in e.schema){const a=e.schema[i];if(a.type===Oe.String&&a.table===t)return{key:i,schema:a}}}function Ce(e,t){if(e.apiName.match(t)||c.fl(e.apiName).match(t))return!0;if(e.displayName&&e.displayName.match(t))return!0;if("string"==typeof e.description&&e.description.match(t))return!0;for(const[i,a]of Object.entries(e.schema)){if(i.match(t)||c.fl(i).match(t))return!0;if(a.comment&&a.comment.match(t))return!0}return!1}const Ue=[],Te=[{sectionName:"integrations",apiName:"adminJoinSpacesForOauthRedirect",displayName:"Add a makenotion.com user to workspaces for OAuth redirect",emoji:"🔀",description:"Adds email as a member to 2 specific workspaces in prod that lets Notinos use certain integrations like Typeform in dev or staging. See guide: https://dev.notion.so/notion/Installing-Integrations-on-Dev-how-to-demo-faa4055c377c47a99a7ba6b2a7cc8c6b",schema:{userEmail:{type:Oe.String}},isDestructive:!1,isReadOnly:!1}],Be=[{sectionName:"find",apiName:"adminSearchUsers",displayName:"Find User Information",emoji:"🔎",isReadOnly:!0,description:"Fill out just one of the fields below. Returns information about a user.",schema:{userId:{type:Oe.String,table:w.KJ,showByDefaultInSingleRecordMode:!0},userEmail:{type:Oe.String}},customResponseRenderer:function(e){const{data:t,singleRecordMode:i}=e;return o.createElement(o.Fragment,null,i&&n()(W.Z,{title:`Notion User Admin: ${(0,D.$4)(A.default.getIntl(),(0,D.dp)({...t,version:0}))}`}),n()(ne,{title:"Current Spaces",spaces:t.spaces}),n()(ne,{title:"Left Spaces",spaces:t.leftSpaces}),n()("h3",{},void 0,"Full Response"),n()(q.Z,{data:t,hideHelp:!0}),n()(ee.Z,{email:t.email}))}},{sectionName:"findAdminLogs",apiName:"getUserAdminApiLog",displayName:"Find Admin Changes to User",emoji:"🔎",description:"Returns information about changes admins have made to a user.",isReadOnly:!0,schema:{userId:{type:Oe.String,table:w.KJ,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:M},{sectionName:"findAdminLogs",apiName:"getAdminHistory",displayName:"Find Changes an Admin User has made",emoji:"🔎",description:"Returns information about changes admins have made via admin tools",isReadOnly:!0,schema:{userId:{type:Oe.String,table:w.KJ,showByDefaultInSingleRecordMode:!1},destructiveOnly:{type:Oe.Boolean,defaultValue:!0}},customResponseRenderer:function(e){const{data:t}=e;return 0===t.changes.length?o.createElement(o.Fragment,null,"No changes"):o.createElement(o.Fragment,null,t.changes.map((e=>{const{apiLog:i,opLogs:a}=e;return n()(o.Fragment,{},i.id,new Date(i.timestamp).toDateString()," via ",i.event_name," - ",a&&a.length>0?n()(_,{opLogs:a,recordMapJson:t.adminRecordMap}):n()(pe.LazyAdminReactJson,{data:i.params}),n()("br",{}))})))}},{sectionName:"find",apiName:"adminSearchSpaces",displayName:"Find Workspace Information",emoji:"🔎",description:"Fill out just one of the fields below. Returns information about a workspace.",isReadOnly:!0,schema:{spaceId:{type:Oe.String,table:v.bx,showByDefaultInSingleRecordMode:!0},domain:{type:Oe.String},stripeCustomerId:{type:Oe.String,placeholder:Ie}},customResponseRenderer:function(e){const{data:t,singleRecordMode:i}=e,a=c.hj(t.users)?void 0:c.vM(t.users,"role"),s=Array.isArray(t.bots)?t.bots:[];return o.createElement(o.Fragment,null,i&&n()(W.Z,{title:`Notion Space Admin: ${t.name}`}),n()("h2",{},void 0,t.name," ",t.id,t.isDeleted&&n()("span",{style:{color:"red"}},void 0," DELETED")),n()("div",{},void 0,"Created By: ",n()(T,{user:t.createdBy})," on"," ",t.createdTime),t.isDeleted&&n()("div",{},void 0,"Deleted On: ",t.lastEditedTime),n()("div",{},void 0,a&&n()("div",{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Users by Role"),n()(K,{title:"Admins",users:a.admin}),n()(K,{title:"Membership admins",users:a.membership_admin}),n()(K,{title:"Members",users:a.member}),n()(K,{title:"Guests",users:a.guest}),n()(Y,{title:"Bots",bots:s})),t.teams&&n()("div",{},void 0,n()("div",{},void 0,"Teamspaces"),n()(Q,{teams:t.teams})),t.billing.isSubscribed&&n()("div",{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Billing"),n()(q.Z,{hideHelp:!0,data:t.billing})),t.spaceRequest&&n()("div",{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Space Request"),n()(q.Z,{hideHelp:!0,data:t.spaceRequest}))),n()("div",{},void 0,"Full Response",n()(q.Z,{data:t,hideHelp:!0})))}},{sectionName:"find",apiName:"adminSearchBlocks",displayName:"Find Block Information",emoji:"🔎",description:"Fill out the block id (can be from a page URL). Returns information about the block.",isReadOnly:!0,schema:{blockId:{type:Oe.String,table:u.iU,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:function(e){var t;const{data:i,singleRecordMode:a}=e,s=i.deleted.trashedByParent,r=i.deleted.permanentlyDeletedByParent;return o.createElement(o.Fragment,null,a&&n()(W.Z,{title:`Notion Block Admin: ${i.id}`}),n()("div",{style:{...B,paddingTop:5}},void 0,"Block ",i.id,i.deleted.isPermanentlyDeleted?" (permanently deleted)":i.deleted.isInTrash?" (in trash)":""),n()("div",{style:F},void 0,n()("div",{},void 0,"in space: ",n()(U,{table:"space",record:i.space})),i.createdBy&&n()("div",{},void 0,"created by: ",n()(T,{user:i.createdBy})," on"," ",n()(J,{time:i.createdTime})),i.lastEditedBy&&n()("div",{},void 0,"last edited by: ",n()(T,{user:i.lastEditedBy})," on"," ",n()(J,{time:i.lastEditedTime})),!i.deleted.isPermanentlyDeleted&&i.deleted.isInTrash&&(s?n()("div",{},void 0,"in trash due to: user trashed parent -"," ",n()(U,{table:s.table,record:s}),")"):n()("div",{},void 0,"in trash due to: user trashed this block")),i.deleted.isPermanentlyDeleted&&(r?n()("div",{},void 0,"permanently deleted due to: parent being permanently deleted"," ",r.table,":",r.id):n()("div",{},void 0,"permanently deleted due to: user permanently deleted this block")),(null===(t=i.publicStatus)||void 0===t?void 0:t.isPublic)&&n()("div",{},void 0,"Page made ",n()("b",{},void 0,"public")," on"," ",i.publicStatus.permission.added_timestamp?(0,Z.Yx)(i.publicStatus.permission.added_timestamp,"medium",V.SP):"N/A"," ","and"," ",i.publicStatus.isAllowedToBeServedOnBaseUrl?n()("span",{},void 0,"is ",n()("b",{},void 0,"allowed")," to be served on notion.so"):n()("span",{},void 0,"notion.so links will ",n()("b",{},void 0,"redirect")," to notion.site"))),n()("div",{},void 0,"Full Response",n()(q.Z,{data:i,hideHelp:!0,customCollapsedRenderers:[$]})))}},{sectionName:"find",apiName:"adminSearchTeams",displayName:"Find Teamspace Information",emoji:"🔎",description:"Fill out the teamspace id. Returns information about the teamspace.",isReadOnly:!0,schema:{teamId:{type:Oe.String,table:S.e0,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:function(e){const{data:t,singleRecordMode:i}=e;return o.createElement(o.Fragment,null,i&&n()(W.Z,{title:`Notion Teamspace Admin: ${t.name}`}),n()("h2",{},void 0,t.name," ",t.id,t.archivedBy&&n()("span",{style:{color:"red"}},void 0," ARCHIVED")),n()("div",{style:{marginBottom:16}},void 0,n()("div",{},void 0,"Created By: ",n()(T,{user:t.createdBy})," on ",t.createdTime),n()("div",{},void 0,"Access level: ",n()("b",{},void 0,(0,X.B5)(t.settings)))),n()("div",{},void 0,"Full Response",n()(q.Z,{data:t,hideHelp:!0})))}},{sectionName:"findAdminLogs",apiName:"getSpaceAdminApiLog",displayName:"Find Admin Changes to Space",emoji:"🔎",description:"Returns information about changes admins have made to a space.",isReadOnly:!0,schema:{spaceId:{type:Oe.String,table:v.bx,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:M},{sectionName:"findAdminLogs",apiName:"getBlockAdminApiLog",displayName:"Find Admin Changes to Block",emoji:"🔎",description:"Returns information about changes admins have made to a block.",isReadOnly:!0,schema:{blockId:{type:Oe.String,table:u.iU,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:M},{sectionName:"find",apiName:"adminSearchForUsersInSpaces",displayName:"Find All Unique Users in Workspaces",emoji:"🔎",description:"Download a CSV with unique users in each workspace",isReadOnly:!0,schema:{spaceIds:{type:Oe.String,comment:"Comma-separated space_ids to search through for unique users",table:v.bx},includeGuests:{type:Oe.Boolean,comment:"whether to include guests in the response"},showSpaceNames:{type:Oe.Boolean,comment:"whether to show the names of workspaces in the CSV, in addition to their space_ids"}}},{sectionName:"find",apiName:"adminGetDataAccessConsent",displayName:"Check data access consent expiry time",isReadOnly:!0,emoji:"🔐",description:"Check if the user has granted access and when that access will expire.",schema:{userEmail:{type:Oe.String}}},{sectionName:"find",apiName:"adminSearchPermanentlyDeletedPages",displayName:"Find permanently deleted pages in a workspace",isReadOnly:!0,emoji:"🙏🏽",description:"Find permanently deleted pages in a space. The result set is limited to 1000, please let us know in #eng-team if you need to load more.",schema:{spaceId:{type:Oe.String,comment:"Workspace id to search for deleted pages (required)",table:v.bx},query:{type:Oe.String,comment:"Return only deleted pages that match content (optional)"}}},(()=>{const e=(0,I.Yd)(r);return{sectionName:"find",apiName:"adminSearchSpaceActivity",displayName:"Search updates on a workspace",isReadOnly:!0,emoji:"🔎",description:"Search updates that have occured on a workspace.",schema:{spaceId:{type:Oe.String,comment:"Workspace id to search",table:v.bx},blockId:{type:Oe.String,comment:"Block id to search",table:u.iU},activityType:{type:Oe.Options,comment:"(optional) Filter by activity type",options:e},startDate:{type:Oe.String,comment:"(optional) Date to start search from. Must be in yyyy-mm-dd format."},endDate:{type:Oe.String,comment:"(optional) Date to search on or before. Must be in yyyy-mm-dd format."}}}})(),{sectionName:"find",apiName:"adminGetPublicPages",displayName:"Get public pages in a Workspace",isReadOnly:!0,emoji:"🔎",description:"Gets public pages for a workspace. Defaults to fetching a maximum of 1000 pages if no explicit limit is set.",schema:{spaceId:{type:Oe.String,table:v.bx},limit:{type:Oe.Number,comment:"Optional max number of pages to retrieve. Defaults to 1000 if none is specified."},downloadAsCsv:{type:Oe.Boolean,comment:"Download the results as a CSV of public page URLs instead"}},isDestructive:!1},{sectionName:"find",apiName:"adminGetBulkSpaceIdsByDomain",displayName:"Get bulk workspace ids by domain",isReadOnly:!0,emoji:"🚛",description:"Enter a comma-separated list of domains, and get back a map and list of space ids. Used for quickly getting spaces for beta user feature flags.",schema:{domains:{type:Oe.String}}},{sectionName:"find",apiName:"adminGetBulkSpaceIdsByEmail",displayName:"Get bulk workspace by user emails",isReadOnly:!0,emoji:"🚛",description:"Enter a comma-separated list of user emails (up to 100), and get back a map and list of all spaces the users belong to. Used for quickly getting spaces for beta user feature flags.",schema:{userEmails:{type:Oe.String}}},{sectionName:"find",apiName:"adminGetBulkUserIdsByEmail",displayName:"Get bulk user ids by user emails",isReadOnly:!0,emoji:"🚛",description:"Enter a comma-separated list of user emails (up to 100), and get back a map and list of all their user IDs. Used for quickly getting users for beta user feature flags.",schema:{userEmails:{type:Oe.String}}},{sectionName:"pricing",apiName:"adminAllowlistCreditDomain",emoji:"🚩",description:"Add a domain name to allowlist for credits.",isReadOnly:!1,schema:{domain:{type:Oe.String}}},{sectionName:"pricing",apiName:"adminUpdateSubscription",emoji:"💵",description:"Only for Tier 2 & 3 access",isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx},plan:{type:Oe.Options,options:[...h.BV],comment:"Optional, only fill out if you want to change the plan."},billingEmail:{type:Oe.String,comment:"This field is required if you are selecting Billing=send_invoice and the subscription has no email currently. Otherwise, it is optional."},billingCycleAnchor:{type:Oe.Options,options:["now","unchanged"],comment:'A subscription’s billing cycle anchor determines the date of the first full invoice and the day of the month for subsequent invoices. Setting this field to "now" will reset the billing cycle anchor to the current time. Setting this field to "unchanged" will keep the current billing cycle anchor. ONLY VALID IF UPDATING AN EXISTING SUBSCRIPTION. LEAVE EMPTY IF UPGRADING FROM FREE.'},prorationBehavior:{type:Oe.Options,options:["always_invoice","create_prorations","none"],comment:'The default proration behavior is "create_prorations". Setting this field to other values will overwrite the default behavior. "always_invoice": Always invoice immediately for prorations. "none": Disable creating prorations in this request.'},reasonForUpdate:{type:Oe.String,comment:"Reasons can be issuing an employee discount, ambassador discount, marketing discount, bug fixing, issuing a trial, etc."}},isDestructive:!0},{sectionName:"pricing",apiName:"adminCancelSubscription",isReadOnly:!1,emoji:"😢",schema:{spaceId:{type:Oe.String,table:v.bx},cancelImmediately:{type:Oe.Boolean,comment:"If unchecked, the user will still be subscribed until the end of the current billing period. If checked, the user will lose access to their subscription immediately"}},isDestructive:!0},{sectionName:"pricing",apiName:"adminUpdateAddOnSubscription",emoji:"🤖",isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx},addOn:{type:Oe.Options,options:[...new Set([...k.YD])],comment:"Optional, only fill out if you want to change the add-on."},isCancellation:{type:Oe.Boolean,comment:"Optional, only check if you want to remove this add-on."},coupon:{type:Oe.String,comment:"Optional, only fill out if you want to apply a coupon."}},isDestructive:!0},{sectionName:"pricing",apiName:"adminReleaseSubscriptionSchedule",displayName:"Release Subscription Schedule",description:"This tool will cancel all the pending changes currently associated with the workspace's subscription.",emoji:"🤖",isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx}},isDestructive:!0},{sectionName:"pricing",apiName:"adminDowngradeFraudSubscription",displayName:"Downgrade Fraud Subscription",description:"This tool will downgrade a subscription to a free subscription, clear their balance if they have a negative balance, and ensure they aren't using send_invoice as a billing method. Please be careful when using this and make sure you have gotten approval to downgrade a customer.",isReadOnly:!1,emoji:"⬇️",schema:{spaceId:{type:Oe.String,table:v.bx},reason:{type:Oe.String,comment:"Reason for downgrading the customer, e.g. ach_abuse, credit_abuse, or other"},description:{type:Oe.String,comment:"Any additional info that might be helpful if we need to investigate this subscription."}},isDestructive:!0},{sectionName:"pricing",apiName:"getBillingHistory",emoji:"📜",isReadOnly:!0,schema:{spaceId:{type:Oe.String,table:v.bx},limit:{type:Oe.Number,defaultValue:100}}},{sectionName:"pricing",apiName:"adminGetUserBillingInformation",displayName:"Find User's Billing Information",emoji:"🔎",description:"Fill out just one of the fields below. Returns the open invoices and billing info for the user.",isReadOnly:!0,schema:{userId:{type:Oe.String,table:w.KJ},userEmail:{type:Oe.String}}},{sectionName:"pricing",apiName:"adminBulkApplyPromotionCodes",displayName:"Bulk apply promotion codes",emoji:"🎁",description:"",isReadOnly:!1,schema:{csv:{type:Oe.Csv,name:"csv",comment:"columns must be DOMAIN and PROMO_CODE"}}},{sectionName:"pricing",apiName:"adminBulkUpgradeEduPlusUser",displayName:"Bulk apply Edu Plus plan",emoji:"🎒",description:"Bulk upgrade edu users to Edu Plus plan",isReadOnly:!1,schema:{csv:{type:Oe.Csv,name:"csv",comment:"column must be WORKSPACE_ID"}}},{sectionName:"pricing",apiName:"adminBulkCreateTimedTrials",displayName:"Startup Program Only: TTs",emoji:"🕰️",description:"Only authorized Startup Program members should use this tool to provision 3m or 6m TTs. Spaces must not be on a paid plan already.",isReadOnly:!1,schema:{period:{type:Oe.Options,options:["3m","6m"],defaultValue:"6m"},csv:{type:Oe.Csv,name:"csv",comment:"Startup Workspace CSVs. List of domains, csv should have a single column DOMAIN"}}},{sectionName:"pricing",apiName:"adminExplainPaymentStatus",emoji:"📜",isReadOnly:!0,schema:{spaceId:{type:Oe.String,table:v.bx},customerId:{type:Oe.String,placeholder:Ie}}},{sectionName:"pricing",apiName:"adminUpdatePaymentStatus",emoji:"🔁",description:"Requests a manual sync with Stripe to refresh the payment status in Notion. This is only necessary when Explain Payment Status shows a difference between the payment status in Notion and the expected payment status based on Stripe.",isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx},customerId:{type:Oe.String,placeholder:Ie}}},{sectionName:"security",apiName:"disableUserAnalytics",emoji:"👻",description:o.createElement(o.Fragment,null,n()("p",{},void 0,"Disable/Enable Intercom, Amplitude and Event Trail for a user. The user may need to log out/log in to see changes."),n()("p",{},void 0,"If analytics are disabled, the user will no longer see Intercom, so they will have to reach out to team@makenotion.com for support. These emails route to Intercom."," ")),isReadOnly:!1,schema:{userId:{type:Oe.String,table:w.KJ},enableAnalytics:{type:Oe.Boolean}},isDestructive:!0},{sectionName:"security",apiName:"adminSetDisableSpacePublicAccess",emoji:"🙅‍♀️",description:"Disable public pages for a workspace. Use this for DMCA takedowns or phishing scammers. Disabling public pages is silent: users will still be able to click the button in the UI, but their pages will not appear publicly.",isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx},disabled:{type:Oe.Boolean,defaultValue:!0},supportTicketLink:{type:Oe.String},explanation:{type:Oe.String,comment:"Why are you changing this setting?"}},isDestructive:!0},{sectionName:"security",apiName:"adminSetPageContentClassification",emoji:"🏛",description:"",isReadOnly:!1,schema:{pageId:{type:Oe.String,table:u.iU},adminContentClassification:{type:Oe.Options,options:u.ZQ},url:{comment:"External link url (optional). Use this if the notion page links to a malicious site outside of notion.so - all pages containing this url will be flagged if this is set.",type:Oe.String},supportTicketLink:{type:Oe.String},overrideVerified:{comment:"Only required if page is currently verified",type:Oe.Boolean},reason:{comment:"Required. Why are you classifying this page?",type:Oe.String},shouldSendTakedownEmail:{comment:"If it is a content takedown, send an email to all workspace admins",type:Oe.Boolean,defaultValue:!0}},isDestructive:!0},{sectionName:"security",apiName:"adminDisableReverifyForUser",emoji:"️♻️",description:"Disables the reverification flow for users who no longer have access to their email account. Use sparingly (and ideally only for education accounts).",isReadOnly:!1,schema:{userId:{type:Oe.String,table:w.KJ}},isDestructive:!0},{sectionName:"security",apiName:"adminAddPublicEmailDomains",emoji:"📪",description:"Add domains as a comma-separated list to disallow them from being used as allowed email domains, e.g. domains that are email providers. This will also remove the domain from any workspace that currently has the domain set as an allowed email domain.",isReadOnly:!1,schema:{domains:{type:Oe.String}},isDestructive:!0},{sectionName:"security",apiName:"adminDeleteSpaces",confirmationApiName:"adminDescribeSpacesToDelete",emoji:"❌",description:"Delete spaces as a comma-separated list. Use this for deleting spaces of churned users or to quickly remove malicious workspaces.",isReadOnly:!1,schema:{spaceIds:{type:Oe.String,table:v.bx}},isDestructive:!0},{sectionName:"security",apiName:"adminResetAccounts",confirmationApiName:"adminDescribeAccountsToReset",emoji:"🧹",description:"Logs out users and optionally resets their passwords.",isReadOnly:!1,schema:{userIds:{type:Oe.String,table:w.KJ},userEmails:{type:Oe.String},resetPassword:{type:Oe.Boolean,comment:"Check this box if you want to reset users' passwords as well."}},isDestructive:!0},{sectionName:"pricing",apiName:"isEmailEducation",emoji:"👩🏻‍🎓",description:"Is this email or domain an education email or domain?",isReadOnly:!0,schema:{email:{type:Oe.String,comment:"E.g. name@school.edu or school.edu"}}},{sectionName:"pricing",apiName:"allowEducationEmails",emoji:"📚",description:"Add email domains and/or addresses that are allowed to get free Education plan.",isReadOnly:!1,schema:{allow:{type:Oe.String,comment:"Comma-separated emails and domains to allow, e.g. clownschool.ca, imastudent@gmail.com, strandford.edu, student4eva@hotmail.com",placeholder:we}}},{sectionName:"pricing",apiName:"adminRemoveAllowedEducationEmails",displayName:"Remove Allowed Education Emails",emoji:"🧑‍🎓",description:"Remove email domains and/or addresses that are allowed to get free Education plan.",isReadOnly:!1,schema:{toRemove:{type:Oe.String,comment:"Comma-separated emails and domains to remove, e.g. clownschool.ca, imastudent@gmail.com, strandford.edu, student4eva@hotmail.com",placeholder:we}}},{sectionName:"pricing",apiName:"getPromoCode",emoji:"🆓",description:"Get information on a Stripe coupon code.",isReadOnly:!0,schema:{code:{type:Oe.String}}},{sectionName:"pricing",apiName:"adminBulkAddPromotionCodes",emoji:"🆓",description:"Adds Promotion codes to an existing Stripe coupon.",isReadOnly:!1,schema:{coupon:{type:Oe.String,comment:"The id of the coupon in Stripe"},codes:{type:Oe.String,comment:"Comma-separated list of promotion codes"},expirationDate:{type:Oe.String,comment:"Should be in the format Month-Day-Year (eg. 03-30-1993)"}}},{sectionName:"pricing",apiName:"adminGetSpaceMembershipUpdates",displayName:"View Space Membership Updates",emoji:"🔍",description:"View log of membership updates to paid workspaces. This includes teamspace guests in addition to members. Used by the daily prorations cron.",isReadOnly:!0,schema:{spaceId:{type:Oe.String,comment:"Space Id to lookup"},date:{type:Oe.String,comment:"(Optional) Date to filter on, defaults to show everything starting from today. ISO format e.g. 2023-03-24",placeholder:Re}}},{sectionName:"recovery",apiName:"adminRemoveSpaceUsersAndTransferContent",displayName:"Remove Users and Transfer Content",emoji:"⚠️",description:"For enterprise customers, provide a comma-separated list of emails for users to remove from the space and transfer ownership to a workspace admin. If customer users SCIM, make sure they have already removed these users through SCIM.",isReadOnly:!1,schema:{spaceId:{type:Oe.String},userEmails:{type:Oe.String,comment:"Emails of users to remove and transfer content from."},usersAlreadyRemoved:{type:Oe.Boolean,comment:"Check this box if customer uses SCIM, and users have already been removed through SCIM."},adminEmail:{type:Oe.String,comment:"Must be an admin of the workspace. The permission change to the content will be performed as this user."},transferMemberEmail:{type:Oe.String,comment:"Optional. If filled in, private pages of the removed accounts will be transferred into this account's private pages."}}},{sectionName:"recovery",apiName:"recoverSpace",emoji:"👩‍👩‍👧‍👧",description:o.createElement(o.Fragment,null,n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://dev.notion.so/notion/Recovery-Accounts-Workspaces-Pages-Content-de4ef68179e441f4a720eb345c72cdee#03ca1aa5a662491097fa1802263a4a53"},void 0,"Usage Guide"),n()("br",{}),n()("br",{}),"Recover a deleted workspace. The workspace will be restored to the user who deleted it. The email of this user will be shown in a popup after you restore."),isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx}},isDestructive:!0},{sectionName:"recovery",apiName:"adminFindDeletedUser",emoji:"😵",description:"Find deleted accounts associated with an email address. You can recover any of the resulting accounts using the userId.",isReadOnly:!1,schema:{userEmail:{type:Oe.String}},isDestructive:!0,customResponseRenderer:function(e){const{data:t}=e;return o.createElement(o.Fragment,null,n()("div",{style:B},void 0,t.users.length," deleted users found"),t.users.map((e=>n()("div",{},void 0,n()(U,{table:"notion_user",record:e},void 0,e.id)))),n()(q.Z,{data:t}))}},{sectionName:"recovery",apiName:"recoverUser",emoji:"❤",description:"Recover a deleted account. Any workspaces that got deleted when they deleted their account will be restored, with them as the only admin. Shared workspaces will not be restored – users have to ask a current admin to add them back.",isReadOnly:!1,schema:{userId:{type:Oe.String,table:w.KJ}},isDestructive:!0},{sectionName:"recovery",apiName:"adminRecoverMfa",emoji:"📱",description:"Reset MFA on an account. All existing MFA methods will be disabled, and a single recovery backup code will be emailed to the user.",isReadOnly:!1,schema:{userId:{type:Oe.String,table:w.KJ}},isDestructive:!0},{sectionName:"recovery",apiName:"adminChangeEmail",emoji:"🔷",description:o.createElement(o.Fragment,null,n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://dev.notion.so/notion/Change-Account-Emails-f547667d52e3473081eab9f62e3a52e3"},void 0,"Usage Guide"),n()("br",{}),n()("br",{}),"Change a user's email. This tool has serious security implications so please follow the process closely."),isReadOnly:!1,schema:{oldEmail:{type:Oe.String,placeholder:Se},newEmail:{type:Oe.String,placeholder:Se},supportTicketLink:{type:Oe.String}},isDestructive:!0},{sectionName:"recovery",apiName:"adminSwapUserEmails",emoji:"✉️",description:o.createElement(o.Fragment,null,"Change multiple users emails from a CSV.",n()("br",{}),n()("br",{}),"This tool has serious security implications. Please make sure you got prior approval to do this. The maximum number of rows allowed for the CSV is 100.",n()("br",{})),isReadOnly:!1,schema:{spaceId:{type:Oe.String,table:v.bx},csv:{type:Oe.Csv,name:"csv",comment:"columns must be OLD_EMAIL and NEW_EMAIL"},previewChanges:{type:Oe.Boolean,defaultValue:!0}},isDestructive:!0},{sectionName:"recovery",apiName:"adminSwapUserDomains",emoji:"✉️",description:o.createElement(o.Fragment,null,"Change the email domains of all the users for an enterprise customer to a new email domain.",n()("br",{}),n()("br",{}),"This tool has serious security implications. Please make sure you got prior approval to do this.",n()("br",{}),n()("br",{}),"Example:",n()("br",{}),"Old Email Domain: makenotion.com",n()("br",{}),"New Email Domain: notion.so"),isReadOnly:!1,schema:{oldEmailDomain:{type:Oe.String},newEmailDomain:{type:Oe.String}},isDestructive:!0},{sectionName:"recovery",apiName:"adminModifyBlock",emoji:"👩‍👩‍👧‍👧",description:o.createElement(o.Fragment,null,"Trash or recover a block"),schema:{blockId:{type:Oe.String,table:u.iU},action:{type:Oe.Options,options:["Send to Trash","Restore from Trash"],defaultValue:"Restore from Trash"}},isReadOnly:!1,isDestructive:!0},{sectionName:"recovery",apiName:"adminRestoreBlock",confirmationApiName:"adminDescribeDeletedBlockPermissions",emoji:"♻️",description:o.createElement(o.Fragment,null,"Restore a trashed or permanently deleted block."),schema:{blockId:{type:Oe.String,table:u.iU}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminDeleteUser",emoji:"🗑",description:"Delete user data from Notion's internal databases. By default, users will be permanently purged 30 days after the deletion request. If 'Purge Immediately for GDPR' is checked, user data will be permanently purged at once, rather than in 30 days. Use this option with care, as user data cannot be recovered. 'Purge Immediately for GDPR' will also delete from Segment and Amplitude.",schema:{userId:{type:Oe.String,table:w.KJ},purgeImmediatelyForGDPR:{type:Oe.Boolean}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"revokeUserTokens",displayName:"Log user out of active sessions",emoji:"🖥",description:"Revoke all user tokens. This will sign users out of all active sessions, and they'll have to log in again.",schema:{userId:{type:Oe.String,table:w.KJ}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"revokeBotToken",emoji:"🤖",description:"Revoke a bot's token. A new token will automatically be generated for the bot.",schema:{botId:{type:Oe.String,table:g.cZ}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminSamlConfigForSpace",emoji:"🔐",description:"Add email domain(s) to a workspace for SAML SSO. If they already have a domain configured, this will overwrite it. Leave email domains blank to see the current SAML configuration for a space. To delete SAML config, just provide spaceId of space that needs config to be deleted.",schema:{spaceId:{type:Oe.String,table:v.bx},emailDomains:{type:Oe.String,comment:"Comma-separated list of email domains you want to add or remove from this workspace. Ownership of domain must be verified.",placeholder:ke},spaceIds:{type:Oe.String,comment:"Comma-separated list of workspace IDs you want to add or remove from this workspace's SAML configuration. Ownership of the workspaces must be verified."},action:{type:Oe.Options,options:[...b.BA],defaultValue:"view",comment:"View the current configuration, add/remove the specified email domain(s) and/or additional workspace ID(s), or delete the current configuration."}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminDeleteFileFromS3",confirmationApiName:"adminDescribeDeleteFileFromS3",displayName:"Delete S3 file",emoji:"🗄️",description:"Enterprise ONLY. Mark an S3 file as deleted and make it no longer accessible by any user (it might still be available in user's browser cache). File will be permanently deleted after 7 days.",schema:{spaceId:{type:Oe.String,table:v.bx,comment:"The space ID that is requesting this file be deleted."},fileUrl:{type:Oe.String,comment:"(optional) The URL to the file in S3 if you have it."},fileId:{type:Oe.String,comment:"(optional) The ID of the file that is to be deleted from S3."}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminPrimaryWorkspaceChange",displayName:"Swap SAML primary workspace",emoji:"🧀",description:"Swap the primary workspace of a SAML config to one of the secondary workspaces on the same SAML config. Note: The Assertion Consumer Service (ACS) URL must be updated in the customer's IDP for the change to take effect.",schema:{currentPrimarySpaceId:{type:Oe.String,table:v.bx},newPrimarySpaceId:{type:Oe.String,table:v.bx,comment:"The ID of the secondary workspace that will become the new primary workspace."}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminGetSamlConfig",displayName:"Find SAML config using email domain",emoji:"🔎",description:"Returns the SAML config for the provided email domain, if found.",schema:{emailDomain:{type:Oe.String,placeholder:Ne}},customResponseRenderer:function(e){const{data:t}=e;return o.createElement(o.Fragment,null,n()("h2",{},void 0,"SAML config for ",t.emailDomain),t.samlConfig?n()("div",{},void 0,n()(q.Z,{data:t.samlConfig,hideHelp:!0})):n()("div",{},void 0,"No SAML config found"))},isReadOnly:!0},{sectionName:"security",apiName:"adminGetSpacesForAllowedEmailDomain",displayName:"Find spaces with the allowed email domain",emoji:"🔎",description:"Returns spaces with the provided email domain in the allowed email domains list.",schema:{domain:{type:Oe.String,comment:"Example: makenotion.com"},limit:{type:Oe.Number,defaultValue:10,comment:"Limit the number of spaces returned. Optional."}},customResponseRenderer:function(e){let{data:{domain:t,spaces:i}}=e;return o.createElement(o.Fragment,null,n()("h2",{},void 0,"Spaces with allowed email domain ",t),n()("div",{},void 0,n()(q.Z,{data:i,hideHelp:!0})))},isReadOnly:!0},{sectionName:"security",displayName:"Add Email to Bypass",apiName:"adminAddEmailToBypass",emoji:"📧",description:"Add a list of emails seperated by ',' to validation bypass list. Emails in this list will not be validated by Zerobounce during sign up.",schema:{userEmails:{type:Oe.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"experiments",apiName:"adminGetStatsigExperiment",displayName:"Statsig - Get Experiment Group",emoji:"🔎",description:"Get Statsig Experiments As an User, Device or Space",schema:{experimentId:{type:Oe.Options,options:[...l.XY],comment:"Must pick an experiment"},userId:{type:Oe.String,comment:"Optional for experiments not targeting userId."},deviceId:{type:Oe.String,comment:"Optional for experiments not targeting deviceId."},spaceId:{type:Oe.String,comment:"Optional for experiments not targeting spaceId."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminGetStatsigFeatureGate",displayName:"Statsig - Get Feature Gate",emoji:"🔎",description:"Get Statsig Feature Gate As an User, Device or Space",schema:{gateName:{type:Oe.Options,options:[...l.dn],comment:"Must pick a feature gate"},userId:{type:Oe.String,comment:"Optional for experiments not targeting userId."},deviceId:{type:Oe.String,comment:"Optional for experiments not targeting deviceId."},spaceId:{type:Oe.String,comment:"Optional for experiments not targeting spaceId."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminCheckStatsigSegment",displayName:"Statsig - Check Segment",emoji:"🕵️",description:o.createElement(o.Fragment,null,"Check information about a single Statsig Segment.",n()("br",{}),n()("br",{}),n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://docs.statsig.com/segments#:~:text=%E2%80%8B,or%20simply%20using%20user%20IDs."},void 0,"What are Statsig Segments?"),n()("br",{}),n()("br",{}),'You can use the "count" information to check how many Ids exist in the Segment before and after updating. Note that updating Segment can take up to a couple of minutes to take effect.'),schema:{segmentId:{type:Oe.String,comment:"Segment Id"}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminUpdateStatsigSegmentIds",displayName:"Statsig - Add or Delete IDs to Segment",emoji:"🖊️",description:o.createElement(o.Fragment,null,"Add or Delete Ids (userId, deviceId, spaceId) to Statsig ID List type Segment.",n()("br",{}),n()("br",{}),"Notice this does not apply to Conditional type Segment.",n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://dev.notion.so/notion/Setup-Experiments-and-Feature-Gates-in-Statsig-01bc0c59680c4cea96229aeae2354e09#37875afd56424f4d8ce0a1dfd82f2391"},void 0,"Segment types: conditional vs ID list"),n()("br",{}),n()("br",{}),"Use the Check Segment tool to check the number of Ids (count) before and after updating. Note that updating Segment can take up to a couple of minutes to take effect."),schema:{segmentId:{type:Oe.String,comment:"Segment Id"},idsToAdd:{type:Oe.String,comment:"Comma-separated ids to add to Segment. Accept dash or dashless IDs, dashless IDs will be transformed into dash IDs. Doesn't matter if space is provided between ids."},idsToDelete:{type:Oe.String,comment:"Comma-separated ids to delete from Segment Accept dash or dashless IDs, dashless IDs will be transformed into dash IDs. Doesn't matter if space is provided between ids."},emailsToAdd:{type:Oe.String,comment:"Comma-separated list of user emails (up to 100) to add to user Id level Segment. Emails will be converted to user ids (uuid with dash) before getting inserted."},emailsToDelete:{type:Oe.String,comment:"Comma-separated list of user emails (up to 100) to delete from user Id level Segment. Emails will be converted to user ids (uuid with dash) before getting deleted."},domainsToAdd:{type:Oe.String,comment:"Comma-separated list of domains (short domain, e.g makenotion) to add to space Id level Segment. Domains will be converted to space ids (uuid with dash) before getting inserted."},domainsToDelete:{type:Oe.String,comment:"Comma-separated list of domains (short domain, e.g makenotion) to delete from space Id level Segment. Domains will be converted to space ids (uuid with dash) before getting deleted."}},isReadOnly:!1},{sectionName:"experiments",apiName:"adminGetClientExperiments",displayName:"[Deprecating] Get Experiments As User or Device",emoji:"🤔",description:"Get all experiments and experiment groups for the given user or device ID. This is the in-house framework. Please use Statsig for Experiments instead.",schema:{userId:{type:Oe.String},deviceId:{type:Oe.String,comment:"Optional. If left blank, experiments that target deviceId will not return a group."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminViewExperiments",displayName:"[Deprecating] View All Experiments",emoji:"🔬",description:"View all experiments with groups and overridden users. This is the in-house framework. Please use Statsig for Experiments instead.",schema:{active:{type:Oe.Boolean},experimentId:{type:Oe.String,comment:"Optional. If left blank, we'll show all experiments."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminUpdateExperiment",displayName:"[Deprecating] Update Experiment",emoji:"📄",description:"For a given experiment group, put users, devices, or spaces into that group OR update the population. If you try to add individuals into groups AND update the population percentage you will get an 'Invalid input' error. This is the in-house framework. Please use Statsig for Experiments instead.",schema:{experimentTarget:{comment:"Can be by users, devices, or workspaces. Will throw an error if target does not match experiment.",type:Oe.Options,options:[...y.bt]},identifiers:{comment:"As a comma-separated list. Can be user ids, user emails, device ids, workspace ids, or workspace domains.",type:Oe.String},percentage:{comment:"A percentage between 0 and 100. Any increase or decrease in percentage will be taken from/ given back to the control group. Cannot update control's percentage directly.",type:Oe.Number},experimentId:{type:Oe.String},experimentGroup:{type:Oe.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"experiments",apiName:"adminSetupExperiment",displayName:"[Deprecating] Set up an experiment",emoji:"👩‍🔬",description:"Set up the experiment in the current environment. Don't forget to set it up in other environments too! This is the in-house framework. Please use Statsig for Experiments instead.",schema:{experimentId:{type:Oe.String},targetType:{type:Oe.Options,options:[...y.bt],comment:"Must pick a type"}},isDestructive:!0,isReadOnly:!1},{sectionName:"rateLimits",apiName:"adminGetRateLimits",displayName:"Get rate limits by email",emoji:"⚠️",description:"Fetch rate limits via a given email.",schema:{userEmail:{type:Oe.String,comment:"Fetch rate limits which are enforced via the email."}},isReadOnly:!0},{sectionName:"rateLimits",apiName:"adminResetRateLimits",displayName:"Reset rate limits for email key",emoji:"⚠️",description:"Reset common rate limits for email keys.",schema:{userEmail:{type:Oe.String,comment:"The target email for which the rate limits are to be reset."},resetSendTemporaryPassword:{type:Oe.Boolean,comment:"Reset the send_temporary_password ratelimit for this user. This is hit when the user attempts to make too many login requests within a short time"},resetSendTemporaryPasswordPerDay:{type:Oe.Boolean,comment:"Reset the send_temporary_password_per_day ratelimit for this user. This is hit when the user exceeds the total number of login requests per day"},resetLoginWithEmail:{type:Oe.Boolean,comment:"Reset the login_with_email ratelimit for this user. This is hit when the user attempts to make too many login requests with an email"},resetLoginWithPassword:{type:Oe.Boolean,comment:"Reset the login_with_password ratelimit for this user. This is hit when the user attempts to make too many login requests with an incorrect password"}},isReadOnly:!1},...Ue,{sectionName:"utilities",apiName:"adminCountWordsInPage",displayName:"Count words in page",emoji:"🔢",description:"Counts the words in a page and its descendents",schema:{blockUrl:{type:Oe.String,comment:"The link to the page"}},isDestructive:!1,isReadOnly:!0},{sectionName:"recovery",apiName:"adminSetSpaceDomain",emoji:"️🌌",description:"Sets the domain of a workspace without checking reserved or badWords list",schema:{spaceId:{type:Oe.String,table:v.bx},domain:{type:Oe.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"recovery",apiName:"adminViewDeletedCollectionProperties",displayName:"View deleted properties to a database",emoji:"♻️",description:"View any properties that were deleted in a database on or after September 2021.",schema:{collectionViewPageId:{type:Oe.String,table:u.iU,comment:"The ID of the database when opened as a full page."},rowsToCheck:{type:Oe.Number,defaultValue:100,comment:"Select number of rows to check if a property has actual content （max: 5000）"}},isDestructive:!1,isReadOnly:!0},{sectionName:"recovery",apiName:"adminRestoreDeletedCollectionProperties",displayName:"Restore deleted properties to a database",emoji:"♻️",description:"Restores any properties that were deleted in a database on or after September 2021.",schema:{collectionViewPageId:{type:Oe.String,table:u.iU,comment:"The ID of the database when opened as a full page."},propertyName:{type:Oe.String,table:u.iU,comment:"The property name to recover."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminEditBlockPermissions",displayName:"Edit block permission for a user",emoji:"👀",description:"Updates the the permission for a user on a block. Block must be a navigable block type (page, collection view, or collection).",schema:{blockId:{type:Oe.String,table:u.iU},userId:{type:Oe.String,table:w.KJ},role:{type:Oe.Options,options:p.Av,defaultValue:"none",comment:"Set role to none if you want to remove the user's permission(s) on the block."},force:{type:Oe.Boolean,defaultValue:!1,comment:"Set to true to add permissions regardless of space plan type."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminReadBlockPermissions",displayName:"Read block permission for a user",emoji:"👀",description:"Reads the permission for a user on a block. Block must be a navigable block type (page, collection view, or collection)",schema:{blockId:{type:Oe.String,table:u.iU},userId:{type:Oe.String,table:w.KJ}},isDestructive:!1,isReadOnly:!0},{sectionName:"utilities",confirmationApiName:"adminDescribeEditSpacePermission",apiName:"adminEditSpacePermissions",displayName:"Edit space permission for a user",emoji:"👀",description:"Updates the the permission for a user on a space.",schema:{spaceId:{type:Oe.String,table:v.bx},userId:{type:Oe.String,table:w.KJ},role:{type:Oe.Options,options:p.Av,defaultValue:"none",comment:"Set role to none if you want to remove the user's permission(s) on the space. Set to editor to make them an admin."},force:{type:Oe.Boolean,defaultValue:!1,comment:"Set to true to add permissions regardless of space plan type."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminEditTeamMembership",displayName:"Add or remove a user from a teamspace",emoji:"👀",description:"Teamspace must not be a default teamspace.",schema:{teamId:{type:Oe.String,table:S.e0,comment:"You can find the team ID from the 'teams' list in 'Find Space Information'."},userIdToAdd:{type:Oe.String,table:w.KJ,comment:"Can be empty. User will be added as teamspace member."},addedUserRole:{type:Oe.Options,options:["member","owner"],defaultValue:"member",comment:"Will give the user the specified role on the teamspace."},userIdToRemove:{type:Oe.String,table:w.KJ,comment:"Can be empty."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminUpdateTeamMember",displayName:"Update a teamspace member's role",emoji:"👀",description:"Change a user from member to admin or vice-versa. If the user is not a member of the team, this will not do anything.",schema:{teamId:{type:Oe.String,table:S.e0,comment:"You can find the team ID from the 'teams' list in 'Find Space Information'."},userIdToUpdate:{type:Oe.String,table:w.KJ,comment:"User to be modified with the specified role."},userRole:{type:Oe.Options,options:["member","owner"],defaultValue:"member",comment:"Will give the user the specified role on the teamspace."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminUpdateUserSettings",displayName:"Update a user's settings",emoji:"⚙",description:"This allows us to retrigger onboarding material like modals and tooltip tours that only happen once. Use for testing and QA only!",schema:{userId:{type:Oe.String,table:w.KJ,comment:"User whose settings will be modified."},settingsToUpdate:{type:Oe.String,table:N.Sr,comment:'A JSON object with the keys and corresponding values to be updated. e.g. { "seen_views_intro_modal": false }'}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminShowCustomerInvoice",emoji:"🧾",description:o.createElement(o.Fragment,null,"View the notion invoice we show to our customers.",n()("br",{}),n()("br",{}),"Please input the stripe invoice id of the customer below."),schema:{invoiceId:{type:Oe.String}},isDestructive:!1,isReadOnly:!0,customResponseRenderer:function(e){const{data:t}=e;return(0,ue.Zw)(t)||t instanceof ue.jc?null:t.upcoming?n()(pe.LazyInvoice,{route:{name:"upcomingInvoice",spaceId:t.spaceId}}):n()(pe.LazyInvoice,{route:{name:"invoiceById",invoiceId:t.invoiceId}})}},{sectionName:"security",apiName:"adminBlockEmailDomain",displayName:"Block email domain",emoji:"🚷",description:"Block or unblock an email domain",schema:{domain:{type:Oe.String},action:{type:Oe.Options,options:["block","unblock"],defaultValue:"block"},scope:{type:Oe.Options,options:["signup","signup and login"],defaultValue:"signup"}},isDestructive:!0,isReadOnly:!1},{sectionName:"security",apiName:"adminBanUser",displayName:"Ban or unban user",emoji:"🚷",description:o.createElement(o.Fragment,null,"Ban users from using Notion. Users will be logged out and lose all access to Notion. Unbanning will allow them to login again.",n()("br",{}),n()("br",{}),"Possible options for Ban or Unban field are: 'ban' or 'unban'."),schema:{userEmail:{type:Oe.String},banOrUnban:{type:Oe.String},category:{type:Oe.Options,options:[...R.Jm],comment:"(required on ban)"},subcategory:{type:Oe.Options,options:[...R.nh],comment:"(optional)"},other:{type:Oe.String,comment:"If you selected 'other' as the category, please give a description. (optional)"}},isDestructive:!0,isReadOnly:!1},{sectionName:"security",apiName:"adminBulkBanUsers",displayName:"Bulk Ban Users (via CSV)",emoji:"🚷",description:o.createElement(o.Fragment,null,"Bulk ban users from using Notion. Users will be logged out and lose all access to Notion.",n()("br",{}),n()("br",{}),n()("i",{},void 0,"NOTE: A ",n()("b",{},void 0,"single")," category/subcategory will apply to ",n()("b",{},void 0,"all")," ","users specified in the CSV."),n()("br",{}),n()("br",{}),"WHAT IT OUTPUTS: An automatically downloaded CSV of users (email, user ID) that have been successfully enqueued for banning."," ",n()("i",{},void 0,"Invalid emails will be omitted from this list.")),schema:{csv:{type:Oe.Csv,name:"csv",comment:"A column of <= 20,000 unique user identifiers (accepts email, uuid with dash, uuid without dash). Requires a USER_IDENTIFIER column header."},banOrUnban:{type:Oe.String},numRows:{type:Oe.Number,comment:"Confirm the number of user identifiers in your CSV"},category:{type:Oe.Options,options:[...R.Jm],comment:"(required on ban)"},subcategory:{type:Oe.Options,options:[...R.nh],comment:"(optional)"},other:{type:Oe.String,comment:"If you selected 'other' as the category, please give a description. (optional)"}},isDestructive:!0,isReadOnly:!1},{sectionName:"integrations",apiName:"adminGetIntegrationData",displayName:"Get integration",emoji:"🤖",description:"Get information about an integration",schema:{integrationId:{type:Oe.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"integrations",apiName:"adminGetSlackIntegrationData",displayName:"Get Slack integration information for user",emoji:"🤖",description:"Get information about a user's Slack integration",schema:{userId:{type:Oe.String,comment:"A user's Notion or Slack user id"}},isDestructive:!1,isReadOnly:!0,customResponseRenderer:function(e){const{data:t}=e,{globalUserInformation:i}=t;return o.createElement(o.Fragment,null,n()("h3",{},void 0,"Slack Global Users (",i.length,")"),i.map((e=>o.createElement(o.Fragment,null,n()(ce,{title:n()("h4",{style:{margin:"10px"}},void 0,e.slackGlobalUser.id)},void 0,n()(re,{globalUser:e.slackGlobalUser}),n()(de,{slackLocalUsers:e.slackLocalUsers}),n()(me,{notionTokens:e.slackNotionTokens,spaces:e.spaces}))))),n()("h3",{},void 0,"Full Response"),n()(q.Z,{data:t,hideHelp:!0}))}},{sectionName:"integrations",apiName:"adminUpdateIntegrationData",displayName:"Update integration",emoji:"🤖",description:"Update an integration",schema:{integrationId:{type:Oe.String},ownerId:{type:Oe.String,comment:"Transfer ownership of this integration by passing in the user ID of the new owner."},status:{type:Oe.Options,options:f.ZU},userEmail:{type:Oe.String},icon:{type:Oe.Image},websiteUrl:{type:Oe.String},privacyPolicyUrl:{type:Oe.String},termsOfUseUrl:{type:Oe.String},twitterUrl:{type:Oe.String},linkedinUrl:{type:Oe.String},facebookUrl:{type:Oe.String},developerName:{type:Oe.String},developerIcon:{type:Oe.String},installationUrl:{type:Oe.String,comment:"The URL a user would visit to install an integration directly via an 'Install Now' button."},installationInfoUrl:{type:Oe.String,comment:"The URL a user would visit to learn more about installing an integration via a 'Learn More' button."},tagline:{type:Oe.String},tags:{type:Oe.String,comment:"Tags are used in the Integration Gallery to allow for quick filtering."},collections:{type:Oe.String,comment:"Collections are used in the Integration Gallery to allow for quick filtering."},description:{type:Oe.String},screenshots:{type:Oe.Images}},isDestructive:!0,isReadOnly:!1},{sectionName:"integrations",apiName:"adminGetSyncedDatabaseData",displayName:"Get synced database information",emoji:"🤖",description:"Get information about a synced database",schema:{uri:{type:Oe.String},spaceId:{type:Oe.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"integrations",apiName:"adminForceResyncExternalObjects",displayName:"Force sync on external object blocks",emoji:"🤖",description:"When manual re-syncing isn't restoring/updating blocks, use this tool to get them back in sync. You can provide a list of known problematic urls OR input a collectionId to update all problematic collection child pages.",schema:{urls:{type:Oe.String,comment:"A list of urls separated by a comma (e.g. https://github.com/makenotion/notion-next/pull/28176) **Leave blank if using collectionId"},collectionId:{type:Oe.String,comment:"Id of collection. **Leave blank if using uris"},botId:{type:Oe.String,comment:"Bot id that is associated with collection. **Required"},spaceId:{type:Oe.String,comment:"Space id of the user. **Required"}},isDestructive:!1,isReadOnly:!1},{sectionName:"integrations",apiName:"adminRemoveChildFromExternalCollection",displayName:"Remove a child from a externally synced database",emoji:"⛑️",description:"For various reasons synced databases may end up with false duplicates. This tools will remove a child from a synced database. Be careful because this will remove the child in ALL instances of this synced collection. For synced databases, the URI should be the original link of the child page. It matters which of the duplicates you delete, if you are unsure which page is the false duplicate please consult the oncall engineer.",schema:{uris:{type:Oe.String,comment:"A list of urls separated by a comma (e.g. https://github.com/makenotion/notion-next/pull/28176)"},botId:{type:Oe.String},parent_collection_uri:{type:Oe.String},spaceId:{type:Oe.String}},isDestructive:!0,isReadOnly:!1},...Te,{sectionName:"marketing",apiName:"adminCreateMarketingRoute",displayName:"Create a Marketing Route",emoji:"🛣️",description:"Manually create a 302 redirection from 'https://notion.com${source}' to '${target}'. 'source' must start with '/', 'target' must be a valid url started with 'https://'.",schema:{source:{type:Oe.String},target:{type:Oe.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"domainClaim",apiName:"adminGetDomainManagementSettings",displayName:"Get Domain Management Settings",emoji:"❓",description:"Retrieve domain management settings given a space or domain. Input only spaceId or domain.",schema:{spaceId:{type:Oe.String},domain:{type:Oe.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"domainClaim",apiName:"adminIsSpaceDomainClaimEligible",displayName:"Check domain claim eligibility",emoji:"❓",description:"Check whether the target space ('Target Space Id') is eligible for domain claim actions by the enterprise space ('Enterprise Space Id').",schema:{enterpriseSpaceId:{type:Oe.String,placeholder:be},targetSpaceId:{type:Oe.String,placeholder:be}},isDestructive:!1,isReadOnly:!0},{sectionName:"domainClaim",apiName:"adminGetDomainClaimEligibleSpaces",displayName:"Get all domain claim eligible spaces",emoji:"⚙️",description:"Returns all domain claim eligible spaces given an enterprise space and email domain. The enterprise space must have these domains verified. By default returns up to 1000 spaces. You can specify a different limit.",schema:{spaceId:{type:Oe.String},emailDomains:{type:Oe.String,comment:"Comma separated list of email domains verified by the enterprise workspace.",placeholder:ke},limit:{type:Oe.Number,comment:"Optional. By default returns up to 1000 spaces."}},isDestructive:!1,isReadOnly:!0},{sectionName:"domainClaim",apiName:"adminClaimAndUpgradeForSalesAssisted",displayName:"** Sales Assisted Customer Only** Claim and upgrade workspaces",emoji:"⬇️",description:"On the target workspace, downgrade existing workspace owners and add requesting EnterpriseWO as new workspace owner. Upgrade the target workspace to enterprise_free plan.",schema:{targetSpaceId:{type:Oe.String,comment:"Space id of the workspace that should be claimed. Note, paid workspaces can only be claimed by the Finance team.",placeholder:be},enterpriseSpaceId:{type:Oe.String,comment:"Space id of the workspace that requested the claim",placeholder:be}},isDestructive:!1,isReadOnly:!1},{sectionName:"domainClaim",apiName:"adminDelayClaimSpaceDeletion",displayName:"Delay permanent deletion of deleted claimable space",emoji:"⏰",description:"For a workspace that was deleted using domain management, delay permanent deletion by 30 days from the time the delay is requested. The workspace will remain in a deleted state, and the workspace owners of the Enterprise space that initiated this deletion will be notified.",schema:{spaceId:{type:Oe.String,comment:"Space id of the workspace that is pending permanent deletion."}},isDestructive:!0,isReadOnly:!1},{sectionName:"spaceConsolidation",apiName:"adminRunSpaceConsolidation",confirmationApiName:"adminDescribeRunSpaceConsolidation",displayName:"Schedule a workspace consolidation",emoji:"🧩",description:o.createElement(o.Fragment,null,"Schedule a consolidation of up to 4 p90-size source workspaces into a target enterprise workspace. Before scheduling, make sure you've filled out your request in the"," ",n()("a",{href:"https://dev.notion.so/a4277b18886e40e98db7e590daf96bce?v=96112516fc6649c99dfc4def1a569e14",target:"_blank",style:{cursor:"pointer"}},void 0,"WS Consolidation request db"),".",n()("br",{}),n()("br",{}),"Note: If a consolidation is already scheduled for the target space and has not started, it will be ",n()("b",{},void 0,"overwritten")," by the scheduling tool. Please check the",n()(ge.Z,{href:"https://app.hex.tech/notion/app/97f6e650-f032-4af9-823f-9b542dd5e3dd/latest",underline:!0,external:!0,inline:!0},void 0,"hex dashboard"),"to see if a consolidation has already been scheduled for the target space."),schema:{sourceSpaceIds:{type:Oe.String,comment:"Comma separated list of space IDs of up to 4 workspaces whose content will be consolidated into the target space. \t\t\t\t\tNote: check source space block count before running.",placeholder:ve},targetSpaceId:{type:Oe.String,comment:"Space ID of the workspace that is the destination for the contents of source spaces.",placeholder:be},requestingUserId:{type:Oe.String,comment:"ID for the user requesting this consolidation.",placeholder:be},contactEmail:{type:Oe.String,comment:"Contact email provided by the requestor to be used in communications. For example, if a user in this source space wants to reach out to someone in the space.",placeholder:Se},date:{type:Oe.String,comment:"Scheduled date to run the consolidation in YYYY-MM-DD ex: 2023-05-25.",placeholder:Re},time:{type:Oe.String,comment:"Scheduled time to start the consolidations in 24 hour format ex: 18:00.",placeholder:"18:00"},timezone:{type:Oe.Timezone,comment:"Timezone to use for the entered time and date",defaultValue:(0,m.r)()},dryRun:{type:Oe.Boolean,comment:"(Optional) If true, will undo read-only mode on the source space after consolidation and will not delete the source space after 30 days. Do not set this unless you know what you're doing!",defaultValue:!1}},isDestructive:!0,isReadOnly:!1,isHidden:!ye.default.checkGate("space_consolidation_ga"),customResponseRenderer:function(e){const{data:t}=e;return t.canceledConsolidations,n()("div",{},void 0,n()("span",{},void 0,"Please check the"," ",n()(ge.Z,{inline:!0,href:"https://app.hex.tech/notion/app/97f6e650-f032-4af9-823f-9b542dd5e3dd/latest",underline:!0,external:!0},void 0,"hex dashboard")," ","to track the status of your consolidation."),n()("br",{}),n()("br",{}),n()("b",{},void 0,"Cancelled consolidations"),t.canceledConsolidations.length?t.canceledConsolidations.map((e=>n()("div",{},e.sourceSpaceId,`Source space ID: ${e.sourceSpaceId}, Target space ID: ${e.targetSpaceId}`))):n()("div",{},void 0,"None"))}},{sectionName:"ai",apiName:"adminUpdateNotionAIAvailabilityForSpace",displayName:"Add/Remove Notion AI from a space",description:"Notion AI can only be disabled by Enterprise admins, but this tool allows support to remove AI from a spaces by request.",emoji:"🤖",schema:{spaceIds:{type:Oe.String,comment:"Comma-separated space_ids to add/remove AI from",table:v.bx},action:{type:Oe.Options,comment:"This setting will be applied to all spaces in the list",options:["turn_off_ai","turn_on_ai"],defaultValue:"turn_off_ai"}},isDestructive:!0,isReadOnly:!1},{sectionName:"ai",apiName:"adminOnboardAISlackQnA",displayName:"Onboard a Workspace onto AI Slack QnA",description:"Equivalent of setWorksapacePreferences",emoji:"❓",isReadOnly:!1,schema:{notionSpaceId:{type:Oe.String,table:v.bx},slackWorkspaceId:{type:Oe.String},userEmail:{type:Oe.String}},isDestructive:!0},{sectionName:"ai",apiName:"adminOptOutNotionAIDataSharing",displayName:"Opt out users from Notion AI Data Sharing",description:"Opt out users that previously enrolled in Notion AI Data Sharing",emoji:"🛑",schema:{userEmail:{type:Oe.String,comment:"User email to opt out"}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminGetBulkIds",displayName:"Get UUIDs with or without dashes",emoji:"🆔",description:"Paste in list of comma or space separated UUIDs to add dashes or remove dashes.",schema:{type:{type:Oe.Options,options:["return with dashes","return without dashes"],defaultValue:"return with dashes"},ids:{type:Oe.String}},isDestructive:!1,isReadOnly:!1},{sectionName:"utilities",apiName:"adminAddLinkPreviewToSpace",displayName:"Add link preview to a space",emoji:"🔗",description:"Allow accessing the specified link preview integration in the specified space ID.",schema:{spaceId:{type:Oe.String,table:v.bx},integrationId:{type:Oe.String,table:f.K2}},isReadOnly:!1},{sectionName:"recovery",apiName:"adminRestoreDeletedGuestPermissions",confirmationApiName:"adminDescribeRestoreDeletedGuestPermissions",displayName:"Restore deleted guest permissions",emoji:"🌱",description:o.createElement(o.Fragment,null,"(ENTERPRISE ONLY) This tool is to be used in cases of bulk guest removal. It uses audit log to restore the guest permissions. Enter the window of time that permissions were removed and the ID of the responsible actor. This tool will undo any guest permission removals made by the actor during the window of time."),schema:{removalStartTime:{type:Oe.Number,comment:"Start time in epoch of when permissions were removed."},removalEndTime:{type:Oe.Number,comment:"End time in epoch of when permissions were removed."},deletingUserId:{type:Oe.String,comment:"The user was responsible for initiating the deletion",placeholder:be},spaceId:{type:Oe.String,comment:"Space ID of the Enterprise space where guests were removed from"}},isDestructive:!0,isReadOnly:!1}].filter((e=>!e.isHidden));function Fe(e){return e in s&&s[e]}const Le=Be.filter((e=>!Fe(e.apiName)))},70411:(e,t,i)=>{i.d(t,{Jm:()=>o,nh:()=>s,sE:()=>n});var a=i(74487);const n=["team_lead","org_lead","company_lead","not_lead","unfilled"],o=["Illegal activities","Graphic and harmful content","Child exploitation","Harassment, bullying, defamation, and threats","Hateful content","Intellectual property","Malicious and deceptive practices","Personal and confidential information","Interference with the Services","Content subject to additional scrutiny","Billing fraud","Other"],s=(a.literals(...o),["Violent or obscene content","Sexually explicit","Promotes self-harm","Promotes terrorist activity","Misinformation","Get rich quick","Gambling services or products","Price-gauging","Online or day trading","Multi-level marketing or affiliate marketing","Credit abuse","Payments fraud"]);a.literals(...s)}}]);