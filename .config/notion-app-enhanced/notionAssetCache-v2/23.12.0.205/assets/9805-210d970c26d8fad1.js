"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9805],{4252:(e,t,o)=>{o.d(t,{Z:()=>Ve});var i=o(10434),n=o.n(i),r=o(23174),a=o.n(r),s=o(67294),l=o(83355),d=o(1302),c=o(480),u=o(53150),m=o(6740),p=o(86628),g=o(24405),S=o(49085),h=o(75071),y=o(15157),v=o(69246),f=o(97880),b=o(82990),T=o(5366),I=o(89858),w=o(24677),C=o(37190),M=o(89971),B=o(59389),k=o(98104),P=o(39699),Z=o(43250),x=o(92639),O=o(87279),L=o(98742),V=o(50659);var _=o(80444),A=(o(77080),o(3418)),K=o(31792),E=o(70704),F=o(7755),R=o(35817),D=o(64921),H=o(52275),N=o(31945),j=o(78140),z=o(32163),U=o(72495),W=o(26388),G=o(81415),J=o(8848),Y=o(3338),Q=o(50906),q=o(12534),$=o(35026),X=o(75024),ee=o(71064),te=o(95697);var oe=o(43914),ie=o(77907),ne=o(42185),re=o(33052),ae=o(23063),se=o(55118),le=o(5210);const de=function(e){window.__c={n:"TeamCaratSwitcher"};const{outlinerToggleButtonStore:t,outlinerTeamOnToggle:o,style:i}=e,n=(0,g.Fg)(),r=(0,g.yK)((()=>({caratContainer:{minHeight:20,minWidth:20,...i||{}}})),[i]),s=(0,p.VK)((()=>t.state.isHidden),[t]);return a()("div",{style:r.caratContainer},void 0,a()(le.Z,{isSidebar:!0,fill:!0,icon:"chevron",open:!s,color:n.lightIconColor,onClick:o,disabled:!0}))};var ce=o(69814),ue=(o(57658),o(19889)),me=o(64684),pe=o(57559),ge=o(29302);function Se(e){window.__c={n:"TeamMembersList"};const t=(0,c.O7)(),[o,i]=(0,s.useState)(!1),{teamStore:r,spaceStore:l,teamOutlinerType:d}=e,{isReady:u,allMembersUserIds:m,userStores:S}=(0,p.VK)((()=>{const e=(0,te.tO)({teamStore:r,spaceStore:l}),t=e.map((e=>pe.U6.createChildStore(r,{table:ue.KJ,id:e}))),o=t&&t.every((e=>e.isReady()));return{allMembersUserIds:e,userStores:t,isReady:o}}),[r,l]),{ownerStores:h,memberStores:y}=(0,p.VK)((()=>{const e=[],t=[];if(!r.isReady())return{ownerStores:e,memberStores:t};for(const o of S){(null==o?void 0:o.id)&&((0,me.pd)({membership:r.getMembers()},null==o?void 0:o.id)?e.push(o):t.push(o))}return{ownerStores:e,memberStores:t}}),[r,S]),v=(0,g.yK)((e=>({membershipSection:{display:"flex",flexDirection:"row",fontSize:14,alignItems:"center",whiteSpace:"nowrap"},members:{display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginRight:10,marginLeft:5},avatar:{width:23,height:23,borderRadius:23,marginRight:-5,position:"relative"},teamMemberTooltipSectionLabel:{color:e.mediumInvertedTextColor,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"},teamMemberList:{paddingTop:3},moreMessage:{marginLeft:2,marginTop:4,color:e.mediumInvertedTextColor}})),[]);let f=0,b=S;return b=[...h,...y],S.length>5&&(f=S.length-5,b=b.slice(0,5)),u?a()("div",{style:v.membershipSection},void 0,a()(W.Z,{placement:W.Z.Placement.Bottom,disableTooltip:m.length<=0,render:t=>{return s.createElement("span",n()({},t,{style:e.renderStyle}),m.length," ",(o=m.length,a()(T.FormattedMessage,o>1?{defaultMessage:"members",id:"teamBrowser.teamCard.MembershipPlural"}:{defaultMessage:"member",id:"teamBrowser.teamCard.Membership"})));var o},renderTooltip:e=>(o||(i(!0),Q.v2V(t,{teamStore:r,outliner_type:d})),s.createElement("div",e,a()("div",{style:{marginBottom:4}},void 0,b.map((e=>a()(ge.Z,{style:v.teamMemberList,userStore:e,avatarSize:18}))),f>0&&a()("div",{style:v.moreMessage},void 0,a()(T.FormattedMessage,{id:"teamMembersList.tooltip.overflowMessage",defaultMessage:"{countRemainingUsers} more…",values:{countRemainingUsers:f}})))))})):null}var he=o(93686),ye=o(14720),ve=o(61766),fe=o(68785),be=o(37181),Te=o(74263),Ie=o(28451);function we(e){let{teamId:t,origin:o}=e;window.__c={n:"TeamAddAppTemplateTooltip"};const i=(0,c.O7)(),[n,r]=(0,s.useState)(!1),l=(0,g.yK)((()=>({tooltip:{width:240}})),[]);(0,s.useEffect)((()=>{if(!o)return;const{current:e}=o;if(!e)return;const t="IntersectionObserver"in window?new IntersectionObserver((e=>{let[t]=e;return r(t.isIntersecting)}),{threshold:1}):void 0;return null==t||t.observe(e),()=>null==t?void 0:t.unobserve(e)}),[o]);const d=(0,s.useCallback)((()=>{Te.Z.setState({hasShownTooltip:!0,teamId:t}),Q.Khd(i,{from:"team_add_app_template"})}),[i,t]),u=(0,s.useCallback)((()=>be.$n({environment:i,teamId:t})),[i,t]);return n?a()(Ie.P,{calloutId:"team_add_app_template_tooltip",onShow:d},void 0,a()(G.U,{origin:o,placementToOrigin:"right",header:a()(T.FormattedMessage,{id:"teamAddAppTemplateTooltip.header",defaultMessage:"Add templates to your teamspace"}),content:a()(T.FormattedMessage,{id:"teamAddAppTemplateTooltip.content",defaultMessage:"Get started with projects, docs, wiki, and more"}),onCloseClick:()=>u(),shouldDismissUponOutsideClick:!1,pointerPosition:"0%",pointerLength:24,style:l.tooltip})):null}function Ce(e){const t=(0,c.O7)();return(0,p.VK)((()=>(0,te.dY)({environment:t,teamId:e})),[t,e])}function Me(e){window.__c={n:"OutlinerTeamToggleAddPageButton"};const{teamStore:t}=e,o=(0,T.useIntl)(),i=(0,p.qz)(void 0,ve.Z),r=(0,s.useRef)(null),l=Ce(t.id),d=o.formatMessage({id:"sidebar.addAPageOrTemplateButtonTeamToggle.tooltip",defaultMessage:"Add a page or template"}),u=function(){const e=(0,c.Fy)(),t=e.isMobile?32:20;return(0,g.yK)((o=>({button:{height:t,width:t,border:"none",borderRadius:3,marginLeft:e.isMobile?0:4},mediumText:{color:o.mediumInvertedTextColor},plusIcon:{fill:e.isMobile?o.lightIconColor:o.sidebarTextColor,...e.isMobile?{width:18,height:18}:{width:14,height:14}},plusIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",color:o.legacyRedSelectColor,height:t,width:t},buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:20,width:20},menuItemButton:{minWidth:200},caption:{minWidth:230}})),[e.isMobile,t])}();return s.createElement(s.Fragment,null,l&&a()(we,{teamId:t.id,origin:r}),a()(N.ZP,{popupType:N.Z4.Popup,buttonPopupStore:i,alignmentToOrigin:N.vR.Start,originGap:2,renderOrigin:e=>a()(W.Z,{textWrap:!1,renderTooltip:()=>d,placement:W.Z.Placement.Bottom,render:t=>s.createElement(D.Z,n()({ariaLabel:d,ref:r,style:u.button},(0,L.Z)(t,e)),a()("div",{style:u.plusIconContainer},void 0,(0,h.f)(u.plusIcon)))}),render:e=>a()(ye.p7,{renderLoading:e=>a()("div",{style:ye.Ry.LazyTeamAddAppTemplateMenu},void 0,e&&a()(fe.Z,{})),teamStore:t,closePopup:e.close,from:"sidebar_team_new_page"})}))}function Be(e){window.__c={n:"OutlinerTeamToggleButton"};const{teamStore:t,label:o,isHovered:i,outlinerToggleButtonStore:r,teamOutlinerType:l,outlinerTeamOnToggle:d,onTeamJoinComplete:u,labelAriaId:m}=e,S=(0,c.Fy)().isMobile,h=function(e){switch(e){case v.cz:case v.mu:return!0;case v.PT:case v.kg:return!1;default:(0,f.t1)(e)}}(l),y=(0,c.O7)(),{name:w,showAddPageButton:C}=(0,p.VK)((()=>({name:t.getName(),showAddPageButton:t.canAddOrRemoveTopLevelPages()})),[t]),M=(0,ee.e)(t),B=function(e){const t=(0,c.O7)(),o=(0,p.VK)((()=>_.default.state.currentSpaceStore),[]);return(0,p.VK)((()=>(0,te.zz)({teamStore:e,spaceStore:o,userId:t.currentUser.id})),[o,t.currentUser.id,e])}(t),k=(0,oe.K)(t),P=(0,p.VK)((()=>_.default.state.currentSpaceStore),[]),[,,Z]=(0,p.AF)(void 0,re.Z),x=(0,c.Fy)(),O=S||i,L=(0,g.yK)((e=>({teamHighlightAnimationBackgroundContainer:{backgroundColor:J.ZP.frontTertiaryButtonBackgroundHovered,position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:-1,borderRadius:3},container:{position:"relative",display:"flex",alignItems:"center",minHeight:S?48:h?30:28,padding:h?"6px 12px":"0px 10px 0px 11px"},overflow:{marginLeft:5,justifySelf:"flex-end",height:22,display:"flex",alignItems:"center"},labelContainer:{flexShrink:1,flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",height:"100%",...b.Z.textOverflowStyle},labelText:{display:"flex",width:"100%",alignItems:"center",lineHeight:b.Z.lineHeight.UISmall.desktop,marginBottom:1,...b.Z.textOverflowStyle},membersCountText:{display:"flex",fontSize:12,fontWeight:b.Z.fontWeight.regular,lineHeight:1.3,color:e.lightTextColor,width:"100%",...b.Z.textOverflowStyle},joinedBadge:{color:e.darkTextColor,lineHeight:1.2,...b.Z.textOverflowStyle},joinedBadgeIcon:{display:"inline",color:e.darkTextColor,marginBottom:-1,marginRight:2,marginLeft:3,width:10,height:10},joinLeaveButton:{background:"none",color:e.mediumTextColor,fontSize:13,borderRadius:4,padding:"0px 4px",height:22,...O?{}:X.jy},joinLeaveButtonHovered:{background:e.buttonHoveredBackground},unjoinedOverflowMenu:{display:"flex",height:22,marginLeft:8,marginRight:-6,...O?{}:X.jy},teamIconContainer:{minHeight:20,minWidth:20,marginRight:9},closedTeamLabelContainer:{display:"flex"},closedTeamLabel:{display:"flex",alignItems:"center"},closedTeamTooltip:{whiteSpace:"normal",width:220},carat:{minHeight:h?15:20,height:h?15:20}})),[S,h,O]),V=(0,p.VK)((()=>t.getTeamPagesStore()),[t]),K=(0,p.VK)((()=>ne.Z.state===t.id),[t.id]),E=(0,p.VK)((()=>t.getTeamAccessLevel()),[t]),[F,D]=(0,s.useState)(void 0),H=Ce(t.id),j=(0,s.useCallback)((e=>{let{draggingStores:t}=e;return!!P&&(0,$.Pl)({environment:y,draggingStores:t,parentStore:V,currentSpaceStore:P})}),[P,y,V]),z=(0,s.useCallback)((async e=>{await I.NP({dropArgs:e,environment:y,type:"team",isTopLevel:!0,parentStore:V})}),[y,V]);if(!w)return null;const U=!B,G=function(e,t){if(!t)return!1;switch(e){case v.mu:return!0;case v.PT:case v.kg:case v.cz:return!1;default:(0,f.t1)(e)}}(l,M),le=!x.isMobile&&!M&&"closed"===E,ue=e=>{A.Z.addNamedPopup("team_more_actions"),Q.QkQ(y,{store:t,from:e})},me=()=>{A.Z.removeNamedPopup("team_more_actions")};return a()(se.G,{dropTargetKey:R.Ui(t),canDropOnto:!e.isExpanded,shouldShowDropZone:!0,canAcceptDrop:j,onSelectableDrop:z},void 0,a()(N.ZP,{popupType:N.Z4.Popup,alignmentToOrigin:N.vR.Start,placementToOrigin:N.pO.Right,preventSlideUpTransition:!0,preventScaleTransition:!0,originRect:F,render:e=>a()(ie.LazyTeamOverflowMenu,{teamStore:t,permissionsInviteStore:Z,onDismiss:e.close,from:"teamSidebar"}),renderOrigin:e=>{let{onClick:i}=e;return a()("div",{style:L.container,onContextMenu:e=>{!x.isMobile&&(0,q.ZP)({event:e,context:q.Af.EditorContextMenu,callback:()=>{e.preventDefault(),D(new DOMRect(e.clientX,e.clientY)),i()}})}},void 0,x.isMobile&&a()(de,{store:t,outlinerToggleButtonStore:r,outlinerTeamOnToggle:d}),a()("div",{style:L.teamIconContainer},void 0,a()(he.p,{size:20,store:t,disabled:!0,style:{fontWeight:b.Z.fontWeight.medium}})),a()("div",{style:L.labelContainer},void 0,a()("div",{style:L.labelText,id:m},void 0,o,!x.isMobile&&a()(de,{store:t,outlinerToggleButtonStore:r,outlinerTeamOnToggle:d,style:O?L.carat:X.jy})),h&&void 0!==k&&a()("div",{style:L.membersCountText},void 0,P&&a()(Se,{teamStore:t,spaceStore:P,renderStyle:L.membersCountText,teamOutlinerType:l}),le&&a()(W.Z,{placement:W.Z.Placement.Bottom,renderTooltip:e=>s.createElement("div",n()({style:L.closedTeamTooltip},e),function(e){let{accessLevel:t}=e;if("private"===t)return a()(T.FormattedMessage,{id:"teamJoinLeaveButton.joinTeam.privateTeamTooltip",defaultMessage:"You can only join a private teamspace with an invite from a member"})}({accessLevel:E})),render:e=>s.createElement("div",n()({style:L.closedTeamLabel},e)," ","·"," ",a()(T.FormattedMessage,{id:"outlinerTeamToggleButton.closedTeamLabel",defaultMessage:"Closed"}))}),G&&s.createElement(s.Fragment,null,a()("span",{},void 0," ")," ·",a()("span",{},void 0,(0,Y.p)(L.joinedBadgeIcon)),a()("span",{style:L.joinedBadge},void 0,a()(T.FormattedMessage,{id:"outlinerTeamToggleButton.joinedBadge",defaultMessage:"Joined"}))))),M&&a()("div",{style:{...L.overflow,...O||H?{}:X.jy}},void 0,a()(ie.LazyOutlinerTeamOverflow,{teamStore:t,from:l,onPopupClick:()=>ue(l),onPopupClose:me}),C&&!x.isMobile&&a()(Me,{teamStore:t})),!M&&a()("div",{style:L.unjoinedOverflowMenu},void 0,a()(ie.LazyOutlinerTeamOverflow,{teamStore:t,from:l,hideJoin:!0,onPopupClick:()=>ue(l),onPopupClose:me})),!x.isMobile&&U&&a()(ce.M,{style:L.joinLeaveButton,hoveredStyle:L.joinLeaveButtonHovered,teamStore:t,placement:W.Z.Placement.Right,from:"sidebar_team_modal",navigateToTeamHomeOnJoin:!0,onJoinedTeam:u}),C&&x.isMobile&&a()("div",{style:{...L.overflow,...O?{}:X.jy}},void 0,a()(Me,{teamStore:t})),a()(ae.Z,{isVisible:K,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{stiffness:30,damping:10,precision:.001},render:()=>a()("div",{style:L.teamHighlightAnimationBackgroundContainer})}))},onClick:()=>ue("teamSidebar"),onClose:me}),a()(ie.LazyTeamPermissionsInviteWithModal,{permissionsInviteStore:Z,store:t}))}var ke=o(14694);class Pe extends l.Z{constructor(){super(...arguments),this.storeTypes={mouseStore:K.Z,focusStore:S.default.createClass(!1),labelMouseStore:K.Z,labelFocusStore:S.default.createClass(!1),outlinerToggleButtonStore:E.Z},this.headerRef=s.createRef(),this.contentsAriaId=(0,u.Z)(),this.labelAriaId=(0,u.Z)(),this.handleHideClick=()=>{const{isHidden:e}=this.getToggleButtonStore().state,t=!e;"team"===this.props.type?M.k7({environment:this.environment,spaceViewStore:this.props.spaceViewStore,teamStore:this.props.teamStore,outlinerToggleButtonStore:this.getToggleButtonStore(),newIsHidden:t,shouldPersistToggleState:this.props.shouldPersistToggleState,teamOutlinerType:this.props.teamOutlinerType,isExplicitUserAction:!0}):I.Eo({environment:this.environment,spaceViewStore:this.props.spaceViewStore,type:this.props.type,outlinerToggleButtonStore:this.getToggleButtonStore(),newIsHidden:t,shouldPersistToggleState:this.props.shouldPersistToggleState})}}willMount(e){if(super.willMount(e),e.initialToggleState&&this.getToggleButtonStore().setState({...this.getToggleButtonStore().state,isHidden:"hidden"===e.initialToggleState}),!e.shouldPersistToggleState)return;const t="team"===e.type?M.RW(e.spaceViewStore,e.teamStore.id):I.B8(e.spaceViewStore,e.type),o=y.Z.get({userId:this.environment.currentUser.id,key:t});o&&this.getToggleButtonStore().setState({...this.getToggleButtonStore().state,isHidden:o})}renderComponent(){const{renderSidebar:e,isLastTeam:t,marginBottomOverrideWhenExpanded:o,marginBottomOverrideWhenCollapsed:i}=this.props,{isHidden:n}=this.getToggleButtonStore().state,r={bookmarks:Z.F4o,workspace:Z.j35,shared:Z.MU2,private:Z.aL4,offline:Z.yNE,team:Z.l24,[v.PT]:Z.RG3,[v.cz]:Z.Uwd,[v.mu]:Z.jWx,[v.kg]:Z.rIE}[this.props.type];return s.createElement("div",{ref:this.headerRef,onFocus:e=>{const t=e.target;t instanceof HTMLElement&&(0,m.E)(t)&&this.stores.focusStore.setState(!0)},onBlur:()=>this.stores.focusStore.setState(!1),onMouseMove:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),onMouseLeave:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1}),style:{marginBottom:n||t&&!this.environment.device.isMobile?i:o??Pe.marginBottom,width:"100%"},className:`${r}-container`},this.renderLabel(r),!n&&e({headerRef:this.headerRef,labelAriaId:this.labelAriaId,contentsAriaId:this.contentsAriaId}))}renderLabel(e){const{isMobile:t}=this.environment.device,{isHidden:o}=this.getToggleButtonStore().state,{labelMouseStore:i,labelFocusStore:r}=this.stores,l=a()(T.FormattedMessage,o?{defaultMessage:"Click to show section",id:"sidebar.sectionHeaderShow.tooltip"}:{defaultMessage:"Click to hide section",id:"sidebar.sectionHeaderHide.tooltip"}),d={...t?this.getMobileSectionLabelStyle():this.getSectionLabelStyle(),transition:"color 100ms ease-out",..."team"===this.props.type?{width:"100%"}:{}};(i.state.mouseEntered||r.state)&&Object.assign(d,this.getSectionLabelHoverStyles());const c="team"===this.props.type?{width:"100%",display:"flex",alignItems:"center",...(0,V.G$)({isMobile:t})}:this.getLabelButtonStyle();return a()(ke.Z,{className:e,disableMobileBorder:o&&"team"!==this.props.type,shouldShowMobileMarginBottom:o&&"team"!==this.props.type,style:"team"===this.props.type?this.getSectionTeamItemStyle():this.getSectionSidebarItemStyle(),childrenStyle:{overflow:"visible"},right:a()(Ze,{right:this.props.right,showAddButton:this.props.showAddButton,type:this.props.type,spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,shouldPersistToggleState:this.props.shouldPersistToggleState,focusStore:this.stores.focusStore,outlinerToggleButtonStore:this.stores.outlinerToggleButtonStore})},void 0,a()("div",{style:{display:"flex",alignItems:"center"}},void 0,a()(W.Z,{textWrap:!1,disableTooltip:"team"===this.props.type,renderTooltip:()=>a()("div",{},void 0,a()("div",{},void 0,l),a()("span",{style:{color:this.theme.mediumInvertedTextColor,whiteSpace:"nowrap"}},void 0,this.props.labelTooltip)),placement:W.Z.Placement.Top,render:e=>s.createElement(D.Z,n()({},"team"===this.props.type&&this.props.teamHeaderLabel?{"aria-labelledby":this.labelAriaId}:{id:this.labelAriaId},{"aria-expanded":!o,"aria-controls":this.contentsAriaId,mobileFeedback:t,style:c,hovered:!!this.props.forceHoveredButtonStyle||void 0,onClick:()=>this.handleHideClick()},(0,L.Z)(e,{onMouseMove:()=>i.setState({...i.state,mouseEntered:!0}),onMouseLeave:()=>i.setState({...i.state,mouseEntered:!1}),onFocus:e=>{const t=e.target;t instanceof HTMLElement&&(0,m.E)(t)&&r.setState(!0)},onBlur:()=>r.setState(!1)})),a()("span",{style:d},void 0,this.renderLabelContent()))})))}renderLabelContent(){switch(this.props.type){case"bookmarks":return a()(T.FormattedMessage,{defaultMessage:"Favorites",id:"sidebar.favoritesSection.header"});case"workspace":return a()(T.FormattedMessage,{defaultMessage:"Workspace",id:"sidebar.workspaceSection.header"});case"private":return a()(T.FormattedMessage,{defaultMessage:"Private",id:"sidebar.privateSection.header"});case"shared":return a()(T.FormattedMessage,{defaultMessage:"Shared",id:"sidebar.sharedSection.header"});case"team":if(this.props.teamHeaderLabel){const{isHidden:e}=this.getToggleButtonStore().state,{mouseEntered:t}=this.stores.labelMouseStore.state;return a()(Be,{isHovered:t||this.stores.labelFocusStore.state,isExpanded:!e,teamStore:this.props.teamStore,label:this.props.teamHeaderLabel,outlinerToggleButtonStore:this.getToggleButtonStore(),outlinerTeamOnToggle:()=>this.handleHideClick(),teamOutlinerType:this.props.teamOutlinerType,onTeamJoinComplete:this.props.onTeamJoinComplete,labelAriaId:this.labelAriaId})}break;case v.kg:case v.mu:case v.cz:case v.PT:return this.props.sectionLabel;default:(0,f.t1)(this.props)}}getToggleButtonStore(){const{guidedTutorialStore:e}=_.default.state,{type:t}=this.props,o=this.props.customToggleButtonStore||this.stores.outlinerToggleButtonStore;if(e&&"team"===t){const{teamStore:t}=this.props;Object.keys(e.state.sidebarToggleStores.teams).includes(t.id)||e.setState({...e.state,sidebarToggleStores:{teams:{...e.state.sidebarToggleStores.teams,[t.id]:o}}})}return o}getSectionSidebarItemStyle(){return{paddingTop:0,paddingBottom:0,paddingRight:14,paddingLeft:15,minHeight:24,marginBottom:2,marginTop:6}}getSectionTeamItemStyle(){return{padding:0,margin:0,paddingLeft:10,borderRadius:0}}getSectionLabelStyle(){return{textTransform:"initial",fontSize:12,lineHeight:1,color:this.theme.lightTextColor,fontWeight:b.Z.fontWeight.semibold}}getMobileSectionLabelStyle(){return{textTransform:"initial",fontSize:13,lineHeight:1,color:this.theme.lightTextColor,fontWeight:b.Z.fontWeight.semibold}}getSectionLabelHoverStyles(){return{color:this.theme.darkTextColor}}getLabelButtonStyle(){const{isMobile:e}=this.environment.device;return{display:"flex",alignItems:"center",borderRadius:3,padding:"2px 4px",marginLeft:-4,...e&&{marginBottom:8}}}}function Ze(e){let{right:t,showAddButton:o,focusStore:i,...n}=e;window.__c={n:"OutlinerToggleButtonRightLabel"};const r=(0,p.VK)((()=>{const e=F.xH.state||i.state,t=["new-page-sidebar","congratulations"].includes(C.getShadowCursorCurrentElementName()||"");return e||t}),[i]),l=(0,g.yK)((()=>({wrapper:{display:"flex",alignItems:"center",opacity:r?1:0,pointerEvents:r?"auto":"none",transition:"opacity 200ms ease-in"}})),[r]);return a()("div",{style:l.wrapper},void 0,t,o&&s.createElement(xe,n))}function xe(e){let{type:t,disableTooltip:o,labelTooltip:i,spaceStore:r,spaceViewStore:l,shouldPersistToggleState:u,outlinerToggleButtonStore:m}=e;window.__c={n:"OutlinerToggleAddButton"};const S=(0,c.O7)(),y=S.device.isMobile,b=function(e){switch(e){case"bookmarks":case"private":case"shared":case"team":case"workspace":return!1;case v.PT:case v.cz:case v.mu:case v.kg:return!0;default:(0,f.t1)(e)}}(t),M=(0,T.useIntl)(),Z=(0,s.useRef)(null),{guidedTutorialStore:O,mainEditorCurrentBlockStore:L,currentUserSettingsStore:V}=(0,p.VK)((()=>{const{guidedTutorialStore:e,currentUserSettingsStore:t,mainEditorCurrentBlockStore:o}=_.default.state;return{guidedTutorialStore:e,currentUserSettingsStore:t,mainEditorCurrentBlockStore:o}}),[]),A=(0,p.VK)((()=>{var e;return null===(e=O.state)||void 0===e?void 0:e.type}),[O]),K=(0,p.VK)((()=>C.getShadowCursorCurrentElementName()),[]),E=(0,s.useCallback)((async e=>{if("team"!==t)if("private"===t&&"new-page-sidebar"===C.getShadowCursorCurrentElementName()){const e=I.kC({environment:S,spaceStore:r,spaceViewStore:l,type:t,outlinerToggleButtonStore:m,prepend:!0,shouldPersistToggleState:u,title:"My First Page"}),o=await e;d.default.afterNextFlush((()=>{o&&(P.createAndCommit({userAction:"outlinerToggleButton.guidedTutorialStoreInit",environment:S,perform:e=>B.eV({environment:S,store:o,transaction:e})}),setTimeout((()=>{const e=null==L?void 0:L.getContentStores()[0];e&&(w.eP({environment:S,store:e}),k.NX({store:e.getBlockTitleStore()})),V&&C.pointToSupportedCursorElement(S,{elementName:"new-page-blank-line",userSettingsStore:V})}),"tooltip"===A?100:1e3))}))}else I.kC({environment:S,spaceStore:r,spaceViewStore:l,type:t,outlinerToggleButtonStore:m,prepend:!0,shouldPersistToggleState:u,useCrdt:e})}),[V,S,L,m,u,r,l,A,t]),F=(0,s.useCallback)((()=>{R.lo("sidebar_team_section")}),[]),H=(0,s.useCallback)((()=>{V&&O&&C.complete(S,V,O)}),[V,S,O]),N=(0,g.yK)((e=>({plusButton:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:3,marginLeft:y?0:4},plusIcon:{fill:e.mediumIconColor,width:14,height:14},tutorialTooltip:{width:230},tutorialText:{fontSize:16,lineHeight:.85},labelTooltip:{color:e.mediumInvertedTextColor}})),[y]),j=b?M.formatMessage({defaultMessage:"New teamspace",id:"sidebar.addButton.addTeamTooltip"}):M.formatMessage({defaultMessage:"Add a page",id:"sidebar.addButton.addPageTooltip"}),z=(0,p.VK)((()=>!1),[]);return s.createElement(s.Fragment,null,"congrats"===K&&!b&&a()(G.U,{origin:()=>Z.current||null,placementToOrigin:"right",header:a()(T.FormattedMessage,{defaultMessage:"Congratulations! You created a page and a subpage.",id:"sidebar.shadowCursorCongrats.header"}),content:a()(T.FormattedMessage,{defaultMessage:"You can use this method to organize your content. Click {char} to find your subpages.",id:"sidebar.shadowCursorCongrats.content",values:{char:a()("span",{style:N.tutorialText},void 0,a()(x.sr,{char:"›",light:!0}))}}),onCloseClick:H,pointerPosition:"20%",pointerLength:24,pointerOffset:-3,style:N.tutorialTooltip,shouldDismissUponOutsideClick:!0}),a()(W.Z,{textWrap:!1,disableTooltip:o,renderTooltip:()=>s.createElement(s.Fragment,null,j,a()("br",{}),a()("span",{style:N.labelTooltip},void 0,!b&&i)),placement:W.Z.Placement.Bottom,render:e=>!b&&z?s.createElement(Oe,n()({},e,{createPageFn:E})):s.createElement(D.Z,n()({ariaLabel:j,style:N.plusButton,mobileFeedback:y,onClick:b?F:()=>E(),className:"private"===t?"shadow-cursor-new-page-sidebar":void 0},e),s.createElement("span",{ref:Z}),(0,h.f)(N.plusIcon))}))}function Oe(e){window.__c={n:"AddCrdtPageButtonPopup"};const{createPageFn:t}=e,o=(0,g.yK)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:3},icon:{fill:e.mediumIconColor,width:14,height:14}})),[]);return a()(N.ZP,{popupType:N.Z4.Popup,alignmentToOrigin:N.vR.Start,originGap:2,renderOrigin:t=>s.createElement(D.Z,n()({mobileFeedback:!1,style:o.button},e,t),(0,h.f)(o.icon)),render:e=>a()(Le,{onDismiss:e.close,createPageFn:t}),onClick:()=>{A.Z.addNamedPopup("outliner_add_page")},onClose:()=>{A.Z.removeNamedPopup("outliner_add_page")}})}function Le(e){const{onDismiss:t,createPageFn:o}=e,i=[{key:"addRegularPage",render:e=>s.createElement(H.Z,n()({},e,{title:"Add regular page"})),action:()=>{t(),o(!1)}},{key:"addCrdtPage",render:e=>s.createElement(H.Z,n()({},e,{title:"Add CRDT page"})),action:()=>{t(),o(!0)}}];return a()(j.Z,{menuType:O.og.Popup},void 0,a()(z.Z,{type:z.i.Vertical,sections:[{key:"addPageOptions",render:e=>s.createElement(U.Z,e),items:i}],initialFocus:void 0}))}Pe.displayName="OutlinerToggleButton",Pe.marginBottom=18;const Ve=Pe},22735:(e,t,o)=>{o.d(t,{Z:()=>x});var i=o(23174),n=o.n(i),r=o(10434),a=o.n(r),s=o(67294),l=o(480),d=o(86628),c=o(24405),u=o(75071),m=o(72126),p=o(69246),g=o(5366),S=o(89858),h=o(74647),y=o(43250),v=o(35026),f=o(80444),b=o(64921),T=o(55118),I=o(25777),w=o(14694),C=o(48505);function M(e){window.__c={n:"EmptyChildrenPlaceholder"};const t=(0,l.Fy)(),o=(0,c.yK)((e=>({placeholder:{color:e.lightTextColor,paddingLeft:12,...t.isMobile&&{display:"flex",alignItems:"center",height:32}}})),[t]);return n()(w.Z,{role:"treeitem",style:e.itemStyle},void 0,n()("div",{style:o.placeholder},void 0,n()(g.FormattedMessage,{defaultMessage:"No pages inside",id:"outliner.NoPagesInside.placeholder"})))}function B(e){window.__c={n:"AddPageButton"};const{type:t}=e,o=(0,l.O7)(),{currentSpaceStore:i,currentSpaceViewStore:r}=(0,d.VK)((()=>f.default.state),[]),a=o.device.isMobile,s=(0,c.yK)((e=>({sidebarItem:{color:e.mediumTextColor}})),[]);if(!i||!r)return null;return n()(b.Z,{mobileFeedback:a,onClick:async()=>{if("team"===t)return;await S.kC({environment:o,spaceStore:i,spaceViewStore:r,type:t,prepend:!1,shouldPersistToggleState:!0})&&a&&h.close()}},void 0,n()(w.Z,{style:s.sidebarItem,left:n()(Z,{}),disableMobileBorder:!0},void 0,n()(g.FormattedMessage,{defaultMessage:"Add a page",id:"sidebar.addAWorkspaceOrPrivatePage.tooltip"})))}function k(e){const{store:t,index:o}=e;return n()(C.ZP,{type:e.type,store:t,style:e.itemStyle,toggleStyle:e.itemToggleStyle,itemIndex:o,itemDepth:e.itemDepth,parentStore:t.getRecordStoreUIParent(),onNavigate:e.onNavigate,disabled:e.disabled},t.id)}function P(e){window.__c={n:"EmptyDroppable"};const t=(0,l.O7)(),{type:o,parentStore:i}=e,r=m.oA(["OutlinerItem",o,null==i?void 0:i.id]).join("_");return n()(T.G,{dropTargetKey:r,canDropBelow:!0,onSelectableDrop:async e=>{await S.NP({dropArgs:e,environment:t,type:o,isTopLevel:!0,parentStore:i})},shouldShowDropZone:!0,canAcceptDrop:e=>{const{currentSpaceStore:o}=f.default.state;return!!o&&(0,v.Pl)({environment:t,draggingStores:e.draggingStores,parentStore:i,currentSpaceStore:o})}})}function Z(){window.__c={n:"PlusIcon"};const e=(0,c.yK)((e=>({icon:{fill:e.mediumIconColor,width:16,height:16},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return n()("div",{style:e.iconContainer},void 0,(0,u.f)(e.icon))}const x=function(e){window.__c={n:"Outliner"};const{disabled:t,childStores:o,areChildrenLoading:i,itemDepth:r,type:d}=e,c=(0,l.Fy)(),u=o.map(((t,o)=>s.createElement(k,a()({},e,{key:t.id,store:t,index:o})))),m=0===r,g=0===u.length,S=(g||e.isHeaderless||c.isMobile)&&m&&("private"===d||"workspace"===d)&&!t,h=g&&!S&&!m,v={offline:y.blN,bookmarks:y.fe0,workspace:y.BEs,shared:y.JkF,private:y.q1J,team:y.l24,[p.PT]:void 0,[p.cz]:void 0,[p.mu]:void 0,[p.kg]:void 0}[e.type];return n()(I.Z,{id:e.id,"aria-labelledby":e["aria-labelledby"],role:m?"tree":"group",style:e.style,className:v,loaded:!i,showSpinnerTimeout:3e3,spinnerSize:"1em"},void 0,u,g&&m&&n()(P,{type:e.type,parentStore:e.parentStore}),S&&n()(B,{type:e.type}),h&&n()(M,{itemStyle:e.itemStyle}))}},48505:(e,t,o)=>{o.d(t,{gZ:()=>He,aZ:()=>Ne,ZP:()=>je});var i=o(10434),n=o.n(i),r=o(23174),a=o.n(r),s=o(67294),l=o(480),d=o(53150),c=o(97511),u=o(33125),m=o(86628),p=o(24405),g=o(41432),S=o(15157),h=o(89858),y=o(19037),v=o(35026),f=o(45094),b=o(52315),T=o(81844),I=o(49085);class w extends I.default{getInitialState(){return{open:!1,hovered:!1,focused:!1}}}const C=w;var M=o(57559),B=o(26664),k=o(79954),P=o(6740),Z=o(21202),x=o(82990),O=o(50906),L=o(17659),V=o(93959),_=o(84210),A=o(17652),K=o(50659),E=o(98165),F=o(95697),R=o(91948),D=o(80444),H=o(80796),N=o(11646),j=o(84076),z=o(68785),U=o(76798),W=o(14694),G=o(5366),J=o(9953),Y=o(39699),Q=o(31278),q=o(26388);function $(e){window.__c={n:"OutlinerItemIcon"};const{targetStore:t,canEditItem:o}=e,i=(0,G.useIntl)(),r=(0,l.O7)(),{isMobile:d}=r.device,c=(0,m.VK)((()=>t.getIcon()),[t]),u=(0,m.VK)((()=>!d&&o&&!t.isLocked()),[d,o,t]),g=(0,m.VK)((()=>{var e;return null===(e=t.getIconStore())||void 0===e?void 0:e.table}),[t]),S=(0,p.yK)((e=>({pageIcon:{fill:e.mediumIconColor}})),[]),h=e=>{const o=t.getIconStore();o&&Y.createAndCommit({userAction:"OutlinerItem.handleRecordIconChange",environment:r,perform:t=>{J.sO({store:o,value:e,transaction:t})}})};return a()(q.Z,{renderTooltip:()=>a()(G.FormattedMessage,{defaultMessage:"Change icon",id:"sidebarItem.changeIconButton.tooltip"}),placement:q.Z.Placement.Bottom,render:e=>{var o;return u?s.createElement(Q.Z,n()({bucket:"secure",disabled:!1,icon:c,store:t,title:void 0,isEmptyPage:t.isEmptyPage(),size:d?24:20,onChange:h,pageIconStyle:S.pageIcon},e,{largeIcon:!0,iconLoggingData:{recordTable:g,source:"sidebar",block_type:t.getType(),collection_id:"collection"===g?null===(o=t.getIconStore())||void 0===o?void 0:o.id:void 0},label:i.formatMessage({defaultMessage:"Change page icon",id:"sidebarItem.changeIconButton.buttonLabel"})})):a()(Q.Z,{disabled:!0,icon:c,title:void 0,isEmptyPage:t.isEmptyPage(),size:d?24:20,pageIconStyle:S.pageIcon,largeIcon:!0,label:i.formatMessage({defaultMessage:"Page icon",id:"sidebarItem.changeIconButton.disabledLabel"})})}})}var X=o(5210);function ee(e){window.__c={n:"OutlinerItemLeftToggleButton"};const{store:t,outlinerItemStore:o,targetStore:i,type:n,itemIndex:r,itemDepth:s}=e,d=(0,l.O7)(),{isMobile:c}=d.device,u=(0,m.VK)((()=>o.state.open),[o]),g=(0,m.VK)((()=>{if((0,F.ku)()){const e=Boolean(null==i?void 0:i.isCollectionView()),o=v.Yz(t).length>0;return e||o}return!0}),[t,i]),S=(0,p.yK)((e=>({hiddenToggle:{width:(0,X.q)({isMobile:c,isSidebar:!0})},toggle:{color:e.lightIconColor}})),[c]);if(!g)return a()("div",{style:S.hiddenToggle});return a()(X.Z,{isSidebar:!0,fill:!0,icon:"chevron",open:Boolean(u),color:S.toggle.color,onClick:()=>{const e=0===s,i=E.VP(t);O.t8_(d,{teamStore:i,type:e?"top_level":"nested",is_toggled:!u,outliner_type:n,outliner_position:r,outliner_depth:s}),v.Ps({store:t,toggleStore:o,toOpen:!u,environment:d,isTopLevelItem:e})},"aria-describedby":e["aria-describedby"],"aria-controls":e["aria-controls"]})}var te=o(56666),oe=o(75071),ie=o(6404),ne=o(24677),re=o(74647),ae=o(21325),se=o(33929),le=o(87279),de=o(98742),ce=o(75024),ue=o(64921),me=o(52275),pe=o(31945),ge=o(78140),Se=o(32163),he=o(40721),ye=o(72495);const ve=(0,G.defineMessages)({addAPageInside:{defaultMessage:"Quickly add a page inside",id:"sidebarItem.addAPageInside.tooltip"}});function fe(e){window.__c={n:"OutlinerItemRightIcons"};const{store:t,outlinerItemStore:o,canEditItem:i,itemDepth:n}=e,{isMobile:r}=(0,l.Fy)(),s=(0,m.VK)((()=>r||o.state.hovered||o.state.focused),[r,o]),d=(0,m.VK)((()=>{var e;const o=Boolean(t.getAppContainerBlockStore()),n=null===(e=t.getCollectionViewCollectionStore())||void 0===e?void 0:e.isSyncedCollection();return Boolean(t.getType()&&i&&!o&&!n)}),[t,i]),c=(0,p.yK)((()=>({iconContainer:{display:"flex",paddingLeft:3,...s?{}:{...ce.jy,display:"block"}}})),[s]);return a()("div",{style:c.iconContainer},void 0,a()(we,{store:t,type:e.type,itemIndex:e.itemIndex,itemDepth:n}),d&&a()(be,{store:t,outlinerItemStore:o,isTopLevelItem:0===n}))}function be(e){window.__c={n:"AddPageButton"};const{store:t,outlinerItemStore:o,isTopLevelItem:i}=e,n=(0,l.O7)(),{isMobile:r}=n.device,s=(0,m.VK)((()=>t.getLinkedViewCollectionBlockStores()),[t]),d=se.default.formatMessage(ve.addAPageInside);return s.length<=1?a()(q.Z,{renderTooltip:()=>d,placement:q.Z.Placement.Bottom,render:e=>{const r={...e,onClick:()=>{Ce({store:t,outlinerItemStore:o,sourceStore:s[0]??t,shouldNavigateToSource:!1,environment:n,isTopLevelItem:i})}};return a()(Te,{events:r})}}):a()(q.Z,{renderTooltip:()=>d,placement:q.Z.Placement.Bottom,render:e=>a()(pe.ZP,{popupType:r?pe.Z4.SlideUp:pe.Z4.Popup,renderOrigin:t=>a()(Te,{events:(0,de.Z)(e,t)}),render:e=>a()(Ie,{store:t,outlinerItemStore:o,parent:e,isTopLevelItem:i})})})}function Te(e){window.__c={n:"AddPageButtonInternal"};const{isMobile:t}=(0,l.Fy)(),o=Me();return s.createElement(ue.Z,n()({ariaLabel:se.default.formatMessage(ve.addAPageInside),mobileFeedback:t,style:o.button},e.events),(0,oe.f)(o.buttonIcon))}function Ie(e){window.__c={n:"AddToCollectionViewMenu"};const{store:t,outlinerItemStore:o,parent:i,isTopLevelItem:r}=e,d=(0,l.O7)(),{isMobile:c}=d.device,u=(0,m.VK)((()=>t.getLinkedViewCollectionBlockStores()),[t]),g=(0,p.yK)((()=>({menuItem:{display:"flex",alignItems:"center",whiteSpace:"pre"}})),[]),S={menuType:c?le.og.Modal:le.og.Popup,right:c?a()(he.DoneMenuText,{}):void 0},h={key:"collections",render:e=>s.createElement(ye.Z,n()({},e,{title:a()(G.FormattedMessage,{defaultMessage:"Add to",id:"sidebarItem.addAPageInside.popup.addTo"})})),items:u.map((e=>({key:e.id,render:t=>s.createElement(me.Z,n()({},t,{title:a()("div",{style:g.menuItem},void 0,a()(U.Z,{store:e})),icon:a()(Q.Z,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:14})})),action:()=>{Ce({store:e,outlinerItemStore:o,sourceStore:e,shouldNavigateToSource:!0,environment:d,isTopLevelItem:r})}})))};return s.createElement(ge.Z,S,a()(Se.Z,{type:Se.i.Vertical,onAccept:i.close,initialFocus:void 0,sections:[h]}))}function we(e){window.__c={n:"MenuButton"};const{store:t,type:o,itemDepth:i,itemIndex:r}=e,d=(0,G.useIntl)(),c=(0,l.O7)(),{isMobile:u}=c.device,m=Me(),p=e=>{const n=E.VP(t);ne.Ys({environment:c,store:t}),ie.Qn({environment:c,stores:[t],left:e.clientX,top:e.clientY,showInput:!1,actionSectionGroupKey:"sidebar_outliner",analyticsFrom:"sidebar_more_menu",optionalAnalyticsProperties:{teamStore:n,type:0===i?"top_level":"nested",outliner_type:o,outliner_position:r,outliner_depth:i}})},g="bookmarks"===o?d.formatMessage({defaultMessage:"Remove, rename, and more…",id:"sidebarItem.favoritedPageMenuButton.tooltip"}):d.formatMessage({defaultMessage:"Delete, duplicate, and more…",id:"sidebarItem.pageMenuButton.tooltip"});return a()(q.Z,{renderTooltip:()=>g,placement:q.Z.Placement.Bottom,render:e=>s.createElement(ue.Z,n()({ariaLabel:g,mobileFeedback:u,style:m.button,onClick:p},e),(0,te.o)(m.buttonIcon))})}function Ce(e){const{store:t,outlinerItemStore:o,sourceStore:i,shouldNavigateToSource:n,environment:r,isTopLevelItem:a}=e;ae.M_(r)&&(r.device.isMobile&&re.close(),Y.createAndCommit({userAction:"OutlinerItem.createdPage",environment:r,perform:e=>h.D0({environment:r,store:i,transaction:e,navigateToParent:n})}),t.isCollectionView()||v.Ps({store:t,toggleStore:o,toOpen:!0,environment:r,isTopLevelItem:a}))}function Me(){const e=(0,l.O7)().device.isMobile;return(0,p.yK)((t=>({button:e?{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:3,marginLeft:0}:{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:3,marginLeft:4},buttonIcon:e?{fill:t.lightIconColor,width:18}:{fill:t.sidebarTextColor,width:14}})),[e])}function Be(e){window.__c={n:"BlockSidebarItem"};const{store:t,outlinerItemStore:o,style:i,targetStore:r,itemDepth:d,type:c,nestedOutlinerAriaId:u,titleAriaId:g}=e,S=(0,l.O7)(),h=S.device.isMobile,y=(0,m.VK)((()=>"copy_indicator"===t.getType()),[t]),f=(0,m.VK)((()=>function(e){const{targetStore:t,type:o}=e;if(!t)return;const i=(0,v.N)(o);if(t.isNavigableBlock())return(0,_.ZP)({store:t,fullyQualified:!1,pageVisitSource:i});{const e=E.Dg(t);if(e)return(0,_.ZP)({store:e,scrollToBlockId:t.id,fullyQualified:!1,pageVisitSource:i})}}({targetStore:r,type:c})),[r,c]),b=(0,m.VK)((()=>y&&N.transactionQueue.isPendingTransactionForRecord(t.pointer)),[y,t]),T=(0,m.VK)((()=>{const{mainEditorCurrentBlockStore:e}=D.default.state;return e&&t.id===e.id}),[t]),I=(0,m.VK)((()=>o.state.open),[o]),w=(0,m.VK)((()=>(0,A.H)()),[]),C=(0,p.yK)((e=>({sidebarItem:{...!h&&{paddingLeft:5},...T&&{fontWeight:x.Z.fontWeight.semibold,background:e.sidebarItemSelectedBackground,color:e.regularTextColor,...h&&{boxShadow:`\n                            0 1px 0 ${e.buttonHoveredBackground}\n                        `}},...(0,K.Z3)({isMobile:h}),...i},children:{display:"flex",alignItems:"center"},loadingSpinner:{marginLeft:6},moveOrDuplicateProgress:{flex:1,marginLeft:h?10:6,marginRight:h?12:void 0},link:{width:"100%"}})),[h,T,i]),M={role:"treeitem","aria-current":T?"page":void 0,"aria-expanded":!!I,"aria-owns":u,"aria-labelledby":g};if(y)return b?a()(W.Z,{style:C.sidebarItem,childrenStyle:C.children,onFocus:Pe(o),onBlur:Ze(o),onMouseMove:xe(o),onMouseLeave:Oe(o)},void 0,a()(z.Z,{style:C.loadingSpinner}),a()(R.Z,{targetRecordId:t.id,style:C.moveOrDuplicateProgress})):null;if(f){const i=()=>{e.onNavigate&&e.onNavigate(t),w&&L.qQ({environment:S,open:!1});const o=E.VP(t);O.Yg1(S,{teamStore:o,type:0===d?"top_level":"nested",outliner_type:e.type,outliner_position:e.itemIndex,outliner_depth:d})};return s.createElement(j.Z,n()({onFocus:Pe(o),onBlur:Ze(o),style:C.link,href:f,onClick:i,innerStyle:(0,K.G$)({isMobile:h})},M),s.createElement(ke,n()({},e,{sidebarItemStyle:C.sidebarItem,sidebarItemChildrenStyle:C.children,titleAriaId:g,nestedOutlinerAriaId:u})))}return s.createElement(ke,n()({},e,{onFocus:Pe(o),onBlur:Ze(o),sidebarItemStyle:C.sidebarItem,sidebarItemChildrenStyle:C.children,titleAriaId:g,nestedOutlinerAriaId:u},M))}function ke(e){window.__c={n:"SidebarItemContainer"};const{store:t,parentStore:o,outlinerItemStore:i,targetStore:n,itemDepth:r,type:s,onFocus:l,onBlur:d,titleAriaId:c,nestedOutlinerAriaId:u}=e,p=(0,m.VK)((()=>function(e){const{store:t,parentStore:o,isTopLevelItem:i,type:n}=e;if(t.isDefined()&&(0,V.h7)(t))return!1;if(t.isCollectionView()&&!(0,F.bq)())return!t.getCollectionViewSourceCollectionStore();if("block"===(null==o?void 0:o.table)){if(M.G.createChildStore(o,{table:Z.iU,id:o.id,spaceId:t.getSpaceId()}).isType("collection_view_page"))return!1}if(t.isDefined()&&t.getType()===g.Ti.alias)return!0;if(i&&"team"!==n)return!1;if(!o)return!1;if(t.isDefined())return t.getParentId()!==o.id;return!1}({store:t,parentStore:o,isTopLevelItem:0===r,type:s})),[t,o,r,s]);return a()(W.Z,{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:e.sidebarItemStyle,childrenStyle:e.sidebarItemChildrenStyle,left:a()(ee,{store:t,outlinerItemStore:i,targetStore:n,type:s,itemIndex:e.itemIndex,itemDepth:r,"aria-controls":u,"aria-describedby":c}),icon:n&&a()($,{targetStore:n,canEditItem:e.canEditItem}),right:a()(fe,{store:t,outlinerItemStore:i,type:s,itemIndex:e.itemIndex,itemDepth:r,canEditItem:e.canEditItem}),onFocus:l,onBlur:d,onMouseMove:xe(i),onMouseLeave:Oe(i),isAlias:p},void 0,a()(U.Z,{id:c,store:t}))}function Pe(e){return t=>{const o=t.target;o instanceof HTMLElement&&(0,P.E)(o)&&e.update((e=>({...e,focused:!0})))}}function Ze(e){return t=>{e.update((e=>({...e,focused:!1})))}}function xe(e){return t=>{H.Z.state.isDragging||e.update((e=>({...e,hovered:!0})))}}function Oe(e){return t=>{e.update((e=>({...e,hovered:!1})))}}var Le=o(12534),Ve=o(45669),_e=o(22735);function Ae(e){window.__c={n:"CollectionViewOutlinerItem"};const{store:t,collectionViewStore:o,onNavigate:i,type:n}=e,r=(0,l.O7)(),s=(0,m.VK)((()=>t.getCollectionViewStores().some((e=>"page"===e.getType()))),[t]),d=(0,m.VK)((()=>{const{mainEditorCurrentBlockStore:e,currentCollectionViewStore:i}=D.default.state;return!s&&Boolean(e&&t.id===e.id&&i&&i.id===o.id)}),[o.id,t.id,s]),c=(0,p.yK)((t=>({initialIcon:{fontSize:12,fontWeight:500,marginLeft:5,color:t.mediumTextColor},sideBarItem:{...d&&{fontWeight:x.Z.fontWeight.semibold,background:t.buttonHoveredBackground,color:t.regularTextColor,...r.device.isMobile&&{boxShadow:`\n\t\t\t\t\t\t0 1px 0 ${t.buttonHoveredBackground}\n\t\t\t\t\t`}},...e.style}})),[r.device.isMobile,d,e.style]),u=(0,m.VK)((()=>(0,_.ZP)({store:t,fullyQualified:!1,collectionViewId:o.id,pageVisitSource:(0,v.N)(n)})),[o.id,t,n]),g=(0,m.VK)((()=>({ready:o.isReady(),type:o.getType(),pagePointer:o.getFormat().page_pointer,name:o.getName()})),[o]),S=(0,m.VK)((()=>{if("page"!==g.type||!g.pagePointer)return null;const e=M.G.createChildStore(t,{table:g.pagePointer.table,id:g.pagePointer.id}),o=(0,v.Q2)(e);return{pageStore:e,ready:(0,b.b)(e),outlinerItems:o}}),[g,t]);if(!g.ready)return null;if("page"===g.type&&S){const{ready:o,outlinerItems:i}=S;return a()(_e.Z,{type:e.type,childStores:i,areChildrenLoading:!o,itemDepth:e.itemDepth+1,parentStore:t.getContentStore(),itemStyle:c.sideBarItem,itemToggleStyle:e.itemToggleStyle,onNavigate:e.onNavigate,disabled:e.disabled})}return s?null:a()(j.Z,{href:u,style:{width:"100%"},innerStyle:(0,K.G$)({isMobile:r.device.isMobile}),onClick:()=>{i&&i(t)},role:"treeitem","aria-current":d?"step":void 0},void 0,a()(W.Z,{icon:a()("div",{style:c.initialIcon},void 0,"•"),style:c.sideBarItem},void 0,a()(Ve.Z,{collectionViewName:g.name,collectionViewType:g.type??"table"})))}function Ke(e){window.__c={n:"CollectionViewOutliner"};const{store:t}=e,o=(0,m.VK)((()=>t.getCollectionViewStores()),[t]);return a()("div",{role:"group",id:e.id,"aria-labelledby":e["aria-labelledby"],onContextMenu:e=>{e.preventDefault(),(0,Le.ZP)({event:e,context:Le.Af.EditorContextMenu,callback:()=>{}})}},void 0,o.map((o=>a()(Ae,{store:t,collectionViewStore:o,style:e.itemStyle,onNavigate:e.onNavigate,type:e.type,itemDepth:e.itemDepth,disabled:e.disabled,childStores:e.childStores},o.id))))}function Ee(e){window.__c={n:"NestedOutliner"};const{disabled:t,store:o,style:i,targetStore:n,itemDepth:r,nestedOutlinerAriaId:s,titleAriaId:d}=e,{isMobile:c}=(0,l.Fy)(),u=(0,m.VK)((()=>!(0,b.b)(o)),[o]),g=(0,m.VK)((()=>n.isCollectionView()?n:null),[n]),S=(0,m.VK)((()=>(0,v.Yz)(o)),[o]),h=(0,p.yK)((()=>{const e="number"==typeof(null==i?void 0:i.paddingLeft)?i.paddingLeft:c?He:5,t=c?Ne:14;return{item:{...i,paddingLeft:e+t}}}),[i,c]);return g?a()(Ke,{store:g,itemStyle:h.item,onNavigate:e.onNavigate,type:e.type,childStores:S,areChildrenLoading:!1,itemDepth:r+1,parentStore:n.getContentStore(),itemToggleStyle:e.toggleStyle,disabled:t,id:s,"aria-labelledby":d}):a()(_e.Z,{type:e.type,childStores:S,areChildrenLoading:u,itemDepth:r+1,parentStore:n.getContentStore(),itemStyle:h.item,itemToggleStyle:e.toggleStyle,onNavigate:e.onNavigate,disabled:t,id:s,"aria-labelledby":d})}function Fe(e){return`Outliner-${e.id}`}function Re(e){let{store:t,type:o,isTopLevelItem:i}=e;return e=>{const n=t.getRecordStoreUIParent();null!=n&&n.valueIs(B.i)&&h.A5({...e,type:o,targetStore:t,targetParentStore:n,isTopLevelItem:i})}}function De(e){let{environment:t,store:o,parentStore:i,type:n,isTopLevelItem:r}=e;return async e=>{const{droppedDirection:a,droppedStores:s,duplicate:l}=e;i&&await h.v9({environment:t,type:n,targetParentStore:i,targetStore:o,isTopLevelItem:r,droppedDirection:a,droppedStores:s,duplicate:l})}}const He=6,Ne=22,je=function(e){window.__c={n:"OutlinerItem"};const{store:t,itemIndex:o,parentStore:i,type:r,itemDepth:p,disabled:v}=e,b=(0,l.O7)(),I=(0,c.l)(),w=(0,m.qz)(void 0,C),B=(0,d.C)(),P=(0,d.C)(),Z=(0,m.VK)((()=>function(e){if(e.getType()===g.Ti.alias){const t=e.getAliasTargetStore();return t instanceof M.G?t:void 0}return e}(t)),[t]),x=(0,m.VK)((()=>f.Bb(t)),[t]),O=(0,m.VK)((()=>!v&&(0,y.J5)({environment:b,blocks:[t],publicEditMode:I&&I.publicEditModeStore.state})),[v,I,b,t]),L=(0,m.VK)((()=>O&&!t.isLinkedCollectionView()),[t,O]),V=(0,m.VK)((()=>w.state.open),[w]),_=function(e){return 0===e}(p);(0,s.useEffect)((()=>{if(_){const e=S.Z.get({userId:b.currentUser.id,key:Fe(t)});w.update((t=>({...t,open:e})))}}),[]);const A=(0,s.useRef)(null);(0,u.c)(T.Z,(()=>({store:t,parentStore:i,type:r,isTopLevelItem:_,getNode:()=>A.current})),[t,i,r,_]);const K=x&&i?{onInsertBelow:e=>h.LR({...e,environment:b,store:t,parentStore:i,before:!0,type:r}),onInsertAbove:e=>h.LR({...e,environment:b,store:t,parentStore:i,before:!1,type:r})}:{},E=0===o;return Z?s.createElement(k.Z,n()({analyticsName:"outliner_item",actionSectionGroupKey:"sidebar_outliner",contextMenuAndDragStores:[t],canDrag:x,canDropAbove:E,canDropBelow:x,canDropOnto:L,canInsertBelow:x,canInsertAbove:x,canSelect:x,canTriggerContextMenu:!0,onRemove:Re({store:t,type:r,isTopLevelItem:_}),onSelectableDrop:De({environment:b,store:t,parentStore:i,type:r,isTopLevelItem:_}),shouldShowDropZone:!0,showBlockMenuInput:!1,store:t},K,{ref:A}),a()(Be,{store:t,outlinerItemStore:w,style:e.style,parentStore:i,type:r,itemIndex:e.itemIndex,itemDepth:e.itemDepth,onNavigate:e.onNavigate,targetStore:Z,canEditItem:O,nestedOutlinerAriaId:B,titleAriaId:P}),V&&s.createElement(Ee,n()({},e,{targetStore:Z,nestedOutlinerAriaId:B,titleAriaId:P}))):null}},14254:(e,t,o)=>{o.d(t,{o:()=>u});var i=o(23174),n=o.n(i),r=(o(67294),o(480)),a=o(86628),s=o(24405),l=o(82990),d=o(95697),c=o(58260);function u(e){let{teamStore:t,withSelectedStyle:o}=e;window.__c={n:"TeamHeaderLabel"};const i=(0,r.Fy)(),u=(0,a.VK)((()=>{var e;return{teamName:t.getName()??"",shouldShowLock:(0,d.C2)(null==t||null===(e=t.getSettingsStore())||void 0===e?void 0:e.getValue())}}),[t]),m=(0,s.yK)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden"},lockIcon:{width:15,marginLeft:6,marginBottom:1,fill:e.mediumIconColor},labelText:{...l.Z.textOverflowStyle,...o?{color:e.regularTextColor,fontWeight:l.Z.fontWeight.semibold}:{color:e.darkTextColor,fontWeight:l.Z.fontWeight.medium},fontSize:i.isMobile?l.Z.fontSize.UIRegular.mobile:l.Z.fontSize.UIRegular.desktop}})),[i.isMobile,o]);return u?n()("div",{style:m.container},void 0,n()("div",{style:m.labelText},void 0,u.teamName),u.shouldShowLock&&n()(c.Z,{iconStyle:m.lockIcon})):null}},14360:(e,t,o)=>{o.d(t,{O:()=>M});var i=o(23174),n=o.n(i),r=o(67294),a=o(480),s=o(86628),l=o(29369),d=o(5366),c=o(80444),u=o(70704),m=o(4252),p=o(14254),g=o(10434),S=o.n(g),h=o(24405),y=o(75071),v=o(14720),f=o(64921),b=o(31945),T=o(68785),I=o(14694);function w(e){let{teamStore:t}=e;window.__c={n:"TeamOutlinerEmptyState"};const o=(0,a.Fy)(),i=(0,s.VK)((()=>t.canAddOrRemoveTopLevelPages()),[t]),[l,c]=(0,r.useState)(void 0),u=(0,h.yK)((e=>({emptyPlaceholder:{color:e.lightTextColor,paddingLeft:12,...!o.isMobile&&{fontSize:14},...o.isMobile&&{display:"flex",alignItems:"center",height:32},display:"flex",alignItems:"center"},addPage:{color:e.mediumTextColor,borderRadius:3},addPageButton:{borderRadius:3,marginLeft:4,marginRight:4},addPageIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},addPageIcon:{fill:e.mediumIconColor,width:16,height:16}})),[o]);return i?n()(b.ZP,{popupType:b.Z4.Popup,alignmentToOrigin:b.vR.Start,originGap:2,originRect:l,renderOrigin:e=>r.createElement(f.Z,S()({mobileFeedback:o.isMobile,style:u.addPageButton},e,{onClick:t=>{c(new DOMRect(t.clientX,t.clientY)),e.onClick(t)}}),n()(I.Z,{style:u.addPage,disableMobileBorder:!0,left:n()("div",{style:u.addPageIconContainer},void 0,(0,y.f)(u.addPageIcon))},void 0,n()(d.FormattedMessage,{id:"teamOutliner.addPage",defaultMessage:"Add a page"}))),render:e=>n()(v.p7,{renderLoading:e=>n()("div",{style:v.Ry.LazyTeamAddAppTemplateMenu},void 0,e&&n()(T.Z,{})),teamStore:t,closePopup:e.close,from:"sidebar_team_empty_new_page"})}):n()(I.Z,{disableMobileBorder:!0},void 0,n()("div",{style:u.emptyPlaceholder},void 0,n()("span",{},void 0,n()(d.FormattedMessage,{defaultMessage:"No pages inside",id:"teamOutliner.noOverflowEmptyMessage"}))))}var C=o(97986);function M(e){let{teamStore:t,sidebarState:o,isLastTeam:i,initialToggleState:g,shouldPersistToggleState:S,customToggleStore:h,teamOutlinerType:y,onNavigate:v,onTeamJoinComplete:f}=e;window.__c={n:"TeamOutliner"};const{currentSpaceStore:b,currentSpaceViewStore:T,currentUserSettingsStore:I}=(0,s.VK)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:t,currentUserSettingsStore:o}=c.default.state;return{currentSpaceStore:e,currentSpaceViewStore:t,currentUserSettingsStore:o}}),[]),M=(0,s.qz)(void 0,u.Z),B=h??M,k=(0,s.VK)((()=>t.getTeamPagesStores()),[t]),P=(0,a.Fy)(),Z=(0,s.VK)((()=>{const e=c.default.state.mainEditorCurrentBlockStore;return(null==e?void 0:e.getParentTable())===l.e0&&(null==e?void 0:e.getParentId())===t.id&&!P.isMobile&&B.state.isHidden}),[P.isMobile,t.id,B]);return b&&T&&I?n()(m.Z,{type:"team",customToggleButtonStore:B,forceHoveredButtonStyle:Z,initialToggleState:g,shouldPersistToggleState:S,teamHeaderLabel:n()(p.o,{teamStore:t,withSelectedStyle:Z}),teamStore:t,spaceStore:b,spaceViewStore:T,showAddButton:!1,isLastTeam:i,teamOutlinerType:y,labelTooltip:n()(d.FormattedMessage,{defaultMessage:"One of your teams",id:"sidebar.teamSection.tooltip"}),onTeamJoinComplete:f,marginBottomOverrideWhenExpanded:P.isMobile?0:16,marginBottomOverrideWhenCollapsed:P.isMobile?0:1,renderSidebar:e=>{let{labelAriaId:i,contentsAriaId:a}=e;if(!t)return;const s=new Set(k.map((e=>e.id)));return r.createElement(r.Fragment,null,n()(C.r,{state:{type:"team",teamSectionType:y,teamStore:t},sidebarState:o,onNavigate:v,additionalOutlinerProps:{id:a,"aria-labelledby":i}}),0===s.size&&n()(w,{teamStore:t}))}}):null}},97986:(e,t,o)=>{o.d(t,{r:()=>y});var i=o(10434),n=o.n(i),r=o(67294),a=o(480),s=o(86628),l=o(24405),d=o(97880),c=o(35683),u=o(35026),m=o(80444),p=o(61738),g=o(99757),S=o(22735),h=o(48505);function y(e){window.__c={n:"TopLevelSidebarOutliner"};const{state:t,sidebarState:o,onNavigate:i,additionalOutlinerProps:y,id:v,isHeaderless:f}=e,b=(0,s.VK)((()=>m.default.state.currentSpaceStore),[]),T=(0,s.VK)((()=>m.default.state.currentSpaceViewStore),[]),I=(0,a.O7)(),w=(0,a.Fy)().isMobile,C=(0,s.VK)((()=>!g.n.state),[]),M=(0,s.VK)((()=>(null==b?void 0:b.canEdit())&&C),[b,C]),B=(0,s.VK)((()=>t),[t]),k=(0,s.VK)((()=>{if(T)return(0,u.EE)({currentSpaceViewStore:T,typeWithTeam:B,environment:I,sidebarState:o})}),[T,I,o,B]),P=(0,s.VK)((()=>{if(T&&b)return(0,u.P4)({currentSpaceStore:b,currentSpaceViewStore:T,typeWithTeam:B})}),[b,T,B]),Z=(0,r.useCallback)((e=>{switch(B.type){case"bookmarks":p.Z.recordVisit({id:e.id,blockType:e.getType(),type:c.vu.Favorite,currentUserId:I.currentUser.id});break;case"team":case"workspace":case"shared":p.Z.recordVisit({id:e.id,blockType:e.getType(),type:c.vu.Link,currentUserId:I.currentUser.id});break;case"private":break;default:(0,d.t1)(B)}null==i||i()}),[I.currentUser.id,i,B]),x=(0,l.yK)((()=>({outliner:{display:"block"},outlinerItem:{...w&&"team"===B.type?{paddingLeft:h.gZ+h.aZ}:void 0}})),[w,B.type]);return b&&T&&k?r.createElement(S.Z,n()({type:B.type,disabled:!M,itemDepth:0,childStores:k,parentStore:P,style:x.outliner,itemStyle:x.outlinerItem,onNavigate:Z,id:v,"aria-labelledby":e["aria-labelledby"],isHeaderless:f},y)):null}},69814:(e,t,o)=>{o.d(t,{M:()=>C});var i=o(23174),n=o.n(i),r=o(10434),a=o.n(r),s=o(67294),l=o(480),d=o(86628),c=o(24405),u=o(82990),m=o(38755),p=o(95697),g=o(6617),S=o(71064),h=o(5366),y=o(80444),v=o(35817),f=o(89728);const b=function(e){window.__c={n:"TeamJoinButton"};const{teamStore:t,from:o,navigateToTeamHomeOnJoin:i,onJoinedTeam:r,style:a,hoveredStyle:c,icon:u,isRed:m}=e,p=(0,l.O7)(),g=(0,d.VK)((()=>y.default.state.currentSpaceStore),[]),S=(0,s.useCallback)((async()=>{g&&(await v.um({environment:p,teamStore:t,currentSpaceStore:g,from:o,andNavigateToTeamHome:i??!1}),null==r||r())}),[g,p,t,o,i,r]);return n()(f.Z,{style:a,hoveredStyle:c,onClick:S,icon:u,isRed:m},void 0,n()(h.FormattedMessage,{id:"outlinerTeamToggleButton.joinTeamButton",defaultMessage:"Join"}))};var T=o(22235),I=o(78504);const w=function(e){window.__c={n:"TeamRequestButton"};const{teamStore:t,style:o,hoveredStyle:i}=e,[r,a]=(0,s.useState)(!1),l=(0,d.VK)((()=>t.getName()),[t]);return s.createElement(s.Fragment,null,n()(f.Z,{style:o,hoveredStyle:i,onClick:()=>a(!0)},void 0,n()(h.FormattedMessage,{id:"teamRequestButton.requestButton.label",defaultMessage:"Request"})),n()(I.Z,{teamStore:t,teamName:l,teamId:t.id,isModalOpen:r,onDismiss:()=>a(!1)}))};function C(e){window.__c={n:"TeamJoinLeaveButton"};const{teamStore:t,style:o,hoveredStyle:i}=e,r=(0,l.O7)(),h=(0,g.Q)(),y=(0,S.e)(t),v=(0,d.VK)((()=>t.getTeamAccessLevel()),[t]),f=(0,c.yK)((e=>({joinTeamButton:{maxHeight:26,marginLeft:10,paddingLeft:10,paddingRight:10,borderRadius:100,fontSize:13,fontWeight:u.Z.fontWeight.semibold,background:e.buttonHoveredBackground,alignSelf:"center",...o},joinTeamButtonHoveredStyle:{background:e.buttonPressedBackground,...i}})),[o,i]),I=(0,d.VK)((()=>(0,p.Hu)({membership:t.getRawMembership()})&&(0,m.Fn)(r)),[r,t]),C=!y&&"open"===v||I,M=!y&&"closed"===v;return h?null:y?s.createElement(T.Z,a()({},e,{style:f.joinTeamButton,hoveredStyle:f.joinTeamButtonHoveredStyle})):C?s.createElement(b,a()({},e,{style:f.joinTeamButton,hoveredStyle:f.joinTeamButtonHoveredStyle})):M?n()(w,{teamStore:t,style:f.joinTeamButton,hoveredStyle:f.joinTeamButtonHoveredStyle}):null}},22235:(e,t,o)=>{o.d(t,{Z:()=>v});var i=o(10434),n=o.n(i),r=o(23174),a=o.n(r),s=o(67294),l=o(480),d=o(86628),c=o(36591),u=o(72126),m=o(64684),p=o(5366),g=o(80444);var S=o(35817),h=o(89728),y=o(26388);const v=function(e){window.__c={n:"TeamLeaveButton"};const{teamStore:t,from:o,onLeavingTeam:i,style:r,hoveredStyle:v,icon:f,isRed:b,placement:T,alignment:I,buttonInternals:w}=e,C=(0,l.O7)(),M=(0,d.VK)((()=>g.default.state.currentSpaceStore),[]),B=(0,s.useCallback)((async()=>{if(!M)return;await S.s({environment:C,teamStore:t,currentSpaceStore:M,from:o})&&(null==i||i())}),[M,C,t,o,i]),k=a()(p.FormattedMessage,{id:"teamJoinLeaveButton.leaveTeam.enabledTooltip",defaultMessage:"Click to leave teamspace"}),P=function(e){let{teamStore:t}=e;const o=(0,l.O7)().currentUser.id,{isDefaultTeam:i}=(0,d.VK)((()=>({isDefaultTeam:t.isDefault()})),[t]),n=function(e){const t=(0,d.VK)((()=>g.default.state.currentSpaceStore),[]);return(0,d.VK)((()=>e.isDefined()&&null!=t&&t.isDefined()?(0,m.x4)({members:e.getMembers(),groups:(null==t?void 0:t.getPermissionGroups())??[]}):[]),[e,t])}(t),r=(0,d.VK)((()=>o?n.filter((e=>{var t;return null===(t=e.user_ids)||void 0===t?void 0:t.includes(o)})):[]),[n,o]),s=(0,d.VK)((()=>{if(!t.isReady())return!1;const e=(0,m.XO)({membership:t.getMembers()});return 1===e.length&&e[0]===o}),[t,o]);return function(e){let{isDefaultTeam:t,isOnlyTeamOwner:o,userGroups:i}=e;if(t)return a()(p.FormattedMessage,{id:"teamBrowser.teamCard.leaveTeam.defaultTeamTooltip",defaultMessage:"You can’t leave this teamspace because everyone in the workspace must be a member"});if(o)return a()(p.FormattedMessage,{id:"teamJoinLeaveButton.leaveTeam.onlyOwnerTooltip",defaultMessage:"Invite another teamspace owner to leave this teamspace"});if(i.length>0)return a()(p.FormattedMessage,{id:"teamBrowser.teamCard.leaveTeam.groupTooltip",defaultMessage:"{groupNames, plural, one {You can't leave this teamspace because you're a member of multiple groups, {groupNames}.} other {You can't leave this teamspace because you're a member of the group, {groupNames}.}}",values:{groupNames:u.oA(i.map((e=>e.name))).join()}})}({isDefaultTeam:i,isOnlyTeamOwner:s,userGroups:r})}({teamStore:t}),Z=Boolean(P),x=Z?P:k;return a()(y.Z,{style:Z?{width:240}:void 0,disableTooltip:!Boolean(x),renderTooltip:e=>s.createElement("div",e,x),textWrap:Z,placement:T,alignment:I,render:e=>s.createElement(h.Z,n()({},e,{style:r,hoveredStyle:v,onClick:B,disabled:Z,disabledFeedback:Z,icon:f,isRed:b}),w||s.createElement(s.Fragment,null,(0,c.e)({width:12.5,marginRight:4}),a()(p.FormattedMessage,{id:"teamBrowser.teamCard.button.joined",defaultMessage:"Joined"})))})}},58260:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(23174),n=o.n(i),r=o(67294),a=o(16184),s=o(5366),l=o(26388);function d(e){let{iconStyle:t}=e;return n()(l.Z,{textWrap:!0,style:{width:210},placement:l.Z.Placement.Bottom,renderTooltip:()=>n()(s.FormattedMessage,{id:"teamLockIcon.tooltip",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>r.createElement("div",e,(0,a.Q)(t))})}},6617:(e,t,o)=>{o.d(t,{Q:()=>l});var i=o(480),n=o(86628),r=o(38755),a=o(80444),s=o(78291);function l(){const e=function(){const e=(0,i.O7)();return(0,n.VK)((()=>{const t=a.default.state.currentSpaceStore,o=s.default.state.data;return t?r.Cx(t)?o?{loading:!1,isUserTeamGuestOfSpace:r.di(e,o)}:{loading:!0}:{loading:!1,isUserTeamGuestOfSpace:!1}:{loading:!0}}),[e])}();return(0,n.VK)((()=>e.loading||e.isUserTeamGuestOfSpace),[e])}},71064:(e,t,o)=>{o.d(t,{e:()=>s});var i=o(480),n=o(86628),r=o(95697),a=o(80444);function s(e){const t=(0,i.O7)(),o=(0,n.VK)((()=>a.default.state.currentSpaceStore),[]);return(0,n.VK)((()=>(0,r.AL)({teamStore:e,spaceStore:o,userId:t.currentUser.id})),[o,t.currentUser.id,e])}},43914:(e,t,o)=>{o.d(t,{K:()=>s});var i=o(86628),n=o(27006),r=o(95697),a=o(80444);function s(e){return(0,i.VK)((()=>{if(!e)return 0;const t=a.default.state.currentSpaceStore,o=a.default.state.currentUserStore;if(!n.YX((null==t?void 0:t.getRole())??"none")){return(0,r.tu)({currentUserStore:o,currentSpaceStore:t,teamStore:e,members:e.getMembers()}).length}return(0,r.tO)({teamStore:e,spaceStore:t}).length}),[e])}},14720:(e,t,o)=>{o.d(t,{Aj:()=>s,Rv:()=>r,Ry:()=>d,p7:()=>l,tn:()=>n,vs:()=>a});var i=o(77907);const n=(0,i.lazyComponent)(i.deps.sidebar,(e=>e.SidebarTeamBrowserContent)),r=(0,i.lazyComponent)(i.deps.sidebar,(e=>e.SidebarSwitcherMultiAccountPopup)),a=(0,i.lazyComponent)(i.deps.sidebar,(e=>e.SidebarFooter)),s=(0,i.lazyComponent)(i.deps.sidebar,(e=>e.SidebarSectionOnboardingHighlightPopup)),l=(0,i.lazyComponent)(i.deps.sidebar,(e=>e.TeamAddAppTemplateMenu)),d={LazyTeamAddAppTemplateMenu:{width:250,paddingTop:8,paddingBottom:8,display:"flex",justifyContent:"center"}}},33052:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(49085),n=o(29369);class r extends i.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:n.e0,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const a=r},30278:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(49085);class n extends i.default{getInitialState(){return{contacts:!1}}}const r=n}}]);