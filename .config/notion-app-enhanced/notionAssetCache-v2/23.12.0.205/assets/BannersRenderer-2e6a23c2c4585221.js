"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5054],{59551:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ut});var a=i(23174),o=i.n(a),n=i(67294),r=i(83355),s=i(97880),l=i(10854),d=i(45094),c=i(480),u=i(86628),g=i(8848),m=i(7057),p=i(33728),v=i(24211),f=i(77671),k=i(47307),h=i(92625),b=i(63908),M=i(75018),w=i(86867),S=i(65162),B=i(12955),y=i(80444);const C={marginLeft:12,color:g.ZP.white,border:`1px solid ${g.ZP.white}`};function _(e){let{environment:t,currentUserEmail:i,alternateLoginRole:a}=e;const r=n.useCallback((async()=>{const e=await f.N(t,{email:i,intercomLink:"switch role",preferredLoginRole:a});if("failed"===e.type)h.x(),k.showError(e);else{const{userId:o}=e.data,n=`Success! click "Continue" to enter account for "${i}" in ${w.v[a].text} mode.`,r=e.data.expiryTime?`${n} The user has granted access until ${(0,m.Yx)(e.data.expiryTime,"medium_with_time",v.al)}.`:n;h.x(),k.showDialog({message:r,showCancel:!1,keepFocus:!0,items:[{label:"Continue",color:"blue",onAccept:()=>{b.O({userId:o,environment:t})}}]})}}),[t,i,a]);return o()(S.Z,{style:C,onClick:r},void 0,`Switch to ${w.v[a].text} mode`)}const x=function(){window.__c={n:"AdminModeBanner"};const e=(0,c.O7)(),t=(0,u.VK)((()=>y.default.state.currentUserStore),[]),i=(0,u.VK)((()=>null==t?void 0:t.getEmail()),[t]),a="makenotion.com"===(0,p.Gd)(i??""),[r,s]=n.useState("");if(n.useEffect((()=>{!async function(){try{const t=await(0,B.getCookie)(e,"notion_ghost_preferred_role");s((e=>t??""))}catch(t){console.error(t)}}()})),!i)return null;const l="full"===r?"restricted":"full";return o()("div",{},void 0,`You are currently logged in as ${i}`,o()("i",{},void 0,r&&a?` (${w.v[r].text} access)`:""),".",r&&a&&o()(_,{environment:e,currentUserEmail:i,alternateLoginRole:l}),o()(S.Z,{style:C,onClick:()=>{M.navigate({environment:e,url:"/__admin"})}},void 0,"Back to Admin Console"),o()(S.Z,{style:C,onClick:()=>{f.B(e)}},void 0,"Logout as user"))};var F=i(89101),V=i(5366),T=i(42402);const I=function(){window.__c={n:"CordovaUnsupportedBanner"};const e=(0,c.Fy)(),t=(0,V.useIntl)(),i=(0,u.VK)((()=>e.isAndroid?t.formatMessage({defaultMessage:"Android",id:"appUpdateListener.mobileAppNotSupported.android"}):t.formatMessage({defaultMessage:"iOS",id:"appUpdateListener.mobileAppNotSupported.ios"})),[e.isAndroid,t]);return o()("div",{style:{whiteSpace:"normal",textAlign:"center",flex:"1 auto",margin:"8px 0"}},void 0,o()(V.FormattedMessage,{defaultMessage:"This application version is no longer supported.{br}Please <upgradelink>upgrade your {androidOrIOSApp} app</upgradelink>.",id:"appUpdateListener.mobileAppNotSupported.message",values:{br:o()("br",{}),upgradelink:t=>o()(T.Z,{href:e.isAndroid?F._j.playStore:F._j.appStore,disableHover:!0},void 0,t),androidOrIOSApp:i}}))};function L(){return o()("span",{},void 0,"This is a CRDT page! ",o()("a",{href:"https://dev.notion.so/notion/Conflict-Resolution-784929c697f54e1eb18d77ac782fc548",target:"_blank"},void 0,"Learn more"))}var Z=i(24405),P=i(63306),K=i(39865),N=i(15145),R=i(15047),U=i(82990),A=i(84210),E=i(57559),O=i(84076),W=i(31278),D=i(76798);function Y(e){window.__c={n:"PageLink"};const{urlStore:t,titleStore:i}=e,a=(0,c.Fy)(),n=i||t,{icon:r,url:s}=(0,u.VK)((()=>({icon:n.getIcon(),url:(0,A.ZP)({store:t,fullyQualified:!1,pageVisitSource:N.tY.Move})})),[n,t]);return o()(O.Z,{href:s,style:{display:"inline-flex"},innerStyle:{display:"inline-flex",alignItems:"baseline"}},void 0,o()(W.Z,{disabled:!0,icon:r,isEmptyPage:!1,size:a.isMobile?18:16,emojiSize:a.isMobile?24:20,style:{marginRight:"0.2em",fill:""},pageIconStyle:{fill:g.ZP.white}}),o()(D.Z,{store:n,style:{fontWeight:U.Z.fontWeight.medium}}))}function H(e){let{movedSourceBlock:t,moveTarget:i}=e;return n.useMemo((()=>o()(Y,{urlStore:E.G.createChildStore(t,i.moved_to),titleStore:E.H2.createChildStore(t,{table:R.bx,id:i.moved_to.spaceId})})),[t,i])}function $(e){let{movedSourceBlock:t,moveTarget:i}=e;window.__c={n:"PageMovedMessage"};const a=H({movedSourceBlock:t,moveTarget:i});return o()(V.FormattedMessage,{defaultMessage:"Moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.pageMovedMessage",values:{targetSpaceLink:a}})}function z(e){let{movedSourceBlock:t,moveTarget:i}=e;window.__c={n:"AncestorMovedMessage"};const a=H({movedSourceBlock:t,moveTarget:i});return o()(V.FormattedMessage,{defaultMessage:"{movedAncestorLink} was moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.ancestorMovedMessage",values:{targetSpaceLink:a,movedAncestorLink:o()(Y,{urlStore:t})}})}var G=i(95477),j=i(98165);function q(e){let{blockStore:t,sourceBlock:i}=e;window.__c={n:"MovedBannerContents"};const a=(0,c.Fy)(),n=(0,u.VK)((()=>X(t)),[t]),r=(0,Z.yK)((()=>({banner:{display:"flex",alignItems:"center",justifyContent:"center",...a.isMobile&&{flexWrap:"wrap",paddingTop:8,paddingBottom:8}},button:{...a.isMobile&&{marginTop:8}}})),[a.isMobile]),{message:s,restoreVariant:l}=(0,u.VK)((()=>{const{store:e,moved:a}=i,n=e.id===t.id;return{message:o()(n?$:z,{movedSourceBlock:e,moveTarget:a}),restoreVariant:n?"lastVersion":"currentPage"}}),[t.id,i]);return o()("div",{style:r.banner},void 0,o()("div",{},void 0,s),n&&o()("div",{style:r.button},void 0,o()(Q,{variant:l,blockStore:t})))}function J(e){let{blockStore:t}=e;window.__c={n:"RestoreDeleteBannerButtons"};const i=(0,c.O7)(),a=(0,n.useCallback)((()=>{K.Rn({environment:i,blocks:[t]})}),[i,t]);return o()(n.Fragment,{},void 0,o()(Q,{variant:"default",blockStore:t}),o()(S.Z,{style:{marginLeft:12},onClick:a},void 0,o()(V.FormattedMessage,{defaultMessage:"Delete permanently",id:"pageViewBlock.trashBanner.deletePermanentlyButton.label"})))}function Q(e){let{variant:t,blockStore:i}=e;window.__c={n:"RestoreBannerButton"};const a=(0,c.O7)(),r=(0,u.VK)((()=>({default:o()(V.FormattedMessage,{defaultMessage:"Restore page",id:"pageViewBlock.trashBanner.restoreButton.label"}),lastVersion:o()(V.FormattedMessage,{defaultMessage:"Restore last version",id:"pageViewBlock.trashBanner.restoreLastVersionButton.label"}),currentPage:o()(V.FormattedMessage,{defaultMessage:"Restore current page",id:"pageViewBlock.trashBanner.restoreCurrentPageButton.label"})}[t])),[t]),s=(0,n.useCallback)((()=>{const{currentSpaceStore:e}=y.default.state;e&&K.DV({environment:a,block:i,spaceId:i.pointer.spaceId||e.id})}),[i,a]);return o()(S.Z,{style:{marginLeft:12},onClick:s},void 0,r)}function X(e){if(!e.canEdit())return!1;if(!e.isNavigableBlock())return!1;const t=e.getParentStore();return!t||t.canEdit()}const ee=function(e){let{blockStore:t}=e;window.__c={n:"DeletedOrMovedPageBanner"};const i=(0,c.Fy)(),a=(0,u.VK)((()=>X(t)),[t]),r=(0,u.VK)((()=>i.isMobile&&a),[i.isMobile,a]),s=(0,u.VK)((()=>t.getClosestMovedBlock()),[t]),l=o()(V.FormattedMessage,{defaultMessage:"This page is in the Trash.",id:"pageViewBlock.trashBanner.message"}),d=o()(V.FormattedMessage,{defaultMessage:"This page was PERMANENTLY deleted.",id:"pageViewBlock.permanentlyDeleted.message"}),g=(0,u.VK)((()=>{const e=j.fJ(t),i=(0,P.y)(e);return G.default.isAdminMode&&i}),[t]);return s?o()(q,{blockStore:t,sourceBlock:s}):r?o()(J,{blockStore:t}):g?o()("div",{},void 0,d,o()(Q,{variant:"default",blockStore:t})):a?o()(n.Fragment,{},void 0,o()("div",{},void 0,l),o()(J,{blockStore:t})):o()("div",{},void 0,l)};var te=i(83212),ie=i(89728);const ae=function(){window.__c={n:"EditingPageBanner"};const e=(0,n.useCallback)((()=>{te.Z.setState({editing:!1,commenting:!0})}),[]);return o()(n.Fragment,{},void 0,o()(V.FormattedMessage,{id:"pageViewBlock.editingPageBanner.status",defaultMessage:"You can now edit this page."}),o()(ie.Z,{onClick:e},void 0,o()(V.FormattedMessage,{id:"pageViewBlock.editingPageBanner.stop",defaultMessage:"Done editing"})))};var oe=i(29755),ne=i(68785);const re=function(e){let{blockStore:t}=e;window.__c={n:"ImportingEvernoteBanner"};const i=(0,u.VK)((()=>oe.Z.state.pageMap[t.id]),[t.id]);return i?o()(n.Fragment,{},void 0,o()(ne.Z,{isWhite:!0,style:{marginRight:8}}),o()(V.FormattedMessage,{defaultMessage:"Imported {importedNumberOfNotes} of {totalNumberOfNotes}",values:{importedNumberOfNotes:i.importedNotes,totalNumberOfNotes:i.totalNotes},id:"pageViewBlock.evernoteBanner.contents"})):null};var se=i(1302),le=i(13148),de=i(47560),ce=i(26825),ue=i(84683),ge=i(19889),me=i(9852),pe=i(50906),ve=i(35253),fe=i(98104),ke=i(11599),he=i(5382),be=i(20454),Me=i(42922),we=i(64369),Se=i(45653);const Be=function(e){window.__c={n:"InvitePageBanner"};const{pageViewBlockStore:t,discussionInputStore:i}=e,a=(0,c.O7)(),r=(0,u.VK)((()=>i.state.textStore),[i]),s=(0,n.useCallback)((()=>{t.setState({...t.state,forceDiscussionOpen:!0}),pe.ZW8(a,{from:"invite_page_banner"}),se.default.afterNextFlush((()=>{fe.NX({store:r})}))}),[t,r,a]),l=(0,u.VK)((()=>y.default.state.currentUserStore),[]),d=(0,V.useIntl)(),g=(0,u.VK)((()=>{const{mainEditorCurrentBlockStore:e}=y.default.state;if(e)return e.getTitleValue()}),[]),m=(0,u.VK)((()=>{const{mainEditorCurrentBlockStore:e}=y.default.state;if(e&&l){const t=e.getPermissionItems(),i=(0,ce.cJ)({permissions:t,userId:l.id});if(i)return e.getRecordModel({table:ue.Tu,id:i,spaceId:e.getSpaceId()})}}),[l]),p=(0,u.VK)((()=>{const{mainEditorCurrentBlockStore:e}=y.default.state;if(m&&e){const t=m.getInviterId();return be.U.createChildStore(e,{table:ge.KJ,id:t,spaceId:e.getSpaceId()})}}),[m]),{inviterUserName:v}=(0,u.VK)((()=>{const{mainEditorCurrentBlockStore:e}=y.default.state;if(m&&e){const t=m.getInviterId(),i=e.getRecordModel({table:ge.KJ,id:t,spaceId:e.getSpaceId()});if(i)return{inviterUserName:i.getFullName(d),inviterUserStore:void 0}}return{inviterUserName:void 0,inviterUserStore:void 0}}),[m,d]),f=(0,u.VK)((()=>m&&m.getMessage()?m.getMessage():o()(V.FormattedMessage,{id:"inviteSpaceBanner.welcomeMessage.captionFallback",defaultMessage:"Collaborate in this document with comments, @mentions, and more."})),[m]),k=(0,Z.Fg)(),h=(0,u.VK)((()=>(0,ke.A$)("comments","section_hide")?null:o()(Me.Z,{isGray:!0,onClick:s},void 0,(0,de.o)({fill:k.darkTextColor,width:14,height:14,marginRight:8}),o()(we.Z,{},void 0,o()(V.FormattedMessage,{id:"invitePageBanner.cta.tour",defaultMessage:"Add comment"})))),[k.darkTextColor,s]),b=(0,n.useCallback)((()=>{ve.qL({bannerStore:he.Z,id:"InvitePageBanner"}),(0,me.unsetRedirectType)()}),[]),M=o()(V.FormattedMessage,{id:"invitePageBanner.welcomeMessage",defaultMessage:"{inviterName} invited you to {pageName}!",values:{inviterName:v,pageName:g}});return v?o()("div",{style:{display:"flex",width:"100%"}},void 0,p&&o()(Se.Z,{style:{marginRight:10},userStore:p,size:32}),o()("div",{},void 0,o()(we.Z,{},void 0,o()("b",{},void 0,M)),o()(we.Z,{isSmall:!0,isSecondaryColor:!0},void 0,f)),o()("div",{style:{display:"flex",alignSelf:"center",justifySelf:"center",gap:12,height:27,marginLeft:"auto"}},void 0,h,o()("div",{style:{height:28},onClick:b},void 0,(0,le.U)({marginLeft:12,fill:k.mediumTextColor,width:14,height:"100%"})))):o()(ne.Z,{})};var ye=i(84169);i(13530);const Ce=function(){window.__c={n:"InviteSpaceBanner"};const e=(0,u.VK)((()=>y.default.state.currentUserStore),[]),t=(0,V.useIntl)(),i=(0,u.VK)((()=>{const e=y.default.state.currentSpaceStore;if(e)return e.getName()}),[]),a=(0,u.VK)((()=>{if(e)return e.getFullName(t)}),[e,t]),r=(0,Z.Fg)(),s=(0,n.useCallback)((()=>{ve.qL({bannerStore:he.Z,id:"InviteSpaceBanner"}),(0,me.unsetRedirectType)()}),[]);return o()("div",{style:{display:"flex",width:"100%"}},void 0,o()(Se.Z,{style:{marginRight:10},userStore:e,size:32}),o()("div",{},void 0,o()(we.Z,{},void 0,o()("b",{},void 0,o()(V.FormattedMessage,{id:"inviteSpaceBanner.welcomeMessage",defaultMessage:"Welcome to {spaceName}, {userName}!",values:{spaceName:i,userName:a}}))),o()(we.Z,{isSmall:!0,isSecondaryColor:!0},void 0,o()(V.FormattedMessage,{id:"inviteSpaceBanner.welcomeMessage.caption",defaultMessage:"Take a tour of Notion, or explore on your own."}))),o()("div",{style:{display:"flex",alignSelf:"center",justifySelf:"center",gap:12,height:27,marginLeft:"auto"}},void 0,!1,o()(Me.Z,{isGray:!0},void 0,(0,ye.m)({fill:r.darkTextColor,width:14,height:14,marginRight:8}),o()(we.Z,{},void 0,o()(V.FormattedMessage,{id:"inviteSpaceBanner.cta.getHelp",defaultMessage:"Get help"}))),o()("div",{style:{height:28},onClick:s},void 0,(0,le.U)({marginLeft:12,fill:r.mediumTextColor,width:14,height:"100%"}))))};var _e=i(11342);const xe=function(){window.__c={n:"MobilePlatformUnsupportedBanner"};const{mobileNative:e,device:t}=(0,c.O7)(),{osVersion:i}=t,a=(0,u.VK)((()=>t.isAndroid&&(0,_e.isLessThanVersion)(i,[7,0])?"Android 7.0":t.isIOS&&(0,_e.isLessThanVersion)(i,[15,0])?"iOS 15.0":void 0),[t.isAndroid,t.isIOS,i]);return e&&e.api.openUpdateSettings&&a?o()("div",{style:{whiteSpace:"normal",textAlign:"center",flex:"1 auto",margin:"8px 0"}},void 0,o()(V.FormattedMessage,{defaultMessage:" This operating system is no longer supported.{br}Please <upgradelink>upgrade to {supportedPlatformVersion} or later.</upgradelink>.",id:"appUpdateListener.mobilePlatformNotSupported.message",values:{br:o()("br",{}),upgradelink:t=>o()(T.Z,{onClick:()=>{e.openUpdateSettings()},disableHover:!0},void 0,t),supportedPlatformVersion:a}})):null};var Fe=i(1865);const Ve=function(){window.__c={n:"OverFreeBlockLimitBanner"};const e=(0,c.O7)(),t=(0,u.VK)((()=>e.device.isMobile&&!e.device.isTablet),[e.device]),i=(0,u.VK)((()=>o()(V.FormattedMessage,t?{id:"subscriptionActions.overFreeBlockLimit.shortMessage",defaultMessage:"You are over the block limit"}:{id:"subscriptionActions.overFreeBlockLimit.longMessage",defaultMessage:"You are over the block limit for the Free plan"})),[t]),a=(0,u.VK)((()=>o()(V.FormattedMessage,t?{id:"subscriptionActions.upgradeForUnlimitedBlocks.shortMessage",defaultMessage:"Upgrade"}:{id:"subscriptionActions.upgradeForUnlimitedBlocks.longMessage",defaultMessage:"Upgrade for unlimited"})),[t]);return o()(n.Fragment,{},void 0,i,o()(S.Z,{onClick:()=>{Fe.y(e,{from:"block_limit_banner",for:"plus"})},style:{marginLeft:12}},void 0,a))};const Te=function(){return o()(V.FormattedMessage,{defaultMessage:"This page is in an archived teamspace.",id:"pageViewBlock.archivedTeamBanner.message"})};const Ie=function(){return o()("span",{},void 0,o()(V.FormattedMessage,{defaultMessage:"<textlink>Download and reinstall</textlink> your desktop app to get the latest features.",id:"appUpdateListener.reinstallDesktopApp.message",values:{textlink:e=>o()(T.Z,{disableHover:!0,href:"https://www.notion.so/desktop",external:!0},void 0,e)}}))};var Le=i(90965),Ze=i(18514);function Pe(){window.__c={n:"SpaceContentDuplicationHelpCenterButton"};const e=(0,c.O7)(),t=(0,n.useCallback)((()=>{const t=(0,Ze.UY)("guides.workspaceConsolidation");M.navigateToExternalURL({environment:e,url:t})}),[e]);return o()(S.Z,{style:{marginLeft:12},onClick:t},void 0,o()(V.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.contentDuplication.learnMoreButton.label"}))}function Ke(e){let{targetSpaceId:t}=e;window.__c={n:"LinkToTargetSpaceButton"};const i=(0,c.O7)(),a=(0,n.useCallback)((()=>{M.navigate({environment:i,url:(0,Le.BD)({spaceValue:{id:t},baseUrl:G.default.domainBaseUrl}),openInNew:"tab"})}),[i,t]);return o()(S.Z,{style:{marginLeft:12},onClick:a},void 0,o()(V.FormattedMessage,{defaultMessage:"Visit new workspace",id:"pageViewBlock.contentDuplication.linkToTargetWorkspace.label"}))}const Ne=function(e){let{blockStore:t}=e;window.__c={n:"SpaceContentDuplicationBanner"};const i=o()(V.FormattedMessage,{defaultMessage:"This workspace is in a read-only state while the contents are being duplicated.",id:"pageViewBlock.contentDuplicationInProgress.message"}),a=o()(V.FormattedMessage,{defaultMessage:"This workspace's contents have been duplicated. Navigate to the new workspace for edits.",id:"pageViewBlock.contentDuplicationCompleted.message"}),{spaceRequestStatus:r,targetSpaceId:l}=(0,u.VK)((()=>{const e=j.oZ(t);return e&&(0,Le.nV)(e)?{spaceRequestStatus:e.status,targetSpaceId:e.target_space_id}:{spaceRequestStatus:void 0,targetSpaceId:void 0}}),[t]);return"started"===r||"failed_with_closed_source"===r?o()(n.Fragment,{},void 0,o()("div",{},void 0,i),o()(Pe,{})):"completed"===r?o()(n.Fragment,{},void 0,o()("div",{},void 0,a),o()(Pe,{}),o()(Ke,{targetSpaceId:l})):r?void(0,s.t1)(r):null};var Re=i(10434),Ue=i.n(Re),Ae=i(12392),Ee=i(82136),Oe=i(16354),We=i(46247);function De(e){window.__c={n:"TemplatePageBanner"};const{message:t,mobileMessage:i,learnMoreLink:a,context:n}=e,r=(0,c.Fy)(),s=(0,c.O7)(),l=(0,Z.yK)((e=>({wrap:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1},mobileBackContainer:{display:"flex",alignItems:"center"},mobileMessageContainer:{display:"flex",alignItems:"center",minWidth:0},mobileHelpContainer:{marginLeft:"auto"},divider:{height:18,width:1,marginLeft:4,marginRight:12,flexShrink:0,background:e.darkDividerColor},desktopBackContainer:{display:"flex",flex:1},desktopMessageContainer:{display:"flex",alignItems:"center",minWidth:0},desktopHelpContainer:{display:"flex",flex:1}})),[]),d=o()(V.FormattedMessage,{defaultMessage:"Back",id:"pageViewBlock.templatePageBanner.backButton.label"}),u=()=>{M.back(s)},g=n===Ee.S.PeekView||n===Ee.S.MiniPeekView;return r.isMobile?o()("div",{style:l.wrap},void 0,o()("div",{style:l.mobileBackContainer},void 0,o()(ie.Z,{onClick:u,mobileFeedback:!0,style:{marginLeft:-8}},void 0,d),o()("div",{style:l.divider})),o()("div",{style:l.mobileMessageContainer},void 0,i??t),a&&o()("div",{style:l.mobileHelpContainer},void 0,o()(We.Z,{href:a,isRight:!0,analyticsFrom:"collection_template_topbar"}))):o()("div",{style:l.wrap},void 0,o()("div",{style:l.desktopBackContainer},void 0,o()(ie.Z,{icon:Ae.S,isGray:!0,onClick:u,style:{marginRight:"auto",marginLeft:g?-6:-4}},void 0,d)),o()("div",{style:l.desktopMessageContainer},void 0,t),o()("div",{style:l.desktopHelpContainer},void 0,a&&o()(Oe.Z,{href:a,style:{marginLeft:"auto",marginRight:-6},onClick:()=>pe.Fsx(s,{from:"collection_template_topbar"})},void 0,o()(ie.Z,{isLightGray:!0,icon:ye.m},void 0,o()(V.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.templatePageBanner.learnMoreLink"})))))}const Ye=(0,V.defineMessages)({editInsideButton:{defaultMessage:"<mediumtext>You're editing a template in a button</mediumtext>",id:"pageViewBlock.templatePageBanner.editInsideButton"},editInsideButtonMobile:{defaultMessage:"<mediumtext>Template inside button</mediumtext>",id:"pageViewBlock.templatePageBanner.mobile.editInsideButton"}});const He=function(e){let{context:t}=e;window.__c={n:"TemplateInButtonBanner"};const i=(0,Z.yK)((e=>({mediumText:{color:e.mediumTextColor}})),[]);return o()(De,{context:t,message:n.createElement(V.FormattedMessage,Ue()({},Ye.editInsideButton,{values:{mediumtext:e=>o()("span",{style:i.mediumText},void 0,e)}})),mobileMessage:n.createElement(V.FormattedMessage,Ue()({},Ye.editInsideButtonMobile,{values:{mediumtext:e=>o()("span",{style:i.mediumText},void 0,e)}}))})};var $e=i(97511),ze=i(1800),Ge=i(67669),je=i(99757);const qe=(0,V.defineMessages)({viewTemplate:{defaultMessage:"<mediumtext>You're viewing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.viewTemplateLabel"},editTemplate:{defaultMessage:"<mediumtext>You're editing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.editTemplateLabel"},editTemplateMobile:{defaultMessage:"<mediumtext>Template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.mobile.editTemplateLabel"}});const Je=function(e){let{blockStore:t,context:i,disabled:a}=e;window.__c={n:"TemplateInPageBanner"};const r=(0,u.VK)((()=>t.getAssociatedCollectionStore()),[t]),s=(0,u.VK)((()=>{const e=null==r?void 0:r.getParentBlockStore();if(e)return(0,ze.Z)({pageId:e.id,pageVisitSource:N.tY.LinkInPage})}),[r]),l=(0,$e.l)(),d=(0,u.VK)((()=>{if(a)return!1;if(je.n.state)return!1;const e=l&&l.publicEditModeStore.state;if((0,Ge.YF)(e))return!1;return t.canEdit()?qe.editTemplate:qe.viewTemplate}),[l,a,t]),c=(0,Z.yK)((e=>({mediumText:{color:e.mediumTextColor},innerLinkBox:{display:"flex",alignItems:"center"},linkBox:{marginLeft:8,marginRight:8,minWidth:0},linkBoxMobile:{marginLeft:8,marginRight:"auto",minWidth:0},recordTitle:{marginLeft:4},recordTitleMobile:{marginLeft:4,marginRight:8}})),[]),g=(0,Ze.UY)("guides.databaseTemplates"),m=(0,u.VK)((()=>null==r?void 0:r.getIcon()),[r]);return r&&s?o()(De,{learnMoreLink:g,context:i,message:n.createElement(V.FormattedMessage,Ue()({},d,{values:{mediumtext:e=>o()("span",{style:c.mediumText},void 0,e),pageTitleWithIcon:o()(O.Z,{href:s,style:c.linkBox,innerStyle:c.innerLinkBox},void 0,o()(W.Z,{disabled:!0,icon:m,isEmptyPage:!1,size:20}),o()(D.Z,{style:c.recordTitle,store:r,underline:!0}))}})),mobileMessage:n.createElement(V.FormattedMessage,Ue()({},qe.editTemplateMobile,{values:{mediumtext:e=>o()("span",{style:c.mediumText},void 0,e),pageTitleWithIcon:o()(O.Z,{href:s,style:c.linkBoxMobile,innerStyle:c.innerLinkBox},void 0,o()(W.Z,{disabled:!0,icon:m,isEmptyPage:!1,size:20}),o()(D.Z,{style:c.recordTitleMobile,store:r,underline:!0}))}}))}):null};var Qe=i(53471),Xe=i(52533),et=i(41168),tt=i(78291);const it=function(){window.__c={n:"UploadLimitExceededBanner"};const e=(0,c.O7)(),t=(0,u.VK)((()=>e.device.isMobile&&!e.device.isTablet),[e.device]),i=(0,u.VK)((()=>{const t="personal"===et.M9(e),i=tt.default.state.data,a=i&&et.GJ(i);return!((0,Xe.S$)({environment:e})&&t&&!a)}),[e]);return o()(n.Fragment,{},void 0,o()(V.FormattedMessage,{id:"uploadLimitExceededBanner.message",defaultMessage:"{shouldShowShortMessage, select, true {Your file is over the {maxFreeAccountFileSize} MB limit} other {Your file is over the {maxFreeAccountFileSize} MB limit of the Free plan}}",values:{shouldShowShortMessage:t,maxFreeAccountFileSize:Qe.K_}}),i&&o()(S.Z,{onClick:()=>{Fe.y(e,{from:"upload_limit_banner",for:et.M9(e)||"plus"})},style:{marginLeft:12}},void 0,o()(V.FormattedMessage,{id:"uploadLimitExceededBanner.upgradeButton.label",defaultMessage:"{shouldShowShortMessage, select, true {Upgrade} other {Upgrade for unlimited uploads}}",values:{shouldShowShortMessage:t}})))};var at=i(91754),ot=i(57480),nt=i(20993);const rt=(0,i(45238).I)("mobileNewFeatures",{viewBox:"0 0 26 26",svg:o()("path",{d:"M12.3984 5.47754C12.5273 5.47754 12.5918 5.40234 12.624 5.28418C12.9463 3.49023 12.9355 3.44727 14.8047 3.09277C14.9229 3.07129 15.0088 2.99609 15.0088 2.86719C15.0088 2.73828 14.9229 2.66309 14.8047 2.6416C12.9355 2.26562 13 2.22266 12.624 0.450195C12.5918 0.332031 12.5273 0.256836 12.3984 0.256836C12.2695 0.256836 12.1943 0.332031 12.1729 0.450195C11.7969 2.22266 11.8613 2.26562 9.99219 2.6416C9.86328 2.66309 9.78809 2.73828 9.78809 2.86719C9.78809 2.99609 9.86328 3.07129 9.99219 3.09277C11.8613 3.46875 11.8398 3.49023 12.1729 5.28418C12.1943 5.40234 12.2695 5.47754 12.3984 5.47754ZM7.19922 12.8682C7.40332 12.8682 7.54297 12.7393 7.56445 12.5459C7.95117 9.67773 8.04785 9.67773 11.0127 9.1084C11.1953 9.07617 11.335 8.94727 11.335 8.74316C11.335 8.5498 11.1953 8.41016 11.0127 8.37793C8.04785 7.96973 7.94043 7.87305 7.56445 4.95117C7.54297 4.75781 7.40332 4.61816 7.19922 4.61816C7.00586 4.61816 6.86621 4.75781 6.83398 4.96191C6.49023 7.84082 6.3291 7.83008 3.38574 8.37793C3.20312 8.4209 3.06348 8.5498 3.06348 8.74316C3.06348 8.95801 3.20312 9.07617 3.42871 9.1084C6.35059 9.58105 6.49023 9.65625 6.83398 12.5244C6.86621 12.7393 7.00586 12.8682 7.19922 12.8682ZM14.4824 24.7598C14.7617 24.7598 14.9658 24.5557 15.0088 24.2656C15.7715 18.3789 16.6094 17.4873 22.4316 16.8428C22.7324 16.8105 22.9365 16.585 22.9365 16.3057C22.9365 16.0264 22.7324 15.8115 22.4316 15.7686C16.6094 15.124 15.7715 14.2324 15.0088 8.3457C14.9658 8.05566 14.7617 7.8623 14.4824 7.8623C14.2031 7.8623 13.999 8.05566 13.9561 8.3457C13.1826 14.2324 12.3555 15.124 6.5332 15.7686C6.23242 15.8115 6.02832 16.0264 6.02832 16.3057C6.02832 16.585 6.23242 16.8105 6.5332 16.8428C12.3447 17.6055 13.1504 18.3896 13.9561 24.2656C13.999 24.5557 14.2031 24.7598 14.4824 24.7598Z"})});var st=i(64921);class lt extends r.Z{constructor(){super(...arguments),this.renderComponent=()=>{const{isMobile:e}=this.environment.device;return o()(st.Z,{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:e?"flex-start":"center"},onClick:this.props.onClick,mobileFeedback:!0},void 0,l.p9?n.createElement(n.Fragment,null,rt({width:e?26:22,marginRight:e?12:8}),o()("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},void 0,o()(V.FormattedMessage,{defaultMessage:"Update and see what's new",id:"updateBanner.updateAvailableBanner.message"}))):o()("div",{style:{minWidth:0,wordWrap:"break-word",whiteSpace:"normal",padding:10}},void 0,o()(V.FormattedMessage,e?{id:"updateBanner.updateMessage.noRedirectMobile",defaultMessage:"Tap here to update to the latest version"}:{id:"updateBanner.updateMessage.noRedirect",defaultMessage:"Click here to update to the latest version"})))}}}lt.displayName="UpdateBanner";const dt=lt;class ct extends r.Z{constructor(){super(...arguments),this.renderBanner=(e,t,i)=>{const{id:a,styleKey:n,contentKey:r}=e,d=i.length>1&&t!==i.length-1;let c=null;switch(r){case"invite_space":c=o()(Ce,{});break;case"invite_page":this.props.pageViewBlockStore&&this.props.discussionInputStore&&(c=o()(Be,{pageViewBlockStore:this.props.pageViewBlockStore,discussionInputStore:this.props.discussionInputStore}));break;case"over_free_block_limit":c=o()(Ve,{});break;case"editing_page":c=o()(ae,{});break;case"subscription_trial_add_payment_method":c=o()(nt.a,{});break;case"upload_limit_exceeded":c=o()(it,{});break;case"admin_mode":c=o()(x,{});break;case"subscription_payment_status":c=o()(ot.k,{});break;case"space_content_duplication":c=o()(Ne,{blockStore:e.blockStore});break;case"minor_app_update":c=o()(dt,{onClick:()=>(0,l.mK)(this.environment)});break;case"reinstall_desktop_app":c=o()(Ie,{});break;case"mobile_platform_unsupported":c=o()(xe,{});break;case"cordova_unsupported":c=o()(I,{});break;case"deleted_or_moved_page":c=o()(ee,{blockStore:e.blockStore});break;case"page_in_archived_team":c=o()(Te,{});break;case"importing_evernote":c=o()(re,{blockStore:e.blockStore});break;case"template_in_page":c=o()(Je,{blockStore:e.blockStore,context:e.context,disabled:e.disabled});break;case"template_in_button":c=o()(He,{context:e.context});break;case"crdt_page":c=o()(L,{});break;default:(0,s.t1)(r)}return o()(at.Z,{styleKey:n,shouldUseDivider:d,isMobile:this.props.isMobile},a,c)}}renderComponent(){return o()("div",{style:{width:`calc(100% - ${(0,d.ll)(this.environment,this.props.isInPeekRenderer)}px)`,userSelect:"none",WebkitUserSelect:"none"}},void 0,this.props.arbitraryRenderBefore,this.props.banners.map(this.renderBanner))}}ct.displayName="BannersRenderer";const ut=ct},46247:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(23174),o=i.n(a),n=(i(67294),i(83355)),r=i(84169),s=i(50906),l=i(64921),d=i(16354);class c extends n.Z{renderComponent(){return o()(d.Z,{style:{display:"flex",alignSelf:"stretch",width:36,...this.props.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:this.props.href,onClick:()=>s.Fsx(this.environment,{from:this.props.analyticsFrom})},void 0,o()(l.Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},void 0,(0,r.m)({width:18,marginTop:1,fill:this.theme.lightIconColor})))}}c.displayName="HelpIconButtonMobile";const u=c}}]);