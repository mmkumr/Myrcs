"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9325],{85387:(e,t,o)=>{o.d(t,{s:()=>u});var s=o(23174),i=o.n(s),a=o(10434),n=o.n(a),r=o(67294),l=o(480),c=o(24405),d=o(82990);var p=o(26388);function u(e){let{children:t,style:o}=e;window.__c={n:"TextOverflowWithTooltip"};const{isSafari:s}=(0,l.Fy)(),a=(0,r.useRef)(null),u=function(e){const[t,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const s="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==s||s.observe(t),()=>null==s?void 0:s.unobserve(t)}),[]),t}(a),m=(0,c.yK)((()=>({overflowText:{...d.Z.textOverflowStyle,...o}})),[o]);return i()(p.Z,{delayThreshold:500,placement:p.Z.Placement.Bottom,forceVisibleState:!(s||!u)&&void 0,renderTooltip:()=>u?t:void 0,render:e=>r.createElement("div",n()({ref:a,style:m.overflowText},e),t)})}},9325:(e,t,o)=>{o.d(t,{Z:()=>dt,s:()=>lt});var s=o(10434),i=o.n(s),a=o(23174),n=o.n(a),r=(o(57658),o(21703),o(67294)),l=o(83355),c=o(41892),d=o(6906),p=o(45433),u=o(58573),m=o(42853),g=o(90199),h=o(47453),v=o(35840),S=o(54497),f=o(72126),y=o(21202),M=o(97880),T=o(82990),I=o(5366),b=o(88295),w=o(60870),P=o(31299),k=o(52275),C=o(61519),A=o(1743),Z=o(56940),B=o(68894),x=o(3386),E=o(16354),V=o(68785),L=o(78140),F=o(89728),N=o(31278),R=o(72495),O=o(45959),_=o(33411),q=o(26388),z=o(64369),W=o(45653),D=o(85387),K=o(60442),H=o(28020),U=o(75081),Q=o(87279),G=o(98742),X=o(44499),j=o(98165),Y=o(58239),$=o(18514),J=o(38755),ee=o(95697),te=o(80444),oe=o(88632),se=o(77080),ie=o(63334),ae=o(29798),ne=o(49085);class re extends ne.default{getInitialState(){return{chosenSpaceId:void 0}}getChosenSpaceId(){const{chosenSpaceId:e}=this.state,{currentSpaceStore:t}=te.default.state;return e||(null==t?void 0:t.id)}getChosenSpaceStore(){var e;return null===(e=this.getChosenSpaceViewStore())||void 0===e?void 0:e.getSpaceStore()}getChosenSpaceViewStore(){const{chosenSpaceId:e}=this.state,{currentSpaceViewStore:t,currentUserRootStore:o}=te.default.state;if(!e&&t)return t;if(e&&o){return o.getSpaceViewStores().find((t=>t.getSpaceId()===e))}}}const le=re;var ce=o(42330),de=o(57559),pe=o(72087),ue=o(32163),me=o(43765),ge=o(77137);function he(e){let{query:t,spaceId:o,menuListStore:s,requestStore:i,getAutocompleteItems:a}=e;return n()(ge.Z,{request:{query:t,spaceId:o},render:(e,o)=>n()(ve,{sections:o,error:e,menuListStore:s,initialFocus:Boolean(t)?0:void 0}),requestStore:i,debounce:P.vp,performRequest:a})}function ve(e){let{sections:t,error:o,menuListStore:s,initialFocus:i}=e;return o?n()(R.Z,{},void 0,n()(me.Z,{title:n()(I.FormattedMessage,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})})):t&&0===t.length?n()(R.Z,{},void 0,n()(me.Z,{title:n()(I.FormattedMessage,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})):n()(ue.Z,{type:ue.i.Vertical,initialFocus:i,sections:t||[],store:s})}var Se=o(6287),fe=o(15047),ye=o(29369),Me=o(4708),Te=o(65598),Ie=o(86628),be=o(24405),we=o(45238);const Pe=(0,we.I)("lockedDocument",{viewBox:"0 0 27 33",svg:n()("path",{d:"M9.281 26.605c0 .878.406 1.318 1.216 1.318h6.02c.811 0 1.216-.44 1.216-1.318V21.99c0-.79-.327-1.216-.981-1.274v-1.348c0-1.084-.298-1.958-.894-2.622-.595-.664-1.377-.996-2.343-.996-.967 0-1.748.332-2.344.996-.596.664-.894 1.538-.894 2.622v1.348c-.664.058-.996.483-.996 1.274v4.615zm2.359-5.919v-1.45c0-.654.17-1.176.512-1.567.342-.4.796-.6 1.363-.6.566 0 1.015.2 1.347.6.342.39.513.913.513 1.567v1.45H11.64zM5.692 32.288h15.601c1.572 0 2.759-.41 3.56-1.23.8-.81 1.2-2.002 1.2-3.575V14.197c0-.683-.038-1.26-.117-1.728a3.829 3.829 0 00-.454-1.304c-.214-.4-.537-.815-.966-1.245L16.84 2.112c-.41-.42-.81-.737-1.201-.952a3.822 3.822 0 00-1.275-.454 8.661 8.661 0 00-1.611-.132h-7.06c-1.573 0-2.76.41-3.56 1.23C1.332 2.616.932 3.808.932 5.38v22.104c0 1.582.4 2.779 1.2 3.59.802.81 1.988 1.215 3.56 1.215zm.235-2.886c-.703 0-1.23-.18-1.582-.542-.352-.361-.528-.879-.528-1.552V5.569c0-.673.176-1.196.528-1.567.351-.371.884-.557 1.596-.557h6.24v8.028c0 1.045.255 1.826.762 2.343.518.518 1.3.777 2.344.777h7.896v12.715c0 .673-.176 1.191-.528 1.552-.351.362-.884.542-1.596.542H5.927zm9.638-17.343c-.302 0-.522-.069-.659-.205-.127-.137-.19-.357-.19-.66V3.841l8.071 8.218h-7.222z"})});var ke=o(11470),Ce=o(76798);function Ae(e){let{store:t,menuListItemProps:o,hidePath:s,showLockIcon:a}=e;window.__c={n:"MoveToMenuItem"};const l=(0,Ie.VK)((()=>function(e){if(!(0,Me.vI)())return;if((0,Te.NZ)(e)&&!e.canEdit())return n()(I.FormattedMessage,{id:"moveBlockMenu.needEditAccess.tooltip",defaultMessage:'You need "Can edit" access to "{parentName}" to move this page',values:{parentName:n()(Ce.Z,{store:e,shouldWrap:!0})}});if((0,Te.Y)(e)&&!e.canAddOrRemoveTopLevelPages())return n()(I.FormattedMessage,{id:"moveBlockMenu.TeamSidebarLocked.tooltip",defaultMessage:"This teamspace has its sidebar locked. You must be a teamspace owner to move to this teamspace."})}(t)),[t]),c=Boolean(l),d=(0,be.yK)((e=>({disabledTooltip:{maxWidth:240},recordMenuItem:c?{color:e.mediumTextColor}:{}})),[c]);return n()(q.Z,{placement:q.Z.Placement.Left,textWrap:!0,style:d.disabledTooltip,disableTooltip:!c,renderTooltip:()=>l,render:e=>r.createElement(ke.Z,i()({},(0,G.Z)(o,e),{disabled:c,store:t,hidePath:s,style:d.recordMenuItem,right:a?n()(Ze,{}):void 0}))})}function Ze(){window.__c={n:"MenuItemRightIconWithTooltip"};const e=(0,be.yK)((()=>({container:{display:"flex"},lockIcon:{width:16,height:16}})),[]);return(0,Me.c)()?null:n()("div",{style:e.container},void 0,n()(q.Z,{placement:q.Z.Placement.Bottom,renderTooltip:()=>n()(I.FormattedMessage,{defaultMessage:"No edit access",id:"moveBlockMenu.noEditAccess.tooltip"}),render:t=>r.createElement("div",t,Pe(e.lockIcon))}))}var Be=o(480),xe=o(86176),Ee=o(75024);function Ve(e){let{spaceStore:t,collectionStore:o,menuListItemProps:s}=e;window.__c={n:"MoveToModalTypedItem"};const a=(0,Be.O7)(),l=(0,be.yK)((e=>({caption:{color:e.lightTextColor,fontSize:(0,Ee.yv)(a,"UISmall")}})),[a]);return r.createElement(ke.Z,i()({caption:n()("div",{style:l.caption},void 0,n()(Le,{spaceStore:t,collectionStore:o})),store:o},s))}function Le(e){let{spaceStore:t,collectionStore:o}=e;window.__c={n:"PathCaption"};const s=(0,Be.O7)(),i=(0,Ie.VK)((()=>function(e){let{environment:t,spaceStore:o,collectionStore:s}=e;const i=(0,U.tV)({environment:t,spaceStore:o,collectionStore:s});switch(i){case"team":return null;case"private":return n()(I.FormattedMessage,{id:"moveToHelpers.privatePageCaptionPrefix",defaultMessage:"Private"});case"other":return n()(I.FormattedMessage,{id:"moveToHelpers.sharedPageCaptionPrefix",defaultMessage:"Shared"});default:(0,M.t1)(i)}}({environment:s,spaceStore:t,collectionStore:o})),[s,t,o]),a=(0,Ie.VK)((()=>(0,xe.L)(o)),[o])&&n()(xe.Z,{store:o,showFullPathInTooltip:!0});return a&&i?n()("div",{style:{display:"flex",flexDirection:"row"}},void 0,i,n()("div",{style:{paddingLeft:4,paddingRight:4}},void 0,"/"),a):a&&!i?a:r.createElement(r.Fragment,null,i)}function Fe(e){let{spaceStore:t,value:o,showPath:s,isCreateIn:i,onAccept:a}=e;const r=function(e){let{spaceStore:t,value:o}=e;const{type:s}=o;switch(s){case"page":return de.G.createChildStore(t,{table:y.iU,id:o.id});case"collection":return de.NW.createChildStore(t,{table:Se.v,id:o.id});case"space":return de.H2.createChildStore(t,{table:fe.bx,id:o.id});case"team":return de.zX.createChildStore(t,{table:ye.e0,id:o.id});case"space-private-pages":return;default:(0,M.t1)(s)}}({spaceStore:t,value:o});if(r)return(0,X.Hn)()&&r instanceof de.NW?{key:r.id,render:e=>n()(Ve,{spaceStore:t,collectionStore:r,menuListItemProps:e}),action:()=>a(o)}:{key:r.id,render:e=>n()(Ae,{store:r,menuListItemProps:e,hidePath:!!i&&!s,showLockIcon:(0,Te.NZ)(r)&&!r.canEdit()}),action:()=>{(!(0,Me.vI)()&&r.canEdit()||(0,Me.vI)())&&a(o)}}}var Ne=o(59054),Re=o(69327),Oe=o(41432),_e=o(16184),qe=o(39567),ze=o(50906),We=o(64921),De=o(93686),Ke=o(5210),He=o(35026);function Ue(e){return 14*(e+1)}function Qe(e){window.__c={n:"MoveToOutlinerItem"};const{store:t,spaceStore:o,spaceViewStore:s,depth:i,isAlias:a}=e,l=(0,Be.O7)(),c=(0,be.Fg)(),[d,p]=r.useState(!1),u=(0,be.yK)((e=>({noChildrenLabelItem:{paddingLeft:Ue(i)+24,fontSize:14,paddingBottom:6.5,color:e.lightTextColor},outlinerItem:{display:"flex",flexDirection:"row",fontSize:14,height:28,paddingLeft:Ue(i),color:e.regularTextColor,alignItems:"center"},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:22,height:18,marginRight:4,position:"relative"}})),[i]);function m(){const e=ce.ZP.state;e.isOpen&&(p(!d),ze.w6U(l,{flowId:e.flowId,is_toggled:!d,destination_type:t?t.table:"private_pages"}))}const h=(0,Ie.VK)((()=>{if(t){const e=n()("div",{},void 0,(0,qe.Y)({position:"absolute",width:"50%",height:"50%",right:0,bottom:0}));return t instanceof de.zX?n()("div",{style:u.icon},void 0,n()(De.p,{disabled:!0,store:t,size:18})):n()("div",{style:u.icon},void 0,n()(N.Z,{icon:t instanceof de.G?t.getIcon():void 0,isEmptyPage:t instanceof de.G&&t.isEmptyPage(),title:void 0,size:18,disabled:!0}),a&&e)}return n()(W.Z,{size:16,userStore:(0,H.B7)(l),style:{marginLeft:3}})}),[t,u.icon,l,a]),v=(0,Ie.VK)((()=>t?t.table===ye.e0?"private"!==t.getTeamAccessLevel()?n()("div",{style:{maxWidth:"80%"}},void 0,n()(Ce.Z,{store:t})):n()("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"80%"}},void 0,n()(Ce.Z,{store:t}),(0,_e.Q)({width:14,height:14,marginLeft:4,fill:c.mediumIconColor})):n()("div",{style:{maxWidth:"80%"}},void 0,n()(Ce.Z,{store:t})):n()("div",{style:{display:"flex",alignItems:"center",marginLeft:7}},void 0,n()(I.FormattedMessage,{defaultMessage:"Private pages",id:"outliner.addToPrivatePages"}),n()("div",{style:{marginLeft:2}},void 0,(0,g.b)({width:14,height:14,fill:c.mediumIconColor,marginLeft:4})))),[t,c.mediumIconColor]),S=(0,Ie.VK)((()=>{const e=new Set([Oe.Ti.page,Oe.Ti.collectionViewPage,Oe.Ti.collectionView,Oe.Ti.alias]),o=new Set([Oe.Ti.factory]);let i=[];return t?t instanceof de.zX?i=t.getTeamPagesStores():t instanceof de.G&&(i=(0,He.Q2)(t,o,e)):i=s.getPrivatePages(l),i}),[t,s,l]);const f=0!==S.length?n()(Ge,{spaceStore:o,spaceViewStore:s,itemStores:S,depth:i+1,onAccept:e.onAccept,targets:e.targets}):n()("div",{style:u.noChildrenLabelItem},void 0,n()(I.FormattedMessage,{defaultMessage:"No pages inside",id:"outliner.NoPagesInside.placeholder"}));return r.createElement(r.Fragment,null,n()(We.Z,{onClick:function(){e.moveToPagesOnly&&(null==t?void 0:t.table)!==y.iU?m():t?t instanceof de.G?e.onAccept({type:"page",id:t.id,spaceId:o.id}):e.onAccept({type:"team",id:t.id,spaceId:o.id}):e.onAccept({type:"space-private-pages",spaceId:o.id})}},void 0,n()("div",{style:u.outlinerItem},void 0,n()(Ke.Z,{isSidebar:!0,fill:!0,icon:"chevron",open:d,color:c.mediumIconColor,onClick:m}),h,v)),d&&i<100&&f)}function Ge(e){window.__c={n:"MoveToOutliner"};const{spaceStore:t,spaceViewStore:o,itemStores:s,depth:i}=e,a=(0,Ie.VK)((()=>{const a=s?f.oA(s.map((s=>{if(s instanceof de.zX&&s.canAddOrRemoveTopLevelPages()||s instanceof de.G&&(0,X.Xk)(s,e.targets)&&s.canEdit()){const a=s instanceof de.G&&s.getType()===Oe.Ti.alias,r=a?s.getAliasTargetStore():void 0,l=r instanceof de.G?r:s;return n()(Qe,{spaceStore:t,spaceViewStore:o,store:l,depth:i,onAccept:e.onAccept,targets:e.targets,isAlias:a,moveToPagesOnly:e.moveToPagesOnly})}}))):[];return e.addedItems?[...e.addedItems,...a]:a}),[s,e.addedItems,e.moveToPagesOnly,e.targets,e.onAccept,t,o,i]),r=(0,be.yK)((e=>({sectionHeader:{color:e.mediumTextColor,fontSize:12,fontWeight:T.Z.fontWeight.medium,padding:"12px 14px 4px 14px"}})),[]);return n()(A.Z,{capture:!0},void 0,e.title&&n()("div",{style:r.sectionHeader},void 0,n()(z.Z,{isSmall:!0},void 0,e.title)),n()("div",{},void 0,a))}function Xe(e){window.__c={n:"MoveToModal"};const{spaceStore:t,spaceViewStore:o,targets:s,moveToPagesOnly:i}=e,a=(0,Ie.VK)((()=>te.default.state.currentUserStore),[]),r=(0,Be.O7)(),l=(0,I.useIntl)(),c=(0,be.yK)((()=>({modal:{height:374,maxHeight:"70vh",paddingBottom:12},body:{width:"100%"}})),[]),[d]=(0,Ne.r5)((async()=>t&&a?await(0,ee.qX)({environment:r,spaceStore:t,currentUserId:a.id}):[]),[r,t,a]),p=(0,Ie.VK)((()=>{if(!d.value)return;const e=o.getTeamsStores().filter((e=>e.canAddOrRemoveTopLevelPages()));return e.length>=7?e:f.mN([...e,...d.value||[]],(e=>e.id)).filter((e=>e.canAddOrRemoveTopLevelPages())).slice(0,7)}),[o,d.value]),u=(0,Ie.VK)((()=>je({spaceStore:t,targets:s})),[t,s]),m=(0,Ie.VK)((()=>o.getWorkspacePages().filter((e=>(0,X.Xk)(e,s)&&e.canEdit()))),[o,s]),g=(0,Ie.VK)((()=>{if(Ye({environment:r,targets:s,chosenSpaceStore:t}))return n()(Qe,{spaceStore:t,spaceViewStore:o,store:void 0,depth:0,onAccept:e.onAccept,targets:e.targets,moveToPagesOnly:i})}),[r,i,e,t,o,s]);return t&&o?n()("div",{style:c.modal},void 0,n()("div",{style:c.body},void 0,n()("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},void 0,n()(Ge,{spaceStore:t,spaceViewStore:o,itemStores:u,addedItems:[g],moveToPagesOnly:i,depth:0,title:l.formatMessage({defaultMessage:"Suggested",id:"moveToModal.suggestedSection.title"}),onAccept:e.onAccept,targets:e.targets}),p&&p.length>0&&n()(Ge,{spaceStore:t,spaceViewStore:o,itemStores:p,moveToPagesOnly:i,depth:0,title:l.formatMessage({defaultMessage:"Teamspaces",id:"moveToModal.teamsSection.title"}),onAccept:e.onAccept,targets:e.targets}),m.length>0&&n()(Ge,{spaceStore:t,spaceViewStore:o,itemStores:m,moveToPagesOnly:i,depth:0,title:l.formatMessage({defaultMessage:"Workspace",id:"moveToModal.workspaceSection.title"}),onAccept:e.onAccept,targets:e.targets})))):null}function je(e){let{spaceStore:t,targets:o}=e,s=Re.Z.getWithoutSubscribing(t.id).map((e=>{let{store:t}=e;return t})).filter((e=>e.pathIsAccessibleAndAlive()&&!o.some((t=>"block"===t.table&&t.id===e.id))));const i=o.filter((e=>"block"===e.getParentTable())).map((e=>e.getParentId())),a=i.length===o.length,n=[...new Set(i)];return a&&1===n.length&&(s=s.filter((e=>e.id!==n[0]))),s.slice(0,7)}function Ye(e){let{environment:t,targets:o,chosenSpaceStore:s}=e;const i=(0,J.Cx)(s),a=o.every((e=>e.isTopLevelPrivatePage({spaceStore:s,environment:t})));return!i&&!a}var $e=o(84169),Je=o(73063),et=o(43568),tt=o(16854),ot=o(45811);function st(e){let{environment:t,spaceStore:o,joinedTeamIds:s,parentStore:i,moveToTargets:a}=e;const n=(0,Ie.VK)((()=>{const e=null==o?void 0:o.id;if(e)return function(e){if(!ce.ZP.state.isOpen||"typedInitialized"!==ce.ZP.state.variant)return;if(e!==ce.ZP.state.spaceId)return;return ce.ZP.state.typedDatabases}(e)}),[null==o?void 0:o.id]),[{value:r,status:l}]=(0,Ne.r5)((async()=>{if(n)return n;if(!o)return;const e=ce.ZP.getTargetsDatabaseType();if(!e)return;const r=await tt.rG({environment:t,spaceId:o.id,databaseType:e,parentStore:i})??[],l=(0,ot.m)({environment:t,typedDatabases:r,spaceStore:o,blocksToFilterParents:a,joinedTeamIds:s});return ce.ZP.setState({...ce.ZP.state,variant:"typedInitialized",typedDatabases:l,spaceId:o.id}),l}),[t,o,i,s,a,n]);return n?{success:!0,typedDatabases:n}:"resolved"===l&&r?{success:!0,typedDatabases:r}:{success:!1}}const it=(0,we.I)("boxedPerson",{viewBox:"0 0 26 25",svg:r.createElement(r.Fragment,null,n()("path",{d:"M21.719 19.406h-2.004V21.2c0 2.414-1.219 3.633-3.68 3.633H4.27c-2.438 0-3.668-1.219-3.668-3.633V9.34c0-2.413 1.23-3.632 3.668-3.632h2.015V3.914C6.285 1.5 7.515.281 9.953.281H21.72c2.46 0 3.68 1.219 3.68 3.633v11.86c0 2.414-1.22 3.632-3.68 3.632Zm-.024-1.886c1.172 0 1.817-.633 1.817-1.852V4.02c0-1.22-.645-1.852-1.817-1.852H9.988c-1.16 0-1.816.633-1.816 1.852v1.687h7.863c2.461 0 3.68 1.207 3.68 3.633v8.18h1.98Zm-5.683 5.425c1.16 0 1.816-.633 1.816-1.851V9.445c0-1.218-.656-1.851-1.816-1.851H4.305c-1.16 0-1.817.633-1.817 1.851v11.649c0 1.218.657 1.851 1.817 1.851h11.707Z"}),n()("path",{d:"M10.24 14.855c1.176 0 2.164-1.042 2.164-2.39 0-1.316-1-2.32-2.165-2.32s-2.17 1.02-2.164 2.33c0 1.338.993 2.38 2.164 2.38ZM6.661 19.85h7.15c.6 0 .966-.285.966-.757 0-1.386-1.757-3.287-4.539-3.287-2.787 0-4.538 1.901-4.538 3.287 0 .472.36.757.961.757Z"}))});function at(e){window.__c={n:"MoveToModalTypedEmptyState"};const{onClick:t,databaseType:o}=e,s=(0,Be.O7)(),i=(0,be.yK)((e=>({modal:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:32,marginBottom:32},icon:{width:20,fill:e.mediumTextColor},title:{marginTop:6,fontWeight:T.Z.fontWeight.semibold,color:e.mediumTextColor},subtitle:{marginTop:2,marginLeft:14,marginRight:14,textAlign:"center"},button:{fontWeight:T.Z.fontWeight.semibold,fontSize:(0,Ee.yv)(s,"UISmall")}})),[s]),a=(0,U.sN)(o),r=(0,U.Q_)(o);return n()("div",{style:i.modal},void 0,it(i.icon),n()(z.Z,{isSmall:!0,style:i.title},void 0,n()(I.FormattedMessage,{id:"moveToModalTypedEmptyState.title",defaultMessage:"No other {singleItemName} databases",values:{singleItemName:a}})),n()(z.Z,{isSmall:!0,isMultiline:!0,style:i.subtitle},void 0,n()(I.FormattedMessage,{id:"moveToModalTypedEmptyState.subtitle",defaultMessage:"Try adding {pluralItemName} to another teamspace",values:{pluralItemName:r}})),n()(F.Z,{isBlue:!0,onClick:t,style:i.button},void 0,n()(I.FormattedMessage,{id:"moveToModalTypedEmptyState.button",defaultMessage:"Move somewhere else"})))}function nt(e){let{spaceStore:t,spaceViewStore:o,targets:s,menuListStore:a,onAccept:l}=e;window.__c={n:"MoveToModalTyped"};const c=(0,Be.O7)(),u=(0,be.yK)((()=>({modal:{maxHeight:"70vh"},loadingShimmer:{padding:16}})),[]),m=(0,Ie.VK)((()=>o.getTeamsStores().map((e=>e.id))),[o]),g=st({environment:c,spaceStore:t,parentStore:t,joinedTeamIds:m,moveToTargets:s}),h=(0,Ie.VK)((()=>g.success?g.typedDatabases.map((e=>function(e){const{store:t,spaceStore:o,onAccept:s}=e;return{key:t.id,render:e=>n()(Ve,{spaceStore:o,collectionStore:t,menuListItemProps:e}),action:()=>s({type:"collection",id:t.id,spaceId:o.id})}}({store:e,spaceStore:t,onAccept:l}))):[]),[g,t,l]),v=(0,Ie.VK)((()=>ce.ZP.getTargetsDatabaseType()),[]);if(!g.success)return n()("div",{style:u.loadingShimmer},void 0,n()(et.Z,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}));if(!v)throw new Error("Trying to show typed moveTo modal when database type is not available.");if(0===h.length)return n()(at,{databaseType:v,onClick:()=>{ce.ZP.state.isOpen&&ce.ZP.setState({...ce.ZP.state,variant:p.br})}});const S=(0,U.sN)(v),f=[{key:"suggested",render:e=>r.createElement(R.Z,i()({},e,{title:n()(I.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveToModalTyped.suggestedMenuSection.title",values:{typedItemName:(0,d.Z)(S)}}),right:n()(rt,{typedItemName:S})})),items:h.slice(0,7)}];return n()("div",{style:u.modal},void 0,n()(ue.Z,{initialFocus:0,type:ue.i.Vertical,sections:f||[],store:a}))}function rt(e){let{typedItemName:t}=e;window.__c={n:"TypedMoveToTooltip"};const o=(0,be.yK)((e=>({icon:{width:13,height:13,fill:e.mediumIconColor},iconButton:{height:18,width:18,padding:0,marginTop:-4,marginBottom:-4,marginRight:-4}})),[]),s=(0,I.useIntl)();return(0,Be.Fy)().isMobile?null:n()(q.Z,{placement:q.Z.Placement.Bottom,style:{width:220},textWrap:!0,renderTooltip:()=>n()(I.FormattedMessage,{defaultMessage:"{typedItemName} properties will be kept when moving to these locations",id:"moveTypedMenu.tooltip",values:{typedItemName:f.kC(t)}}),render:e=>r.createElement(Je.Z,i()({ariaLabel:s.formatMessage({id:"moveToModalTyped.helpIcon.ariaLabel",defaultMessage:"Help icon for moving typed pages."}),icon:$e.m,iconStyle:o.icon,style:o.iconButton},e))})}const lt=(0,I.defineMessages)({createSubpage:{id:"moveToOrCreateMenu.createSubpage.description",defaultMessage:"Create a new sub-page where your cursor is, inside the current block."},newPageIn:{id:"moveToOrCreateMenu.newPageIn.description",defaultMessage:"Create a new page inside any existing page, then link to it in one go."},turnInto:{id:"moveToOrCreateMenu.turnInto.description",defaultMessage:"Turn blocks into new pages inside any existing database or page."},privatePagesTitle:{defaultMessage:"Private Pages",id:"moveBlockMenu.privatePagesMenuTitle"}});class ct extends l.Z{constructor(){super(...arguments),this.storeTypes={ignoreSelectionAreaStore:ie.Z,moveToSpaceMenuStore:le,requestStore:pe.Z,menuListStore:ae.Z},this.getAutocompleteItems=async e=>{const{currentUserRootStore:t,mainEditorCurrentBlockStore:o,currentSpaceStore:s}=te.default.state,{query:i}=e,a=this.stores.moveToSpaceMenuStore.getChosenSpaceStore();if(!(t&&a&&o&&s))return[];const n=(0,Y.lX)({spaceStore:a,currentUserId:this.environment.currentUser.id}),[r,l,c,d]=await this.getPageAndCollectionResults(a,i),p=await n;return(0,X.Hn)()?await this.getTypedAutoCompleteItems({chosenSpaceStore:a,savedQuickAddParent:p,query:i,blockResults:r,recentPageResults:d}):this.props.isCreateIn?this.createAutoCompleteItems(a,i,r,l,c,d):this.getAutoCompleteItems(a,p,i,r,l,c,d)},this.getPageAndCollectionResults=async(e,t)=>{const o=[],s=[],i=[];let a=[];if(t&&this.shouldAllowSearch()){const s=await P.nJ({environment:this.environment,query:t,limit:20,spaceId:e.id,requireEditPermissions:!1,excludeTemplates:!1,source:"move_to_menu",boostRecentlyViewedPages:!0});for(const t of s.results){const s=de.G.createChildStore(e.getPagesStore(),{table:y.iU,id:t});if((0,X.Xk)(s,this.props.targets)){const e={blockId:s.id,isEditable:s.canEdit()};this.shouldDisplayInTemplatesSection(s)?i.push(e):o.push(e)}}}else{a=(await w.I0(e,e.id)).map((t=>{const o=de.G.createChildStore(e.getPagesStore(),{table:y.iU,id:t});return{blockId:o.id,isEditable:o.canEdit()}})),a=a.filter((t=>{let{blockId:o}=t;const s=de.G.createChildStore(e.getPagesStore(),{table:y.iU,id:o});if((0,X.Xk)(s,this.props.targets)){const e={blockId:s.id,isEditable:s.canEdit()};return!this.shouldDisplayInTemplatesSection(s)||(i.push(e),!1)}}));const t=H.Xb(this.environment);for(const e of t)if((0,X.Xk)(e,this.props.targets)){const t={blockId:e.id,isEditable:e.canEdit()};this.shouldDisplayInTemplatesSection(e)?i.push(t):s.push(t)}}return[o,s,i,a]},this.createAutoCompleteItems=(e,t,o,s,a,l)=>{const{isAddTo:c,isTurnIntoPage:d}=this.props,p=[],u=new Set,m=e=>{if(!e)return!1;const{key:t}=e;return!u.has(t)&&(u.add(t),!0)},g=f.oA([this.getCurrentBlockMenuItem({query:t})]);!g.length||Boolean(d)||Boolean(c)||p.push({key:"defaults",render:e=>r.createElement(R.Z,e),items:g});const h=f.oA([...l.slice(0,5).map((t=>{let{blockId:o}=t;return Fe({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!Boolean(d)&&!Boolean(c),isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})),...o.slice(0,10).map((o=>{let{blockId:s}=o;return Fe({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!t,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})),...s.slice(0,10).map((o=>{let{blockId:s}=o;return Fe({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!t,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))].slice(0,20).filter(m));h.length>0&&p.push({key:"blocks",render:e=>r.createElement(R.Z,i()({},e,{title:n()(I.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title"}),topBorder:p.length>0&&!Boolean(d)&&!Boolean(c)})),items:h});const v=f.oA(this.getMoveToTeamMenuItems(t).filter(m));v.length>0&&(0,ee.bq)()&&p.push({key:"teams",render:e=>r.createElement(R.Z,i()({},e,{isTitleUppercase:!0,title:n()(I.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"}),topBorder:p.length>0})),items:v});const S=f.oA(a.slice(0,5).map((t=>{let{blockId:o}=t;return Fe({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})).filter(m));return S.length>0&&p.push({key:"templates",render:e=>r.createElement(R.Z,i()({},e,{isTitleUppercase:!0,title:n()(I.FormattedMessage,c?{defaultMessage:"Add from template",id:"moveBlockMenu.addFromTemplate.title"}:{defaultMessage:"Move to template",id:"moveBlockMenu.moveToTemplate.title"}),topBorder:p.length>0})),items:S}),g.length&&(Boolean(d)||Boolean(c))&&p.push({key:"defaults",render:e=>r.createElement(R.Z,i()({},e,{topBorder:p.length>0})),items:g}),p},this.getAutoCompleteItems=(e,t,o,s,a,l,c)=>{const d=this.getSuggestedMenuSection(o,e),p=[...c.slice(0,3),...s.slice(0,20)],u={key:"pages",render:e=>r.createElement(R.Z,i()({},e,{title:n()(I.FormattedMessage,{defaultMessage:"Pages",id:"moveBlockMenu.pagesSection.title"})})),items:f.mN(f.VS(f.oA([this.getSavedQuickAddParentMenuItem({query:o,savedQuickAddParent:t}),...p.map((t=>{let{blockId:s}=t;return Fe({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!o,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))])),(e=>e.key))};return[d,{key:"teams",render:e=>r.createElement(R.Z,i()({},e,{title:n()(I.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"})})),items:f.oA(this.getMoveToTeamMenuItems(o)).slice(0,10)},u].filter((e=>e.items.length>0))},this.getTypedAutoCompleteItems=async e=>{let{chosenSpaceStore:t,savedQuickAddParent:o,query:s,blockResults:a,recentPageResults:l}=e;const{typedSuggestedMenuSection:c,typedSuggestedResults:d}=await this.getTypedSuggestedMenuSection(s);let p=(0,X.XQ)({recentPageResults:l,blockResults:a,suggestedPages:d});const u=new Set((0,X.qB)(this.props.targets));u.size>0&&(p=p.filter((e=>!u.has(e.blockId))));const m=f.mN(f.VS(f.oA([this.getSavedQuickAddParentMenuItem({query:s,savedQuickAddParent:o}),...p.map((e=>{let{blockId:o}=e;return Fe({spaceStore:t,value:{type:"page",id:o,spaceId:t.id},showPath:!s,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))])),(e=>e.key)),g=f.oA(this.getMoveToTeamMenuItems(s)).slice(0,5),h=c.items.length>0,v={key:"teams",render:e=>r.createElement(R.Z,i()({},e,{desktopStyle:{paddingTop:h?0:6,paddingBottom:6},title:n()(I.FormattedMessage,{defaultMessage:"Teamspaces",id:"typedMoveBlockMenu.teamsSection.title"})})),items:g},S=c.items.length>0&&0===v.items.length;return[c,v,{key:"pages",render:e=>r.createElement(R.Z,i()({},e,{desktopStyle:{paddingTop:S?0:6,paddingBottom:6},title:n()(I.FormattedMessage,{defaultMessage:"Pages",id:"typedMoveBlockMenu.pagesSection.title"})})),items:m}].filter((e=>e.items.length>0))},this.getTypedSuggestedMenuSection=async e=>{if(!ce.ZP.state.isOpen||ce.ZP.state.variant===p.br||"typedUninitialized"===ce.ZP.state.variant)throw new Error("Trying to render section when it's either not open, untyped, or typed but uninitialized (i.e. the typed databases are not fetched yet)");const t=ce.ZP.getTargetsDatabaseType(),o=(0,U.sN)(t),{typedDatabases:s}=ce.ZP.state;let a;a=se.default.checkGate("typed_move_to_improved_search")?await this.getTypedCollectionMenuItemsFromSearch({query:e,databaseType:t?[t]:void 0}):this.getTypedMoveToMenuItems({query:e,typedDatabases:s});return{typedSuggestedMenuSection:{key:"suggested",render:e=>r.createElement(R.Z,i()({},e,{title:n()(I.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveBlockMenu.typedSuggestedSection.title",values:{typedItemName:(0,d.Z)(o)}}),right:n()(rt,{typedItemName:o})})),items:a.slice(0,5)},typedSuggestedResults:s}},this.allTargetsAreNavigableStore=this.createComputedStore((()=>this.props.targets.every((e=>e.isNavigableBlock()))))}renderComponent(){if(!this.props.isAddTo&&!this.props.isCreateIn&&!ce.ZP.state.isOpen)return r.createElement(r.Fragment,null);const{device:e}=this.environment,{autocompleteQuery:t,isAddTo:o,isTurnIntoPage:s}=this.props,{requestStore:a,menuListStore:l}=this.stores,c=!a.state.ready&&t.length>0;let d,p;return d=this.shouldAllowSearch()?e.isMobile?this.renderInputMenuItem(c):n()(R.Z,{isInput:!0},void 0,this.renderInputMenuItem(c)):void 0,p=e.isMobile?{onMouseEnter:this.props.onMouseEnter,menuType:Q.og.Modal,title:n()(I.FormattedMessage,s?{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}:o?{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}:{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:n()(I.FormattedMessage,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:this.props.onCancel,header:d}:{onMouseEnter:this.props.onMouseEnter,menuType:Q.og.Popup,width:this.props.desktopWidth,header:d},n()(A.Z,{capture:!0,allowMenuList:!0,allowEsc:!0,allowTabUntab:!1,allowUndo:!1},void 0,n()(x.Z,{capture:!0,onEsc:this.props.onCancel}),n()(Z.Z,{store:this.stores.ignoreSelectionAreaStore,capture:this.props.captureSelection,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:this.props.restoreSelection,render:()=>{var e;const t=!Boolean(this.props.autocompleteQuery)&&!this.environment.device.isMobile||(0,X.Hn)()&&!Boolean(this.props.autocompleteQuery);return r.createElement(L.Z,i()({},p,{footer:this.renderFooter()}),t?this.renderMoveToModal():n()(he,{query:this.props.autocompleteQuery,spaceId:null===(e=this.getChosenSpaceStore())||void 0===e?void 0:e.id,menuListStore:l,requestStore:a,getAutocompleteItems:this.getAutocompleteItems}))}}))}renderMoveToModal(){const e=this.getChosenSpaceStore(),t=this.getChosenSpaceViewStore();if(!t||!e)return;if((0,X.Hn)())return n()(nt,{spaceStore:e,spaceViewStore:t,onAccept:this.props.onAccept,targets:this.props.targets,menuListStore:this.stores.menuListStore});const o=(0,J.Cx)(e);return n()(Xe,{spaceStore:e,spaceViewStore:t,onAccept:this.props.onAccept,targets:this.props.targets,moveToPagesOnly:!this.allTargetsAreNavigableStore.state||o})}renderFooter(){const{isCreateIn:e,isAddTo:t,intl:o}=this.props,{currentUserRootStore:s,currentSpaceStore:a}=te.default.state,l=this.stores.moveToSpaceMenuStore.getChosenSpaceStore();if(!s||!l||!a)return;if(!(this.allTargetsAreNavigableStore.state&&!a.getDisableMoveToSpace()&&!e&&!t))return null;const c=s.getSpaceViewStores(),d=f.mN(f.oA(c.map((e=>{const t=e.getSpaceStore();return!(0,J.Cx)(t)&&t}))),(e=>e.id)),p={menuTitle:o.formatMessage({defaultMessage:"Workspaces",id:"moveBlockMenu.spaceSwitcher.menuTitle"}),items:d,selectedItem:l,onSelect:e=>{this.stores.moveToSpaceMenuStore.setState({chosenSpaceId:e.id})},getKey:e=>e.id,renderItem:e=>r.createElement(k.Z,i()({},e,{checkState:e.value.id===l.id,title:(0,J.rn)(this.environment,e.value),icon:n()(N.Z,{icon:(0,J.Wd)(this.environment,e.value),isEmptyPage:!1,size:20,disabled:!0,title:(0,J.rn)(this.environment,e.value)})})),renderOrigin:e=>r.createElement(F.Z,i()({isSmall:!0,style:{fontWeight:"normal",fontSize:12,flexShrink:1}},e),n()(N.Z,{disabled:!0,icon:l.getIcon(),isEmptyPage:!1,size:16,title:l.getName(),style:{marginRight:4}}),n()(D.s,{},void 0,(0,J.rn)(this.environment,l)),(0,m.i)(this.getSpaceChevronStyle())),width:150};return n()("div",{},void 0,n()(C.Z,{vertical:!1,size:1}),n()("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"4px"}},void 0,r.createElement(O.Z,i()({key:"space-switcher"},p))))}renderInputMenuItemLabel(){const{intl:e,isAddTo:t,isTurnIntoPage:o}=this.props;if(this.isMovingToAnotherSpace())return e.formatMessage({defaultMessage:"Duplicate page…",id:"moveToMenuRenderer.duplicateToSpace.label"});if(o)return e.formatMessage({defaultMessage:"Search page to add in…",id:"moveToMenuRenderer.addNewPageIn.label"});if(t)return e.formatMessage({defaultMessage:"Search page to add to…",id:"moveToMenuRenderer.addTo.label"});if((0,X.Hn)()){const t=(0,U.sN)(ce.ZP.getTargetsDatabaseType());return e.formatMessage({defaultMessage:"Move {typedItemName} to…",id:"moveToMenuRenderer.moveTo.typedLabel"},{typedItemName:t})}return e.formatMessage({defaultMessage:"Move page to…",id:"moveToMenuRenderer.moveTo.teamLabel"})}renderInputMenuItem(e){const{device:t}=this.environment,{autocompleteQuery:o}=this.props,s=(0,X.Hn)()&&ce.ZP.state.isOpen&&"typedUninitialized"===ce.ZP.state.variant;return r.createElement(r.Fragment,null,n()(B.ZP,{onCancel:()=>{ce.ZP.state.isOpen&&ce.ZP.setState({...ce.ZP.state,isOpen:!1})},disabled:s,focus:!t.isMobile||void 0,focusAfterAnimation:!0,value:o,onChange:e=>{this.props.onAutocompleteQueryChange(e.target.value),this.stores.menuListStore.setState({...this.stores.menuListStore.state,focus:{section:0,indexLocal:0,indexGlobal:0}})},placeholder:this.renderInputMenuItemLabel(),inputLeft:n()(B.f_,{icon:v.R}),inputRight:n()(_.Z,{show:e,showDelay:400,showHold:0,render:e=>e&&n()(V.Z,{style:{marginRight:2}})}),style:{marginBottom:-2}}),this.isMovingToAnotherSpace()&&n()(z.Z,{isMultiline:!0,isSecondaryColor:!1,style:{background:this.theme.accentColors.gray[30],marginTop:12,marginLeft:12,marginRight:12,padding:8,borderRadius:6}},void 0,(0,S.t)({fill:this.theme.accentColors.orange[400],width:14,height:14,marginRight:4,alignSelf:"center",display:"inline-block",verticalAlign:"text-bottom"}),n()("span",{},void 0,n()(I.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.message",defaultMessage:"You can only duplicate pages into another workspace — not move them."})),n()(E.Z,{href:(0,$.UY)("guides.duplicateToSpace"),style:{color:this.theme.accentColors.gray[500],fontWeight:T.Z.fontWeight.semibold,marginTop:4}},void 0,n()(I.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.learnMoreLink",defaultMessage:"Learn more"}))))}getSuggestedMenuSection(e,t){const o=0===e.length&&t?je({spaceStore:t,targets:this.props.targets}):[];return{key:"suggested",render:e=>r.createElement(R.Z,i()({},e,{title:n()(I.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title"})})),items:f.oA([this.getPrivatePagesMenuItem({query:e,chosenSpaceStore:t}),...o.filter((e=>(0,X.Xk)(e,this.props.targets))).map((e=>Fe({spaceStore:t,value:{type:"page",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})))])}}async getTypedCollectionMenuItemsFromSearch(e){const{databaseType:t,query:o}=e,s=this.getChosenSpaceStore();if(!s)return[];return(await P.RT({environment:this.environment,query:o,limit:20,databaseType:t,parentStore:s,collectionViewBlockStore:void 0})).results.map((e=>Fe({spaceStore:s,value:{type:"collection",id:e,spaceId:s.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(M.$K)}getCurrentBlockMenuItem(e){const t=this.props;if(!t.isAddTo||!t.isCreateIn)return;if(e.query)return;const o=te.default.state.mainEditorCurrentBlockStore;if(!o)return;const s=t.parentBlockId?de.G.createChildStore(o,{table:y.iU,id:t.parentBlockId}):void 0,a=b.gt(s);return a?{key:a.pageStore.id,render:e=>{const o=o=>r.createElement(k.Z,i()({},(0,G.Z)(o||{},e),{icon:(0,h.R)({width:14}),title:t.targets.length>1?n()(I.FormattedMessage,{id:"moveBlockMenu.currentPage.pluralAddTitle",defaultMessage:"New sub-pages"}):n()(I.FormattedMessage,{id:"moveBlockMenu.currentPage.singleAddTitle",defaultMessage:"New sub-page"})}));return this.environment.device.isMobile?o():n()(q.Z,{renderTooltip:()=>n()(K.Z,{imageURL:c.Z.images.tooltips.pageMenu.newSubpagePng,imageWidth:140,imageHeight:100,caption:r.createElement(I.FormattedMessage,lt.createSubpage)}),placement:q.Z.Placement.Right,delayThreshold:0,render:e=>o(e)})},action:()=>t.onAccept(a.createInValue)}:void 0}getPrivatePagesMenuItem(e){var t;const{query:o,chosenSpaceStore:s}=e,a=lt.privatePagesTitle,l=this.props.intl.formatMessage(a).replace(/<[^>]*>/g,""),c=o?null===(t=(0,u.C6)(o,l))||void 0===t?void 0:t.score:void 0,d=o&&(c||0)>=u.V5;if((!o||d)&&this.allTargetsAreNavigableStore.state&&(!s||Ye({environment:this.environment,targets:this.props.targets,chosenSpaceStore:s})))return{key:"private",render:e=>r.createElement(k.Z,i()({icon:n()(W.Z,{size:22,userStore:(0,H.B7)(this.environment)}),title:n()("div",{style:{display:"flex",flexDirection:"row"}},void 0,n()("span",{},void 0,r.createElement(I.FormattedMessage,a)),(0,ee.bq)()&&n()("div",{style:{marginLeft:2}},void 0,(0,g.b)({width:14,height:14,fill:this.theme.mediumIconColor})))},e)),action:()=>{this.props.onAccept({type:"space-private-pages"})}}}getSavedQuickAddParentMenuItem(e){const{isAddTo:t}=this.props,{query:o,savedQuickAddParent:s}=e,i=this.getChosenSpaceStore();if(i)return t&&!o&&"space"===s.type||"page"===s.type?Fe({spaceStore:i,value:s,showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}):void 0}getTypedMoveToMenuItems(e){const{query:t,typedDatabases:o}=e,s=this.getChosenSpaceStore();if(!s||!t||!o)return[];return(0,u.ZP)(t,o,(e=>{const t=String(e.getName())||"",o=(0,j.u3)(e);return[t,o instanceof de.zX&&o.getName()||""].join(" ")})).map((e=>Fe({spaceStore:s,value:{type:"collection",id:e.id,spaceId:s.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(M.$K)}getMoveToTeamMenuItems(e){if(e&&!this.allTargetsAreNavigableStore.state)return[];const t=this.getChosenSpaceStore(),o=this.getChosenSpaceViewStore();if(!t||!o)return[];let s=o.getTeamsStores();return e&&(s=(0,u.ZP)(e,s,(e=>e.getName()||""))),s.map((e=>Fe({spaceStore:t,value:{type:"team",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(M.$K)}shouldAllowSearch(){return oe.Z.state.online}shouldDisplayInTemplatesSection(e){return!!this.props.isCreateIn&&e.isTemplate()}getSpaceChevronStyle(){return{width:10,marginLeft:4,fill:this.theme.lightIconColor}}isMovingToAnotherSpace(){var e;const{moveToSpaceMenuStore:t}=this.stores;return!!t&&t.getChosenSpaceId()!==(null===(e=te.default.state.currentSpaceStore)||void 0===e?void 0:e.id)}getChosenSpaceStore(){return this.stores.moveToSpaceMenuStore.getChosenSpaceStore()??te.default.state.currentSpaceStore}getChosenSpaceViewStore(){return this.stores.moveToSpaceMenuStore.getChosenSpaceViewStore()??te.default.state.currentSpaceViewStore}}ct.displayName="MoveToOrCreateMenu";const dt=(0,I.injectIntl)(ct)},63334:(e,t,o)=>{o.d(t,{Z:()=>a});var s=o(49085);class i extends s.default{getInitialState(){return{}}}const a=i}}]);