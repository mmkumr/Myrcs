"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4517],{33338:(e,t,n)=>{n.d(t,{Z:()=>a});n(67294);var i=n(480),o=n(24405),s=n(42853),r=n(64921),l=n(85893);function a(e){window.__c={n:"CollectionViewFilterPill"};const{icon:t,title:n,on:a,hasDiff:c,wrapStyle:u,innerStyle:h,hideChevron:m}=e,p=(0,o.Fg)(),g=(0,i.O7)();return(0,l.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...u},children:[(0,l.jsxs)(r.Z,{disabled:e.disabled,style:d(Boolean(a),p,h,g.device.isMobile),hoveredStyle:a?{background:p.outlineBlueButtonHoveredBackground}:void 0,pressedStyle:a?{background:p.outlineBlueButtonPressedBackground}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,!m&&(0,s.i)({width:10,marginLeft:4,marginTop:1,fill:a?p.blueColor:p.lightIconColor})]}),c&&(0,l.jsx)("div",{style:{position:"absolute",top:-2,right:-2,background:"dark"===p.mode?p.accentColors.orange[500]:p.accentColors.orange[300],border:`1px solid ${p.contentBackground}`,width:9,height:9,borderRadius:9}})]})}function d(e,t,n,i){return{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:i?28:24,lineHeight:i?"28px":"24px",padding:"0 8px",border:`1px solid ${t.outlineButtonBorder}`,color:t.mediumTextColor,...e&&{color:t.blueColor,border:`1px solid ${t.filterPillBorder}`,background:t.filterPillBackground},...n}}},255:(e,t,n)=>{n.d(t,{Z:()=>l});n(67294);var i=n(480),o=n(53465),s=n(73063),r=n(85893);const l=function(e){window.__c={n:"MenuItemRemoveButton"};const t=(0,i.O7)(),n={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:l,disabled:a}=e,{device:d}=t,c=d.isMobile?{...n.removeFilterButton,...n.removeFilterButtonMobile}:n.removeFilterButton;return(0,r.jsx)(s.Z,{icon:o.X,onClick:l,disabled:a,disableBackground:!0,style:c})}},14694:(e,t,n)=>{n.d(t,{Z:()=>c});n(67294);var i=n(480),o=n(86628),s=n(24405),r=n(39567),l=n(50659),a=n(85893);function d(){window.__c={n:"AliasIcon"};const e=(0,s.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,a.jsx)("div",{children:(0,r.Y)(e.icon)})}function c(e){var t;window.__c={n:"SidebarItem"};const n=(0,i.O7)(),r=n.device.isMobile,c=(0,o.VK)((()=>{var t,i;if(r)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(i=e.style)||void 0===i?void 0:i.paddingLeft:10)}),[n.WindowSizeStore,r,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),u=(0,s.yK)((t=>({wrapper:{...r?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:c,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:27,paddingTop:2,paddingBottom:2,marginTop:1,marginBottom:1,...(0,l.MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:r?28:22,height:r?24:18,marginLeft:-3,marginRight:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:r?26:22,height:r?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!r?"clip":"ellipsis",...e.childrenStyle}})),[r,c,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,a.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:u.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,a.jsx)("div",{style:u.left,children:e.left}),e.icon&&(0,a.jsxs)("div",{style:u.icon,children:[e.icon,e.isAlias&&(0,a.jsx)(d,{})]}),(0,a.jsx)("div",{style:u.children,children:e.children}),e.right&&(0,a.jsx)("div",{style:u.right,children:e.right})]})}},97680:(e,t,n)=>{n.d(t,{Z:()=>g});n(67294);var i=n(83355),o=n(66897),s=n(97880),r=n(33929),l=n(87279),a=n(98742),d=n(52275),c=n(26388),u=n(70301),h=n(45653),m=n(85893);class p extends i.Z{renderComponent(){const{actor:e,userTitle:t,useEmailAsTooltip:n,tooltip:i,tooltipPlacement:l}=this.props,p=r.default.getIntl(),g=e.asActor&&e.isUser()?e.email:void 0,f=n&&g?g:i,y=this.environment.device.isMobile?24:20;let M;return(0,o.YU)(e)?M=(0,m.jsx)(u.Z,{botValue:null==e?void 0:e.asActor,size:y}):(0,o.$S)(e)?M=(0,m.jsx)(h.Z,{userValue:null==e?void 0:e.asActor,size:y}):(0,o.Iq)(e)?M=(0,m.jsx)(h.Z,{userValue:void 0,size:y}):(0,s.t1)(e),(0,m.jsx)(c.Z,{placement:l??c.Z.Placement.Bottom,alignment:c.Z.Alignment.Start,textWrap:!0,render:n=>(0,m.jsx)(d.Z,{...(0,a.Z)(n,this.props),icon:M,title:t??(0,o.$4)(p,e),className:"notranslate"}),disableTooltip:!f,renderTooltip:()=>f})}}p.displayName="UserMenuItem",p.contextTypes={...l.mw,...i.w};const g=p},83890:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(67294),o=n(83355),s=n(66897),r=n(22686),l=n(19889),a=n(7928),d=n(31412),c=n(31299),u=n(26350),h=n(92864),m=n(93044),p=n(255),g=n(97680),f=n(8319),y=n(85893);class M extends o.Z{constructor(){super(...arguments),this.renderFilterListItem=(e,t)=>{let{disabled:n,onRemove:i,onClick:o}=t;const r=this.styles,l=this.getUserValue(e),a=(0,y.jsx)(p.Z,{disabled:n,onClick:i});return(0,y.jsx)(g.Z,{disabled:n,focused:!1,actor:(0,s.m3)(l),right:a,style:r.menuItem,desktopTitleStyle:r.menuItemTitle,onClick:o},e)},this.renderItemForSummary=e=>(0,a.Nz)(this.props.intl,this.getUserValue(e)),this.renderToken=(e,t)=>{const{userIds:n}=this.props,i=1===n.length,o=this.getUserValue(e);if(o)return(0,y.jsx)(h.ZP,{format:this.environment.device.isMobile?m.lP.Large:m.lP.Small,showRemoveButton:!0,isSingle:i,onClickRemove:t.onRemove,actor:(0,s.m3)(o),shouldShrink:!0,style:{background:"transparent"}},e)},this.renderResultMenuItem=(e,t)=>{const n=this.getUserValue(e);return(0,i.createElement)(g.Z,{...t,key:e,actor:(0,s.m3)(n)})},this.performRequest=async e=>{let{query:t,current:n}=e;const i=new Set(n);return(await c.Yu({environment:this.environment,query:t,membersOnly:!1})).filter((e=>!i.has(e.id))).slice(0,20).map((e=>e.id))},this.getUserValue=e=>this.createUserStore(e).getValue(),this.createUserStore=e=>{const{parentStore:t}=this.props;return u.U6.createChildStore(t,{table:l.KJ,id:e})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}renderComponent(){const{mode:e,title:t,userIds:n,onChange:i,disabled:o,focused:s,onMenuDismiss:l,onMenuOpen:a,intl:c}=this.props;return(0,y.jsx)(f.Z,{mode:e,title:t,icon:r.f,iconStyles:this.styles.recordIcon,items:n,onChange:i,disabled:o,focused:s,renderFilter:this.renderFilterListItem,renderToken:this.renderToken,renderItemForSummary:this.renderItemForSummary,addItemLabel:(0,y.jsx)(d.FormattedMessage,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:t,tokenInputPlaceholder:c.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:this.performRequest,renderResultMenuItem:this.renderResultMenuItem,onMenuDismiss:l,onMenuOpen:a,hasItemsSelected:(null==n?void 0:n.length)>0})}}M.displayName="SearchPersonFilter";const v=(0,d.injectIntl)(M)},8319:(e,t,n)=>{n.d(t,{z:()=>A,Z:()=>W});var i=n(67294),o=n(83355),s=n(47453),r=n(72126),l=n(97880),a=n(31412),d=n(75024),c=n(49085);class u extends c.default{getInitialState(){return{isMenuOpen:!1,inputTemporaryValue:"",indexToReplace:void 0,popupOriginRect:void 0}}}const h=u;var m=n(33338),p=n(42922),g=n(52275),f=n(89728),y=n(53437),M=n(72495),v=n(75689),b=n(91642),x=n(68626),S=n(91155),k=n(87279),C=n(29798),I=n(72087),T=n(78140),w=n(32163),j=n(43765),R=n(40721),B=n(77137),F=n(47082),Z=n(85893);class O extends o.Z{constructor(){super(...arguments),this.storeTypes={requestStore:I.Z,menuListStore:C.Z},this.renderRequest=(e,t,n)=>{const{labelText:i,value:o}=this.props,{menuListStore:s}=this.stores,r=e=>(0,Z.jsx)(M.Z,{...e,title:i.resultSectionTitle,loading:!n});if(e)return x.log({level:"error",from:i.componentDebugName,type:"requestFailed",error:(0,S.Ui)(e),data:{miscDataToConvertToString:{query:o}}}),(0,Z.jsx)(r,{children:(0,Z.jsx)(j.Z,{title:(0,Z.jsx)(a.FormattedMessage,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!t)return(0,Z.jsx)(r,{children:(0,Z.jsx)(j.Z,{title:(0,Z.jsx)(a.FormattedMessage,{defaultMessage:"Loadingâ€¦",id:"search.inputMenu.loading.message"})})});if(t&&0===t.length)return(0,Z.jsx)(r,{children:(0,Z.jsx)(j.Z,{title:(0,Z.jsx)(a.FormattedMessage,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const l={key:"results",items:t.map(this.getResultMenuItem),render:r};return(0,Z.jsx)(w.Z,{type:w.i.Vertical,store:s,initialFocus:0,sections:[l]})},this.handleMenuInputRemoveLast=()=>{const{items:e,onRemove:t}=this.props,n=r.Z$(e);n&&t(n)},this.getResultMenuItem=e=>{const{renderResultMenuItem:t,onConfirm:n}=this.props;return{key:e,action:()=>n(e),render:n=>t(e,n)}},this.styles={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}}}renderComponent(){const{value:e,items:t,performRequest:n}=this.props,{requestStore:i}=this.stores,o={query:e,current:t};return(0,Z.jsx)(T.Z,{...this.getMenuProps(),children:(0,Z.jsx)(B.Z,{debounce:100,requestStore:i,request:o,performRequest:n,render:this.renderRequest})})}renderTokenInput(){const{labelText:e,value:t,items:n,disabled:i,onChange:o,renderToken:s,onRemove:r,onClear:l}=this.props,a=n.map((e=>s(e,{onRemove:()=>r(e)})));return(0,Z.jsx)(F.Z,{focus:!P(this.environment)||void 0,focusAfterAnimation:!0,format:F.Z.Format.FilterValue,tokens:a,placeholder:e.tokenInputPlaceholder,onRemoveLastToken:this.handleMenuInputRemoveLast,onClearButtonClick:l,value:t,onChange:o,showClearButton:!0,disabled:Boolean(i),style:this.styles.inputMenu})}getMenuProps(){const{onDismiss:e,labelText:t}=this.props,n=this.styles;if(P(this.environment)){return{menuType:k.og.Modal,title:t.title,right:(0,Z.jsx)(R.DoneMenuText,{}),onClickRight:e,header:this.renderTokenInput()}}return{menuType:k.og.Popup,onClickOutside:e,header:this.renderTokenInput(),...n.menu}}}O.displayName="SearchTokenInputMenu";const L=O;function P(e){const{device:t}=e;return t.isMobile}let A=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});class U extends o.Z{constructor(){super(...arguments),this.animationFrame=void 0,this.origin=i.createRef(),this.storeTypes={componentStore:h},this.renderMobileFilterSummary=e=>{const{title:t,items:n,renderItemForSummary:o}=this.props,{disableFilters:s}=e,r=this.styles,l={...d.mK,...r.summary},a=n.length-1,c=(0,Z.jsx)("ul",{style:l,children:n.map(((e,t)=>(0,Z.jsx)("li",{style:r.summaryItem,children:(0,Z.jsxs)(i.Fragment,{children:[o(e),t!==a&&","," "]})},e)))});return(0,Z.jsx)(v.Z,{disabled:s,onClick:this.handleMenuOpenMobile,onClickClear:this.clearItems,label:t,title:c})},this.renderMenu=()=>{const{renderToken:e,renderFooter:t,allowApplyBatchSelection:n}=this.props,{componentStore:{state:i}}=this.stores;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(L,{...this.props,value:i.inputTemporaryValue,onChange:this.handleMenuInputChange,onDismiss:this.handleMenuClose,onConfirm:this.handleItemConfirm,onClear:()=>{this.handleClearTemporary(),this.clearItems()},onRemove:this.handleFilterRemove,renderToken:e}),t&&(0,Z.jsxs)(M.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"},children:[(0,Z.jsx)(f.Z,{onClick:()=>{this.clearItems()},children:(0,Z.jsx)(a.FormattedMessage,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),n&&(0,Z.jsx)(p.Z,{onClick:()=>{this.handleMenuClose("applyButton")},children:(0,Z.jsx)(a.FormattedMessage,{id:"searchTokenFilter.applyButton",defaultMessage:"Apply"})})]})]})},this.handleMenuOpen=e=>{const{onMenuOpen:t}=this.props;t&&t(),this.scheduleMeasurement(void 0,(t=>({...t,isMenuOpen:!0,indexToReplace:e})))},this.handleMenuOpenMobile=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,isMenuOpen:!0})},this.handleMenuClose=e=>{const{onMenuDismiss:t}=this.props,{componentStore:n}=this.stores;this.clearInput(),n.setState({...n.state,isMenuOpen:!1,indexToReplace:void 0}),t&&t(e)},this.handleClearTemporary=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,inputTemporaryValue:""})},this.handleItemConfirm=e=>{const{items:t}=this.props,{componentStore:n}=this.stores,{indexToReplace:i}=n.state;"number"==typeof i&&i<t.length?this.replaceItem(i,e):t.includes(e)&&U.Mode.Pill?this.removeItem(e):function(e,t,n){const i=t.concat(e);n(r.jj(i))}(e,this.props.items,this.props.onChange),this.props.keepInputOnItemConfirm||this.clearInput()},this.handleFilterRemove=e=>{this.removeItem(e)},this.handleMenuInputChange=e=>{const{componentStore:t}=this.stores,{target:n}=e;t.setState({...t.state,inputTemporaryValue:String(n.value)})},this.scheduleMeasurement=(e,t)=>{this.animationFrame=requestAnimationFrame(this.measureOriginRect(t))},this.measureOriginRect=e=>t=>{const{componentStore:n}=this.stores;if(!this.origin)return;if(!this.origin.current)return;const i=e?e(n.state):n.state;n.setState({...i,popupOriginRect:this.origin.current.getBoundingClientRect()})},this.isMenuOpen=()=>{const{componentStore:{state:e}}=this.stores;return e.isMenuOpen},this.removeItem=e=>{const{items:t,onChange:n}=this.props;n(t.filter((t=>t!==e)))},this.clearItems=()=>{const{onChange:e}=this.props;e([])},this.replaceItem=(e,t)=>{const{items:n,onChange:i}=this.props;i(n.slice(0,e).concat(t,n.slice(e+1)))},this.clearInput=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,inputTemporaryValue:"",indexToReplace:void 0})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:d.yv(this.environment,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===this.props.mode?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}didMount(){window.addEventListener("resize",this.scheduleMeasurement)}willUnmount(){window.removeEventListener("resize",this.scheduleMeasurement),this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}didUpdate(e){(e.items.length!==this.props.items.length||e.mode!==this.props.mode)&&this.scheduleMeasurement()}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?this.renderMobile(t):this.renderDesktop(t)}renderDesktop(e){const{title:t,disabled:n}=this.props,{componentStore:{state:i}}=this.stores,o=n||i.isMenuOpen;let s;const r=(()=>e===U.Mode.Section?(s=t,this.renderSectionOrigin()):e===U.Mode.Button?this.renderButtonOrigin():e===U.Mode.Pill?this.renderPillOrigin():void(0,l.t1)(e))();return(0,Z.jsxs)(b.Z,{title:s,marginAfter:e===U.Mode.Section,style:this.styles.sectionMenuItem,children:[e!==U.Mode.Pill&&this.renderFilters({disableFilters:o,showLabel:!1}),r,(0,Z.jsx)(y.ZP,{popupType:y.ZP.PopupType.Popup,placementToOrigin:y.ZP.Placement.Bottom,alignmentToOrigin:y.ZP.Alignment.Start,open:this.isMenuOpen(),originRect:i.popupOriginRect,render:()=>this.renderMenu(),onDismiss:this.handleMenuClose,keepFocus:!0,preventScaleTransition:!0})]})}renderButtonOrigin(){const{icon:e,title:t,disabled:n,focused:i}=this.props,o=this.styles,s=this.getThemeColors(),r={...o.menuItem,...s.buttonMenuItem};return(0,Z.jsx)("div",{ref:this.origin,style:o.menuItemWrapper,children:(0,Z.jsx)(g.Z,{disabled:n||this.isMenuOpen(),icon:e(o.icon),title:t,focused:i,onClick:e=>this.handleMenuOpen(),style:r})})}renderPillOrigin(){const{icon:e,title:t,disabled:n,iconStyles:i}=this.props,o=this.styles,s=this.props.mode===A.Pill&&this.props.hasItemsSelected;return(0,Z.jsx)("div",{ref:this.origin,style:o.menuItemWrapper,children:(0,Z.jsx)(m.Z,{on:s,icon:e({...o.icon,...i}),title:(0,Z.jsx)("span",{children:t}),onClick:e=>this.handleMenuOpen(),wrapStyle:{opacity:n?.4:1}})})}renderSectionOrigin(){const{addItemLabel:e,disabled:t}=this.props,n=this.styles,o=this.getThemeColors();return(0,Z.jsxs)(i.Fragment,{children:[(0,Z.jsx)("div",{ref:this.origin,style:n.menuItemWrapper}),(0,Z.jsx)(g.Z,{disabled:t||this.isMenuOpen(),icon:(0,s.R)(n.iconSmall),title:e,focused:!1,onClick:e=>this.handleMenuOpen(),style:{...n.appendListItemButton,...o.appendListItemButton}})]})}renderMobile(e){const{disabled:t}=this.props,n=t||this.isMenuOpen(),i=e===U.Mode.Section?this.renderMobileFilterSummary({disableFilters:n}):this.renderMobileButtonOrigin({disableFilters:n});return(0,Z.jsx)(y.ZP,{popupType:y.ZP.PopupType.SlideUp,open:this.isMenuOpen(),origin:i,render:this.renderMenu,onDismiss:this.handleMenuClose,keepFocus:!0})}renderMobileButtonOrigin(e){const{icon:t,title:n}=this.props,i=this.styles;return(0,Z.jsx)(g.Z,{disabled:e.disableFilters,focused:!1,icon:t({...i.icon}),title:n,onClick:e=>this.handleMenuOpenMobile()})}renderFilters(e){const{items:t,renderFilter:n}=this.props,{device:i}=this.environment,o=t.map(((t,o)=>(0,Z.jsx)("li",{children:n(t,{disabled:e.disableFilters,onRemove:()=>this.handleFilterRemove(t),onClick:()=>i.isMobile?this.handleMenuOpenMobile():this.handleMenuOpen(o)})},`${t}_${o}`)));return(0,Z.jsx)("ul",{style:d.mK,children:o})}getThemeColors(){return{buttonMenuItem:{color:this.theme.mediumTextColor},appendListItemButton:{color:this.theme.lightTextColor}}}}U.displayName="SearchTokenFilter",U.Mode=A;const W=U},75689:(e,t,n)=>{n.d(t,{Z:()=>c});n(67294);var i=n(83355),o=n(82990),s=n(52275),r=n(24006),l=n(255),a=n(85893);class d extends i.Z{constructor(){super(...arguments),this.styles={menuItem:{background:void 0,minHeight:void 0,fontSize:this.environment.device.isMobile?o.Z.fontSize.UISmall.mobile:o.Z.fontSize.UIRegular.desktop,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}renderComponent(){const{disabled:e,label:t,title:n,onClick:i,isToggle:o,...r}=this.props,l=this.getThemeColors(),d=this.styles,c=(0,a.jsx)("span",{style:l.menuItemLabel,children:t});return(0,a.jsx)(s.Z,{focused:!1,...r,inline:o,disabled:e,icon:c,title:n,right:this.renderRight(),onClick:i,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:d.menuItem,desktopIconStyle:d.menuItemLabel})}renderRight(){const{disabled:e}=this.props,t=this.styles.rightWrapper;return this.props.isToggle?(0,a.jsx)("div",{style:t,children:(0,a.jsx)(r.Z,{on:this.props.isToggleActive,onClick:this.props.onClick})}):(0,a.jsx)(l.Z,{disabled:e,onClick:this.props.onClickClear})}getThemeColors(){return{menuItemLabel:{color:this.theme.lightTextColor}}}}d.displayName="SearchFilterSummaryMenuItem";const c=d},91642:(e,t,n)=>{n.d(t,{Z:()=>s});n(67294);var i=n(72495),o=n(85893);const s=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:n,marginAfter:s,desktopStyle:r,desktopTitleStyle:l,...a}=e,d=(s||r)&&{...s&&t.marginAfter,...r},c=l?{...t.desktopTitleStyle,...l}:t.desktopTitleStyle;return(0,o.jsx)(i.Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:n,...a})}},50659:(e,t,n)=>{n.d(t,{G$:()=>o,MF:()=>s,Z3:()=>i});function i(e){let{isMobile:t}=e;return{...!t&&{borderRadius:3}}}function o(e){let{isMobile:t}=e;return t?{}:{...i({isMobile:t}),marginLeft:4,marginRight:4,width:"calc(100% - 8px)"}}function s(){return{paddingLeft:10,paddingRight:10}}},86706:(e,t,n)=>{n.d(t,{K9:()=>v,Uy:()=>M,nx:()=>h});n(57658);var i=n(67294),o=n(480),s=n(24405),r=n(72126),l=n(31412),a=n(74194),d=n(85893);const c=["control+t","control+shift+n","control+shift+t","control+w","control+shift+w","control+r","control+shift+r","control+shift+i","control+\\","control+=","control+-","control+0","control+[","control+]","control+shift+tab","control+tab","control+1","control+2","control+3","control+4","control+5","control+6","control+7","control+8","control+9"],u=["command+,","command+t","command+shift+n","command+shift+t","command+w","command+shift+w","command+r","command+shift+r","alt+command+i","command+\\","command+=","command+-","command+0","command+[","command+]","control+shift+tab","control+tab","command+option+left","command+option+right","command+shift+[","command+shift+]","command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"];function h(e){function t(){return e.shortcut?M(e.shortcut):void 0}window.__c={n:"KeyboardGlobalShortcutSettingInput"};const{isMac:n,isWindows:h}=(0,o.Fy)(),{KeyboardShortcutStackStore:b}=(0,o.O7)(),[x,S]=(0,i.useState)(t()),[k,C]=(0,i.useState)(new Set([])),[I,T]=(0,i.useState)(),[w,j]=(0,i.useState)(!1),R=(0,i.useRef)(!1),B=(0,i.useRef)(!1),F=(0,i.useRef)(!1),Z=(0,s.yK)((e=>({container:{display:"flex",flexDirection:"column",gap:10,alignItems:"flex-end"},takenShortcutError:{color:e.accentColors.red[500],fontSize:12}})),[]);function O(){if(x&&F.current)if(x.key)if(n?x.control||x.option||x.command:x.control||x.option)if(function(e,t,n){for(const o of Object.values(e.shortcutMap))for(const e of o)if(r.Xy(M(e),t))return!0;const i=n?u:c;for(const o of i)if(r.Xy(M(o),t))return!0;return!1}(b,x,n)){S(t());const e=v(x,n);T((0,d.jsx)(l.FormattedMessage,{id:"desktopQuickSearch.error.shortcutAlreadyUsed",defaultMessage:"{reservedShortcut} is already used",values:{reservedShortcut:e}}))}else{const t=function(e,t){const n=[];e.shift&&n.push("shift");e.control&&(t?n.push("control"):n.push("ctrl"));e.option&&(t?n.push("option"):n.push("alt"));e.command&&(t?n.push("command"):n.push("meta"));e.key&&n.push(e.key.toLowerCase());return n.join("+")}(x,n);e.onChange(t)}else S(t()),T(n?(0,d.jsx)(l.FormattedMessage,{id:"desktopQuickSearch.error.macModifierRequired",defaultMessage:"Use one of Option, Control, or Command for global keyboard shortcuts"}):(0,d.jsx)(l.FormattedMessage,{id:"desktopQuickSearch.error.windowsModifierRequired",defaultMessage:"Use one of Control or Alt for global keyboard shortcuts"}));else S(void 0);else F.current||S(t());R.current=!0,j(!1),F.current=!1}function L(e){if(h&&e.startsWith("Meta"))return;const t=new Set([...k,e]),n=function(e){const t={};for(const n of e)n.startsWith(p)?t.command=!0:n.startsWith(f)?t.option=!0:n.startsWith(g)?t.shift=!0:n.startsWith(y)?t.control=!0:n.startsWith("Key")?t.key=n.substring(3).toLowerCase():n.startsWith("Digit")?t.key=n.substring(5):m[n]&&(t.key=m[n]);return 0===Object.values(t).filter((e=>!r.o8(e))).length?void 0:t}(t);C(t),S(n),T(void 0),F.current=!0}return(0,d.jsxs)("div",{style:Z.container,children:[(0,d.jsx)(a.Z,{onKeyDown:function(e){B.current=!0,"Escape"===e.key?e.currentTarget.blur():"Tab"!==e.key&&(e.preventDefault(),e.stopPropagation(),L(e.code))},onKeyUp:function(e){B.current&&function(e){const t=new Set([...k]);if(t.delete(e),e.startsWith("Meta"))for(const n of t)n.startsWith(g)||n.startsWith(f)||n.startsWith(y)||t.delete(n);C(t),0===t.size&&O()}(e.code)},onFocus:function(e){S(void 0),j(!0)},onBlur:function(e){R.current||O(),R.current=!1,B.current=!1,C(new Set),j(!1)},focus:w,readOnly:!0,inputStyle:{textAlign:"center",caretColor:"transparent"},value:x&&v(x,n)}),I&&(0,d.jsx)("div",{style:Z.takenShortcutError,children:I})]})}const m={ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",Backquote:"`",Backslash:"\\",Backspace:"backspace",BracketLeft:"[",BracketRight:"]",Comma:",",Delete:"delete",Enter:"return",Equal:"=",Minus:"-",Period:".",Quote:"'",Semicolon:";",Slash:"/",Space:"space"},p="Meta",g="Shift",f="Alt",y="Control";function M(e){const t={};for(let n of e.split("+"))n=n.toLowerCase(),"command"===n||"meta"===n?t.command=!0:"option"===n||"alt"===n?t.option=!0:"shift"===n?t.shift=!0:"control"===n||"ctrl"===n?t.control=!0:t.key=n;return t}function v(e,t){const n=[];if(e.shift&&(t?n.push("shift"):n.push("Shift")),e.control&&(t?n.push("control"):n.push("Ctrl")),e.option&&(t?n.push("option"):n.push("Alt")),e.command&&(t?n.push("âŒ˜"):n.push("Win")),e.key){const t=1===e.key.length?e.key.toUpperCase():e.key;n.push(t)}return n.join("+")}}}]);