"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7981],{86282:(e,t,i)=>{i.d(t,{RL:()=>B,xv:()=>A,rC:()=>R,Hp:()=>F,Lf:()=>V,$7:()=>L,GF:()=>N});i(21703);var n=i(15145),o=i(68626),r=i(59730),a=i(15157),s=i(45953),l=i(21202),c=i(23867),d=i(31412),p=(i(95477),i(33929)),m=i(98165),u=i(74948),h=i(80444),g=i(77080),v=i(56638),f=i(50906),y=i(54642),S=i(54532),C=i(89858),k=i(9953),M=i(4408),b=i(75018),T=i(24677),w=i(28014),P=i(42875),x=i(29477),I=i(33954);var _=i(39699),j=i(39865);const E="LastViewedTemplateId",Z=(0,d.defineMessages)({clientCopyError:{defaultMessage:"Client copy could not be created.",id:"spaceActions.createGettingStartedPage.copyNotCreated.error"}});function L(e){const{environment:t,item:i,createNewPage:n,isPrivate:o}=e;T.ZH(t),v.Z.setState({open:!0,item:i,createNewPage:n,isPrivate:o,isLoading:!1}),a.Z.set({userId:t.currentUser.id,key:E,value:i.rootId}),f.jWY(t,{template_name:i.name,from:n?"sidebar":"newPage"})}function A(e){v.Z.setState({item:v.Z.state.item,open:!1}),T.ZH(e)}async function B(e){const{item:t,environment:i,spaceStore:o}=e;v.Z.state.open&&v.Z.setState({...v.Z.state,isLoading:!0});const r=e.initializeStore?{...e,initializeStore:e.initializeStore,isPrivate:!1,type:"inExistingStore",useMinimalTemplates:!1}:{...e,type:"inSpace",useMinimalTemplates:!1,isOnboarding:!1};let a=!1;const s=Date.now();let l;try{l=await R(r),a=!0,b.navigateToBlock({environment:i,store:l,pageVisitSource:n.tY.Create}),A(i),i.device.isMobile&&u.close()}finally{var c;const n=Date.now()-s,r=e.initializeStore?m.VP(e.initializeStore):void 0,d=e.initializeStore?!Boolean(r):e.isPrivate;f.enX(i,{template_name:t.name,destination:d?"private":"team",template_block_id:t.rootId,template_duplication_duration_ms:n,team_id:null==r?void 0:r.id,created_page_id:null===(c=l)||void 0===c?void 0:c.id}),f.XyT(i,{from:"inApp",success:a,context:e.from,template_name:t.name,template_block_id:t.rootId,target_space_id:o.id,template_duplication_duration_ms:n})}}async function V(e){const{environment:t,initializeStore:i,item:n,isPrivate:o,useMinimalTemplates:r,spaceStore:a,spaceViewStore:l}=e,c=r?n.rootId:n.previewRootId,d=await y.loadBlockSubtree(t,{block:{id:c,spaceId:n.spaceId},shallow:!1});let m;"success"===d.type&&(m=s.PF.create(d.data.subtreeRecordMap));const u="pageTemplateModalActions.loadAndDuplicatePageTemplate",{performResult:h}=_.createAndCommit({userAction:u,environment:t,perform:e=>{const n=i||w.KE({environment:t,spaceStore:a,spaceViewStore:l,isPrivate:o,loading:!0,transaction:e});M.fL({environment:t,inMemoryRecordCache:n.inMemoryRecordCache,recordMap:m,debugSource:u});const r=S.K8(t,{blockId:c,inMemoryRecordCache:n.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!1,allowCopyExternalObjectInstances:!0});if(!r)throw new Error(p.default.getIntl().formatMessage(Z.clientCopyError));return S.E9({environment:t,sourceBlockId:c,targetBlockPointer:n.pointer,sourceBlockSubtree:r,targetInMemoryRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:n.useCrdt()}),n}});return h}async function R(e){const{environment:t,item:i,useRecordCache:n,isPrivate:o,useMinimalTemplates:r,spaceStore:a,spaceViewStore:s,isOnboarding:c}=e,{serverCommitResult:d,performResult:{pageStore:p,copyBlock:m}}=_.createAndCommit({userAction:"pageTemplateModalActions.createTemplateInstance",environment:t,perform:c=>{let d;d="inExistingStore"===e.type&&e.initializeStore?e.initializeStore:"inTeam"===e.type&&e.teamStore?C.pq({environment:t,spaceStore:a,spaceViewStore:s,teamStore:e.teamStore,from:e.from,loading:!0,appendOrPrepend:e.appendOrPrepend?e.appendOrPrepend:"append",transaction:c}):w.KE({environment:t,spaceStore:a,spaceViewStore:s,isPrivate:o,loading:!0,transaction:c});const p={id:n&&!r?i.previewRootId:i.rootId,table:l.iU,spaceId:i.spaceId};return N({item:i,spaceViewStore:s,transaction:c}),function(e){const{item:t,transaction:i,spaceViewStore:n}=e;if(n){const e=n.getSidebarHiddenTemplateIds();if(e.indexOf(t.rootId)<0){const o=e.concat([t.rootId]);k.sW({store:n,data:{sidebar_hidden_templates:o},transaction:i})}}}({item:i,spaceViewStore:s,transaction:c}),{pageStore:d,copyBlock:p}}});return await d,await F({environment:t,pageStore:p,copyBlock:m,useRecordCache:n,item:i,isOnboarding:Boolean(c)}),p}const D={block:!0,collection:!0,collection_view:!0,discussion:!0,comment:!0};async function F(e){const{environment:t,pageStore:i,copyBlock:n,item:a,useRecordCache:l,isOnboarding:d}=e,m=s.Ak.create();l&&l.forEachRecord(t.currentUser.id,(e=>{let{model:t}=e;D[t.table]&&m.setModel(t.pointer,t)}));const{currentSpaceStore:u}=h.default.state;if(!u)throw new r.p8("Could not get currentSpaceStore.");const v=()=>{_.createAndCommit({userAction:"pageTemplateModalActions.initializePageTemplate.deletePageWhenError",environment:t,perform:e=>{j.y8({environment:t,blocks:[i],transaction:e})}}),d&&f.XyT(t,{success:!1,template_name:a.name,template_id:a.id,template_block_id:a.rootId,target_space_id:u.id,from:"onboarding"}),o.log({level:"error",from:"pageTemplateModalActions.initializePageTemplate",type:"duplicateTemplateError",data:{miscDataToConvertToString:{template_name:a.name,template_id:a.id,template_block_id:a.rootId,is_onboarding:d}}})},S=g.default.getConfigKey("template_ids_to_use_duplicate_block","data");if(null!=S&&S.includes(n.id))await async function(e){const{environment:t,templateBlock:i,targetBlock:n}=e,o=x.UZ(),r=y.duplicateBlock(t,{sourceBlocks:[i],targetBlocks:[n],snapshotData:void 0,addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:{currentUserId:t.currentUser.id,currentTimeZone:(0,P.r)()},convertExternalObjectInstancesToPlaceholders:i.spaceId!==n.spaceId,useCrdt:!1});let a;for await(const s of r)a=s;if(a)if(a.error){const e=(0,I.HV)(p.default.getIntl(),a.error);o.reject(e)}else o.resolve(a);else o.reject(void 0);return o.promise}({environment:t,templateBlock:n,targetBlock:{id:i.pointer.id,spaceId:(0,c.C)(i.pointer.spaceId)}}).catch(v);else{"failed"===(await y.initializePageTemplate(t,{recordMap:m.toJson({allowVersionDowngrade:!1}),sourceBlock:n,targetBlock:{id:i.pointer.id,table:i.pointer.table,spaceId:(0,c.C)(i.pointer.spaceId)},isOnboarding:d})).type&&v()}return i}function N(e){const{item:t,transaction:i,spaceViewStore:n}=e;if(n){const e=n.getVisitedTemplateIds();if(e.indexOf(t.rootId)<0){const o=e.concat([t.rootId]);k.sW({store:n,data:{visited_templates:o},transaction:i})}}}},3992:(e,t,i)=>{i.r(t),i.d(t,{addRecurrence:()=>h,createRecurrenceInner:()=>v,disableRecurrence:()=>g});var n=i(40506),o=i(4615),r=i(98963),a=i(18844),s=i(6287),l=i(80444),c=i(26350),d=i(50906),p=i(96802),m=i(9953),u=i(39699);function h(e){let{environment:t,blockStore:i,recurrence:l}=e;const p=i.getAutomationId(),h=function(e){return{...e,start_date:(0,n.Io)(new Date(e.start_date))}}(l);p?function(e,t,i,n){const l=i.getParentStore();if(!l||l.table!==s.v)return;const p=i.getSpaceId(),h={table:r.cv,id:t,spaceId:p},g=c.Mz.createChildStore(i,h),v=g.getTrigger();if(!v)return;const y=g.getActionStores()[0];u.createAndCommit({environment:e,userAction:"recurrenceActions.updateRecurrence",perform:t=>{const r=f({automationId:g.id,spaceId:p,collectionPointer:l.getSpaceShardedPointer(),templatePageId:i.id});let s;y?(s=y.id,m.sW({store:y,data:r,transaction:t})):(s=(0,o.ZP)(),m.ae({environment:e,table:a.Xj,inMemoryRecordCache:g.inMemoryRecordCache,transaction:t,value:{id:s,...r}})),m.sW({store:g,data:{status:"active",trigger:{id:v.id,type:"recurrence",recurrence:n},action_ids:[s]},transaction:t})}}),d.h$X(e,{type:"updated",frequency:n.frequency})}(t,p,i,h):function(e,t,i){u.createAndCommit({environment:e,userAction:"recurrenceActions.createRecurrence",perform:n=>{v(n,e,t,i)}})}(t,i,h)}function g(e){let{environment:t,blockStore:i}=e;const n=i.getAutomationId();if(!n)return;const o={table:r.cv,id:n,spaceId:i.getSpaceId()};u.createAndCommit({environment:t,userAction:"recurrenceActions.disableRecurrence",perform:e=>{m.sW({store:(0,c.Kv)(i,o),data:{status:"disabled",run_at:void 0},transaction:e})}}),d.h$X(t,{type:"disabled"})}function v(e,t,i,n){const{currentUserRootStore:c}=l.default.state;if(!c)return;const u=i.getParentStore();if(!u||u.table!==s.v)return;if(!u.getParentBlockStore())return;const h=i.getSpaceId(),g=(0,o.ZP)(),v=(0,o.ZP)();m.ae({environment:t,table:r.cv,inMemoryRecordCache:i.inMemoryRecordCache,value:{id:g,parent_id:i.id,parent_table:i.table,alive:!0,space_id:h,status:"active",trigger:{id:(0,o.ZP)(),type:"recurrence",recurrence:n},action_ids:[v]},transaction:e}),p.FH({stores:[i],update:{automation_id:g},transaction:e}),m.ae({environment:t,table:a.Xj,inMemoryRecordCache:i.inMemoryRecordCache,transaction:e,value:{id:v,...f({automationId:g,spaceId:h,collectionPointer:u.getSpaceShardedPointer(),templatePageId:i.id})}}),d.h$X(t,{type:"created",frequency:n.frequency})}function f(e){const{automationId:t,spaceId:i,collectionPointer:n,templatePageId:o}=e;return{parent_id:t,parent_table:r.cv,type:"create_page",alive:!0,space_id:i,config:{collection:n,template_page_id:o}}}},59389:(e,t,i)=>{i.d(t,{T_:()=>v,Ud:()=>f,eV:()=>g});var n=i(1302),o=i(45953),r=i(42),a=i(58202),s=i(50906),l=i(41433),c=i(96802),d=i(94419),p=i(9953),m=i(24677),u=i(98104),h=i(68422);function g(e){const{environment:t,store:i,transaction:o,preventTextSelection:r}=e,a=i.useCrdt(),l=p.j4({environment:t,type:"text",inMemoryRecordCache:i.inMemoryRecordCache,transaction:o,spaceId:i.pointer.spaceId,useCrdt:a}),c=d.R3({parent:i.getContentStore(),append:l,transaction:o}).child;return r||n.default.afterNextFlush((()=>{m.eP({environment:t,store:c}),u.N_({store:c.getBlockTitleStore()})})),s.W2j(t,{from:"template_picker",type:"text"}),c}function v(e){const{environment:t,store:i,transaction:n}=e;c.is({store:i,transaction:n}),g({environment:t,store:i,transaction:n})}function f(e){var t;const{environment:i,store:c,viewType:d,transaction:m}=e,u=null===(t=c.getBlockTitleStore())||void 0===t?void 0:t.getValue();l.ZI({environment:i,sourceBlockId:"root",targetBlockPointer:c.pointer,sourceBlockSubtree:(0,o.R3)((0,r.iC)({isInline:!1,viewType:d})),targetRecordCache:c.inMemoryRecordCache,transaction:m,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:c.useCrdt()}),h.vs({environment:i,block:c,blockType:"collection_view_page",transaction:m}),u&&p.sO({store:c.getBlockTitleStore(),value:u,transaction:m}),n.default.afterNextFlush((()=>{const e=a.R.findCollectionViewBlockFromStore(c);null==e||e.handleCreated()})),s.W2j(i,{from:"template_picker",type:"collection_view_page"})}},13401:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(67294),o=i(24405),r=i(8848),a=i(47453),s=i(31339),l=i(52275),c=i(85893);const d=n.forwardRef(((e,t)=>{window.__c={n:"AddMenuItem"};const i=(0,o.yK)((t=>({base:{color:e.isBlue?r.ZP.blue:t.mediumTextColor}})),[e.isBlue]),{color:n}=i.base;return(0,c.jsx)(l.Z,{ref:t,...e,title:(0,c.jsx)("div",{style:{color:n,fill:n},children:e.title}),icon:(0,c.jsx)(s.Z,{icon:a.R,styles:{fill:n}})})}))},81870:(e,t,i)=>{i.d(t,{Z:()=>d});i(67294);var n=i(480),o=i(24405),r=i(84169),a=i(50906),s=i(73063),l=i(16354),c=i(85893);const d=function(e){window.__c={n:"CollectionMenuHelpButton"};const t=(0,n.O7)(),i=(0,o.Fg)();return(0,c.jsx)(l.Z,{href:e.href,external:!0,onClick:()=>a.Fsx(t,{from:e.helpButtonContext}),children:(0,c.jsx)(s.Z,{icon:r.m,style:{height:24,width:24,marginRight:-6,fill:i.mediumIconColor}})})}},31339:(e,t,i)=>{i.d(t,{Z:()=>r});i(67294);var n=i(480),o=i(85893);const r=function(e){window.__c={n:"CollectionMenuIcon"};const t=((0,n.O7)().device.isMobile,{width:16});return(0,o.jsx)("div",{style:t,children:e.icon(e.styles)})}},91496:(e,t,i)=>{i.d(t,{Z:()=>G});var n=i(67294),o=i(83355),r=i(480),a=i(86628),s=i(15145),l=i(58573),c=i(47453),d=i(35840),p=i(72126),m=i(31412),u=i(50906),h=i(98834),g=i(75018),v=i(39699),f=i(66890),y=i(66213),S=i(14976),C=i(75079),k=i(84210),M=i(33929),b=i(87279),T=i(18514),w=i(80444),P=i(33846),x=i(29798),I=i(26350),_=i(34583),j=i(13401),E=i(81870),Z=i(40071),L=i(44514),A=i(79131),B=i(68894),V=i(78140),R=i(28992),D=i(32163),F=i(40721),N=i(72495),H=i(34574),O=i(85893);const W=(0,m.defineMessages)({filterPlaceholder:{id:"collectionPicker.searchBarFilter.text",defaultMessage:"Filter…"}});class z extends o.Z{constructor(){super(...arguments),this.storeTypes={menuListStore:x.Z,templateInputStore:P.Z},this.handleTemplateFilterChange=e=>{const{templateInputStore:t}=this.stores;t.setState({...t.state,inputValue:e.currentTarget.value})},this.renderMenuList=(e,t,i)=>{var o;const{device:r}=this.environment,{canConfigureCollection:a,isOverlay:s}=this.props,{templateInputStore:l}=this.stores,c={key:"create-template",render:(e,t)=>this.renderNewButtonMenuItem(e),action:this.handleNewCollectionTemplateClick},d=null===(o=this.context.collectionContextStore)||void 0===o?void 0:o.defaultPageTemplateStore.state,m={key:"empty",render:(t,i)=>{if(0!==e.length&&""===l.state.inputValue)return(0,O.jsx)(Z.Z,{...this.props,templateStore:void 0,isMobile:this.environment.device.isMobile,locked:this.props.locked||!a,draggable:!0,isDefault:void 0===(null==d?void 0:d.id),onCancelClick:this.props.onCancelClick,...t})},action:this.handleEmptyPageContinueClick};return(0,O.jsx)(D.Z,{type:D.i.Vertical,store:this.stores.menuListStore,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handleEmptyEnter,sections:p.oA([0!==e.length&&{key:"templates",render:t=>{const o=t.children.slice(0,t.children.length-1),a=t.children[t.children.length-1];return(0,O.jsx)(N.Z,{...t,disableDesktopPadding:!this.props.isOverlay,disableMobileBorders:!0,children:(0,O.jsxs)(n.Fragment,{children:[r.isMobile||this.props.locked||!this.props.canConfigureCollection?o.map(((e,t)=>o[t])):(0,O.jsx)(A.ZP,{direction:"vertical",keys:e,disabled:!i,renderKey:(t,i)=>o[e.indexOf(t)],onDrop:this.handleCollectionTemplatesReorder}),a]})})},items:[...t.map((e=>this.renderCollectionTemplatePageMenuItem(e,i))),m]},a?{key:"create-template",render:e=>(0,O.jsx)(N.Z,{topBorder:s,disableDesktopPadding:!s,disableMobileBorders:!0,...e}),items:[c]}:void 0])})},this.renderCollectionTemplatePageMenuItem=(e,t)=>{var i;const{device:o}=this.environment,{collectionStore:r,canConfigureCollection:a,locked:s}=this.props,l=null===(i=this.context.collectionContextStore)||void 0===i?void 0:i.defaultPageTemplateStore.state,c=I.Mz.fromBlockStore(e),d=null!=c&&c.isActive()?c.getRecurrence():void 0;return{key:e.id,render:i=>(0,n.createElement)(Z.Z,{...i,key:e.id,isOverlay:this.props.isOverlay,collectionStore:r,canConfigureCollection:a,templateStore:e,isMobile:o.isMobile,locked:s,onCancelClick:this.props.onCancelClick,draggable:t,isDefault:(null==l?void 0:l.id)===e.id,recurrence:d}),action:t=>{_.M_(this.environment)&&this.props.onTemplateClick({templateStore:e,isKeyboard:"keydown"===t.event.type})}}},this.handleEmptyPageContinueClick=e=>{const{collectionContextStore:t}=this.context;_.M_(this.environment)&&(this.props.onEmptyPageClick(),u.rNQ(this.environment,{template_name:"empty",is_keyboard:"keydown"===e.event.type,...t&&(0,C.Pn)(t)}))},this.handleEmptyEnter=()=>{const{collectionStore:e}=this.props;var t;_.M_(this.environment)&&(this.props.onEmptyEnter(),u.rNQ(this.environment,{template_name:"empty",is_keyboard:!0,collection_id:e.id,collection_view_id:null===(t=this.context.collectionContextStore)||void 0===t||null===(t=t.collectionViewStore())||void 0===t?void 0:t.id}))},this.handleNewCollectionTemplateClick=()=>{var e,t;const{collectionStore:i}=this.props,{templateInputStore:n}=this.stores;if(_.M_(this.environment)){var o;const{performResult:e}=v.createAndCommit({userAction:"CollectionTemplatePicker.newPage",environment:this.environment,perform:e=>h.nx({environment:this.environment,collectionStore:i,transaction:e,title:n?n.state.inputValue:void 0})});e&&this.navigateToBlock(e),u.dZq(this.environment,{collection_id:i.id,collection_view_id:null===(o=this.context.collectionContextStore)||void 0===o||null===(o=o.collectionViewStore())||void 0===o?void 0:o.id})}null===(e=(t=this.props).onCancelClick)||void 0===e||e.call(t)},this.handleCollectionTemplatesReorder=e=>{const{collectionStore:t}=this.props,{menuListStore:i}=this.stores;i.unsetFocus(),v.createAndCommit({userAction:"CollectionTemplatePicker.handleCollectionTemplatesReorder",environment:this.environment,perform:i=>h.$p({collectionStore:t,newTemplateIds:e,transaction:i})})}}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):g.navigate({environment:this.environment,url:e})}renderComponent(){const{device:e}=this.environment,{collectionStore:t,isOverlay:i}=this.props;let n=t.getTemplatePageStores();const{templateInputStore:o}=this.stores;if(!n.every((e=>e.isReady())))return;n=n.filter((e=>e.getAlive()));const r=n.map((e=>e.id));let a=this.renderMenuList(r,n,!0);const s=this.renderInputHeader();if(i){let t;t=e.isMobile?{menuType:b.og.Modal,title:(0,O.jsx)(m.FormattedMessage,{defaultMessage:"Database templates",id:"database.mobileTemplatesMenu.title"}),left:(0,O.jsx)(F.CancelMenuText,{}),onClickLeft:this.props.onCancelClick}:{menuType:b.og.Popup,width:360};let i=n,c=r;return r.length>6&&o.state.inputValue&&(i=(0,l.ZP)(o.state.inputValue,n,(e=>String(e.getProperties().title)??"")),c=i.map((e=>e.id)),a=this.renderMenuList(c,i,!1)),(0,O.jsxs)(V.Z,{...t,header:(0,O.jsx)(U,{collectionStore:this.props.collectionStore}),children:[0===r.length&&(0,O.jsx)(N.Z,{children:(0,O.jsx)("div",{style:{fontSize:14,padding:e.isMobile?"12px 16px":"0 14px 3px 14px",color:this.theme.lightTextColor,wordBreak:"keep-all",...e.isMobile&&{background:this.theme.contentBackground,boxShadow:`0 1px 0 ${this.theme.regularDividerColor}`,marginBottom:1}},children:(0,O.jsx)(m.FormattedMessage,{defaultMessage:"Replicate page formats inside this database with templates.",id:"database.emptyTemplatesList.info"})})}),r.length>6?s:void 0,a]})}return a}renderInputHeader(){const{device:e}=this.environment,t=!e.isMobile||void 0;return(0,O.jsx)("div",{style:{margin:e.isMobile?0:"10px 0"},children:(0,O.jsx)(B.ZP,{value:this.stores.templateInputStore.state.inputValue,focusInitial:t,placeholder:M.default.formatMessage(W.filterPlaceholder),showClearButton:!0,inputLeft:(0,O.jsx)(B.f_,{icon:d.R}),onChange:this.handleTemplateFilterChange,style:{...e.isAndroid&&{borderBottom:"none"}}})})}renderNewButtonMenuItem(e){const{isOverlay:t}=this.props,i=(0,O.jsx)(m.FormattedMessage,{defaultMessage:"New template",id:"database.templateView.newTemplateButton"});return t?(0,O.jsx)(j.Z,{isBlue:this.environment.device.isDesktop,title:i,...e}):(0,O.jsx)(H.Z,{title:i,icon:(0,c.R)({width:18,fill:this.theme.lightIconColor,marginLeft:1,marginRight:11}),type:"new_template",format:t?"collection-overlay":"page-menu-item",locked:this.props.locked,...e})}navigateToBlock(e){const{mainEditorCurrentBlockStore:t}=w.default.state,i=t?(0,k.ZP)({store:t,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:s.tY.Create}):(0,k.ZP)({store:e,fullyQualified:!1,pageVisitSource:s.tY.Create});this.navigate(i)}}z.displayName="CollectionTemplatePicker",z.contextTypes={...y.wK,...o.w,...f.xm};const G=z;function U(e){let{collectionStore:t}=e;window.__c={n:"Title"};const i=(0,r.O7)(),n=(0,a.VK)((()=>t.getNameStore().getValue()),[t]);if(i.device.isMobile)return null;const o=n?(0,O.jsx)(O.Fragment,{children:(0,S.Xh)(n,t)}):(0,O.jsx)(m.FormattedMessage,{defaultMessage:"Untitled",id:"database.templateList.UntitledDatabaseTitle"});return(0,O.jsx)(R.Z,{style:{marginTop:6},title:(0,O.jsx)(L.Q,{prefix:(0,O.jsx)(m.FormattedMessage,{id:"database.templatesList.templatesFor",defaultMessage:"Templates for"}),viewName:o}),right:(0,O.jsx)(E.Z,{helpButtonContext:"collection_templates_menu",href:(0,T.UY)("guides.databaseTemplates")})})}},40071:(e,t,i)=>{i.d(t,{Z:()=>J});var n=i(94184),o=i.n(n),r=(i(67294),i(83355)),a=i(15145),s=i(88437),l=i(39132),c=i(18557),d=i(53470),p=i(37612),m=i(72126),u=i(31412),h=i(50906),g=i(98834),v=i(47307),f=i(96802),y=i(3992),S=i(75018),C=i(39699),k=i(66890),M=i(66213),b=i(19037),T=i(43250),w=i(84210),P=i(33929),x=i(87279),I=i(98742),_=i(25498),j=i(77907),E=i(17031),Z=i(80444),L=i(61766),A=i(77080),B=i(96049),V=i(31792),R=i(26350),D=i(24736),F=i(45669),N=i(93405),H=i(31945),O=i(78140),W=i(32163),z=i(53437),G=i(31278),U=i(76798),K=i(72495),Q=i(26388),Y=i(34574),q=i(85893);const $=(0,u.defineMessages)({emptyPageTitle:{defaultMessage:"Empty",id:"database.templatePicker.emptyPageTitle"}});class X extends r.Z{constructor(){super(...arguments),this.storeTypes={mouseStore:V.Z,buttonPopupStore:L.Z},this.renderActionMenuPopup=e=>{const{device:t}=this.environment,i=!!this.props.templateStore&&(0,b.J5)({environment:this.environment,blocks:[this.props.templateStore],publicEditMode:void 0}),n={key:"section",render:e=>(0,q.jsx)(K.Z,{...e}),items:m.oA([this.props.templateStore&&!this.canEditContentOnly.state&&i&&{key:"repeatControl",render:(e,t)=>this.props.templateStore&&(0,q.jsx)(j.LazyRecurrenceConfigMenu,{...e,templateStore:this.props.templateStore,parent:t,cannotEditRecurrence:this.cannotEditRecurrence.state}),action:this.handleRecurrence},this.props.isOverlay&&!this.canEditContentOnly.state&&{key:"Set default",render:e=>(0,q.jsx)(N.Z,{...e,title:(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Set as default",id:"database.collectionTemplatePickerItem.actionMenu.setAsDefault"}),svg:c.z}),action:()=>this.handleSetAsDefault(e)},this.props.templateStore&&{key:"Edit",render:e=>(0,q.jsx)(N.Z,{...e,title:i?(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Edit",id:"database.templatePickerItem.actionMenu.edit"}):(0,q.jsx)(u.FormattedMessage,{defaultMessage:"View",id:"database.templatePickerItem.actionMenu.view"}),svg:i?d.H:l.c}),action:this.handleEdit},this.props.templateStore&&!this.canEditContentOnly.state&&i&&{key:"Duplicate",render:e=>(0,q.jsx)(N.Z,{...e,title:(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Duplicate",id:"database.templatePickerItem.actionMenu.duplicate"}),svg:s.a}),action:this.handleDuplicate},this.props.templateStore&&!this.canEditContentOnly.state&&i&&{key:"Delete",render:e=>(0,q.jsx)(N.Z,{...e,title:(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Delete",id:"database.templatePickerItem.actionMenu.delete"}),svg:p.y}),action:i?this.handleDelete:()=>{}}])};let o;return o=t.isMobile?{menuType:x.og.ActionSheet}:{menuType:x.og.Popup,width:230},(0,q.jsx)(O.Z,{...o,children:(0,q.jsx)(W.Z,{type:W.i.Vertical,initialFocus:void 0,sections:[n]})})},this.handleRecurrence=()=>{h.efr(this.environment,{isConfigured:void 0!==this.props.recurrence})},this.handleEdit=()=>{var e,t;const{buttonPopupStore:i}=this.stores;this.props.templateStore&&(null===(e=(t=this.props).onCancelClick)||void 0===e||e.call(t),this.navigateToBlock(this.props.templateStore),i.reset(),h.sYL(this.environment,{template_action:"edit"}))},this.handleDuplicate=()=>{var e,t;const{buttonPopupStore:i}=this.stores,{templateStore:n,collectionStore:o}=this.props;if(!n)return;null===(e=(t=this.props).onCancelClick)||void 0===e||e.call(t);const{performResult:r}=C.createAndCommit({userAction:"CollectionTemplatePickerItem.duplicatedStore",environment:this.environment,perform:e=>{const t=g.Zh({environment:this.environment,collectionStore:o,templateStore:n,transaction:e});if(n.getAutomationId()){const i=R.Mz.fromBlockStore(n),o=null==i?void 0:i.getRecurrence();i&&null!=i&&i.isActive()&&o&&y.createRecurrenceInner(e,this.environment,t,o)}return t}});r&&this.navigateToBlock(r),i.reset(),h.sYL(this.environment,{template_action:"duplicate"})},this.handleDelete=async()=>{const{templateStore:e,collectionStore:t}=this.props;if(!e)return;await v.confirmUserAction({message:(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Are you sure you would like to delete this template?",id:"database.confirmDialog.templatePickerItem.deleteMessage"}),acceptLabel:(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Delete",id:"database.confirmDialog.templatePickerItem.deleteButton.label"})})&&(C.createAndCommit({userAction:"CollectionTemplatePickerItem.handleDelete",environment:this.environment,perform:i=>g.R5({collectionStore:t,templateStore:e,transaction:i})}),h.sYL(this.environment,{template_action:"delete"}))},this.handleSetAsDefault=e=>{var t,i;const{collectionContextStore:n}=this.context,o=null==n?void 0:n.collectionStore(),r=null==n?void 0:n.collectionViewStore();if(!o||null==r||!r.isDefined())return;const a=null!==(t=this.props.templateStore)&&void 0!==t&&t.id?{template_page_id:null===(i=this.props.templateStore)||void 0===i?void 0:i.id}:"empty";v.showDialog({showCancel:!0,keepFocus:!1,message:(0,q.jsx)(u.FormattedMessage,{id:"database.collectionTemplatePickerItem.setAsDefaultDialog.message",defaultMessage:"<span>Use “{pageName}” as default template when creating new pages?</span>",values:{span:e=>(0,q.jsx)("span",{children:e}),pageName:this.props.templateStore?(0,q.jsx)(U.Z,{store:this.props.templateStore,style:{display:"inline"}}):P.default.formatMessage($.emptyPageTitle)}}),items:[{label:(0,q.jsx)(u.FormattedMessage,{id:"database.collectionTemplatePickerItem.setAsDefaultDialog.setCollection",defaultMessage:"For all views in “{databaseName}”",values:{databaseName:(0,q.jsx)(U.Z,{store:o,style:{display:"inline"}})}}),onAccept:()=>{e.close(),C.createAndCommit({environment:this.environment,userAction:"CollectionTemplatePickerItem.handleSetAsDefault:collection",perform:e=>{f.FH({stores:[o],update:{collection_default_template:a},transaction:e}),f.FH({stores:[r],update:{collection_view_default_template:a},transaction:e})}})}},{label:(0,q.jsx)(u.FormattedMessage,{id:"database.collectionTemplatePickerItem.setAsDefaultDialog.setCollectionView",defaultMessage:"Only on “{viewName}” view",values:{viewName:(0,q.jsx)(F.Z,{collectionViewName:r.getName(),collectionViewType:r.getType()})}}),onAccept:()=>{e.close(),C.createAndCommit({environment:this.environment,userAction:"CollectionTemplatePickerItem.handleSetAsDefault:collectionView",perform:e=>{f.FH({stores:[r],update:{collection_view_default_template:a},transaction:e})}})}}]})},this.handleMouseMove=()=>{B.Z.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.getRecordModel=this.props.collectionStore.getRecordModel,this.canEditContentOnly=this.createComputedStore((()=>{var e;return Boolean(null===(e=this.props.collectionStore.getParentBlockStore())||void 0===e?void 0:e.canEditContentOnly())})),this.cannotEditRecurrence=this.createComputedStore((()=>{if(!A.default.checkGate("recurrence_queue_task_improvements"))return!1;if(!this.props.templateStore)return!1;const e=(0,_.w)(this.props.templateStore);return!e.automationStoresReady||e.violatesConstraint}))}get registries(){return[E.Z]}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):S.navigate({environment:this.environment,url:e})}renderComponent(){var e;const{device:t}=this.environment,{templateStore:i,isMobile:n,isOverlay:o,focused:r,locked:a,canConfigureCollection:s,draggable:l}=this.props,{mouseStore:c,buttonPopupStore:d}=this.stores,p=!i&&!o,m=(!a||a&&!l)&&(s||this.canEditContentOnly.state)&&(c.state.mouseEntered||d.state.open||n||o)&&!p,u=i?(0,q.jsx)(U.Z,{store:i}):P.default.formatMessage($.emptyPageTitle),h=null==i||null===(e=i.getModel())||void 0===e?void 0:e.getRenderIcon({getRecordModel:this.getRecordModel});return(0,q.jsx)(Y.Z,{className:T.$ji,type:i?"custom_template":"empty_page",format:o?"collection-overlay":"page-menu-item",locked:a||!s||!l,icon:(0,q.jsx)(G.Z,{disabled:!0,icon:h,isEmptyPage:(null==i?void 0:i.isEmptyPage())??!0,size:t.isMobile&&o?24:20,isLarge:!o,style:{...!o&&{pointerEvents:"none",marginRight:10}},pageIconStyle:{...!o&&{fill:this.theme.lightIconColor}}}),title:u,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,right:m&&this.renderActionMenuButton(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,focused:r,isDefault:this.props.isDefault,recurrence:this.props.recurrence})}renderActionMenuButton(){const{isMobile:e,isOverlay:t}=this.props,{buttonPopupStore:i}=this.stores,n=!!this.props.templateStore&&(0,b.J5)({environment:this.environment,blocks:[this.props.templateStore],publicEditMode:void 0});return(0,q.jsx)(Q.Z,{renderTooltip:()=>n?(0,q.jsx)(u.FormattedMessage,{defaultMessage:"Edit this template",id:"database.templatePickerItem.editTemplate.tooltip"}):(0,q.jsx)(u.FormattedMessage,{defaultMessage:"View this template",id:"database.templatePickerItem.viewTemplate.tooltip"}),delayThreshold:300,render:n=>(0,q.jsx)(H.ZP,{popupType:e?z.ZP.PopupType.SlideUp:z.ZP.PopupType.Popup,placementToOrigin:H.pO.Right,originGap:12,buttonPopupStore:i,renderOrigin:i=>(0,q.jsx)(D.Z,{className:o()(T.C_N,{[T.JiD]:e||t}),isMobile:e&&t,style:{...!t&&{marginRight:0}},...(0,I.Z)(n,i)}),render:this.renderActionMenuPopup,onClick:()=>{h.sYL(this.environment,{template_action:"open_menu"})}})})}navigateToBlock(e){const{mainEditorCurrentBlockStore:t}=Z.default.state,i=t?(0,w.ZP)({store:t,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:a.tY.PeekOpen}):(0,w.ZP)({store:e,fullyQualified:!1,pageVisitSource:a.tY.LinkInPage});this.navigate(i)}}X.displayName="CollectionTemplatePickerItem",X.contextTypes={...r.w,...M.wK,...k.xm};const J=X},44514:(e,t,i)=>{i.d(t,{Q:()=>l});i(67294);var n=i(82990),o=i(52821),r=i(85893);const a={...n.Z.textOverflowStyle,position:"absolute",left:0,right:0,top:0,bottom:0},s={marginLeft:4,fontWeight:n.Z.fontWeight.semibold};function l(e){const{prefix:t,viewName:i,viewType:n}=e;return(0,r.jsxs)("div",{style:{position:"relative",width:"100%"},children:[" ",(0,r.jsxs)("div",{style:a,children:[t,n&&o.aW[n]({marginLeft:8,marginRight:2,width:"1em",display:"inline",verticalAlign:"bottom"}),(0,r.jsx)("span",{style:s,children:i})]})]})}},45669:(e,t,i)=>{i.d(t,{Z:()=>s});i(67294);var n=i(31412),o=i(78316),r=i(62896),a=i(85893);const s=function(e){let{collectionViewName:t,collectionViewType:i}=e;return t?(0,a.jsx)(r.Z,{children:t}):"page"===i?(0,a.jsx)(n.FormattedMessage,{id:"database.collectionView.untitledName.untitled",defaultMessage:"Untitled"}):(0,a.jsx)(n.FormattedMessage,{...o.b1[i]})}},40698:(e,t,i)=>{i.d(t,{Im:()=>V,K0:()=>j,b6:()=>R,dQ:()=>I,pd:()=>E,re:()=>_,ss:()=>L});i(57658);var n=i(15145),o=i(35013),r=i(21321),a=i(69628),s=i(17948),l=i(42696),c=i(10405),d=i(82356),p=i(54855),m=i(46783),u=i(73426),h=i(4615),g=i(31412),v=i(50906),f=i(75018),y=i(59389),S=i(39699),C=i(68821),k=i(33929),M=i(89014),b=i(47593),T=i(67940),w=i(92083),P=i(29949);const x=(0,g.defineMessages)({emptyWithIcon:{defaultMessage:"Empty page with icon",id:"templatePickerHelpers.basicTemplateItems.emptyWithIcon"},empty:{defaultMessage:"Empty page",id:"templatePickerHelpers.basicTemplateItems.empty"},templates:{defaultMessage:"Templates",id:"templatePickerHelpers.basicTemplateItems.templates"},import:{defaultMessage:"Import",id:"templatePickerHelpers.basicTemplateItems.import"}}),I={name:k.default.formatMessage(x.empty),iconFn:p.a,type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{S.createAndCommit({userAction:"templatePickerHelpers.emptyTemplateItems",environment:e,perform:i=>{y.eV({environment:e,store:t,transaction:i})}})}},_={name:k.default.formatMessage(x.templates),type:"templates",iconFn:e=>(0,u.i)(e),shouldShow:()=>!0,onClick:()=>{P.Z.open({cloneTo:"current_page",analyticsFrom:"newPage"})}},j={name:k.default.formatMessage(x.templates),type:"templates",iconFn:e=>(0,m.w)(e),shouldShow:()=>!0,onClick:()=>{P.Z.open({cloneTo:"current_page",analyticsFrom:"newPage"})}},E={name:k.default.formatMessage(x.import),type:"import",iconFn:d.l,shouldShow:()=>!0,onClick:(e,t)=>{const i=(0,h.ZP)();T.Z.setState({flowId:i}),v.Syn(e,{from:"new_page",flowId:i}),(0,C.c)()?w.Z.setState({...w.Z.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}):b.Z.setState({open:!0,pageStore:t})}},Z=(0,g.defineMessages)({pageWithIcon:{defaultMessage:"Page with icon",id:"templatePickerHelpers.mobileBasicTemplateItems.pageWithIcon"},emptyPage:{defaultMessage:"Empty page",id:"templatePickerHelpers.mobileBasicTemplateItems.emptyPage"}}),L=[{name:k.default.formatMessage(Z.pageWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{S.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:i=>{y.T_({environment:e,store:t,transaction:i})}})}},{name:k.default.formatMessage(Z.emptyPage),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{S.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:i=>{y.eV({environment:e,store:t,transaction:i})}})}}],A=(0,g.defineMessages)({table:{defaultMessage:"Table",id:"templatePickerHelpers.databaseTemplateNames.table"},board:{defaultMessage:"Board",id:"templatePickerHelpers.databaseTemplateNames.board"},list:{defaultMessage:"List",id:"templatePickerHelpers.databaseTemplateNames.list"},calendar:{defaultMessage:"Calendar",id:"templatePickerHelpers.databaseTemplateNames.calendar"},gallery:{defaultMessage:"Gallery",id:"templatePickerHelpers.databaseTemplateNames.gallery"},timeline:{defaultMessage:"Timeline",id:"templatePickerHelpers.databaseTemplateNames.timeline"},tableView:{defaultMessage:"Table view",id:"templatePickerHelpers.databaseTemplateNames.tableView"},boardView:{defaultMessage:"Board view",id:"templatePickerHelpers.databaseTemplateNames.boardView"},listView:{defaultMessage:"List view",id:"templatePickerHelpers.databaseTemplateNames.listView"},calendarView:{defaultMessage:"Calendar view",id:"templatePickerHelpers.databaseTemplateNames.calendarView"},galleryView:{defaultMessage:"Gallery view",id:"templatePickerHelpers.databaseTemplateNames.galleryView"},timelineView:{defaultMessage:"Timeline view",id:"templatePickerHelpers.databaseTemplateNames.timelineView"}});function B(e){const{environment:t,store:i,viewType:o}=e;S.createAndCommit({userAction:"templatePickerHelpers.handleClickForViewType",environment:t,perform:e=>{y.Ud({environment:t,store:i,viewType:o,transaction:e}),f.navigateToBlock({environment:t,store:i,pageVisitSource:n.tY.LinkInPage});const r=i.getCollectionViewStores()[0];r&&(0,M.u)(r.id,{viewType:o})}})}const V=[{name:k.default.formatMessage(A.table),type:"table",iconFn:l.t,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"table"})},{name:k.default.formatMessage(A.board),type:"board",iconFn:o.i,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"board"})},{name:k.default.formatMessage(A.list),type:"list",iconFn:s.O,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"list"})},{name:k.default.formatMessage(A.timeline),type:"timeline",iconFn:c._,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"timeline"})},{name:k.default.formatMessage(A.calendar),type:"calendar",iconFn:r.N,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"calendar"})},{name:k.default.formatMessage(A.gallery),type:"gallery",iconFn:a.n,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"gallery"})}];function R(e,t){const i=new Map(e.map((e=>[e.type,e])));return t.reduce(((e,t)=>(i.has(t)&&e.push(i.get(t)),e)),[])}},34574:(e,t,i)=>{i.d(t,{Z:()=>h});i(67294);var n=i(83355),o=i(49271),r=i(8848),a=i(53523),s=i(82990),l=i(31412),c=i(19124),d=i(64921),p=i(52275),m=i(85893);class u extends n.Z{constructor(){super(...arguments),this.completionsEnabledStore=this.createComputedStore((()=>{var e;const t=null===(e=this.pageContext)||void 0===e?void 0:e.publicEditModeStore.state;return(0,c.GD)(t)}))}renderComponent(){return"collection-overlay"===this.props.format?this.renderCollectionOverlayMenuItem():"phone-modal"===this.props.format?this.renderPhoneModalMenuItem():this.renderPageMenuItem()}renderCollectionOverlayMenuItem(){const{device:e}=this.environment;return(0,m.jsx)(p.Z,{className:this.props.className,icon:this.props.icon,title:this.renderTitle(),right:this.props.right,focused:this.props.focused,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,showDragHandle:!e.isMobile&&!this.props.locked,dragHandleDisabled:"empty_page"===this.props.type})}renderPhoneModalMenuItem(){return(0,m.jsx)(p.Z,{icon:this.props.icon,title:this.renderTitle(),focused:this.props.focused,onClick:this.props.onClick,showDragHandle:!1})}renderPageMenuItem(){return(0,m.jsxs)(d.Z,{style:this.getWrapStyle(),hovered:this.props.focused,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,hoveredStyle:{background:this.theme.buttonHoveredBackground,color:this.theme.regularTextColor},pressedStyle:{background:this.theme.buttonPressedBackground},children:[(0,m.jsx)("div",{style:{display:"flex",alignItems:"center",width:24,height:24,marginRight:10},children:this.props.icon}),this.renderTitle(),this.props.right&&(0,m.jsx)("div",{style:{marginLeft:"auto",marginRight:4},children:this.props.right})]})}renderTitle(){return"collection-overlay"!==this.props.format?this.props.title:(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[this.props.title,(0,m.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[this.props.isDefault&&(0,m.jsx)("span",{style:{fontSize:12,fontWeight:s.Z.fontWeight.medium,color:this.theme.mediumTextColor},children:(0,m.jsx)(l.FormattedMessage,{defaultMessage:"DEFAULT",id:"database.templatePickerMenuItem.default"})}),this.props.recurrence&&(0,a.N)({width:14,color:r.ZP.blue,marginLeft:8})]})]})}getWrapStyle(){const{device:e}=this.environment;return{...o.ZD,display:"flex",alignItems:"center",flexGrow:1,height:e.isMobile?36:32,fontSize:16,borderRadius:4,paddingLeft:8,marginBottom:2,color:this.completionsEnabledStore.state?this.theme.mediumTextColor:this.theme.lightTextColor}}}u.displayName="TemplatePickerMenuItem";const h=u},27981:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Y});i(57658);var n=i(67294),o=i(83355),r=i(13991),a=i(49085),s=i(15145),l=i(49271),c=i(64275),d=i(56666),p=i(75e3),m=i(11751),u=i(72126),h=i(70203),g=i(31412),v=i(50906),f=i(98834),y=i(86282),S=i(9953),C=i(75018),k=i(59389),M=i(74284),b=i(39699),T=i(92022),w=i(66213),P=i(14976),x=i(15010),I=i(78316),_=i(19124),j=i(84210),E=i(77907),Z=i(80444),L=i(88632),A=i(77080),B=i(83212),V=i(24666),R=i(34583),D=i(91496),F=i(73063),N=i(68785),H=i(32163),O=i(40698),W=i(34574),z=i(85893);const G=(0,g.defineMessages)({genericHelpMeWriteNewPage:{defaultMessage:"Write “{filter}” with AI…",id:"id.completions.genericHelpMeWriteNewPage"},genericHelpMeWriteNewPageEmpty:{defaultMessage:"Start writing with AI…",id:"id.completions.genericHelpMeWriteNewPageEmpty"}});class U extends o.Z{constructor(){super(...arguments),this.moreNewPageItemsExpandedStore=a.default.createValue(!1),this.renderMobileTemplatePreviewItem=e=>({key:e.name,render:t=>(0,n.createElement)(W.Z,{...t,key:e.name,title:e.name,type:"page_template",format:"page-menu-item",locked:!1}),action:()=>{y.$7({environment:this.environment,item:e,createNewPage:!1,isPrivate:!1})}}),this.renderPageTemplatePickerItem=e=>({key:e.name,render:t=>{var i;return(0,n.createElement)(W.Z,{...t,key:e.name,format:"page-menu-item",title:e.name,type:e.type,icon:null===(i=e.iconFn)||void 0===i?void 0:i.call(e,this.getIconStyle(e)),locked:!1,right:this.maybeRenderEnterIcon(t)})},action:t=>{R.M_(this.environment)&&(v.rNQ(this.environment,{template_name:e.name,is_keyboard:"keydown"===t.event.type,from:e.from}),e.onClick(this.environment,this.props.store))}}),this.renderAIDraftPageWithGivenTitleTemplatePickerItem=e=>{const{intl:t}=this.props;return{key:"ask ai",render:i=>{const o=e.length>30?`${e.slice(0,30)}…`:e;return(0,n.createElement)(W.Z,{...i,key:"genericHelpMeWriteNewPageWithAI",format:"page-menu-item",title:e?t.formatMessage(G.genericHelpMeWriteNewPage,{filter:o}):t.formatMessage(G.genericHelpMeWriteNewPageEmpty),type:"ai",icon:(0,z.jsx)("div",{style:{height:24,width:24,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",marginRight:4},children:(0,m.t)({width:16,height:16,fill:"dark"===this.theme.mode?this.theme.accentColors.purple[700]:this.theme.accentColors.purple[400]})}),locked:!1,right:this.maybeRenderEnterIcon(i)})},action:()=>{const{environment:t}=this,{store:i}=this.props;b.createAndCommit({userAction:"TemplatePicker.genericHelpMeWriteNewPageWithAI",environment:t,perform:e=>{k.eV({environment:t,store:i,transaction:e,preventTextSelection:!0})}}),(0,T.openHelpMeWriteGenericPopup)({environment:this.environment,title:e})}}},this.publicEditModeStore=this.createComputedStore((()=>B.Z.getMode(this.environment,this.props.store))),this.userSettingsPersona=this.createComputedStore((()=>{var e;return null===(e=Z.default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.persona}),!1),this.spaceSubscriptionTier=this.createComputedStore((()=>{var e;return null===(e=Z.default.state.currentSpaceStore)||void 0===e?void 0:e.getSubscriptionTier()})),this.suggestedTemplatesExperimentVariant=this.createComputedStore((()=>A.default.getEligibleGroup({experimentId:"new_page_suggested_templates"})),!1),this.simplifyTemplateOptionsExperimentVariant=this.createComputedStore((()=>A.default.getEligibleGroup({experimentId:"simplify_template_options"})),!1),this.handleTemplatePickerEmptyEnter=()=>{const e=V.default.state;R.M_(this.environment)&&"editing"===e.mode&&(b.createAndCommit({userAction:"TemplatePicker.handleTemplatePickerEmptyEnter",environment:this.environment,perform:t=>{M.IO({environment:this.environment,transaction:t,multiSelection:e.multiSelection})}}),v.rNQ(this.environment,{template_name:"empty",is_keyboard:!0}))},this.handleCollectionTemplateClick=e=>{b.createAndCommit({userAction:"TemplatePicker.handleCollectionTemplateClick",environment:this.environment,perform:t=>{const i=this.props.store.getTitleValue();f.ob({title:""!==h.QaF(i)?{text:i}:"template",environment:this.environment,store:this.props.store,templateStore:e.templateStore,isKeyboard:e.isKeyboard,isCreateIn:!1,transaction:t,from:"template_picker"})}})},this.handleTemplateEmptyPageClick=()=>{b.createAndCommit({userAction:"TemplatePicker.handleTemplateEmptyPageClick",environment:this.environment,perform:e=>{k.eV({environment:this.environment,store:this.props.store,transaction:e})}})},this.handleCreateDatabaseTemplateClick=()=>{const{store:e}=this.props,t=e.getAssociatedCollectionStore();if(t&&R.M_(this.environment)){const{performResult:e}=b.createAndCommit({userAction:"TemplatePicker.newPage",environment:this.environment,perform:e=>f.nx({environment:this.environment,collectionStore:t,transaction:e})});e&&this.navigateToBlock(e),v.dZq(this.environment,{collection_id:t.id})}},this.handleCloseTemplateSuggestionsClick=()=>{const{currentUserSettingsStore:e}=Z.default.state;v.Bp3(this.environment),e&&b.createAndCommit({userAction:"NewPageSuggestedTemplates.dismissSuggestions",environment:this.environment,perform:t=>{S.sW({store:e.getSettingsStore(),data:{dismissed_new_page_suggested_templates:!0},transaction:t})}})}}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):C.navigate({environment:this.environment,url:e})}willMount(e){super.willMount(e),e.menuListStore.reset()}renderComponent(){const e=L.Z.state.online,{device:t}=this.environment,{store:i}=this.props,n=function(e){return Boolean(e.getAssociatedCollectionStore())}(i),o=i.getAssociatedCollectionStore(),r=o?o.getParentBlockStore():void 0,a=o?o.getTemplatePageStores():void 0;return e?(0,z.jsxs)("div",{children:[!n&&!t.isMobile&&this.renderDesktopPageTemplatePicker(),!n&&t.isTablet&&this.renderMobilePageTemplatePicker(),n&&!$(i)&&o&&r&&a&&a.length>0&&(0,z.jsx)(D.Z,{isOverlay:!1,collectionStore:o,canConfigureCollection:q(this.props.store),onTemplateClick:this.handleCollectionTemplateClick,onEmptyEnter:this.handleTemplatePickerEmptyEnter,onEmptyPageClick:this.handleTemplateEmptyPageClick,locked:r.isLocked()})]}):null}renderDesktopPageTemplatePicker(){const e=(0,_.GD)(this.publicEditModeStore.state),t=this.simplifyTemplateOptionsExperimentVariant.state||"control",i=this.getDesktopBasicSectionItems(e),n=this.getDesktopAddNewSectionItems(e,t);if(this.isSuggestedTemplatesExperimentEnabled()){const e={key:"Basic",render:e=>(0,z.jsx)("div",{children:e.children},e.key),items:i},t={key:"Add new",render:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{style:this.getGroupTitleStyle(),children:(0,z.jsx)(g.FormattedMessage,{defaultMessage:"Add new",id:"templatePicker.add new.label"})}),e.children]},e.key),items:n},o=this.suggestedTemplatesExperimentVariant.state,r=this.userSettingsPersona.state;let a="Suggested templates";return"variant_2"!==o&&"variant_4"!==o||(a=`Suggested templates for ${function(){const{currentUserSettingsStore:e}=Z.default.state,t=null==e?void 0:e.getSettings();switch(null==t?void 0:t.persona){case"design":case"marketing":return t.persona;case"product":return"product management";case"eng":return"engineering";default:return""}}()}`),(0,z.jsx)(K,{variant:void 0===o?"control":o,persona:r,menuListStore:this.props.menuListStore,sectionsBeforeSuggested:[e],sectionsAfterSuggested:[t],handleTemplatePickerEmptyEnter:this.handleTemplatePickerEmptyEnter,suggestedTemplateSectionHeader:e=>(0,z.jsxs)("div",{style:this.getGroupTitleStyle(),children:[a,e&&(0,z.jsx)(F.Z,{ariaLabel:"Dismiss suggested templates",icon:c.D,style:{position:"static",width:15,height:15,marginLeft:4,borderRadius:100},iconStyle:{width:13,height:13},onClick:this.handleCloseTemplateSuggestionsClick})]}),renderPageTemplatePickerItem:this.renderPageTemplatePickerItem})}return(0,z.jsx)(H.Z,{type:H.i.Vertical,store:this.props.menuListStore,initialFocus:0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handleTemplatePickerEmptyEnter,sections:[{key:"Basic",render:e=>(0,z.jsx)("div",{children:e.children},e.key),items:i},{key:"Add new",render:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{style:this.getGroupTitleStyle(),children:(0,z.jsx)(g.FormattedMessage,{defaultMessage:"Add new",id:"templatePicker.add new.label"})}),e.children]},e.key),items:n}]})}renderMobilePageTemplatePicker(){const e=this.userSettingsPersona.state,t=this.spaceSubscriptionTier.state,i=[{key:"Basic",render:e=>(0,z.jsx)("div",{children:e.children},e.key),items:O.ss.map(this.renderPageTemplatePickerItem)},{key:"Database",render:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{style:this.getGroupTitleStyle(),children:(0,z.jsx)(g.FormattedMessage,{defaultMessage:"Database",id:"templatePicker.mobileTemplatePicker.databaseTemplateSection.label"})}),e.children]},e.key),items:O.Im.filter((e=>e.shouldShow(this.environment))).map(this.renderPageTemplatePickerItem)}];return(0,z.jsx)(Q,{persona:e,subscriptionTier:t,menuListStore:this.props.menuListStore,sectionTitleStyle:this.getGroupTitleStyle(),handleTemplatePickerEmptyEnter:this.handleTemplatePickerEmptyEnter,sectionsBeforeMobilePreviewSections:i,renderMobileTemplatePreviewItem:this.renderMobileTemplatePreviewItem})}renderMoreTemplatePickerItem(e,t){return{key:e,render:t=>(0,n.createElement)(W.Z,{...t,key:e,format:"page-menu-item",title:(0,z.jsx)(g.FormattedMessage,{defaultMessage:"More",id:"templatePicker.more.label"}),type:"more",icon:(0,d.o)({width:20,fill:this.theme.lightIconColor,marginRight:10}),locked:!1,right:this.maybeRenderEnterIcon(t)}),action:()=>t.setState(!0)}}navigateToBlock(e){const{mainEditorCurrentBlockStore:t}=Z.default.state,i=t?(0,j.ZP)({store:t,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:s.tY.LinkInPage}):(0,j.ZP)({store:e,fullyQualified:!1,pageVisitSource:s.tY.LinkInPage});this.navigate(i)}isSuggestedTemplatesExperimentEnabled(){const{currentUserSettingsStore:e,currentSpaceStore:t}=Z.default.state,i=null==e?void 0:e.getSettings();if(!e||!i||!t)return!1;const n="team"===t.getPlanType(),o="en-US"===r.SP,a=null==i?void 0:i.dismissed_new_page_suggested_templates,s=(null==i?void 0:i.persona)&&["productDesign","product","marketing","eng"].includes(i.persona),l=(0,x.e2)(e);return n&&o&&!a&&s&&("number"==typeof l&&l<7)&&void 0!==this.suggestedTemplatesExperimentVariant.state}getDesktopBasicSectionItems(e){const t=[this.renderPageTemplatePickerItem(O.dQ)];if(e){const e=this.props.store.getTitleValue(),i=(0,P.Xh)(e,this.props.store).trim();t.push(this.renderAIDraftPageWithGivenTitleTemplatePickerItem(i))}return t}getDesktopAddNewSectionItems(e,t){let i;i="v1"===t?null:"v2"===t?["table"]:["table","board","timeline","calendar"];const n=null!==i?(0,O.b6)(O.Im,i):O.Im,o=u.zu(O.Im,...n),r=!this.moreNewPageItemsExpandedStore.state&&o.length>0?this.renderMoreTemplatePickerItem("moreNew",this.moreNewPageItemsExpandedStore):null,a=[O.pd,e?O.K0:O.re,...n,...r?[]:o].filter((e=>e.shouldShow(this.environment))).map(this.renderPageTemplatePickerItem);return r?a.concat(r):a}getGroupTitleStyle(){const{device:e}=this.environment;return{...l.ZD,marginTop:16,marginBottom:4,letterSpacing:0,fontSize:e.isMobile?12:13,color:this.theme.lightTextColor,display:"flex",alignItems:"center",fontWeight:500}}getIconStyle(e){return e.isLargeDatabaseIcon?{width:16,fill:this.theme.lightIconColor,marginLeft:2,marginRight:12}:{width:20,fill:this.theme.lightIconColor,marginRight:10}}maybeRenderEnterIcon(e){return(0,_.GD)(this.publicEditModeStore.state)&&e.focused&&(0,p.U)({width:14,marginRight:6,fill:this.theme.lightIconColor})}}function K(e){let{variant:t,persona:i,menuListStore:o,handleTemplatePickerEmptyEnter:r,sectionsBeforeSuggested:a,sectionsAfterSuggested:s,suggestedTemplateSectionHeader:l,renderPageTemplatePickerItem:c}=e;window.__c={n:"TemplatePickerWithSuggestedTemplates"};const d=(0,E.useDependency)(E.deps.AppTemplates),p=(0,n.useMemo)((()=>{var e;if("control"===t)return[...a,...s];const n=null===(e=d.value)||void 0===e?void 0:e.templatePickerItems.getSuggestedTemplates(t,i).slice(0,3);if(n&&n.length>0){const e={key:"Suggested Templates",render:e=>(0,z.jsxs)("div",{children:[l(!0),e.children]},e.key),items:n.map(c)};return[...a,e,...s]}if("pending"===d.status){const e={key:"Suggested Templates",render:e=>(0,z.jsxs)("div",{children:[l(!1),(0,z.jsx)(N.Z,{})]},e.key),items:[]};return[...a,e,...s]}return[...a,...s]}),[d,t,i,a,s,l,c]);return(0,z.jsx)(H.Z,{type:H.i.Vertical,store:o,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:r,sections:p})}function Q(e){let{persona:t,subscriptionTier:i,menuListStore:o,sectionTitleStyle:r,handleTemplatePickerEmptyEnter:a,sectionsBeforeMobilePreviewSections:s,renderMobileTemplatePreviewItem:l}=e;window.__c={n:"TemplatePickerMenuWithMobilePreviewSections"};const c=(0,E.useDependency)(E.deps.AppTemplates),d=(0,n.useMemo)((()=>{if(!c.value)return[];return c.value.templatePickerItems.getMobilePreviewTemplates({userPersona:t,subscriptionTier:i}).map((e=>{let{category:t,sectionHeaderMessage:i,templates:n}=e;return{key:t,render:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{style:r,children:(0,z.jsx)(g.FormattedMessage,{...i})}),e.children]},e.key),items:n.map(l)}}))}),[t,l,r,i,c]),p="pending"===c.status?(0,z.jsx)("div",{style:{marginTop:r.marginTop,marginBottom:r.marginBottom,paddingLeft:10},children:(0,z.jsx)(N.Z,{})}):void 0;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(H.Z,{type:H.i.Vertical,store:o,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:a,sections:[...s,...d]}),p]})}U.displayName="TemplatePicker",U.contextTypes={...w.wK,...o.w};const Y=(0,g.injectIntl)(U);function q(e){const t=e.getAssociatedCollectionStore(),i=t&&t.getParentBlockStore();return I.eD({collectionStore:t,collectionViewBlockStore:i,checkNavigableAncestorLocked:!0})}function $(e){return e.isTemplate()}},66890:(e,t,i)=>{i.d(t,{DK:()=>p,L1:()=>c,Y$:()=>d,xm:()=>l});i(21703);var n=i(67294),o=i(67381);const r="collectionContextStore",a=(0,o.Q)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),s=a.context,l=a.legacyPropTypes,c=a.Provider;function d(){const e=n.useContext(s);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function p(){return n.useContext(s)}},68821:(e,t,i)=>{i.d(t,{c:()=>o});var n=i(77080);function o(){return"on"===n.default.getEligibleGroup({experimentId:"better_asana_importer",defaultGroup:"control"})}},25498:(e,t,i)=>{i.d(t,{m:()=>r,w:()=>a});i(57658);var n=i(81491),o=i(98165);const r=[{frequency:"day",interval:1},{frequency:"week",interval:1},{frequency:"month",interval:1},{frequency:"year",interval:1}],a=e=>{const t=o.qA(e)??[],i=[];for(const n of t){if(!("block"===n.table&&!0===n.isTemplate()&&n.getFormat().automation_id&&n.id!==e.id))continue;const t=n.getAutomationStore();if(t){if(!t.isReady())return{automationStoresReady:!1};void 0!==t.getRecurrence()&&t.isDefined()&&i.push(t.getModel())}}return{automationStoresReady:!0,violatesConstraint:(0,n.templateAncestorsViolateRecurrenceNesting)(i)}}},17031:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(35431);class o extends n.Z{findCollectionTemplatePickerItemFromStore(e){if(e)return this.find((t=>t.props.templateStore===e))}}const r=new o},47593:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(49085);class o extends n.default{getInitialState(){return{open:!1}}}const r=new o},67940:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(49085),o=i(4615);class r extends n.default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||(0,o.ZP)();return this.state.flowId&&this.setState({flowId:e}),e}}const a=new r},56638:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(49085);class o extends n.default{getInitialState(){return{open:!1}}}const r=new o},64275:(e,t,i)=>{i.d(t,{D:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("closeSmall",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},39132:(e,t,i)=>{i.d(t,{c:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("eye",{viewBox:"0 0 32 32",svg:(0,o.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},18557:(e,t,i)=>{i.d(t,{z:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("flag",{viewBox:"0 0 13 14",svg:(0,o.jsx)("path",{d:"M0.825195 13.8457C1.16699 13.8457 1.4541 13.5654 1.4541 13.2168V9.47754C1.63867 9.40918 2.21973 9.19727 3.10156 9.19727C5.59668 9.19727 7.25781 10.4414 9.66406 10.4414C10.7168 10.4414 11.1885 10.3115 11.7217 10.0654C12.207 9.84668 12.4941 9.4502 12.4941 8.82129V1.99219C12.4941 1.55469 12.1523 1.27441 11.6943 1.27441C11.3047 1.27441 10.6895 1.54102 9.58887 1.54102C7.20996 1.54102 5.52148 0.296875 3.0332 0.296875C1.99414 0.296875 1.5293 0.419922 0.975586 0.672852C0.49707 0.891602 0.196289 1.24707 0.196289 1.86914V13.2168C0.196289 13.5586 0.483398 13.8457 0.825195 13.8457ZM9.63672 9.16309C7.41504 9.16309 5.71289 7.92578 3.12207 7.92578C2.45215 7.92578 1.84375 8.00098 1.48145 8.14453V2.0332C1.59766 1.83496 2.11035 1.56836 3.05371 1.56836C5.38477 1.56836 7.09375 2.80566 9.56836 2.80566C10.2383 2.80566 10.792 2.73047 11.2158 2.61426V8.69824C11.0996 8.89648 10.5801 9.16309 9.63672 9.16309Z"})})},82356:(e,t,i)=>{i.d(t,{l:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},53470:(e,t,i)=>{i.d(t,{H:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("rename",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M14.7881 2.5752L15.3008 2.04199C15.5605 1.76855 15.5742 1.39941 15.3213 1.13965L15.1436 0.955078C14.9111 0.722656 14.5283 0.763672 14.2754 1.00977L13.749 1.5293L14.7881 2.5752ZM6.68066 9.87598L8.0752 9.28809L14.2891 3.06738L13.25 2.03516L7.03613 8.25586L6.4209 9.60254C6.35254 9.75977 6.52344 9.9375 6.68066 9.87598ZM4.09668 14.4355H12.0674C13.373 14.4355 14.1387 13.6768 14.1387 12.2207V4.99512L12.7988 6.33496V12.1045C12.7988 12.7676 12.4434 13.1025 11.9854 13.1025H4.17871C3.54297 13.1025 3.19434 12.7676 3.19434 12.1045V4.49609C3.19434 3.83301 3.54297 3.49805 4.17871 3.49805H10.0234L11.3633 2.1582H4.09668C2.62695 2.1582 1.85449 2.91699 1.85449 4.37988V12.2207C1.85449 13.6836 2.62695 14.4355 4.09668 14.4355Z"})})},53523:(e,t,i)=>{i.d(t,{N:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("repeat",{viewBox:"0 0 16 14",svg:(0,o.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},35840:(e,t,i)=>{i.d(t,{R:()=>r,T:()=>o});i(67294);var n=i(45238);const o=(0,i(85893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),r=(0,n.I)("search",{viewBox:"0 0 16 16",svg:o})},46783:(e,t,i)=>{i.d(t,{w:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("templates",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},73426:(e,t,i)=>{i.d(t,{i:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("templatesColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"})]})})}}]);