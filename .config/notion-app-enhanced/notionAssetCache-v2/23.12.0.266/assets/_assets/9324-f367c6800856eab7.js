"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9324],{89845:(e,t,i)=>{i.d(t,{Z:()=>v});i(67294);var r=i(83355),o=i(13991),n=i(8848),s=i(7057),a=i(53877),l=i(42875),d=i(36700),c=i(63143),h=i(31412),u=i(26388),p=i(85893);class m extends r.Z{constructor(){super(...arguments),this.reminderTimer=void 0}willMountOrUpdate(){this.createReminderTimer()}willUnmount(){this.clearReminderTimer()}createReminderTimer(){const e=this.props.value;if(!e)return;const t=a.KR(e,(0,l.r)());if(!t)return;const i=t.valueOf(),r=i-Date.now();r<0||r>c.A0||this.reminderTimer&&this.reminderTimer.timestamp===i||(this.reminderTimer&&clearTimeout(this.reminderTimer.timer),this.reminderTimer={timestamp:i,timer:setTimeout(this.enqueueForceUpdate,r)})}clearReminderTimer(){this.reminderTimer&&(clearTimeout(this.reminderTimer.timer),this.reminderTimer=void 0)}renderComponent(){const{value:e,withComma:t}=this.props;if(!e)return;const i=a.NK(e,(0,l.r)(),o.SP);let r;if(e.reminder){const t=a.Nm(e,(0,l.r)());r=t?{color:this.theme.errorText}:{color:n.ZP.blue}}const c=(0,p.jsxs)(p.Fragment,{children:[(0,s.ZV)({value:e,date_format:this.props.dateFormat,time_format:this.props.timeFormat,userTimeZone:(0,l.r)(),allowRelativeDates:!0,intl:this.props.intl,shortenDateAndRange:this.props.shortenDateAndRange,displayInUserTimezone:this.props.displayInUserTimezone}),e.reminder&&(0,d.m)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),t?", ":null]});return this.props.disableTooltip?(0,p.jsx)("div",{style:{...this.props.style,...r},children:c}):(0,p.jsx)(u.Z,{renderTooltip:()=>(0,p.jsxs)(p.Fragment,{children:[this.props.tooltipHeader,(0,p.jsxs)("div",{style:this.getTooltipStyle(),children:[g(i.start),i.end?` → ${g(i.end)}`:""]})]}),render:e=>(0,p.jsx)("div",{style:{...this.props.style,...r},...e,children:c}),placement:this.props.tooltipPlacement})}getTooltipStyle(){return this.props.tooltipHeader?{color:this.theme.mediumInvertedTextColor}:{}}}m.displayName="DateBox";const v=(0,h.injectIntl)(m);function g(e){return(0,s.ZW)(e,"medium_with_time")}},13658:(e,t,i)=>{i.d(t,{Z:()=>d});i(67294);var r=i(83355),o=i(49085),n=i(31412),s=i(64921),a=i(85893);class l extends r.Z{constructor(){super(...arguments),this.storeTypes={open:o.default.createClass(!1)},this.handleOpen=()=>{this.stores.open.setState(!0)}}renderComponent(){return this.stores.open.state||this.props.items.length<=this.props.visible?(0,a.jsx)("div",{children:this.props.items}):(0,a.jsxs)("div",{children:[this.props.items.slice(0,this.props.visible),(0,a.jsx)(s.Z,{onClick:this.handleOpen,style:this.getStyle(),children:(0,a.jsx)(n.FormattedMessage,{defaultMessage:"View {moreCount} more",id:"activity.viewMoreButton.label",values:{moreCount:this.props.items.length-this.props.visible}})})]})}getStyle(){return{display:"flex",alignItems:"center",height:28,fontSize:12,color:this.theme.lightTextColor,padding:0,paddingLeft:52,paddingRight:16}}}l.displayName="ViewMore";const d=l},92559:(e,t,i)=>{i.d(t,{Z:()=>s});i(67294);var r=i(24405),o=i(8848),n=i(85893);function s(){window.__c={n:"BlockHighlighterBar"};const e=(0,r.yK)((()=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:4,marginLeft:2,marginRight:8,minHeight:24,background:o.DB}})),[]);return(0,n.jsx)("div",{style:e.blockContext})}},12472:(e,t,i)=>{i.d(t,{D:()=>m,Z:()=>p});i(67294);var r=i(24405),o=i(31412),n=i(19719),s=i(54642),a=i(17659),l=i(39699),d=i(80444),c=i(62385),h=i(22649),u=i(85893);function p(e){var t;window.__c={n:"NotificationActions"};const{isMobile:i,environment:o,rootStore:n,activity:s,tabArgs:a,useInboxRedesign:l}=e,{source:d}=a,c=Boolean(null===(t=a.notification)||void 0===t?void 0:t.visited),p=(0,r.yK)((()=>({container:{paddingLeft:l?void 0:(0,h.c3)({source:d,isMobile:i})-8,paddingTop:4}})),[i,d,l]);return c?(0,u.jsx)("div",{style:p.container,children:(0,u.jsx)(m,{tabArgs:a,environment:o,rootStore:n,activity:s,useInboxRedesign:l})}):null}function m(e){window.__c={n:"UnarchiveButton"};const{tabArgs:t,environment:i,rootStore:p,activity:m,useInboxRedesign:v}=e,{notification:g,tab:f}=t,x=(0,r.yK)((e=>({secondaryButton:(0,h._W)(e)})),[]);return Boolean(null==g?void 0:g.visited)?(0,u.jsx)(c.Z,{onClick:()=>{if(g){if(v&&"commented"===g.type){var e;const t=null===(e=d.default.state.currentSpaceStore)||void 0===e?void 0:e.id;void 0!==t&&s.setNotificationsStatus(i,{spaceId:t,notificationIds:[g.id],archived:!1})}else l.createAndCommit({userAction:"Activity.handleUnarchive",environment:i,perform:e=>{a.E1({notificationId:g.id,visited:!1,rootStore:p,transaction:e})}});n.F5({environment:i,activity:m,tab:f,notificationId:g.id,alreadyRead:g.read})}},style:x.secondaryButton,children:(0,u.jsx)(o.FormattedMessage,{defaultMessage:"Unarchive",id:"activity.actions.unarchiveButton.label"})}):null}},36081:(e,t,i)=>{i.d(t,{Z:()=>h});var r=i(67294),o=i(24405),n=i(97880),s=i(31412),a=i(31278),l=i(22649),d=i(85893);function c(e){let t,i,{permissionGroup:c,spaceId:h}=e;window.__c={n:"PermissionGroupTitle"},c?(t=c.icon,i=c.name||(0,d.jsx)(s.FormattedMessage,{defaultMessage:"Untitled group",id:"activity.permissionGroupTitles.untitledGroup"})):i=(0,d.jsx)(s.FormattedMessage,{defaultMessage:"Deleted group",id:"activity.permissionGroupTitles.deletedGroup"});const u=void 0!==t,p=(0,o.yK)((()=>({title:(0,l.TL)(u)})),[u]),m=(0,r.useMemo)((()=>(0,n.$K)(t)?{icon:t,pointer:{table:"space",id:h}}:void 0),[t,h]);return(0,d.jsxs)("span",{children:[m&&(0,d.jsx)(a.Z,{disabled:!0,icon:m,isEmptyPage:!1,size:18,style:l.e9}),(0,d.jsx)("span",{style:p.title,children:i})]})}const h=r.memo(c)},78976:(e,t,i)=>{i.d(t,{Z:()=>T});var r=i(67294),o=i(480),n=i(86628),s=i(24405),a=i(15145),l=i(1800),d=i(26825),c=i(21202),h=i(6287),u=i(15047),p=i(29369),m=i(97880),v=i(31412),g=i(62820),f=i(9867),x=i(84076),y=i(31278),b=i(76798),S=i(64369),j=i(17022),C=i(22649),A=i(85893);function M(e){window.__c={n:"Title"};const{titledRecordStore:t,getRecordModel:i,activity:M,tabArgs:T,permissionRole:w,shouldRenderEmpty:k}=e,I=(0,n.VK)((()=>t.getModel()),[t]),Z=(0,o.O7)(),R=(0,v.useIntl)(),B=(0,n.VK)((()=>null==I?void 0:I.getRenderIcon({getRecordModel:i})),[I,i]),P=(0,s.yK)((()=>({container:w?{...C.lS,display:"flex",alignItems:"center"}:C.lS,icon:C.e9,recordTitle:(0,C.TL)(void 0!==B),role:{marginLeft:4,padding:0},titleAndRole:{display:"flex",flexFlow:"row",padding:1}})),[B,w]),L=(0,r.useCallback)((()=>{const e=t.table;switch(e){case c.iU:case h.v:case u.bx:(0,j.V3)({environment:Z,activity:M,...T});break;case p.e0:(0,j.dG)({environment:Z,activity:M,...T}),f.hI({environment:Z,teamStore:t,shouldScroll:!0}),g.Z.setState({...g.Z.state,open:!1});break;default:(0,m.t1)(e)}}),[M,Z,T,t]),U=(0,n.VK)((()=>I&&I.table!==p.e0?I.getRenderUrl({getRecordModel:i,pageVisitSource:a.tY.Notification}):k&&t.table===c.iU?(0,l.Z)({pageId:t.id,pageVisitSource:a.tY.LinkInPage}):void 0),[I,i,k,t.table,t.id]);if(!I&&!k)return null;const _=w?(0,A.jsxs)("div",{style:P.titleAndRole,children:[(0,A.jsx)(b.Z,{store:t,style:P.recordTitle}),(0,A.jsx)(S.Z,{style:P.role,isSecondaryColor:!0,children:`(${R.formatMessage((0,d.kD)(w,c.iU)).toLocaleLowerCase()})`})]}):(0,A.jsx)(b.Z,{store:t,style:P.recordTitle});return(0,A.jsxs)(x.Z,{href:U,onClick:L,external:!1,innerStyle:P.container,inline:!0,children:[(B||k)&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(y.Z,{disabled:!0,icon:B,isEmptyPage:!1,size:18,style:P.icon}),(0,A.jsx)("span",{children:" "})]}),_]})}const T=r.memo(M)},74970:(e,t,i)=>{i.d(t,{BE:()=>N,Hy:()=>V,ZP:()=>H,_c:()=>z,hZ:()=>F,of:()=>D});i(67294);var r=i(83355),o=i(480),n=i(53150),s=i(49085),a=i(8848),l=i(36700),d=i(69651),c=i(30134),h=i(82356),u=i(94308),p=i(8504),m=i(21202),v=i(97880),g=i(17659),f=i(37834),x=i(39699),y=i(43250),b=i(12534),S=i(33929),j=i(16402),C=i(26350),A=i(4761),M=i(73063),T=i(86176),w=i(26388),k=i(70301),I=i(45653),Z=i(67706),R=i(30573),B=i(32469),P=i(93963),L=i(85893);class U extends r.Z{constructor(){super(...arguments),this.titleAriaId=(0,n.Z)(),this.storeTypes={hovered:s.default.createClass(!1),hoveredOverInboxActionsMenu:s.default.createClass(!1)},this.handleMouseOver=()=>{this.stores.hovered.setState(!0)},this.handleMouseLeave=()=>{this.stores.hovered.setState(!1)},this.handleMouseEnterInboxActions=()=>{this.stores.hoveredOverInboxActionsMenu.setState(!0)},this.handleMouseLeaveInboxActions=()=>{this.stores.hoveredOverInboxActionsMenu.setState(!1)},this.handleArchive=()=>{const{notification:e,rootStore:t,onArchiveClicked:i}=this.props;i(),e&&x.createAndCommit({userAction:"ActivityUpdateSection.handleArchive",environment:this.environment,perform:i=>{g.aZ({notification:e,rootStore:t,transaction:i})}})},this.handleMarkAsRead=e=>{const{notification:t,rootStore:i,onNotificationFrameClicked:r}=this.props;t&&!t.read&&(this.stores.hoveredOverInboxActionsMenu.state||(0,b.ZP)({event:e,context:b.Af.NotificationClick,callback:()=>{r(),x.createAndCommit({userAction:"ActivityUpdateSection.handleMarkAsRead",environment:this.environment,perform:e=>{g.$h({notification:t,rootStore:i,transaction:e,read:!0})}})}}))},this.handleOpenSnapshot=()=>{if(this.props.navigableBlockId){const e=C.G.createChildStore(this.props.rootStore,{table:m.iU,id:this.props.navigableBlockId});f.jN({environment:this.environment,blockStore:e,openSnapshotNearTimestamp:this.props.timestamp.toString(),from:"activity"})}}}renderComponent(){const{children:e}=this.props,t="mentions"===A.ZP.state.currentTab;return(0,L.jsxs)("article",{onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onClick:this.handleMarkAsRead,"aria-labelledby":this.titleAriaId,tabIndex:0,children:[this.renderInboxActions(),(0,L.jsxs)("div",{style:{...U.wrapStyle,paddingBottom:e?12:8,paddingLeft:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingLeftCSS:0,paddingRight:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingRightCSS:0,...this.shouldShowReadNotificationStyle()&&{opacity:.7}},children:[(0,L.jsxs)("div",{style:this.getHeaderAndAvatarStyle(),children:[(0,L.jsxs)("div",{className:y.FoE,style:{display:"flex",alignItems:"flex-start",position:"relative"},children:[(0,L.jsx)("div",{style:{marginRight:4},children:t&&(0,L.jsx)("div",{style:{marginRight:this.environment.device.isMobile?3:2},children:this.renderStatusDot({opacity:1})})}),this.props.icon]}),this.renderHeader(),this.renderSnapshotButton(),this.renderPrivate()]}),e&&this.renderChildren()]}),this.renderDivider()]})}renderDivider(){const{isLast:e}=this.props;if(!e)return(0,L.jsx)("div",{style:this.getBorderBottomStyle()})}renderHeader(){const{timestamp:e,header:t}=this.props,i=(0,j.IS)(e),r=(0,j.uy)(e);return(0,L.jsxs)("div",{style:U.headerStyle,children:[(0,L.jsx)("div",{id:this.titleAriaId,className:y.NFf,children:t}),(0,L.jsxs)("div",{style:{display:"flex",marginTop:4,marginBottom:this.props.children?8:4},children:[(0,L.jsx)("div",{style:this.getTimeStyle(),className:y.CZG,children:(0,L.jsx)(Z.Z,{text:i,tooltipText:r,icon:d.C})}),this.props.navigableBlockId&&this.props.rootStore&&(0,L.jsx)(T.Z,{isLink:!0,innerStyle:this.getPathStyle(),store:C.G.createChildStore(this.props.rootStore,{table:m.iU,id:this.props.navigableBlockId}),left:(0,L.jsx)("div",{style:this.getSeparatorDotStyle(),children:"·"}),onClick:this.props.onBacklinkClicked})]})]})}renderSnapshotButton(){if(!this.props.showSnapshotButton)return;if(this.props.timestamp<new Date("2018-10-26").getTime())return;const e=S.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"});return this.props.navigableBlockId?(0,L.jsx)(w.Z,{renderTooltip:()=>e,render:t=>(0,L.jsx)(M.Z,{ariaLabel:e,onClick:this.handleOpenSnapshot,icon:p.J,...t})}):void 0}renderInboxActions(){const{notification:e,rootStore:t,onArchiveClicked:i,onMarkAsReadClicked:r,onMarkAsUnreadClicked:o}=this.props,{currentTab:n}=A.ZP.state;if("mentions"===n&&e&&!e.visited)return(0,L.jsx)("div",{style:this.getStatusLabelContainerStyle(),onMouseEnter:this.handleMouseEnterInboxActions,onMouseLeave:this.handleMouseLeaveInboxActions,children:(0,L.jsx)("div",{style:this.getInboxActionsStyle(),children:(0,L.jsx)(R.Z,{notification:e,rootStore:t,onArchiveClicked:i,onMarkAsReadClicked:r,onMarkAsUnreadClicked:o,useInboxRedesign:!1})})})}renderStatusDot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!this.isSeen()&&(0,L.jsx)(P.z,{style:{...this.getStatusDotStyle(),...e}})}renderPrivate(){if(this.props.isPrivate&&!this.props.notification)return(0,L.jsx)(B.Z,{style:{marginTop:1,marginBottom:4,marginLeft:8}})}renderChildren(){return(0,L.jsx)("div",{className:y.nU_,children:this.props.children})}isSeen(){const{notification:e}=this.props;return!e||e.read}shouldShowReadNotificationStyle(){const{currentTab:e}=A.ZP.state;return this.isSeen()&&"mentions"===e&&!this.props.showSnapshotButton&&this.props.notification}getHeaderAndAvatarStyle(){return{display:"flex",paddingLeft:16,paddingRight:16+("mentions"!==A.ZP.state.currentTab||this.props.showSnapshotButton?0:R.N+5)}}getBorderBottomStyle(){return{borderBottom:`1px solid ${this.theme.regularDividerColor}`}}getPathStyle(){return{fontSize:12,color:this.theme.lightTextColor}}getTimeStyle(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}}getSeparatorDotStyle(){return{fontSize:12,color:this.theme.lightTextColor,marginLeft:4,marginRight:4}}getStatusLabelContainerStyle(){return{display:"flex",alignItems:"flex-start",marginTop:1,marginBottom:4,position:"relative",marginLeft:this.environment.device.isMobile?23:8}}getStatusDotStyle(){return{position:"absolute",opacity:this.stores.hovered.state?0:1,left:-7,top:10}}getInboxActionsStyle(){const{isMobile:e}=this.environment.device;return{transition:"opacity 100ms ease-out",opacity:e||this.stores.hovered.state?1:0,position:"absolute",right:16,top:12,zIndex:1}}}U.displayName="ActivityUpdateSection",U.wrapStyle={paddingTop:12},U.headerStyle={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0};const _={marginTop:2,marginRight:8,flexShrink:0};function O(e){let{actor:t,environment:i}=e;const r=i.currentUser.id===t.id;return Number(t.isBot())+Number(r)}function N(e){window.__c={n:"AuthorIcon"};const{authors:t,style:i,showAvatarShadow:r}=e,n=(0,o.O7)(),s=t.sort(((e,t)=>O({actor:e,environment:n})-O({actor:t,environment:n})))[0],a={..._,...i};return s?s.isBot()?(0,L.jsx)(k.Z,{botValue:s,style:a,size:24}):s.isUser()?(0,L.jsx)(I.Z,{userValue:s,style:a,size:24,avatarShouldShowShadow:r??!0}):s.isAgent()?null:void(0,v.t1)(s):null}function F(){return(0,L.jsx)("div",{style:{display:"flex",backgroundColor:a.ZP.red,height:28,width:28,borderRadius:"100%",..._},children:(0,l.m)({height:16,width:16,fill:a.ZP.white,marginLeft:6,marginTop:5})})}function D(){return(0,L.jsx)("div",{style:{height:25,width:25,..._},children:(0,u.f)({height:25,width:25})})}function V(){return(0,L.jsx)("div",{style:{height:25,width:25,..._},children:(0,c.c)({height:25,width:25})})}function z(){return(0,L.jsx)("div",{style:{height:25,width:25,..._},children:(0,h.l)({height:25,width:25})})}const H=U},17022:(e,t,i)=>{i.d(t,{BE:()=>p,ME:()=>c,V3:()=>u,dG:()=>h,h9:()=>v});var r=i(15145),o=i(82813),n=i(64002),s=i(50906),a=i(19719),l=i(24215),d=i(4761);function c(e){return(0,n.SK)(e,{[r.$X]:r.tY.Notification})}function h(e){const t=e.mightCloseTab??!0;m({target:"body",...e,mightCloseTab:t})}function u(e){const t=e.mightCloseTab??!0;m({target:"title",...e,mightCloseTab:t})}function p(e){m({target:"add_reaction",...e,mightCloseTab:!1})}function m(e){const{target:t,environment:i,activity:r,notification:n,source:c,tab:h,mightCloseTab:u}=e,p="notifications_tab"===c?d.ZP.state.sessionId:void 0,m="notifications_tab"===c?d.ZP.isFilteredToUnreadOnly():void 0;s.CgP(i,{target:t,activity_id:r.id,notification_id:null==n?void 0:n.id,sessionId:p,is_filtered:m,tab:h}),u&&a.pw({environment:i,target:t}),n&&o.e((0,l.mc)(i),{alreadyRead:n.read,notificationId:n.id,activityId:n.activity_id,from:t,sessionId:p})}function v(e){const{notification:t,activity:i,environment:r,tab:o}=e,n={environment:r,activity:i,notificationId:null==t?void 0:t.id,alreadyRead:Boolean(null==t?void 0:t.read),tab:o};return{onBacklinkClicked:e=>a.EQ({...n,backlinkPageId:e}),onArchiveClicked:()=>a._b(n),onMarkAsReadClicked:()=>a.cC(n),onMarkAsUnreadClicked:()=>a.u_(n),onNotificationFrameClicked:()=>a.ix(n)}}},90060:(e,t,i)=>{i.d(t,{uA:()=>N,XW:()=>O,P6:()=>_,cr:()=>V,jC:()=>D,N8:()=>F});var r=i(66897),o=i(67294),n=i(31412),s=(i(41892),i(8848)),a=i(7057),l=(i(30134),i(82356),i(94308),i(24211)),d=(i(54368),i(77420)),c=i(19889),h=(i(97880),i(82990)),u=i(15145),p=i(76725),m=i(72126),v=i(59753),g=i(63306),f=i(64002),x=i(85893);const y=function(e){const t={display:e.inline?"inline":"block",color:s.ZP.inherit,textDecoration:"none",cursor:"pointer",...e.style},{href:i}=e;return(0,x.jsx)("a",{href:(0,f.Nm)({str:i,allowNoProtocol:!0}),style:t,className:"notion-email-button-hover",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:e.children})};function b(e){let{getRecordValue:t,blockId:i,userTimeZone:r,baseUrl:o,left:s,right:a}=e;window.__c={n:"RecordPath"};const l=function(e,t,i,r,o){const n=g.uJ({table:"block",id:t},e),s=v.om.fromGetRecordValueFn(e);return m.nn(n.reverse()).map((e=>{const t=v.kk.fromBlock(e),n=t.getRenderTitle({getRecordModel:s,userTimeZone:r,intl:i})||i.formatMessage({id:"recordPath.untitledBlock.placeholder",defaultMessage:"Untitled"}),a=t.getRenderUrl({getRecordModel:s,pageVisitSource:u.tY.Email});return(0,x.jsx)(y,{href:`${o}${a}`,style:{display:"inline-block",maxWidth:120,verticalAlign:"top",...h.Z.textOverflowStyle},children:n},e.id)}))}(t,i,(0,n.useIntl)(),r,o);return l.length>0?(0,x.jsxs)("div",{children:[s,(0,p.Z)(l,(e=>(0,x.jsx)("span",{style:{paddingLeft:4,paddingRight:4},children:"/"},`slash:${e}`))),a]}):null}const S=o.memo(b);i(43593),i(17755),i(58102);class j extends o.PureComponent{constructor(){super(...arguments),this.theme=(0,s.gh)({theme:"light"})}render(){const{children:e}=this.props;return(0,x.jsxs)("table",{style:{paddingTop:12,paddingBottom:e?0:8,borderSpacing:0,width:"100%",borderCollapse:"separate"},children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{verticalAlign:"top",width:j.avatarSize+6,minWidth:j.avatarSize+6,paddingTop:2},children:this.props.icon}),(0,x.jsx)("td",{children:this.renderHeader()})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{style:{maxWidth:400},children:e&&(0,x.jsx)(T,{children:this.props.children})})]}),(0,x.jsx)(M,{isLast:this.props.isLast,theme:this.props.theme})]})}renderHeader(){const{timestamp:e,header:t,intl:i}=this.props,r=(0,a.Yx)(Math.min(e,Date.now()),"medium_with_time",(0,l.E2)(i),this.props.userTimeZone);return(0,x.jsxs)("div",{style:j.headerStyle,children:[(0,x.jsx)("div",{children:t}),(0,x.jsx)("table",{style:{...this.getPathAndTimeStyle(),marginTop:4,marginBottom:this.props.children?8:4,borderSpacing:0},children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:r}),(0,x.jsx)("td",{children:this.props.navigableBlockId&&(0,x.jsx)(S,{getRecordValue:this.props.getRecordValue,blockId:this.props.navigableBlockId,baseUrl:this.props.baseUrl,left:(0,x.jsx)("span",{style:this.getDotStyle(),children:"·"}),userTimeZone:this.props.userTimeZone})})]})})]})}getPathAndTimeStyle(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}}getDotStyle(){return{color:this.theme.lightTextColor,marginLeft:4,marginRight:4}}}j.avatarSize=28,j.headerStyle={fontSize:14,lineHeight:1.4};const C={fontWeight:h.Z.fontWeight.semibold};(0,n.injectIntl)(j);function A(e){return{borderBottom:`1px solid ${e.regularDividerColor}`,marginBottom:4}}function M(e){let{isLast:t,theme:i}=e;return t?null:(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:2,children:(0,x.jsx)("div",{style:A(i)})})})}function T(e){let{children:t}=e;return(0,x.jsx)("div",{children:t})}var w=i(21202),k=i(6287),I=i(33709),Z=i(15047),R=i(70203),B=i(33929),P=i(67669),L=i(80444),U=i(26350);function _(e){const{edits:t,rootStore:i}=e,r=m.sv(t.flatMap((e=>e.authors||[])),m.Xy);return m.oA(r.map((e=>N(e,i))))}function O(e,t){const{currentUserStore:i}=L.default.state,o=null==i?void 0:i.id;return function(e,t,i,o){const s=t.find((e=>e.id===i)),a=t.map((t=>(0,r.$4)(e,t))),l={...C,...o};if(1===t.length)return s?(0,x.jsx)("span",{children:(0,x.jsx)(n.FormattedMessage,{defaultMessage:"You",id:"activitySection.authorPhrase.forOneAuthorCurrentUser.label",values:{b:e=>(0,x.jsx)("span",{style:l,children:e})}})}):(0,x.jsx)("span",{children:(0,x.jsx)(n.FormattedMessage,{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.label",values:{author:a[0],b:e=>(0,x.jsx)("span",{style:l,children:e})}})});if(2===t.length){if(s){const i=t.filter((e=>e!==s)).map((t=>(0,r.$4)(e,t)));return(0,x.jsx)("span",{children:(0,x.jsx)(n.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and you",id:"activitySection.authorPhrase.forTwoAuthorsCurrentUser.label",values:{firstAuthor:i[0],b:e=>(0,x.jsx)("span",{style:l,children:e})}})})}return(0,x.jsx)("span",{children:(0,x.jsx)(n.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and <b>{secondAuthor}</b>",id:"activitySection.authorPhrase.forTwoAuthors.label",values:{firstAuthor:a[0],secondAuthor:a[1],b:e=>(0,x.jsx)("span",{style:l,children:e})}})})}if(a.length>2){if(s){const i=t.filter((e=>e!==s)).map((t=>(0,r.$4)(e,t))),o=(0,x.jsx)(n.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, =0 {<b>{firstAuthor}</b>, <b>{secondAuthor}</b> and you} one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthorsCurrentUser.label",values:{numberOfOtherAuthors:i.length-2,firstAuthor:i[0],secondAuthor:i[1],b:e=>(0,x.jsx)("span",{style:l,children:e})}});return(0,x.jsx)("span",{children:o})}{const e=(0,x.jsx)(n.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthors.label",values:{numberOfOtherAuthors:a.length-2,firstAuthor:a[0],secondAuthor:a[1],b:e=>(0,x.jsx)("span",{style:l,children:e})}});return(0,x.jsx)("span",{children:e})}}return(0,x.jsx)("span",{style:l,children:(0,x.jsx)(n.FormattedMessage,{defaultMessage:"Nobody",id:"activitySection.authorPhrase.forNoAuthors.label"})})}(B.default.getIntl(),e,o,t)}function N(e,t){if(e.table===c.KJ){const i=F(e.id,t);if(i)return(0,r.dp)(i)}else{const i=function(e,t){return(0,U.Kv)(t,{table:d.cZ,id:e}).getValue()}(e.id,t);if(i)return(0,r.D$)(i)}}function F(e,t){return U.U6.createChildStore(t,{table:c.KJ,id:e}).getValue()}function D(e){const{tab:t,recordId:i,recordType:r,rootStore:o,environment:n}=e;if("all"===t){if(!i)return!1;let e;return e="block"===r?U.G.createChildStore(o,{table:w.iU,id:i}):"collection"===r?U.NW.createChildStore(o,{table:k.v,id:i}):U.H2.createChildStore(o,{table:Z.bx,id:i}),(0,P.yi)(n,e)}return!1}function V(e){const{activity:t,rootStore:i}=e;if("commented"!==t.type)return;const r=i.getRecordModel({table:I.qF,id:t.discussion_id,spaceId:t.space_id});if(!r)return;const o=r.getContext();if(!o)return;const n=(0,R.VP_)(o,(e=>!(0,R.xw5)(e)||(0,R.h19)(e)===r.id));return{id:r.id,context:n}}},13530:(e,t,i)=>{i.d(t,{s:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.I)("historyForward",{viewBox:"0 0 14 14",svg:(0,o.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})},22686:(e,t,i)=>{i.d(t,{f:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.I)("person",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,i)=>{i.d(t,{X:()=>n});i(67294);var r=i(45238),o=i(85893);const n=(0,r.I)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,o.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,o.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})}}]);