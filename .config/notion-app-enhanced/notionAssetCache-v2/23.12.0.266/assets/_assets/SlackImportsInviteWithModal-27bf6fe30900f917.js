"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[227],{86282:(e,t,i)=>{i.d(t,{RL:()=>H,xv:()=>O,rC:()=>U,Hp:()=>A,Lf:()=>P,$7:()=>B,GF:()=>L});i(21703);var n=i(15145),o=i(68626),r=i(59730),s=i(15157),a=i(45953),l=i(21202),c=i(23867),d=i(31412),p=(i(95477),i(33929)),u=i(98165),v=i(74948),m=i(80444),g=i(77080),h=i(56638),f=i(50906),S=i(54642),y=i(54532),C=i(89858),I=i(9953),k=i(4408),x=i(75018),_=i(24677),w=i(28014),b=i(42875),T=i(29477),M=i(33954);var Z=i(39699),j=i(39865);const V="LastViewedTemplateId",R=(0,d.defineMessages)({clientCopyError:{defaultMessage:"Client copy could not be created.",id:"spaceActions.createGettingStartedPage.copyNotCreated.error"}});function B(e){const{environment:t,item:i,createNewPage:n,isPrivate:o}=e;_.ZH(t),h.Z.setState({open:!0,item:i,createNewPage:n,isPrivate:o,isLoading:!1}),s.Z.set({userId:t.currentUser.id,key:V,value:i.rootId}),f.jWY(t,{template_name:i.name,from:n?"sidebar":"newPage"})}function O(e){h.Z.setState({item:h.Z.state.item,open:!1}),_.ZH(e)}async function H(e){const{item:t,environment:i,spaceStore:o}=e;h.Z.state.open&&h.Z.setState({...h.Z.state,isLoading:!0});const r=e.initializeStore?{...e,initializeStore:e.initializeStore,isPrivate:!1,type:"inExistingStore",useMinimalTemplates:!1}:{...e,type:"inSpace",useMinimalTemplates:!1,isOnboarding:!1};let s=!1;const a=Date.now();let l;try{l=await U(r),s=!0,x.navigateToBlock({environment:i,store:l,pageVisitSource:n.tY.Create}),O(i),i.device.isMobile&&v.close()}finally{var c;const n=Date.now()-a,r=e.initializeStore?u.VP(e.initializeStore):void 0,d=e.initializeStore?!Boolean(r):e.isPrivate;f.enX(i,{template_name:t.name,destination:d?"private":"team",template_block_id:t.rootId,template_duplication_duration_ms:n,team_id:null==r?void 0:r.id,created_page_id:null===(c=l)||void 0===c?void 0:c.id}),f.XyT(i,{from:"inApp",success:s,context:e.from,template_name:t.name,template_block_id:t.rootId,target_space_id:o.id,template_duplication_duration_ms:n})}}async function P(e){const{environment:t,initializeStore:i,item:n,isPrivate:o,useMinimalTemplates:r,spaceStore:s,spaceViewStore:l}=e,c=r?n.rootId:n.previewRootId,d=await S.loadBlockSubtree(t,{block:{id:c,spaceId:n.spaceId},shallow:!1});let u;"success"===d.type&&(u=a.PF.create(d.data.subtreeRecordMap));const v="pageTemplateModalActions.loadAndDuplicatePageTemplate",{performResult:m}=Z.createAndCommit({userAction:v,environment:t,perform:e=>{const n=i||w.KE({environment:t,spaceStore:s,spaceViewStore:l,isPrivate:o,loading:!0,transaction:e});k.fL({environment:t,inMemoryRecordCache:n.inMemoryRecordCache,recordMap:u,debugSource:v});const r=y.K8(t,{blockId:c,inMemoryRecordCache:n.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!1,allowCopyExternalObjectInstances:!0});if(!r)throw new Error(p.default.getIntl().formatMessage(R.clientCopyError));return y.E9({environment:t,sourceBlockId:c,targetBlockPointer:n.pointer,sourceBlockSubtree:r,targetInMemoryRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:n.useCrdt()}),n}});return m}async function U(e){const{environment:t,item:i,useRecordCache:n,isPrivate:o,useMinimalTemplates:r,spaceStore:s,spaceViewStore:a,isOnboarding:c}=e,{serverCommitResult:d,performResult:{pageStore:p,copyBlock:u}}=Z.createAndCommit({userAction:"pageTemplateModalActions.createTemplateInstance",environment:t,perform:c=>{let d;d="inExistingStore"===e.type&&e.initializeStore?e.initializeStore:"inTeam"===e.type&&e.teamStore?C.pq({environment:t,spaceStore:s,spaceViewStore:a,teamStore:e.teamStore,from:e.from,loading:!0,appendOrPrepend:e.appendOrPrepend?e.appendOrPrepend:"append",transaction:c}):w.KE({environment:t,spaceStore:s,spaceViewStore:a,isPrivate:o,loading:!0,transaction:c});const p={id:n&&!r?i.previewRootId:i.rootId,table:l.iU,spaceId:i.spaceId};return L({item:i,spaceViewStore:a,transaction:c}),function(e){const{item:t,transaction:i,spaceViewStore:n}=e;if(n){const e=n.getSidebarHiddenTemplateIds();if(e.indexOf(t.rootId)<0){const o=e.concat([t.rootId]);I.sW({store:n,data:{sidebar_hidden_templates:o},transaction:i})}}}({item:i,spaceViewStore:a,transaction:c}),{pageStore:d,copyBlock:p}}});return await d,await A({environment:t,pageStore:p,copyBlock:u,useRecordCache:n,item:i,isOnboarding:Boolean(c)}),p}const F={block:!0,collection:!0,collection_view:!0,discussion:!0,comment:!0};async function A(e){const{environment:t,pageStore:i,copyBlock:n,item:s,useRecordCache:l,isOnboarding:d}=e,u=a.Ak.create();l&&l.forEachRecord(t.currentUser.id,(e=>{let{model:t}=e;F[t.table]&&u.setModel(t.pointer,t)}));const{currentSpaceStore:v}=m.default.state;if(!v)throw new r.p8("Could not get currentSpaceStore.");const h=()=>{Z.createAndCommit({userAction:"pageTemplateModalActions.initializePageTemplate.deletePageWhenError",environment:t,perform:e=>{j.y8({environment:t,blocks:[i],transaction:e})}}),d&&f.XyT(t,{success:!1,template_name:s.name,template_id:s.id,template_block_id:s.rootId,target_space_id:v.id,from:"onboarding"}),o.log({level:"error",from:"pageTemplateModalActions.initializePageTemplate",type:"duplicateTemplateError",data:{miscDataToConvertToString:{template_name:s.name,template_id:s.id,template_block_id:s.rootId,is_onboarding:d}}})},y=g.default.getConfigKey("template_ids_to_use_duplicate_block","data");if(null!=y&&y.includes(n.id))await async function(e){const{environment:t,templateBlock:i,targetBlock:n}=e,o=T.UZ(),r=S.duplicateBlock(t,{sourceBlocks:[i],targetBlocks:[n],snapshotData:void 0,addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:{currentUserId:t.currentUser.id,currentTimeZone:(0,b.r)()},convertExternalObjectInstancesToPlaceholders:i.spaceId!==n.spaceId,useCrdt:!1});let s;for await(const a of r)s=a;if(s)if(s.error){const e=(0,M.HV)(p.default.getIntl(),s.error);o.reject(e)}else o.resolve(s);else o.reject(void 0);return o.promise}({environment:t,templateBlock:n,targetBlock:{id:i.pointer.id,spaceId:(0,c.C)(i.pointer.spaceId)}}).catch(h);else{"failed"===(await S.initializePageTemplate(t,{recordMap:u.toJson({allowVersionDowngrade:!1}),sourceBlock:n,targetBlock:{id:i.pointer.id,table:i.pointer.table,spaceId:(0,c.C)(i.pointer.spaceId)},isOnboarding:d})).type&&h()}return i}function L(e){const{item:t,transaction:i,spaceViewStore:n}=e;if(n){const e=n.getVisitedTemplateIds();if(e.indexOf(t.rootId)<0){const o=e.concat([t.rootId]);I.sW({store:n,data:{visited_templates:o},transaction:i})}}}},47082:(e,t,i)=>{i.d(t,{Z:()=>y});i(67294);var n=i(83355),o=i(53465),r=i(72126),s=i(87279),a=i(98742),l=i(34859),c=i(64113),d=i(64921),p=i(37601),u=i(74194),v=i(3386),m=i(53336),g=i(64369),h=i(85893),f=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}(f||{});class S extends n.Z{constructor(){super(...arguments),this.storeTypes={store:c.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleKeyDown=e=>{"Backspace"===e.key&&0===this.props.value.length&&this.props.onRemoveLastToken(),this.props.onKeyDown&&this.props.onKeyDown(e)},this.handleSubmit=e=>{0===this.props.value.length&&this.props.onEmptySubmit&&this.props.onEmptySubmit(),this.props.onSubmit&&this.props.onSubmit(e)},this.handleContainerClick=()=>{var e,t;this.props.disabled||(this.input.focusInput(),null===(e=(t=this.props).onClick)||void 0===e||e.call(t))}}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return(0,h.jsx)(v.Z,{capture:!e,onLeft:r.yR,onRight:r.yR,onSelectAll:r.yR,onRedo:r.yR,onUndo:r.yR,onToggleBold:r.yR,onToggleItalics:r.yR,onToggleCode:r.yR,onCut:r.yR,onCopy:r.yR,onPaste:r.yR,onKeypress:r.yR,children:(0,h.jsx)(v.Z,{capture:!e&&this.props.value.length>0,onDelete:r.yR,onBackspace:r.yR,children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",gap:this.props.message?4:void 0},children:[this.renderTokenInput(),(0,h.jsx)(g.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:e,showClearButton:t}=this.props;return e||t?(0,h.jsxs)(m.Z,{type:l.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,h.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,h.jsx)("div",{style:{flexShrink:0},children:this.renderRight()})]}):this.environment.device.isMobile?(0,h.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,h.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:C(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,h.jsx)(p.Z,{show:this.stores.store.state.focused})]}):(0,h.jsxs)(m.Z,{type:l.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderRight(){const{showClearButton:e,right:t,onClearButtonClick:i,tokens:n,value:r}=this.props,{isMobile:s}=this.environment.device;return t||(e&&(n.length>0||r.length>0)?(0,h.jsx)(d.Z,{onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:s?24:20,marginTop:2},children:(0,o.X)({width:s?16:14,height:s?16:14,fill:this.theme.lightIconColor})}):void 0)}renderInput(){const e=0===this.props.tokens.length;return(0,h.jsx)(u.Z,{disabled:this.props.disabled,format:u.Z.Format.Transparent,...(0,a.Z)({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:this.getInputDivStyle(),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:C(this.props.format)?20:18},size:1,ref:e=>e&&(this.input=e),type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:this.handleSubmit,onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete})}getDesktopWrapStyle(){const{disabled:e}=this.props;return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":this.theme.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}getMobileWrapStyle(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${this.theme.regularDividerColor}`,fontSize:16,background:this.theme.popoverBackground}}getWrapStyle(){var e,t;const{focus:i,format:n}=this.props,{WindowSizeStore:o}=this.environment;return{...this.environment.device.isMobile?{...this.getMobileWrapStyle(),paddingTop:14,paddingBottom:8,paddingLeft:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==s.og.Popup?o.getSafePaddingLeftCSS(16):16,paddingRight:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==s.og.Popup?o.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...this.getDesktopWrapStyle(),...this.getStyles()[n].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&i&&this.getStyles()[this.props.format].inputDivDesktopFocusStyle}}getStyles(){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[f.Select]:e,[f.Person]:e,[f.Relation]:e,[f.Group]:e,[f.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[f.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}getInputDivStyle(){return{flexGrow:1,flexShrink:1,flexBasis:this.props.inputFullWidth?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...this.environment.device.isMobile?{margin:"0 8px 8px 0"}:this.getStyles()[this.props.format].inputDivDesktopStyle,...this.props.inputDivStyle}}}S.displayName="TokenInputMenuItem",S.contextTypes={...s.mw,...n.w},S.Format=f;const y=S;function C(e){return e===f.Group}},26907:(e,t,i)=>{i.d(t,{B:()=>r,H:()=>n});const n=e=>{const{target:t,inviteTargetsStore:i}=e;return i.state.inviteTargets.some((e=>"newUser"===t.type?e.type===t.type&&t.value.email===e.value.email:"invalidUser"===t.type?e.type===t.type&&t.value.text===e.value.text:e.type===t.type&&e.value.id===t.value.id))};function o(e){return"invalidUser"!==e.type}const r=e=>{const{inviteTargetsStore:t}=e,{inviteTargets:i}=t.state;return i.filter(o)}},22508:(e,t,i)=>{i.d(t,{Co:()=>b,E6:()=>I,GZ:()=>k,TW:()=>M,Uw:()=>w,YQ:()=>_,rw:()=>x});i(57658),i(67294);var n=i(33728),o=i(7406),r=i(68626),s=i(91155),a=i(27006),l=i(4615),c=i(31412),d=i(50906),p=i(54642),u=i(76464),v=i(95209),m=i(64964),g=i(19306),h=i(26907),f=i(67669),S=i(88893),y=i(35057),C=i(85893);async function I(e){const{environment:t,onInviteComplete:i,flowId:n,intl:a,spaceStore:l,invitedUsers:c,inviteTargetsStore:p,inviteOrigin:u}=e;let v={success:!1};try{v=await _({environment:t,spaceStore:l,invitedUsers:c,from:u,flowId:n,intl:a,inviteTargetsStore:p})}catch(m){const e=(0,o.tg)(m);d.S4I(t,{invite_stage:"invite_member",invite_flow_id:n,error:e}),r.log({level:"error",from:"personPropertyInviteAction",type:"handleMemberInvite",error:(0,s.Ui)(m)})}finally{v.success&&d.pRQ(t,{invited_user_count:Object.keys(v.invitedUsers).length,invite_flow_id:n,origin:u}),null==i||i(v)}}async function k(e){const{environment:t,blockStore:i,inviteTargetsStore:c,sudoModeStore:p,onInviteComplete:v,inviteOrigin:m,role:g,emailMessage:S,flowId:y}=e;let C={success:!1};try{if(C=await async function(e){const{environment:t,blockStore:i,sudoModeStore:o,inviteTargetsStore:r,role:s,inviteOrigin:c,emailMessage:d,onInviteStart:p}=e,v=e.flowId||(0,l.ZP)();if(!(0,a.iC)(s))return{success:!1};const{tokenQuery:m,inviteTargets:g}=r.state;if((0,n.oH)(m.trim())&&0===g.length){const e={type:"newUser",value:{email:m.trim()},source:"email"};h.H({target:e,inviteTargetsStore:r})||r.setState({inviteTargets:[...r.state.inviteTargets,e],tokenQuery:""})}const S=f.mU(i,h.B({inviteTargetsStore:r}));null==p||p();return await u.n_({environment:t,store:i,sudoModeStore:o,inviteTargets:S,inviteRole:s,isOnboarding:!1,invite:{inviteFlowId:v,inviteMessage:d,inviteOrigin:c}})}({environment:t,blockStore:i,sudoModeStore:p,inviteTargetsStore:c,role:g,emailMessage:S,inviteOrigin:m,flowId:y}),!C.success)return}catch(I){const e=(0,o.tg)(I);d.S4I(t,{invite_stage:"invite_guest",invite_flow_id:y,error:e}),r.log({level:"error",from:"personPropertyInviteAction",type:"handleGuestInvite",error:(0,s.Ui)(I)})}finally{C.success&&d.ViF(t,{invited_user_count:Object.keys(C.invitedUsers).length,origin:m,invite_flow_id:y}),null==v||v(C)}return C}async function x(e){const{environment:t,spaceStore:i,originId:n,originType:s,reasonMessage:a,intl:l,flowId:c,onInviteComplete:u,invitedUsers:v,inviteOrigin:m}=e,g=[];let h={success:!1};try{const e=Object.entries(v).map((e=>{let[o,r]=e;return p.requestAccess(t,{type:"actor-to-space",forActorId:r,spaceId:i.id,message:a,attributes:{origin_id:n,origin_type:s,origin_table:"block",add_permissions_on_approval:!1}}).catch((()=>g.push([o,r])))}));await Promise.all(e),h={success:!0,invitedUsers:v,requestedUsers:{}}}catch(f){const e=(0,o.tg)(f);return d.S4I(t,{invite_stage:"request_member",invite_flow_id:c,error:e}),T(l,v),r.log({level:"error",from:"personPropertyInviteAction",type:"handleMemberRequest",data:{miscDataToConvertToString:{inviteTargetEmailsWithErrors:g}}}),h}finally{h.success&&d.TJ1(t,{invited_user_count:Object.keys(h.invitedUsers).length,origin:m,invite_flow_id:c}),null==u||u(h)}return h}async function _(e){const{environment:t,spaceStore:i,from:n,invitedUsers:o,intl:s,flowId:a,onInviteStart:l,inviteTargetsStore:c}=e,d=function(e){const t=[];if(!e)return t;for(const[i,n]of Object.entries(e))t.push({type:"existingUser",value:{id:n,email:i,version:1}});return t}(o),p=function(e){return e.state.inviteTargets.filter((e=>"newUser"===e.type))}(c),v=[...d];for(const r of p){d.some((e=>e.value.email===r.value.email))||v.push(r)}const h=(0,y.zt)(),f=h&&(0,S.o9)(h)?"editor":e.inviteRole??"read_and_write";let C={success:!1};try{null==l||l(),C=await u.n_({environment:t,store:i,inviteTargets:v,inviteRole:f,isOnboarding:!1,invite:{inviteOrigin:n,inviteFlowId:a}})}catch(I){return((e,t)=>{0!==t.length&&m.oV({label:e.formatMessage({id:"contextual_invite.contextual_invite_failure",defaultMessage:"Failed to invite to {users} as members"},{users:(0,g.W)(t.flatMap((e=>e.value.email||[])))})})})(s,v),r.log({level:"error",from:"contextualInviteHelpers",type:"inviteMembers.inviteTargets",data:{miscDataToConvertToString:{usersToInviteAsMembers:v}}}),C}return C}async function w(e){const{environment:t,inviteTargetsStore:i,allowShowEmptyError:o,personPropertyInviteStore:r}=e,s=i.state.tokenQuery;if(""===s)return void(0===i.state.inviteTargets.length&&o&&r.setState({...r.state,showEmptyError:!0}));const a=(0,n.CU)(s),l=await v.M5(t,a);let c=[];0===l.length&&(c=[{type:"invalidUser",value:{text:s}}]);const d=l.filter((e=>!h.H({inviteTargetsStore:i,target:e}))),p=[...i.state.inviteTargets,...d,...c];i.setState({...i.state,inviteTargets:p,tokenQuery:""})}function b(e){const{email:t,inviteTargetsStore:i}=e,n={type:"newUser",value:{email:t},source:"email"},o=[...i.state.inviteTargets];h.H({inviteTargetsStore:i,target:n})||o.push(n),i.setState({...i.state,inviteTargets:o})}const T=(e,t)=>{const i=Object.keys(t);0!==i.length&&m.oV({label:e.formatMessage({id:"contextual_invite.request_members_failure",defaultMessage:"Failed to request {users} to become members"},{users:(0,g.W)(i)})})};function M(e){const{success:t,invitedUserEmails:i,isRequestMember:n}=e;t?0!==i.length&&(n?m.oV({label:(0,C.jsx)(c.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage.sendMemberRequest",defaultMessage:"Successfully sent request to admin to invite {users}",values:{users:(0,g.W)(i)}})}):m.oV({label:(0,C.jsx)(c.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage",defaultMessage:"Successfully invited {users}",values:{users:(0,g.W)(i)}})})):m.oV({label:(0,C.jsx)(c.FormattedMessage,{id:"shareMenu.inviteFailure.snackbarMessage",defaultMessage:"Failed to invite {users}",values:{users:(0,g.W)(i)}})})}},35691:(e,t,i)=>{i.r(t),i.d(t,{default:()=>de});var n=i(67294),o=i(480),r=i(86628),s=i(24405),a=i(41892),l=i(72126),c=i(31412),d=i(50906),p=i(51077),u=i(9019),v=i(95697),m=i(56678),g=i(77080),h=i(55899),f=i(35057),S=i(49085),y=i(4615);let C=function(e){return e.SearchInput="search_input",e.NoFocus="no_focus",e}({});class I extends S.default{getInitialState(){return{flowId:(0,y.ZP)(),modalOpen:!1,focus:C.NoFocus}}}const k=I;var x=i(7406),_=i(77657),w=i(68626),b=i(91155),T=i(54642),M=i(78140),Z=i(43250),j=i(87279),V=i(80444),R=i(30874),B=i(29798),O=i(42922),H=i(22508);var P=i(85893);function U(e){window.__c={n:"SlackImportsInviteButton"};const{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:a,onInviteComplete:l,onInviteClick:p}=e,u=(0,o.O7)(),v=(0,c.useIntl)(),m=(0,s.yK)((e=>({footerStyle:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:60,padding:"12px 16px 16px 16px",borderTop:`1px solid ${e.stroke.deemphasized}`}})),[]),g=(0,r.VK)((()=>V.default.state.currentSpaceStore),[]),h=(0,r.VK)((()=>t.state.flowId),[t]),f=(0,r.VK)((()=>i.state.inviteTargets.length),[i]),S=(0,r.VK)((()=>function(e){return 0===e?(0,P.jsx)(c.FormattedMessage,{id:"invite.slack_imports.button.title.no_selected",defaultMessage:"Add members",values:{totalInviteCount:e}}):(0,P.jsx)(c.FormattedMessage,{id:"invite.slack_imports.button.title.selected",defaultMessage:"Add {totalInviteCount} {totalInviteCount, plural, one {member} other {members}}",values:{totalInviteCount:e}})}(f)),[f]),y=(0,n.useCallback)((e=>{const{response:i,invitedUserEmails:n}=e;d.u00(u,{invite_flow_id:h,origin:a,is_success:i.success,invited_user_count:n.length}),i.success&&t.setState({...t.state,modalOpen:!1}),null==l||l(i),H.TW({success:i.success,invitedUserEmails:n})}),[a,u,h,l,t]),I=(0,n.useCallback)((async()=>{const e=i.state.inviteTargets.filter((e=>"newUser"===e.type||"existingUser"===e.type)).map((e=>e.value.email));if(!g)return null;await async function(e){const{environment:t,onInviteComplete:i,onInviteClick:n,flowId:o,intl:r,spaceStore:s,inviteTargetsStore:a,inviteOrigin:l}=e;let c={success:!1};const p=a.state.inviteTargets.length;try{c=await H.YQ({environment:t,spaceStore:s,from:l,flowId:o,intl:r,inviteTargetsStore:a,onInviteStart:()=>{null==n||n()}})}catch(u){const e=(0,x.tg)(u);d.u00(t,{invite_stage:"invite_member",invited_user_count:p,invite_flow_id:o,error:e,origin:l,is_success:!1}),w.log({level:"error",from:"slackImportsInviteActions",type:"handleMemberInvite",error:(0,b.Ui)(u)})}finally{null==i||i(c)}}({environment:u,spaceStore:g,flowId:h,intl:v,inviteTargetsStore:i,inviteOrigin:a,onInviteComplete:t=>y({response:t,invitedUserEmails:e}),onInviteClick:p}),i.reset()}),[g,u,h,i,v,a,p,y]),k=(0,n.useCallback)((async()=>{t.setState({...t.state,focus:C.NoFocus});const e=i.state.inviteTargets.length;d.AK8(u,{invited_user_count:e,origin:a,inviteTargets:i.state.inviteTargets.map((e=>e.type.toString())),inviteTokenQuery:i.state.tokenQuery,invite_flow_id:h}),await I()}),[I,u,h,a,t,i]);return(0,P.jsx)("div",{style:m.footerStyle,children:(0,P.jsx)(O.Z,{isLarge:!0,style:{borderRadius:6},onClick:k,disabled:0===f,children:S})})}var F=i(82990),A=i(68785),L=i(64369);function W(e){window.__c={n:"SlackImportsInviteHeader"};const{isLoading:t}=e,i=(0,s.yK)((e=>({topContainer:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"0 16px",borderBottom:`1px solid ${e.stroke.deemphasized}`},sendInviteLabel:{color:e.text.primary,fontSize:14,fontWeight:F.Z.fontWeight.medium,textAlign:"left",verticalAlign:"top"}})),[]),n=t?(0,P.jsx)(A.Z,{style:{marginLeft:6}}):null;return(0,P.jsxs)("div",{style:i.topContainer,children:[(0,P.jsx)(L.Z,{style:i.sendInviteLabel,children:(0,P.jsx)(c.FormattedMessage,{id:"invite.slack_imports.header_title",defaultMessage:"Import from Slack"})}),n]})}var K=i(47082);function D(e){window.__c={n:"SlackImportsInviteInput"};const{inviteTargetsStore:t,slackImportsInviteStore:i,inviteOrigin:a}=e,l=(0,c.useIntl)(),d=(0,o.O7)(),{tokenQuery:p}=(0,r.VK)((()=>{const{tokenQuery:e}=t.state;return{tokenQuery:e}}),[t]),{focus:u,flowId:v}=(0,r.VK)((()=>({focus:i.state.focus===C.SearchInput,flowId:i.state.flowId})),[i]),m=function(e){const{focus:t}=e;return(0,s.yK)((e=>({searchBar:{padding:16},inputStyle:{minWidth:60,width:"auto",borderTopLeftRadius:4,borderTopRightRadius:4,fontSize:14,fontWeight:F.Z.fontWeight.regular},tokenInputMenuItem:{padding:6,borderRadius:6,height:20,alignItems:"center",minHeight:32,background:e.accentColors.gray[30],...t&&{background:"none"}}})),[t])}({focus:u}),g=l.formatMessage({id:"invite.slack_imports.search.placeholder",defaultMessage:"Search people, emails..."}),h=(0,n.useCallback)((e=>{t.setState({...t.state,tokenQuery:e.target.value}),z({environment:d,flowId:v,subscriptionTier:(0,f.zt)(),origin:a})}),[t,v,a,d]);return(0,P.jsx)("div",{style:m.searchBar,children:(0,P.jsx)(K.Z,{focus:u,onClick:()=>{i.setState({...i.state,focus:C.SearchInput})},format:K.Z.Format.Share,value:p,onChange:h,type:"email",tokens:[],autoComplete:"off",placeholder:g,onRemoveLastToken:()=>{t.setState({...t.state,inviteTargets:t.state.inviteTargets.slice(0,-1)})},showBorder:!0,style:m.tokenInputMenuItem,inputFullWidth:!0})})}const z=l.Ds((e=>{let{environment:t,flowId:i,subscriptionTier:n,origin:o}=e;d.UWw(t,{invite_flow_id:i,subscription_tier:n,invite_origin:o})}),1e3);i(57658);var E=i(8848),q=i(59054),Q=i(36591),G=i(95209),N=i(21752),$=i(52275),X=i(61519),Y=i(32163),J=i(43765),ee=i(72495),te=i(69507),ie=i(26907);function ne(e){window.__c={n:"SlackImportsInviteSearchRequest"};const{inviteTargetsStore:t,slackImportsInviteStore:i}=e,n=(0,o.O7)(),s=(0,c.useIntl)(),a=(0,r.VK)((()=>t.state.tokenQuery),[t]),l=(0,r.VK)((()=>i.state.flowId),[i]),[{value:d,status:p}]=(0,q.r5)((async()=>G.jL({query:a,sectionLimit:{userLimit:0,botLimit:0,groupLimit:0,importContactLimit:1e3},environment:n,intl:s,membersOnly:!1})),[n,s,a],{debounce:40});return(0,P.jsx)(oe,{...e,tokenQuery:a,ready:"pending"!==p,error:"rejected"===p,result:d,flowId:l,environment:n})}function oe(e){window.__c={n:"SlackImportsInviteSearchRequestImpl"};const{inviteTargetsStore:t,slackImportsInviteStore:i,tokenQuery:n,error:o,ready:a,result:l,inviteOrigin:p,flowId:u,environment:v}=e,m=(0,s.yK)((e=>({selectAllSectionStyle:{display:"flex",flexDirection:"column",gap:2,padding:"8px 0px 16px 0px"},sectionMenuItem:{padding:"12px 0px 0px 2px",display:"flex",flexDirection:"column",gap:2},dividerStyle:{margin:"0px 16px"},dividerInnerStyle:{borderBottom:`1px solid ${e.stroke.deemphasized}`},selectAllStyle:{display:"flex",fontSize:14,color:e.text.primary},totalCountsStyle:{paddingLeft:3,fontSize:14,color:e.text.tertiary}})),[]),g=(0,r.VK)((()=>(null==l?void 0:l.importedContacts)??[]),[l]),h=(0,r.qz)(e.menuListStore,B.Z),S={key:"select all",render:e=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ee.Z,{...e,style:m.selectAllSectionStyle}),(0,P.jsx)(X.Z,{size:1,innerStyle:m.dividerInnerStyle,style:m.dividerStyle})]}),items:[{key:"select all item",render:e=>(0,P.jsx)($.Z,{...e,title:(0,P.jsxs)("div",{style:m.selectAllStyle,children:[(0,P.jsx)(c.FormattedMessage,{id:"invite.slack_imports.select_all.title",defaultMessage:"Select all"}),(0,P.jsx)(L.Z,{style:m.totalCountsStyle,isSmall:!0,children:`(${g.length})`})]}),right:(0,P.jsx)(ae,{checked:le({filteredImportedContacts:g,inviteTargetsStore:t})})}),action:()=>{!function(e){const{filteredImportedContacts:t,inviteTargetsStore:i,environment:n,origin:o,flowId:r,tokenQuery:s}=e;if(i.state.inviteTargets.length===t.length)return i.setState({...i.state,inviteTargets:[]}),void d.hcu(n,{origin:o,invite_flow_id:r,invited_user_count:0,is_unselect:!0,invite_token_query:s});d.hcu(n,{origin:o,invite_flow_id:r,invited_user_count:t.length,is_unselect:!1,invite_token_query:s}),i.setState({...i.state,inviteTargets:t})}({filteredImportedContacts:g,inviteTargetsStore:t,origin:p,flowId:u,environment:v,tokenQuery:n}),i.setState({...i.state,focus:C.NoFocus})}}]},y=function(e){const{filteredImportedContacts:t}=e,i={};return t.forEach(((e,t)=>{const n=e.value.email[0].toUpperCase(),o=/^[A-Za-z]$/.test(n)?n:"#";i[o]||(i[o]=[]),i[o].push(e)})),i}({filteredImportedContacts:g}),I=Object.keys(y).sort(((e,t)=>"#"===e?1:"#"===t?-1:e.localeCompare(t))).map((e=>function(e){const{charKey:t,importedContacts:i,inviteTargetsStore:n,slackImportsInviteStore:o,menuListStore:r,style:s,tokenQuery:a,environment:l}=e;return{key:`imported contacts with ${t}`,render:e=>(0,P.jsx)(ee.Z,{...e,style:s,title:(0,P.jsx)(c.FormattedMessage,{id:"invite.slack_imports.grouped_section.title",defaultMessage:"{charKey}",values:{charKey:t}})}),items:i.sort(((e,t)=>(e.value.name||"").localeCompare(t.value.name||""))).map(((e,t)=>({key:e.value.email,render:t=>(0,P.jsx)(re,{...t,invited:!1,inviteTarget:e,isInInviteTargets:ie.H({target:e,inviteTargetsStore:n})}),action:()=>{ie.H({target:e,inviteTargetsStore:n})?n.setState({...n.state,inviteTargets:n.state.inviteTargets.filter((t=>"newUser"!==t.type||e.value.email!==t.value.email))}):(d.hEo(l,{invite_token_query:a,selected_user_token:e,selected_user_token_rank:t,from:"slack_imports_space_setting",subscription_tier:(0,f.zt)(),type:"slack"}),o.setState({...o.state,focus:C.NoFocus}),n.setState({...n.state,inviteTargets:[...n.state.inviteTargets,e]}),r.unsetFocus())}})))}}({charKey:e,importedContacts:y[e],inviteTargetsStore:t,slackImportsInviteStore:i,menuListStore:h,style:m.sectionMenuItem,tokenQuery:n,environment:v})));return o?(0,P.jsx)(te.l,{loading:!a,children:(0,P.jsx)(J.Z,{title:(0,P.jsx)(c.FormattedMessage,{id:"inviteUserModal.searchInput.errorMessage",defaultMessage:"Something went wrong"})})}):(0,P.jsx)(Y.Z,{type:Y.i.Vertical,initialFocus:n.length>0?0:void 0,sections:[S,...I],store:h})}const re=n.forwardRef(((e,t)=>{const{inviteTarget:i}=e;return(0,P.jsx)(se,{...e,ref:t,inviteTarget:i})})),se=n.forwardRef(((e,t)=>{window.__c={n:"SlackSearchUserResultItem"};const{inviteTarget:i,isInInviteTargets:o,...r}=e,l=(0,s.yK)((()=>({cellMemberAvatarContainer:{paddingTop:8,paddingBottom:8},iconBox:{position:"absolute",bottom:-3,right:-3},iconBoxImage:{background:"white",padding:2,borderRadius:"100%"}})),[]),c=(0,n.useMemo)((()=>({actorStore:void 0,avatar:{email:i.value.email,name:"slack"===i.source?i.value.name:void 0,avatarUrl:"slack"===i.source?i.value.avatar_url:void 0}})),[i]);return(0,P.jsx)($.Z,{...r,ref:t,title:(0,P.jsx)(N.Z,{isLarge:!0,...c,containerStyle:l.cellMemberAvatarContainer,avatarBadge:(0,P.jsx)(p.Z,{type:"image_url",imageURL:a.Z.images.externalIntegrations.slackIconPng,size:18,style:l.iconBox,imageStyle:l.iconBoxImage})}),right:(0,P.jsx)(ae,{checked:o})})}));function ae(e){window.__c={n:"CircleCheckmark"};const{checked:t}=e,i=(0,s.yK)((e=>({circleCheckmark:{display:"flex",justifyContent:"center",alignItems:"center",width:18,height:18,borderRadius:"50%",borderStyle:"solid",borderWidth:1.75,borderColor:t?E.ZP.blue:e.buttonPressedBackground,backgroundColor:t?E.ZP.blue:"transparent"},checkIcon:{height:12,width:12,color:"white"}})),[t]);return(0,P.jsx)("div",{style:i.circleCheckmark,children:t&&(0,Q.e)(i.checkIcon)})}function le(e){const{filteredImportedContacts:t,inviteTargetsStore:i}=e,n=i.state.inviteTargets.length;return 0!==n&&n===t.length}function ce(e){window.__c={n:"SlackImportsInvite"};const{inviteTargetsStore:t,slackImportsInviteStore:i,inviteOrigin:s,onInviteComplete:a,onInviteClick:l}=e,c=(0,o.O7)(),[p,u]=(0,n.useState)(!1),v=(0,r.VK)((()=>R.Z.completeSlackAuthentications.state),[]),m=(0,r.VK)((()=>V.default.state.currentSpaceStore),[]),g=(0,r.VK)((()=>i.state.flowId),[i]),h=(0,r.qz)(void 0,B.Z);(0,n.useEffect)((()=>{d.e8x(c,{invite_flow_id:i.state.flowId,origin:s}),async function(){if(m&&!p){for(const e of v)await T.loadContacts(c,{botId:e.id,spaceId:m.id,integrationId:_.nO}).catch((e=>{const t=(0,x.tg)(e);d.u00(c,{invite_stage:"load_slack_contacts",invited_user_count:0,invite_flow_id:g,error:t,origin:s,is_success:!1}),w.log({level:"error",from:"SlackImportsInvite",type:"loadSlackContacts",error:(0,b.Ui)(e)})}));u(!0)}}()}),[m,v,c,p,s,i,g]);const f=function(e){let{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,isLoading:o}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(W,{isLoading:o}),(0,P.jsx)(D,{inviteTargetsStore:i,slackImportsInviteStore:t,inviteOrigin:n})]})}({inviteTargetsStore:t,slackImportsInviteStore:i,inviteOrigin:s,isLoading:!p}),S=function(e){let{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,onInviteComplete:o,onInviteClick:r}=e;return(0,P.jsx)(U,{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,onInviteComplete:o,onInviteClick:r})}({slackImportsInviteStore:i,inviteTargetsStore:t,inviteOrigin:s,onInviteComplete:a,onInviteClick:l}),y=function(e){let{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,menuListStore:o,isLoading:r}=e;if(r)return null;return(0,P.jsx)(ne,{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,menuListStore:o})}({slackImportsInviteStore:i,inviteTargetsStore:t,inviteOrigin:s,menuListStore:h,isLoading:!p}),C={menuType:j.og.Popup,width:480,height:"60vh",header:f,footer:S,tokenInputHeader:!1,disableScroller:!1};return(0,P.jsx)(M.Z,{...C,className:Z.FJA,children:(0,P.jsx)("div",{children:y})})}function de(e){window.__c={n:"SlackImportsInviteWithModal"};const t=(0,o.O7)(),{inviteOrigin:i,canEditPermission:l,onInviteComplete:S,onInviteClick:y}=e,{isMobile:C}=(0,o.Fy)(),I=(0,s.yK)((e=>({slackTitle:{display:"flex",fontSize:14,color:e.text.primary},integrationIcon:{marginRight:4},slackButtonContainer:{padding:"0 8px"},slackButton:{height:32,borderRadius:4,border:`1px solid ${e.stroke.regular}`}})),[]),x=(0,r.qz)(void 0,k),_=(0,r.qz)(void 0,h.ZP),w=(0,r.VK)((()=>x.state.modalOpen),[x]),b=(0,r.VK)((()=>x.state.flowId),[x]),T=(0,n.useCallback)((()=>{!function(e){e.reset()}(x),d.Tdz(t,{origin:i,invite_flow_id:b})}),[x,i,t,b]),M=(0,n.useMemo)((()=>(0,P.jsxs)("div",{style:I.slackTitle,children:[(0,P.jsx)(p.Z,{type:"image_url",imageURL:a.Z.images.externalIntegrations.slackIconPng,size:16,imageStyle:I.integrationIcon}),(0,P.jsx)(c.FormattedMessage,{defaultMessage:"Import from Slack",id:"invite.slack_imports.button.label"})]})),[I]),Z=(0,n.useCallback)((()=>function(e){const{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,onInviteComplete:o,onInviteClick:r}=e;return(0,P.jsx)(ce,{slackImportsInviteStore:t,inviteTargetsStore:i,inviteOrigin:n,onInviteComplete:o,onInviteClick:r})}({inviteTargetsStore:_,slackImportsInviteStore:x,inviteOrigin:i,onInviteComplete:S,onInviteClick:y})),[_,x,i,y,S]);return(0,r.VK)((()=>{const e=function(e){const{canEditPermission:t,isMobile:i}=e,n="enterprise"===e.subscriptionTier;if(i||!v.bq||n||!t)return!1;return"on"===g.default.getEligibleGroup({experimentId:"acq_slack_imports_invite_v1",defaultGroup:"control"})}({canEditPermission:l,isMobile:C,subscriptionTier:(0,f.zt)()});return e&&pe({environment:t,flowId:b,origin:i}),e}),[l,C,t,b,i])?(0,P.jsx)(u.Z,{open:w,onDismiss:T,renderContent:Z,origin:(0,P.jsx)(m.Z,{onClickAuthenticated:()=>{!function(e){e.setState({...e.state,modalOpen:!0})}(x)},title:M,hideChevronIcon:!0,containerStyle:I.slackButtonContainer,buttonStyle:I.slackButton,from:"space_settings",inviteOrigin:i,flowId:b,loadContacts:!1})}):null}const pe=l.Ds((e=>{let{environment:t,flowId:i,origin:n}=e;d.gVc(t,{origin:n,invite_flow_id:i})}),2e3)},56678:(e,t,i)=>{i.d(t,{Z:()=>I});var n=i(67294),o=i(480),r=i(86628),s=i(24405),a=i(8848),l=i(77657),c=i(5257),d=i(91315),p=i(29477),u=i(149),v=i(50906),m=i(54642),g=i(42631),h=i(68785),f=i(89728),S=i(80444),y=i(30874),C=i(85893);function I(e){window.__c={n:"ImportContactsButton"};const{onClickAuthenticated:t,title:i,hideChevronIcon:I,containerStyle:k,buttonStyle:x,from:_,inviteOrigin:w,flowId:b,loadContacts:T}=e,M=(0,o.O7)(),[Z,j]=n.useState(!1),V=(0,r.VK)((()=>S.default.state.currentSpaceStore),[]),R=(0,r.VK)((()=>{const e=null==V?void 0:V.getBotSettingsStore().getValue();return"approved_only"!==(null==e?void 0:e.integration_restrictions)||Boolean((null==e?void 0:e.integration_approval_statuses)&&e.integration_approval_statuses[l.nO])}),[V]),B=(0,r.VK)((()=>y.Z.integrations.state.find((e=>e.id===l.nO))),[]),O=(0,r.VK)((()=>y.Z.completeSlackAuthentications.state),[]),H=(0,s.yK)((e=>({circleCheck:{height:14,width:14,color:a.ZP.blue},chevron:{height:12,width:12},title:{display:"flex",alignItems:"center",color:a.ZP.uiLightBlack,size:14,gap:6},loadingSpinner:{width:14,height:14,marginLeft:6}})),[]);if(!V)return(0,C.jsx)(C.Fragment,{});if(!R)return(0,C.jsx)(C.Fragment,{});const P=Z?(0,C.jsx)(h.Z,{style:H.loadingSpinner}):(0,C.jsxs)(C.Fragment,{children:[O.length>0&&(0,d.r)(H.circleCheck),!I&&(0,c.o)(H.chevron)]});return(0,C.jsx)("div",{style:k,children:(0,C.jsx)(f.Z,{style:x,onClick:async()=>{0===O.length?await async function(e){const{from:i,inviteOrigin:n,flowId:o}=e,r=M.currentUser.id;if(!B||!V||!r)return;try{var s;j(!0),v.n0P(M,{origin:n,from:i,invite_flow_id:o});const e=await g.hM({environment:M,integration:B,spaceId:V.id,from:i});if(u.x.isFail(e))return void v.ZKQ(M,{origin:n,from:i,invite_flow_id:o,is_success:!1});const r=null===(s=e.value.externalAuthentication)||void 0===s?void 0:s.parent_id;if(!r)return;v.ZKQ(M,{origin:n,from:i,invite_flow_id:o,is_success:!0}),T&&await Promise.race([m.loadContacts(M,{botId:r,spaceId:V.id,integrationId:B.id}),(0,p.Vs)(2e3)]),null==t||t()}finally{j(!1)}}({from:_,inviteOrigin:w,flowId:b,loadContacts:T}):O.length>0&&(null==t||t())},children:(0,C.jsxs)("div",{style:H.title,children:[i,P]})})})}},85834:(e,t,i)=>{i.d(t,{TG:()=>s,ZP:()=>l,uq:()=>r});var n=i(49085),o=i(4615);let r=function(e){return e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),s=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class a extends n.default{getInitialState(){return{inviteStage:s.closed,selection:r.workspace_member,order:[r.workspace_member,r.page_guest],invitedUsers:[],inviteTargets:[],invitedEmailToUserIdMap:{},flowId:(0,o.ZP)()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:s.share_workspace,order:[r.workspace_member,r.page_guest],selection:r.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:s.request_workspace,order:[r.request_workspace_member,r.page_guest],selection:r.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const l=a},55899:(e,t,i)=>{i.d(t,{KU:()=>r,ZP:()=>a,fZ:()=>o});var n=i(49085);function o(e){return"existingUser"===e.type}function r(e){return"newUser"===e.type&&"email"!==e.source}class s extends n.default{getInitialState(){return{tokenQuery:"",inviteTargets:[]}}}const a=s},56638:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(49085);class o extends n.default{getInitialState(){return{open:!1}}}const r=new o},91315:(e,t,i)=>{i.d(t,{r:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},40462:(e,t,i)=>{i.d(t,{o:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("globe2",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},49364:(e,t,i)=>{i.d(t,{R:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("openTeam",{viewBox:"0 0 28 28",svg:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("path",{d:"M3.24121 21.4326C3.24121 22.4082 3.80371 23.0322 4.7002 23.0322H22.4629C23.3506 23.0322 23.9131 22.4082 23.9131 21.4326V10.2178C23.9131 9.24219 23.3506 8.61816 22.4629 8.61816H17.2334V5.89355C17.2334 4.91797 16.6709 4.29395 15.7832 4.29395H4.7002C3.80371 4.29395 3.24121 4.91797 3.24121 5.89355V21.4326ZM4.65625 21.1074V6.21875C4.65625 5.86719 4.81445 5.70898 5.16602 5.70898H15.3174C15.6602 5.70898 15.8184 5.86719 15.8184 6.21875V21.1074C15.8184 21.4502 15.6602 21.6172 15.3174 21.6172H13.2959V19.0244C13.2959 18.2686 12.9619 17.917 12.2412 17.917H8.2334C7.5127 17.917 7.17871 18.2686 7.17871 19.0244V21.6172H5.16602C4.81445 21.6172 4.65625 21.4502 4.65625 21.1074ZM7.31934 9.5498H9.0332C9.24414 9.5498 9.39355 9.40918 9.39355 9.18945V7.52832C9.39355 7.31738 9.24414 7.16797 9.0332 7.16797H7.31934C7.1084 7.16797 6.97656 7.31738 6.97656 7.52832V9.18945C6.97656 9.40918 7.1084 9.5498 7.31934 9.5498ZM11.4414 9.5498H13.1465C13.3574 9.5498 13.5068 9.40918 13.5068 9.18945V7.52832C13.5068 7.31738 13.3574 7.16797 13.1465 7.16797H11.4414C11.2217 7.16797 11.0898 7.31738 11.0898 7.52832V9.18945C11.0898 9.40918 11.2217 9.5498 11.4414 9.5498ZM17.2334 21.4326V10.0332H21.9971C22.3398 10.0332 22.498 10.2002 22.498 10.543V21.1074C22.498 21.4502 22.3398 21.6172 21.9971 21.6172H17.2246C17.2334 21.5557 17.2334 21.4941 17.2334 21.4326ZM7.31934 13.0303H9.0332C9.24414 13.0303 9.39355 12.8896 9.39355 12.6699V11.0088C9.39355 10.7979 9.24414 10.6484 9.0332 10.6484H7.31934C7.1084 10.6484 6.97656 10.7979 6.97656 11.0088V12.6699C6.97656 12.8896 7.1084 13.0303 7.31934 13.0303ZM11.4414 13.0303H13.1465C13.3574 13.0303 13.5068 12.8896 13.5068 12.6699V11.0088C13.5068 10.7979 13.3574 10.6484 13.1465 10.6484H11.4414C11.2217 10.6484 11.0898 10.7979 11.0898 11.0088V12.6699C11.0898 12.8896 11.2217 13.0303 11.4414 13.0303ZM19.1582 13.4521H20.5732C20.749 13.4521 20.8721 13.3291 20.8721 13.1533V11.7822C20.8721 11.6064 20.749 11.4834 20.5732 11.4834H19.1582C18.9736 11.4834 18.8682 11.6064 18.8682 11.7822V13.1533C18.8682 13.3291 18.9736 13.4521 19.1582 13.4521ZM7.31934 16.5107H9.0332C9.24414 16.5107 9.39355 16.3613 9.39355 16.1504V14.4893C9.39355 14.2695 9.24414 14.1289 9.0332 14.1289H7.31934C7.1084 14.1289 6.97656 14.2695 6.97656 14.4893V16.1504C6.97656 16.3613 7.1084 16.5107 7.31934 16.5107ZM11.4414 16.5107H13.1465C13.3574 16.5107 13.5068 16.3613 13.5068 16.1504V14.4893C13.5068 14.2695 13.3574 14.1289 13.1465 14.1289H11.4414C11.2217 14.1289 11.0898 14.2695 11.0898 14.4893V16.1504C11.0898 16.3613 11.2217 16.5107 11.4414 16.5107ZM19.1582 16.8096H20.5732C20.749 16.8096 20.8721 16.6865 20.8721 16.5107V15.1396C20.8721 14.9639 20.749 14.8408 20.5732 14.8408H19.1582C18.9736 14.8408 18.8682 14.9639 18.8682 15.1396V16.5107C18.8682 16.6865 18.9736 16.8096 19.1582 16.8096ZM19.1582 20.167H20.5732C20.749 20.167 20.8721 20.0439 20.8721 19.8682V18.4971C20.8721 18.3213 20.749 18.1982 20.5732 18.1982H19.1582C18.9736 18.1982 18.8682 18.3213 18.8682 18.4971V19.8682C18.8682 20.0439 18.9736 20.167 19.1582 20.167ZM8.33008 19.3496C8.33008 19.165 8.42676 19.0684 8.61133 19.0684H11.8633C12.0566 19.0684 12.1445 19.165 12.1445 19.3496V21.6172H8.33008V19.3496Z"})})})},22686:(e,t,i)=>{i.d(t,{f:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("person",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,i)=>{i.d(t,{X:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,o.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,o.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},80503:(e,t,i)=>{i.d(t,{Aj:()=>o,R6:()=>s,TT:()=>n,br:()=>r,u3:()=>a});const n=52,o=45,r=37;function s(e,t){return t?n:e?r:o}function a(e){return 2*s(e)}}}]);