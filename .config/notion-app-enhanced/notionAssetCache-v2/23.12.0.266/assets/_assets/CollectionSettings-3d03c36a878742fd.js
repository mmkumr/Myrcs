"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4544,8721],{54281:(e,t,o)=>{o.d(t,{$o:()=>W,Fv:()=>K,IL:()=>$,J4:()=>O,KA:()=>L,Nf:()=>B,_p:()=>Y,cQ:()=>z,f$:()=>R,fX:()=>E,j2:()=>F,k2:()=>U,mg:()=>X,mz:()=>N,oP:()=>D,tF:()=>q,td:()=>H,x:()=>G});o(57658);var n=o(30120),i=o(1302),r=o(15145),a=o(45433),s=o(40652),l=o(53877),c=o(42875),d=o(15157),u=o(72126),p=o(97880),g=o(75079),m=o(65742),h=o(78316),S=o(88632),y=o(77080),f=o(26350),C=o(27724),x=o(34583),v=o(50906),b=o(8406),w=o(49865),j=o(75134),M=o(5149),_=o(58023),k=o(96802),T=o(9953),V=o(79978),A=o(75018),P=o(24677),I=o(98104),Z=o(39699);function F(e){const{collectionViewStore:t,collectionContextStore:o,timelineState:n,environment:i}=e,r=i.currentUser.id,a=(0,m.B8)(t.id),s=(0,m.pQ)(t,i),l=o.permissionScopes.state,c=u.Ds((()=>{if(n.destroyed)return;const e={zoomLevel:n.zoomLevel.state,centerTimestamp:(0,m.al)(n)};d.Z.set({userId:r,key:a,value:e})}),1e3),p=u.Ds((()=>{if(n.destroyed||!S.Z.state.online||!i.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:n.zoomLevel.state,centerTimestamp:(0,m.al)(n)},o=t.getFormat().timeline_preference;u.Xy(o,e)||Z.createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:i,perform:o=>{k.FH({stores:[t],update:{timeline_preference:e},transaction:o})}})}),5e3);n.savePreference=()=>{c(),p()},B({timelineState:n,environment:i,...s})}function B(e){const{timelineState:t,zoomLevel:o,centerTimestamp:n,environment:r}=e,{savePreference:a}=t,s=r.WindowSizeStore.state.width+2*m.Ge,l=(0,m.x2)(o,s),c=n-l/2,d=n+l/2;t.zoomLevel.setState(o),t.currentRange.setState({startTimestamp:c,endTimestamp:d}),i.default.afterNextFlush((()=>{L({timelineState:t,centerTimestamp:n}),a&&a()}))}function L(e){const{timelineState:t,centerTimestamp:o}=e,{horizontalScroller:n,outerSizeObserver:i}=t;if(!n)return;const r=t.zoomLevel.state,{startTimestamp:a,endTimestamp:s}=t.currentRange.state,l=i.rect.state.width;if(l===(0,m.e$)(r,s-a))return;const c=(0,m.e$)(r,o-a)-l/2;n.scrollLeft=c,t.scrollLeft.setState(c)}function D(e){const{environment:t,store:o,query:n,date:i,schema:r,transaction:a}=e,{timeline_by:s}=n;if(!s)return;const l=(0,m.TW)({store:o,dateValue:i,query:n,schema:r}),c=o.getPropertyValue(s),d=n.timeline_by_end?o.getPropertyValue(n.timeline_by_end):void 0;return T.sW({store:o.getPropertiesStore(),data:l,transaction:a}),j.H({environment:t,store:o,dateProperty:{id:s,newValue:(null==l?void 0:l[s])??[],oldValue:c},otherDateProperty:n.timeline_by_end?{id:n.timeline_by_end,newValue:(null==l?void 0:l[n.timeline_by_end])??[],oldValue:d}:void 0}),o}function K(e){var t;const{environment:o,timelineState:i,collectionStore:r,collectionContextStore:a,store:s,query:d,groupFormat:u,transaction:p}=e,g=i.zoomLevel.state,h=(0,m.al)(i),{snapUnit:S,getDateRangePlaceholderDuration:y}=m.BJ[g],{timeline_by:f}=d;if(!f)return;const C=null===(t=a.groupsStore.getGroupState(u))||void 0===t?void 0:t.resultsStore.state;if(!C)return;const x=n.ou.fromMillis(h),v=(0,m.DS)(x,S),b=(0,m.DS)(y(x),S),j=(0,m.AZ)({startValue:(0,l.Lg)((0,c.r)()),snapUnit:S,desiredStart:v,desiredEnd:b});return D({environment:o,store:s,query:d,schema:r.getSchema(),date:j,transaction:p}),w.$T({environment:o,collectionStore:r,before:!0,store:C[0],insertStores:[s],collectionContextStore:a,groupsPointer:u?[u]:[],transaction:p}),s}function R(e){const{type:t,timelineState:o,store:n,startX:i,query:r,schema:a,intl:s,environment:l}=e,{horizontalScroller:c}=o,{startTimestamp:d}=o.currentRange.state;if(!c)return;P.Ys({environment:l,store:n});const p=c.scrollLeft,{stores:g}=C.default.state,h=u.oA(g.map((e=>{const t=(0,m.bk)({store:e,query:r,schema:a,userId:l.currentUser.id,intl:s});if(t)return{startValue:t,store:e}})));o.dragState.setState({type:t,startStore:n,stores:h.map((e=>{let{store:t}=e;return t})),startValues:h.map((e=>{let{startValue:t}=e;return t})),temporaryValues:h.map((e=>{let{startValue:t}=e;return t})),startX:i,startStartTimestamp:d,startScrollLeft:p})}function O(e){const{timelineState:t,store:o,startX:n,startY:i,schema:r,collectionContextStore:a,verticalScroller:s}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRange.state;if(!l||!s)return;const d=l.scrollLeft,u=s.scrollTop,p=(0,m.YE)(a,o,r);t.drawState.setState({startStore:o,startDependencyRelationPointers:p,temporaryDependencyRelationPointers:[...p],startX:n,startY:i,startScrollLeft:d,startScrollTop:u,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function H(e){const{timelineState:t,currentX:o}=e,{horizontalScroller:n}=t,i=t.zoomLevel.state,r=t.dragState.state,{startTimestamp:a}=t.currentRange.state;if(!r||!n)return;const{type:s,startStartTimestamp:c,startValues:d,startScrollLeft:g,startX:h,startStore:S,stores:y}=r,f=m.BJ[i],{snapUnit:C}=f,x=n.scrollLeft-g+(o-h)+(0,m.e$)(i,a-c),v=(0,m.x2)(i,x),b=d[y.indexOf(S)];let w;if(s===m.px.LeftResizer){const{start:e}=(0,m.XO)(b,C),t=e.plus(v);w=d.map((e=>{const o=(0,m.AZ)({startValue:e,snapUnit:C,desiredStart:t});return(0,l.gW)(o)}))}else if(s===m.px.RightResizer){const{end:e}=(0,m.XO)(b,C),t=e.plus(v);w=d.map((e=>{const o=(0,m.AZ)({startValue:e,snapUnit:C,desiredEnd:t});return(0,l.Qq)(o)}))}else s===m.px.ItemDrag?w=d.map((e=>{const{start:t,end:o}=(0,m.XO)(e,C),n=t.plus(v),i=n.plus(o.valueOf()-t.valueOf());return(0,m.AZ)({startValue:e,snapUnit:C,desiredStart:n,desiredEnd:i})})):(0,p.t1)(s);u.Xy(r.temporaryValues,w)||t.dragState.setState({...r,temporaryValues:w})}function N(e){const{timelineState:t,currentX:o,currentY:n,verticalScroller:i}=e,r=t.drawState.state,a=t.zoomLevel.state,{startTimestamp:s}=t.currentRange.state,{horizontalScroller:l}=t;if(!r||!l||!i)return;const{startDependencyRelationPointers:c,startStore:d,startX:p,startY:g,startScrollLeft:h,startScrollTop:S,startStartTimestamp:y}=r,f=l.scrollLeft,C=i.scrollTop,x=f-h+(o-p)+(0,m.e$)(a,s-y),v=C-S+(n-g),b=t.hoveredItem.state;if(b&&b!==d&&!c.some((e=>e.id===b.id))){const e=[...c,{table:"block",id:b.id,spaceId:b.getSpaceId()}];u.Xy(r.temporaryDependencyRelationPointers,e)||t.drawState.setState({...r,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawState.setState({...r,temporaryDependencyRelationPointers:[...c],xOffsetPx:x,yOffsetPx:v})}function E(e){const{environment:t,timelineState:o,query:n,schema:i,transaction:r}=e,a=o.dragState.state,{timeline_by:s}=n;if(!a||!s)return;const{temporaryValues:l,stores:c}=a;l.forEach(((e,o)=>{const a=c[o];D({environment:t,store:a,query:n,schema:i,transaction:r,date:e})})),o.dragState.setState(void 0)}function W(e){var t;const{timelineState:o,environment:n,transaction:i,collectionContextStore:r,isFullScreen:a,isRootChild:s}=e,l=o.drawState.state,c=o.dateRangePlaceholder.state;if(!l)return;const{startStore:d,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:p}=l;if(!d)return void o.drawState.setState(void 0);let h;if(c.active){const{date:e,store:t,parentStore:a,groupFormat:s,newTimelineItemProps:l,existingTimelineItemProps:u}=c;if(t&&u){const{query:o,schema:r}=u;D({environment:n,store:t,query:o,schema:r,date:e,transaction:i}),h={table:"block",id:t.id,spaceId:d.getSpaceId()}}else if(l){const{query:o,schema:c,isFullScreen:u,canEditTimelineItems:p,subitemPath:g}=l,m=X({environment:n,date:e,store:t,parentStore:a,query:o,schema:c,isFullScreen:u,groupFormat:s,canEditTimelineItems:p,collectionContextStore:r,subitemPath:g,transaction:i,from:"timeline_complete_draw"});m&&(h={table:"block",id:m.id,spaceId:d.getSpaceId()})}o.dateRangePlaceholder.setState({active:!1})}else h=p.find((e=>!u.includes(e)));const S=(0,m._e)(r);if(S){const{property:e}=S;h&&(V.hE({environment:n,propertyWithInverse:S,sourceStore:d,destStore:f.G.createChildStore(d,h),position:{type:"after"},transaction:i}),b.rv({environment:n,collectionContextStore:r,block_id:d.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),o.drawState.setState(void 0)}else M.wl({item:{type:y.default.checkGate("dependency_date_shifting_by_space")?"dependencies":"arrowsBy"},collectionSettingsStore:r.settingsStore}),o.drawState.setState({...l,tryToCompleteDrawnArrow:!0});const C=null===(t=h)||void 0===t?void 0:t.id;C&&v.LEn(n,{...(0,g.Pn)(r),...(0,m.Ii)({environment:n,collectionContextStore:r,timelineState:o,isFullScreen:a,isRootChild:s}),dependenciesPropertyID:null==S?void 0:S.property,blockedByStoreID:d.id,blockingStoreID:C})}function z(e){const{timelineState:t,environment:o}=e;t.dragState.state&&(t.dragState.setState(void 0),P.ZH(o))}function G(e){const{timelineState:t,environment:o}=e;t.drawState.state&&(t.drawState.setState(void 0),P.ZH(o))}function U(e){const{stores:t,collectionViewStore:o,schema:n,transaction:i}=e,r=o.getType(),a=o.getQuery(n),s=[];a&&("calendar"===r?a.calendar_by&&s.push(a.calendar_by):"timeline"===r&&(a.timeline_by&&s.push(a.timeline_by),a.timeline_by_end&&s.push(a.timeline_by_end)));for(const l of t)for(const e of s)T.sO({store:l.getPropertyStore(e),value:void 0,transaction:i})}function $(e){const{dependency:t,collectionContextStore:o,environment:n,timelineState:i,isFullScreen:r,isRootChild:a}=e,s=(0,m._e)(o),l=o.collectionStore();if(!s||!l)return;const{property:c}=s,{store:d,relationPointer:u}=t,p=d.getSchema()[c];p&&"relation"===p.type&&(Z.createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:n,perform:e=>{V.Bl({environment:n,propertyWithInverse:s,sourceStore:d,destStore:f.G.createChildStore(d,u),transaction:e}),b.rv({environment:n,block_id:u.id,property:c,property_type:p.type,from:"timeline",collectionContextStore:o,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),v.lfq(n,{...(0,g.Pn)(o),...(0,m.Ii)({environment:n,collectionContextStore:o,timelineState:i,isFullScreen:r,isRootChild:a}),dependenciesPropertyID:c,blockedByStoreID:d.id,blockingStoreID:u.id}))}function q(e){const{collectionViewStore:t,newProperty:o,transaction:n}=e;k.FH({stores:[t],update:{timeline_arrows_by:{property:o}},transaction:n})}function Y(e){var t;const{collectionContextStore:o,relationPropertyId:n,transaction:i}=e,r=o.collectionStore();if(!r)return;const l=n?r.getSchema()[n]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=r.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;k.FH({stores:[r],update:{collection_default_arrows_by:n,...r.getFormat().app_config_uri===s.iS?{app_uri_map:{...r.getFormat().app_uri_map?r.getFormat().app_uri_map:{},[a.Es.BlockingRelation]:n,[a.Es.BlockedRelation]:c}}:{}},transaction:i})}function X(e){const{environment:t,transaction:o,date:n,parentStore:i,query:a,schema:s,isFullScreen:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,from:p}=e;if(!x.M_(t))return;const g=c?[c]:[],m=u.groupsStore.getGroupState(g);if(!m)return;if(i)return function(e){const{environment:t,transaction:o,date:n,store:i,parentStore:a,query:s,schema:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,subitemPath:p}=e;if(!i||!a)return;const g=c?[c]:[],m=w.yk({environment:t,collectionContextStore:u,groupsPointer:g,store:i,before:!1,collectionStore:a,transaction:o,subitemPath:p,subitemInsertDirection:"into"});if(m){if(D({environment:t,store:m,query:s,schema:l,date:n,transaction:o}),t.device.isMobile)A.navigateToBlock({environment:t,store:m,pageVisitSource:r.tY.Create});else if(m&&d){const e=m.getBlockTitleStore();I.N_({store:e})}return m}}(e);u.searchQuery.state&&_.Ug({searchQuery:"",collectionContextStore:u,isFullScreen:l});const S=w.IW({environment:t,collectionContextStore:u,groupsPointer:g,coerce:!0,initializeDefaultTemplate:!0,transaction:o,from:p});if(!S)return;const y=S.coercionSucceeded,f=S.newStore;if(D({environment:t,store:f,query:a,schema:s,date:n,transaction:o}),t.device.isMobile)A.navigateToBlock({environment:t,store:f,pageVisitSource:r.tY.Create});else if(y&&d){const e=f.getBlockTitleStore();I.NX({store:e})}else A.peekBlock({environment:t,store:f,peekMode:(0,h.kr)(u.collectionViewStore()),resultsStore:null==m?void 0:m.resultsStore,collectionContextStore:u,pageVisitSource:r.tY.Create});return f}},44869:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Kp});var n=o(67294),i=o(83355),r=o(4615),a=o(31412),s=o(50906),l=o(5149),c=o(96802),d=o(39699),u=(o(57658),o(43261)),p=o.n(u),g=o(480),m=o(86628),h=o(24405),S=o(66897),y=o(63362),f=o(3865),C=o(83372),x=o(23290),v=o(76205),b=o(99036),w=o(80951),j=o(84619),M=o(76218),_=o(88607),k=o(91856),T=o(65422),V=o(84169),A=o(20669),P=o(25651),I=o(47453),Z=o(24600),F=o(42283),B=o(63030),L=o(69196),D=o(53016),K=o(48524),R=o(43393),O=o(32426),H=o(71500),N=o(73201),E=o(72050),W=o(55159),z=o(26774),G=o(34093),U=o(92607),$=o(32623),q=o(53866),Y=o(3729),X=o(108),Q=o(83303),J=o(56505),ee=o(8938),te=o(94308),oe=o(606),ne=o(97880),ie=o(82990),re=o(26388),ae=o(60071),se=o(8848),le=o(85893);function ce(e){window.__c={n:"AutomationStepValueToken"};const{children:t,icon:o,shouldTruncateChildren:n}=e,i=(0,h.yK)((e=>{const t=(0,se.KR)(e,void 0);return{iconWrap:{flex:"0 0 auto"},textWrap:{...n?ie.Z.textOverflowStyle:{},flex:"1 1 auto"},wrap:{backgroundColor:t.backgroundColor,borderRadius:12,color:t.textColor,display:"inline-flex",gap:4,minWidth:n?50:void 0,padding:"0 8px"}}}),[n]);return(0,le.jsxs)("span",{style:i.wrap,children:[o&&(0,le.jsx)("span",{"aria-hidden":"true",style:i.iconWrap,children:o}),(0,le.jsx)("span",{style:i.textWrap,children:t})]})}var de=o(56812),ue=o(6740),pe=o(37989),ge=o(37612),me=o(77744),he=o(64921),Se=o(52275),ye=o(78140),fe=o(32163),Ce=o(72495),xe=o(61766),ve=o(95193),be=o(56666),we=o(31945),je=o(73063),Me=o(53437);const _e=(0,a.defineMessages)({moreLabel:{id:"automationBaseStepElement.moreActionsMenu.title",defaultMessage:"More"}});function ke(e){window.__c={n:"BaseStepActionsButton"};const{actionMenu:t,disabled:o,buttonPopupStore:n}=e,{device:i}=(0,g.O7)(),r=(0,a.useIntl)(),s=(0,h.yK)((e=>({iconButton:{border:`1px solid ${e.regularDividerColor}`,height:26,width:26},icon:{height:14,width:14}})),[]);return(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,buttonPopupStore:n,originGap:0,placementToOrigin:we.pO.Bottom,popupType:i.isMobile?Me.kQ.SlideUp:Me.kQ.Popup,render:()=>t,renderOrigin:e=>(0,le.jsx)(je.Z,{...e,ariaLabel:r.formatMessage(_e.moreLabel),disabled:o,disabledFeedback:o,hasBackground:!0,icon:be.o,iconStyle:s.icon,style:s.iconButton})})}function Te(e){window.__c={n:"AutomationBaseStepElement"};const{icon:t,onBlur:o,onClick:i,onFocus:r,onMouseDown:a,onMouseEnter:s,onMouseLeave:l,title:c,caption:d,onEdit:u,onDelete:p,disabled:S}=e,{isMobile:y}=(0,g.Fy)(),[f,C]=(0,ue.Z)(),[x,v]=(0,pe.Z)(),[b,w]=(0,n.useState)(!1),j=b||C||v,M=(0,me.lq)(f,x),_=(0,m.qz)(void 0,xe.Z),k=(0,h.yK)((e=>({button:{position:"relative"},moreButtonWrap:{display:j||y?"block":"none",position:"absolute",right:12,top:14},container:{background:e.cardContentBackground,display:"flex",flexDirection:"column",gap:8,justifyContent:"center",paddingBlock:16,paddingInline:12},title:{alignItems:"center",display:"flex",flexDirection:"row",gap:6},iconWrap:{flexShrink:0,alignSelf:"baseline",height:"24px",display:"flex",alignItems:"center"},iconStyle:{width:16,height:16,color:e.mediumIconColor},body:{flex:"1 1 auto",fontSize:14,lineHeight:1.3,minWidth:0,whiteSpace:"pre"}})),[j,y]),T=(0,n.useCallback)((e=>{w(!0),s&&s(e)}),[s]),V=(0,n.useCallback)((e=>{w(!1),l&&l(e)}),[l]);return(0,le.jsxs)(he.Z,{onBlur:o,onClick:()=>{null==i||i(_)},onFocus:r,onMouseDown:a,onMouseEnter:T,onMouseLeave:V,style:k.button,disabled:S,disabledFeedback:S,ref:M,focused:j,children:[!S&&(u||p)&&(0,le.jsx)("div",{style:k.moreButtonWrap,children:(0,le.jsx)(Ve,{onEdit:u,onDelete:p,disabled:S,buttonPopupStore:_})}),(0,le.jsxs)("div",{style:k.container,children:[(0,le.jsxs)("div",{style:k.title,children:[t&&(0,le.jsx)("div",{"aria-hidden":"true",style:k.iconWrap,children:t(k.iconStyle)}),(0,le.jsx)("div",{style:k.body,children:c})]}),d]})]})}function Ve(e){window.__c={n:"MoreActionsButton"};const{onDelete:t,onEdit:o,disabled:i,buttonPopupStore:r}=e,a=(0,m.qz)(r,xe.Z),s=(0,n.useCallback)((()=>a.setState({open:!1})),[a]),l=(0,n.useMemo)((()=>(0,le.jsx)(Ae,{onClose:s,onEdit:o,onDelete:t})),[s,t,o]);return(0,le.jsx)(ke,{actionMenu:l,buttonPopupStore:a,disabled:i})}function Ae(e){window.__c={n:"MoreActionsMenu"};const{onClose:t,onEdit:o,onDelete:n}=e,i=(0,ve.F)(),r=[o?{action:()=>{null==t||t(),o()},key:"edit",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,P.R)({height:16,width:16}),title:(0,le.jsx)(a.FormattedMessage,{id:"automationBaseStepElement.moreActionsMenu.edit",defaultMessage:"Edit"})})}:void 0,n?{action:()=>{null==t||t(),n()},key:"delete",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,ge.y)({height:16,width:16}),title:(0,le.jsx)(a.FormattedMessage,{id:"automationBaseStepElement.moreActionsMenu.delete",defaultMessage:"Delete"})})}:void 0].filter(ne.$K);return(0,le.jsx)(ye.Z,{...i,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:[{items:r,key:"items",render:e=>(0,le.jsx)(Ce.Z,{enableActionSheetTitle:!0,topBorder:!0,...e})}],initialFocus:0})})}function Pe(e){window.__c={n:"AutomationTriggerActionTooltip"};const{caption:t,disable:o,renderOrigin:i,title:r,tooltipAlignment:a,tooltipPlacement:s}=e,l=(0,h.yK)((e=>({tooltipTitle:{margin:0},tooltipCaption:{color:e.mediumInvertedTextColor,margin:0}})),[]),c=(0,n.useCallback)((()=>(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("p",{style:l.tooltipTitle,children:r}),(0,le.jsx)("p",{style:l.tooltipCaption,children:t})]})),[t,r,l.tooltipCaption,l.tooltipTitle]);return(0,le.jsx)(re.Z,{alignment:a,delayThreshold:800,disableTooltip:o,placement:s,render:i,renderTooltip:c,textWrap:!0})}function Ie(e){window.__c={n:"UpdateCheckboxPropertyAction"};const{disabled:t,onClick:o,onDelete:i,onEdit:r,propertySchema:s,value:l}=e,c=(0,h.yK)((()=>({content:{alignItems:"center",display:"flex"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]),d=function(e){const{propertySchema:t,styles:o,value:n}=e,i=(0,M.A6)(null==n?void 0:n.value)[0],r=t.name,s=!0===i?(0,ae.c$e)({width:12}):(0,ae.UmH)({width:10}),l=!0===i?(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyChecked}):(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyUnchecked});return(0,le.jsx)(a.FormattedMessage,{...de.hW({propertyName:(0,le.jsx)("span",{style:o.propertyName,children:r}),propertyValue:(0,le.jsx)(ce,{icon:s,shouldTruncateChildren:!0,children:l})})})}({propertySchema:s,styles:c,value:l}),u=Ze({propertySchema:s,value:l}),p=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,icon:F.r,onClick:o,onDelete:i,onEdit:r,title:(0,le.jsx)("div",{style:c.content,children:d})})),[t,o,i,r,c.content,d]);return(0,le.jsx)(Pe,{renderOrigin:p,title:u,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function Ze(e){const{propertySchema:t,value:o}=e,n=!0===(0,M.A6)(null==o?void 0:o.value)[0]?(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyChecked}):(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyUnchecked});return(0,le.jsx)(a.FormattedMessage,{...de.hW({propertyName:t.name,propertyValue:n})})}var Fe=o(7057),Be=o(78106),Le=o(42875),De=o(70203),Ke=o(21396),Re=o(75311),Oe=o(85567),He=o(11335),Ne=o(33929),Ee=o(68910);function We(e){const{automationStore:t,collectionStore:o}=e;return(0,m.VK)((()=>{if(!o||!t)return;const e=o.getSpaceShardedPointer();return new Ee.L({automationStore:t,parentPointer:e,type:"event",persisted:!0,intl:Ne.default.getIntl(),parentRecordStore:o})}),[o,t])}function ze(e){window.__c={n:"UpdateDatePropertyAction"};const{automationStore:t,collectionStore:o,disabled:i,onClick:r,onDelete:s,onEdit:l,propertySchema:c,value:d,valueContext:u}=e,p=(0,a.useIntl)(),g=(0,h.yK)((()=>({content:{alignItems:"baseline",display:"flex",flexWrap:"wrap",whiteSpace:"pre"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]),S=We({automationStore:t,collectionStore:o}),y=(0,m.VK)((()=>S?function(e){const{automationContextStore:t,intl:o,propertySchema:n,styles:i,value:r,valueContext:s}=e,l=(0,le.jsx)("span",{style:i.propertyName,children:n.name});if(void 0===(null==r?void 0:r.value))return(0,le.jsx)(a.FormattedMessage,{...de.xf({propertyName:l})});let c;const d=He.tk(t),u=(0,Re._)(s),p=(0,M.A6)(null==r?void 0:r.value)[0];if("string"==typeof p||"boolean"==typeof p||(0,De.IWo)(p)||(0,De.STW)(p))return;if((0,De.wjk)(p)){const e=(0,De.vmO)(p).id,t=(0,Be.vx)(d,e);c=t?(0,le.jsx)(Ke.F,{value:t,format:j.lo.Medium,isSingle:!1,shouldShrink:!0}):void 0}else if((0,De.fpG)(p)){const e=(0,De.zyO)(p);c=e?(0,Fe.OB)({value:e,date_format:u.dateFormat,time_format:u.timeFormat,userTimeZone:(0,Le.r)(),allowRelativeDates:!0,intl:o,shortenDateAndRange:!0,displayInUserTimezone:!0,formatValuesFn:e=>{let{endDate:t,endTime:o,startDate:n}=e;return(0,ne.$K)(o)?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ue,{value:n})," → ",(0,le.jsx)(Ue,{value:o})]}):(0,ne.$K)(t)?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ue,{value:n})," → ",(0,le.jsx)(Ue,{value:t})]}):(0,le.jsx)(Ue,{value:n})}}):null}else(0,ne.t1)(p);return void 0===c?void 0:(0,le.jsx)(a.FormattedMessage,{...de.zU({propertyName:l,propertyValue:c})})}({automationContextStore:S,intl:p,propertySchema:c,styles:g,value:d,valueContext:u}):void 0),[S,p,c,g,d,u]),f=(0,m.VK)((()=>S?Ge({automationContextStore:S,intl:p,propertySchema:c,value:d,valueContext:u}):void 0),[S,p,c,d,u]),C=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:i,icon:D.V,onClick:r,onDelete:s,onEdit:l,title:(0,le.jsx)("div",{style:g.content,children:y})})),[i,r,s,l,g.content,y]);return S&&y&&f?(0,le.jsx)(Pe,{renderOrigin:C,title:f,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left}):null}function Ge(e){const{automationContextStore:t,intl:o,propertySchema:n,value:i,valueContext:r}=e,s=n.name;if(void 0===(null==i?void 0:i.value))return(0,le.jsx)(a.FormattedMessage,{...de.xf({propertyName:s})});let l;const c=He.tk(t),d=(0,Re._)(r),u=(0,M.A6)(null==i?void 0:i.value)[0];if("string"!=typeof u&&"boolean"!=typeof u&&!(0,De.IWo)(u)&&!(0,De.STW)(u)){if((0,De.wjk)(u)){const e=(0,De.vmO)(u).id,t=(0,Be.vx)(c,e);l=t?(0,Ke.e)(t):void 0}else if((0,De.fpG)(u)){const e=(0,De.zyO)(u);l=e?(0,Fe.ZV)({value:e,date_format:d.dateFormat,time_format:d.timeFormat,userTimeZone:(0,Le.r)(),allowRelativeDates:!0,intl:o,shortenDateAndRange:!0,displayInUserTimezone:!0}):null}else(0,ne.t1)(u);return void 0===l?void 0:(0,le.jsx)(a.FormattedMessage,{...de.zU({propertyName:s,propertyValue:l})})}}function Ue(e){window.__c={n:"AutomationDateToken"};const{value:t}=e,o=(0,h.Fg)();return(0,le.jsx)(Oe.Z,{backgroundColor:o.accentColors.gray[75],format:j.lo.Medium,isRound:!0,isSingle:!0,showRemoveButton:!1,style:{marginBlockEnd:4},value:t})}var $e=o(72126),qe=o(22084),Ye=o(37867),Xe=o(39068);function Qe(e){window.__c={n:"AutomationAnyEditPropertyTrigger"};const{disabled:t,onDelete:o,onClick:i,propertySchema:r,onEdit:s}=e,l=(0,a.useIntl)(),c=(0,h.Fg)(),d=(0,h.yK)((()=>({propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold},wrap:{display:"inline-flex",width:"100%"}})),[]),u=(0,le.jsx)("span",{style:d.propertyName,children:r.name}),p=(0,de.$G)(l,{propertyName:u}),g=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,onClick:i,icon:e=>(0,le.jsx)(Xe.ZP,{size:16,theme:c,icon:r.icon,style:e,type:r.type}),title:(0,le.jsx)("span",{style:d.wrap,children:p}),onEdit:s,onDelete:o})),[t,i,o,s,r.icon,r.type,d.wrap,c,p]);return(0,le.jsx)(Pe,{renderOrigin:g,title:p,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}const Je=5;function et(e){const{filter:t,propertySchema:o,onEdit:n,onDelete:i,disabled:r}=e;return"changes_to_any"===t.operator?(0,le.jsx)(Qe,{disabled:r,propertySchema:o,onClick:n,onDelete:i,onEdit:n}):(0,le.jsx)(tt,{...e,filter:t})}function tt(e){window.__c={n:"ParametrizableStatusPropertyTriggerFilter"};const{filter:t,limit:o=Je,propertySchema:i,onEdit:r,onDelete:s,disabled:l}=e,c=(0,a.useIntl)(),d=(0,h.yK)((()=>({content:{alignItems:"baseline",display:"flex",flexWrap:"wrap",whiteSpace:"pre",lineHeight:"24px"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]);let u,p;if((0,v.vR)(t)){const e=i.name,n=(0,v.wB)(t),r=n.map((e=>"is_group"===e.type?e.value:void 0)).filter(ne.$K),a=n.map((e=>"is_option"===e.type?e.value:void 0)).filter(ne.$K),s=ot({intl:c,groupValues:r,limit:o,optionValues:a,propertySchema:i}),l=c.formatList(s,{style:"long",type:"disjunction"}),g=ot({intl:c,isText:!0,groupValues:r,limit:o,optionValues:a,propertySchema:i}),m=c.formatList(g,{style:"long",type:"disjunction"});u=(0,de.VO)(c,{propertyName:(0,le.jsx)("span",{style:d.propertyName,children:e}),propertyValues:nt(l)}),p=(0,de.VO)(c,{propertyName:(0,le.jsx)("span",{style:d.propertyName,children:e}),propertyValues:nt(m)})}const g=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:l,icon:Y.T,title:(0,le.jsx)("div",{style:d.content,children:u}),onEdit:r,onDelete:s,onClick:r})),[l,s,r,d.content,u]);return u&&p?(0,le.jsx)(Pe,{renderOrigin:g,title:p,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left}):null}function ot(e){let{groupValues:t,intl:o,isText:n,limit:i,optionValues:r,propertySchema:a,tokenFormat:s=j.lo.Medium}=e;const l=a.groups||[],c=a.options||[],d=t.map((e=>{const t=l.find((t=>t.name===e));if(t)return n?t.name:(0,le.jsx)("span",{children:t.name},t.id)})).filter(ne.$K),u=r.map((e=>{const t=(0,w.i7)(c,e);if(void 0===t)return n?(0,de.ST)(o):(0,le.jsx)(Ye.Z,{tokenFormat:s},`missing_option_value_${e}`);if(n)return t.value;const i=l.find((e=>{var o;return null===(o=e.optionIds)||void 0===o?void 0:o.includes(t.id)}));return(0,le.jsx)(qe.F,{format:s,isSingle:!0,value:t.value,color:t.color,groupColor:null==i?void 0:i.color,showRemoveButton:!1,showEllipsis:!0},t.id)})),p=[...d,...u];let g=[];if(void 0!==i&&p.length>i){const e=u.length-i,t=n?`+${e}`:(0,le.jsx)(Oe.Z,{format:j.lo.Medium,isRound:!0,isSingle:!0,showRemoveButton:!1,value:`+${e}`},"More tokens");g=[...u.slice(0,i),t]}else g=p;return g}function nt(e){if(!Array.isArray(e))return[e];const t=[];for(const o of e)if("string"==typeof o&&" "!==o[0]){const e=t.pop();t.push((0,le.jsxs)("div",{children:[e,o]}))}else t.push(o);return t}function it(e){window.__c={n:"UpdateSelectPropertyAction"};const{disabled:t,onClick:o,onDelete:i,onEdit:r,propertySchema:s,value:l}=e,c=(0,a.useIntl)(),d=(0,h.yK)((()=>({content:{alignItems:"baseline",display:"flex",flexWrap:"nowrap",whiteSpace:"pre"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]),u=null!=l&&l.value?(0,M.A6)(null==l?void 0:l.value)[0]:void 0,p=de.oJ({propertySchema:s,optionValues:(0,$e.HD)(u)?[u]:[]}),g=(0,m.VK)((()=>rt({intl:c,propertySchema:s,styles:d,values:p})),[c,p,s,d]),S=(0,m.VK)((()=>at({intl:c,propertySchema:s,values:p})),[c,p,s]),y=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,icon:q.w,onClick:o,onDelete:i,onEdit:r,title:(0,le.jsx)("div",{style:d.content,children:g})})),[t,o,i,r,d.content,g]);return(0,le.jsx)(Pe,{renderOrigin:y,title:S,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function rt(e){const{intl:t,propertySchema:o,styles:n,tokenFormat:i,values:r}=e,s=i??j.lo.Medium,l=(0,le.jsx)("span",{style:n.propertyName,children:o.name}),c=r.map((e=>"deleted"===e.type?(0,le.jsx)(Ye.Z,{tokenFormat:s},`missing_option_value_${e.value}`):"option"===e.type?(0,le.jsx)(qe.a,{color:e.value.color,format:s,isSingle:!0,showRemoveButton:!1,value:e.value.value},e.value.id):"truncation"===e.type?(0,le.jsx)(Oe.Z,{format:s,isRound:!0,isSingle:!0,showRemoveButton:!1,value:e.value},"More tokens"):void(0,ne.t1)(e)));return 0===c.length?(0,le.jsx)(a.FormattedMessage,{...de.Mw({propertyName:l})}):1===c.length?(0,le.jsx)(a.FormattedMessage,{...de.rf({propertyName:l,propertyValue:c[0]})}):(0,le.jsx)(a.FormattedMessage,{...de.Sj({propertyName:l,propertyValue:nt(t.formatList(c,{style:"long",type:"conjunction"}))})})}function at(e){const{intl:t,propertySchema:o,values:n}=e,i=o.name,r=n.map((e=>"deleted"===e.type?de.ST(t):"option"===e.type?e.value.value:"truncation"===e.type?e.value:void(0,ne.t1)(e)));return 0===r.length?(0,le.jsx)(a.FormattedMessage,{...de.Mw({propertyName:i})}):1===r.length?(0,le.jsx)(a.FormattedMessage,{...de.rf({propertyName:i,propertyValue:r[0]})}):(0,le.jsx)(a.FormattedMessage,{...de.Sj({propertyName:i,propertyValue:nt(t.formatList(r,{style:"long",type:"conjunction"}))})})}const st=5;function lt(e){window.__c={n:"UpdateMultiSelectPropertyAction"};const{disabled:t,limit:o=st,onClick:i,onDelete:r,onEdit:s,propertySchema:l,value:c}=e,d=(0,a.useIntl)(),u=null!=c&&c.value?(0,M.A6)(null==c?void 0:c.value):[],p=de.oJ({limit:o,optionValues:u.map((e=>"string"==typeof e?e:void 0)).filter(ne.$K),propertySchema:l}),g=(0,h.yK)((()=>({content:{alignItems:"baseline",display:"flex",flexWrap:p.length<=1?"nowrap":"wrap",whiteSpace:"pre"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[p.length]),S=(0,m.VK)((()=>rt({intl:d,propertySchema:l,styles:g,values:p})),[d,p,l,g]),y=(0,m.VK)((()=>at({intl:d,propertySchema:l,values:p})),[d,p,l]),f=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,icon:E.A,onClick:i,onDelete:r,onEdit:s,title:(0,le.jsx)("div",{style:g.content,children:S})})),[t,i,r,s,g.content,S]);return(0,le.jsx)(Pe,{renderOrigin:f,title:y,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}var ct=o(92864);function dt(e){window.__c={n:"UpdatePersonPropertyAction"};const{collectionStore:t,disabled:o,onClick:i,onDelete:r,onEdit:s,propertySchema:l,value:c}=e,d=(0,a.useIntl)(),u=(0,m.VK)((()=>ut({getRecordModel:t.getRecordModel,propertySchema:l,value:c})),[t.getRecordModel,l,c]),p=(0,h.yK)((()=>({content:{alignItems:"center",display:"flex",flexWrap:u.length>1?"wrap":"nowrap",whiteSpace:"pre"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold},propertyValue:{...ie.Z.textOverflowStyle,paddingBlockStart:4},propertyValueList:{display:"flex",flexBasis:"100%",flexDirection:"column",listStyle:"none",margin:0,marginBlockStart:10,padding:0,rowGap:4}})),[u.length]),g=(0,m.VK)((()=>function(e){const{actors:t,propertySchema:o,styles:n}=e,i=(0,le.jsx)("span",{style:n.propertyName,children:o.name}),r=function(e){const{actors:t,styles:o}=e;return 1===t.length?(0,le.jsx)("div",{style:o.propertyValue,children:(0,le.jsx)(ct.ZP,{actor:t[0],showRemoveButton:!1,format:ct.ZP.Format.Medium,isSingle:!1})}):(0,le.jsx)("ul",{style:o.propertyValueList,children:t.map(((e,t)=>(0,le.jsx)("li",{children:(0,le.jsx)("div",{style:o.propertyValue,children:(0,le.jsx)(ct.ZP,{actor:e,showRemoveButton:!1,format:ct.ZP.Format.Medium,isSingle:!1})},t)},t)))})}({actors:t,styles:n});let s;s=0===t.length?de.ht({propertyName:i}):1===t.length?de.wE({propertyName:i,propertyValue:r}):de.Oq({propertyName:i,propertyValue:r});return(0,le.jsx)(a.FormattedMessage,{...s})}({actors:u,propertySchema:l,styles:p})),[u,l,p]),S=(0,m.VK)((()=>pt({actors:u,intl:d,propertySchema:l})),[u,d,l]),y=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:o,icon:z.O,onClick:i,onDelete:r,onEdit:s,title:(0,le.jsx)("div",{style:p.content,children:g})})),[o,i,r,s,p.content,g]);return(0,le.jsx)(Pe,{renderOrigin:y,title:S,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function ut(e){const{getRecordModel:t,propertySchema:o,value:n}=e;return(0,w.DW)({textValue:null==n?void 0:n.value,propertySchema:o,blockCreatorPointer:void 0}).map((e=>(0,S.Hl)({getRecordModel:t,pointer:e}))).filter(ne.$K)}function pt(e){const{actors:t,intl:o,propertySchema:n}=e,i=t.map((e=>(0,S.$4)(o,e))),r=n.name,s=o.formatList(i,{style:"long",type:"conjunction"});let l;return l=0===t.length?de.ht({propertyName:r}):1===t.length?de.wE({propertyName:r,propertyValue:s}):de.Oq({propertyName:r,propertyValue:s}),(0,le.jsx)(a.FormattedMessage,{...l})}var gt=o(21202),mt=o(10009),ht=o(37034),St=o(26350);function yt(e){window.__c={n:"UpdateRelationPropertyAction"};const{automationStore:t,collectionStore:o,disabled:i,onClick:r,onDelete:s,onEdit:l,propertySchema:c,value:d}=e,u=(0,g.O7)(),p=(0,a.useIntl)(),S=We({automationStore:t,collectionStore:o}),y=(0,m.VK)((()=>(null==S?void 0:S.getAllContextValues())??[]),[S]),f=(0,h.yK)((()=>({content:{alignItems:"center",display:"flex",flex:"1 1 auto",minWidth:0,whiteSpace:"pre"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold,minWidth:20},propertyValue:{...ie.Z.textOverflowStyle,minWidth:40},propertyValueList:{display:"flex",flexBasis:"100%",flexDirection:"column",listStyle:"none",margin:0,marginBlockStart:10,padding:0,rowGap:10},propertyValueListItem:{display:"flex"}})),[]),C=(0,m.VK)((()=>function(e){const{automationContextValues:t,collectionStore:o,propertySchema:n,styles:i,value:r}=e,s=r?xt({automationContextValues:t,limit:n.limit,value:r}):[],l=(0,le.jsx)("span",{style:i.propertyName,children:n.name});let c;c=0===s.length?(0,le.jsx)("div",{style:i.content,children:(0,le.jsx)(a.FormattedMessage,{...de.Iu({propertyName:l})})}):1===s.length?(0,le.jsx)("div",{style:i.content,children:(0,le.jsx)(a.FormattedMessage,{...de.S0({propertyName:l,propertyValue:(0,le.jsx)("span",{style:i.propertyValue,children:(0,le.jsx)(ft,{collectionStore:o,value:s[0]})})})})}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("div",{style:i.content,children:(0,le.jsx)(a.FormattedMessage,{...de.om({propertyName:l,propertyValue:[]})})}),(0,le.jsx)("ul",{style:i.propertyValueList,children:s.map(((e,t)=>(0,le.jsx)("li",{style:i.propertyValueListItem,children:(0,le.jsx)(ft,{collectionStore:o,value:e})},t)))})]});return c}({automationContextValues:y,collectionStore:o,propertySchema:c,styles:f,value:d})),[y,o,c,f,d]),x=(0,m.VK)((()=>Ct({automationContextValues:y,collectionStore:o,environment:u,intl:p,propertySchema:c,value:d})),[y,o,u,p,c,d]),v=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:i,icon:U.v,onClick:r,onDelete:s,onEdit:l,title:C})),[i,r,s,l,C]);return(0,le.jsx)(Pe,{renderOrigin:v,title:x,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function ft(e){const{collectionStore:t,value:o}=e;return"string"==typeof o?(0,le.jsx)(mt.Z,{blockId:o,format:j.lo.Medium,isSingle:!0,noUnderline:!0,parentStore:t,shouldShrink:!0}):(0,le.jsx)(Ke.F,{format:j.lo.Medium,isSingle:!0,shouldShrink:!0,value:o})}function Ct(e){const{automationContextValues:t,collectionStore:o,environment:n,intl:i,propertySchema:r,value:s}=e,l=(s?xt({automationContextValues:t,limit:r.limit,value:s}):[]).map((e=>{if("string"==typeof e){const t=St.G.createChildStore(o,{id:e,table:gt.iU});return(0,ht.vU)({environment:n,intl:i,store:t})}return(0,Ke.e)(e)})).filter(ne.$K),c=r.name;let d;return d=0===l.length?de.Iu({propertyName:c}):1===l.length?de.S0({propertyName:c,propertyValue:l[0]}):de.om({propertyName:c,propertyValue:i.formatList(l,{style:"long",type:"conjunction"})}),(0,le.jsx)(a.FormattedMessage,{...d})}function xt(e){const{automationContextValues:t,limit:o,value:n}=e;return(0,M.A6)(n.value).slice(0,o).map((e=>{if("string"!=typeof e&&"boolean"!=typeof e){if((0,De.wjk)(e)){const o=(0,De.vmO)(e).id,n=(0,Be.vx)(t,o);if(!n)return;return n}if((0,De.STW)(e)){const t=(0,De.TOT)(e);if(!t)return;return t}}})).filter(ne.$K)}function vt(e){window.__c={n:"UpdateStatusPropertyAction"};const{disabled:t,onClick:o,onDelete:i,onEdit:r,propertySchema:s,value:l}=e,c=(0,a.useIntl)(),d=(0,M.A6)(null==l?void 0:l.value)[0],u=(0,h.yK)((()=>({content:{alignItems:"baseline",display:"flex",flexWrap:"nowrap",whiteSpace:"pre"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]),p=(0,m.VK)((()=>function(e){const{intl:t,propertySchema:o,styles:n,value:i}=e;if(!i||"string"!=typeof i)return;const r=(0,le.jsx)("span",{style:n.propertyName,children:o.name}),s=ot({intl:t,groupValues:[],optionValues:[i],propertySchema:o});if(0===s.length)return;return(0,le.jsx)(a.FormattedMessage,{...(0,de.Ig)({propertyName:r,propertyValue:s})})}({intl:c,propertySchema:s,styles:u,value:d})),[c,s,d,u]),g=(0,m.VK)((()=>bt({intl:c,propertySchema:s,value:d})),[c,s,d]),S=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,icon:Y.T,onClick:o,onDelete:i,onEdit:r,title:(0,le.jsx)("div",{style:u.content,children:p})})),[t,o,i,r,u.content,p]);return p&&g?(0,le.jsx)(Pe,{renderOrigin:S,title:g,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left}):null}function bt(e){const{intl:t,propertySchema:o,value:n}=e;if(!n||"string"!=typeof n)return;const i=o.name,r=ot({intl:t,isText:!0,groupValues:[],optionValues:[n],propertySchema:o});return 0!==r.length?(0,le.jsx)(a.FormattedMessage,{...(0,de.Ig)({propertyName:i,propertyValue:r})}):void 0}var wt=o(23867),jt=o(60682),Mt=o(14976);function _t(e){window.__c={n:"UpdateBaseTextPropertyAction"};const{automationStore:t,disabled:o,icon:i,onClick:r,onDelete:s,onEdit:l,propertySchema:c,value:d}=e,u=(0,g.O7)(),p=(0,h.Fg)(),S=(0,h.yK)((()=>({content:{alignItems:"center",display:"flex"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]),y=(0,m.VK)((()=>function(e){const{automationStore:t,environment:o,propertySchema:n,styles:i,theme:r,value:s}=e,l=void 0===(null==s?void 0:s.value),c=null!=s&&s.value?(0,Mt.IY)({disabled:!0,disableDateStyleAnnotations:!0,disableHover:!0,disableLinks:!0,disableStyleAnnotations:!0,emojiType:(0,jt.e_)(o),environment:o,formulaValueTypes:[],katex:o.KatexStore.getKatex(),parentStore:t,stopLinkPropagation:!0,textValue:{value:null==s?void 0:s.value,spaceId:(0,wt.C)(t.pointer.spaceId)},theme:r}):null,d=(0,le.jsx)("span",{style:i.propertyName,children:n.name}),u=(0,le.jsx)(Oe.Z,{format:j.lo.Medium,isRound:!0,isSingle:!0,shouldShrink:!0,showRemoveButton:!1,value:(0,le.jsx)("span",{style:ie.Z.textOverflowStyle,children:c})}),p=l?de.NZ({propertyName:d}):de.vE({propertyName:d,propertyValue:u});return(0,le.jsx)(a.FormattedMessage,{...p})}({automationStore:t,environment:u,propertySchema:c,styles:S,theme:p,value:d})),[t,u,c,S,p,d]),f=(0,m.VK)((()=>kt({automationStore:t,environment:u,propertySchema:c,theme:p,value:d})),[t,u,c,p,d]),C=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:o,icon:i,onClick:r,onDelete:s,onEdit:l,title:(0,le.jsx)("div",{style:S.content,children:y})})),[o,i,r,s,l,S.content,y]);return y&&f?(0,le.jsx)(Pe,{renderOrigin:C,title:f,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left}):null}function kt(e){const{automationStore:t,environment:o,propertySchema:n,theme:i,value:r}=e,s=void 0===(null==r?void 0:r.value),l=null!=r&&r.value?(0,Mt.IY)({disabled:!0,disableDateStyleAnnotations:!0,disableHover:!0,disableLinks:!0,disableStyleAnnotations:!0,emojiType:(0,jt.e_)(o),environment:o,formulaValueTypes:[],katex:o.KatexStore.getKatex(),parentStore:t,stopLinkPropagation:!0,textValue:{value:null==r?void 0:r.value,spaceId:(0,wt.C)(t.pointer.spaceId)},theme:i}):null,c=n.name,d=l,u=s?de.NZ({propertyName:c}):de.vE({propertyName:c,propertyValue:d});return(0,le.jsx)(a.FormattedMessage,{...u})}function Tt(e){return(0,le.jsx)(_t,{...e,icon:Q.c})}function Vt(e){return(0,le.jsx)(_t,{...e,icon:X.p})}function At(e){return(0,le.jsx)(_t,{...e,icon:K.n})}function Pt(e){return(0,le.jsx)(_t,{...e,icon:ee.O})}function It(e){return(0,le.jsx)(_t,{...e,icon:W.J})}function Zt(e){return(0,le.jsx)(_t,{...e,icon:G.u})}var Ft=o(90199),Bt=o(54497),Lt=o(67669),Dt=o(30874),Kt=o(35294),Rt=o(49085);class Ot extends Rt.default{getInitialState(){return{stack:[]}}getCurrentTab(){return $e.Z$(this.getState().stack)}pushSettingsItem(e){this.update((t=>({...t,stack:[...t.stack,e]})))}popSettingsItem(){this.update((e=>({stack:e.stack.slice(0,e.stack.length-1)})))}replaceSettingsItem(e){this.update((t=>{const o=[...t.stack.slice(0,t.stack.length-1),e];return{...t,stack:o}}))}}class Ht extends Ot{}class Nt extends Ot{}var Et=o(8406),Wt=o(71846),zt=o(87279),Gt=o(80721),Ut=o(12392),$t=o(40721),qt=o(89728);const Yt=(0,a.defineMessages)({backButtonAriaLabel:{id:"notificationRuleSettingsMenu.backButton.ariaLabel",defaultMessage:"Back to previous step"}});function Xt(e){window.__c={n:"AutomationTriggerActionMenu"};const{type:t,automationTriggerActionMenuStore:o,headerTitle:n,onClose:i,width:r,onDone:a}=e,s=to({automationTriggerActionMenuStore:o,onClose:i,onDone:a,title:n,width:r});return"custom"===t?(0,le.jsx)(Jt,{...e,menuProps:s}):(0,le.jsx)(Qt,{...e,menuProps:s})}function Qt(e){const{sections:t,menuProps:o}=e;return(0,le.jsx)(ye.Z,{...o,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:0,sections:t})})}function Jt(e){const{children:t,menuProps:o}=e;return(0,le.jsx)(ye.Z,{...o,children:t})}function eo(e){window.__c={n:"BackToPreviousStepButton"};const{automationActionMenuStore:t,menuHeaderTitle:o,onDone:n}=e,i=(0,a.useIntl)(),r=(0,m.VK)((()=>t.state.stack.length>1),[t]),s=(0,h.yK)((e=>({header:{display:"flex",alignItems:"center",margin:8,color:e.mediumTextColor,fontWeight:ie.Z.fontWeight.medium,fontSize:ie.Z.fontSize.UISmall.desktop},iconButtonStyle:{marginRight:8,marginLeft:-2,height:22},iconButtonIconStyle:{width:16,height:16},doneButtonStyle:{marginLeft:"auto"}})),[]);return void 0!==o||r?(0,le.jsxs)("div",{style:s.header,children:[r&&(0,le.jsx)(je.Z,{ariaLabel:i.formatMessage(Yt.backButtonAriaLabel),icon:Gt.W,style:s.iconButtonStyle,iconStyle:s.iconButtonIconStyle,onClick:()=>{t.popSettingsItem()}}),o,n&&(0,le.jsx)(qt.Z,{onClick:n,isBlue:!0,style:s.doneButtonStyle,children:(0,le.jsx)(a.FormattedMessage,{id:"automationTriggerActionMenu.doneButton.title",defaultMessage:"Done"})})]}):null}function to(e){const{automationTriggerActionMenuStore:t,leftStyle:o,onClose:i,onDone:r,rightStyle:s,title:l,titleStyle:c,width:d}=e,{isMobile:u}=(0,g.Fy)(),p=(0,a.useIntl)(),m=(0,n.useCallback)((()=>{1===t.getState().stack.length?i():t.popSettingsItem()}),[t,i]);return(0,n.useMemo)((()=>{let e;return e=u?{leftOuterStyle:o,menuType:zt.og.Modal,title:l,titleOuterStyle:c,left:(0,le.jsx)(je.Z,{ariaLabel:p.formatMessage(Yt.backButtonAriaLabel),icon:Ut.S,onClick:m}),right:(0,le.jsx)($t.DoneMenuText,{}),rightOuterStyle:s,onClickRight:()=>{null==r||r(),i()}}:{width:d??266,menuType:zt.og.Popup,maxHeight:"50vh",header:(0,le.jsx)(eo,{automationActionMenuStore:t,menuHeaderTitle:l,onDone:r})},e}),[t,p,u,o,i,r,m,s,l,c,d])}function oo(e){window.__c={n:"AutomationEventActionCreatePage"};const{automationActionMenuStore:t,automationStore:o,collectionStore:i,onClose:s,updateCurrentState:l}=e,c=(0,r.ZP)(),d=(0,g.O7)(),u=to({automationTriggerActionMenuStore:t,leftStyle:{flexGrow:0},onClose:s,rightStyle:{flexGrow:0},title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Add page to…",id:"automationEventActionCreatePage.menu.title"})}),p=(0,n.useCallback)((()=>{Et.tW({environment:d,eventName:"abandoned_search",sessionId:c,source:Wt.S.Automation})}),[d,c]);u.menuType===zt.og.Popup&&(u.onClickOutside=p);const m=We({automationStore:o,collectionStore:i}),h=(0,n.useCallback)((e=>{l({action:{id:(0,r.ZP)(),config:{collection:{...e.pointer,spaceId:(0,wt.C)(e.pointer.spaceId)},properties:["title"],values:{}},type:"create_page"},type:"update_action"}),s()}),[s,l]);return m?(0,le.jsx)(ye.Z,{...u,children:(0,le.jsx)(Wt.Z,{context:Wt.S.Automation,onAccept:h,parentStore:m.context.parentRecordStore,requireEditPermissions:!0,searchSessionId:c})}):null}var no=o(9999),io=o(5257),ro=o(1865),ao=o(68894),so=o(30912),lo=o(52821),co=o(35057);const uo=(0,a.defineMessages)({searchInputPlaceholder:{id:"automationEventActionMenu.searchInputPlaceholder.label",defaultMessage:"Search for action…"}});function po(e){window.__c={n:"AutomationEventActionMenu"};const{availableActions:t,automationActionMenuStore:o,automationStore:i,collectionStore:r,updateCurrentState:s,onClose:l}=e,c=(0,h.Fg)(),d=(0,a.useIntl)(),{isMobile:u}=(0,g.Fy)(),S=(0,g.O7)(),[y,C]=n.useState(""),x=(0,m.VK)((()=>r.getSchema()),[r]),v=(0,He.j_)(),b=(0,m.VK)((()=>function(e){const{automationStore:t,collectionStore:o,searchInput:n}=e,i=new Set(t.getActionStores().flatMap((e=>e.isType("update_pages")?e.getConfigStore().getKeyStore("properties").getValue()??[]:[]))),r=o.getFormat(),a=o.getSchema(),s=(0,f.cO)({collectionFormat:r,collectionSchema:a,filter:e=>{let[t]=e;return!i.has(t)}}),l=new Map,c=s.map((e=>{const t=a[e];if(t){const o=`${t.name} ${lo.SO[t.type]}`;return l.set(e,o),o}})).filter(ne.$K),d=new Set(p().filter(n,c).map((e=>{let{original:t}=e;return t})));return s.filter((e=>{const t=l.get(e);return t&&d.has(t)}))}({automationStore:i,collectionStore:r,searchInput:y})),[i,r,y]),w=(0,m.VK)((()=>function(e){const{availableActions:t,searchInput:o}=e;if(0===t.length)return[];const n=new Map,i=t.map((e=>{const t=Ne.default.formatMessage(e.display.name);return n.set(e.type,t),t})),r=new Set(p().filter(o,i).map((e=>{let{original:t}=e;return t})));return t.filter((e=>{const t=n.get(e.type);return t&&r.has(t)}))}({availableActions:t,searchInput:y})),[t,y]),j=(0,so.Rr)({environment:S}),M=(0,m.VK)((()=>!(0,co.sX)()),[]),_=0===t.length&&M,k=(0,n.useCallback)((()=>{l(),ro.y(S,{for:"plus",from:"database_automation_action_item"})}),[S,l]),V=w.length>0?function(e){const{automationActionMenuStore:t,actions:o,initialSlackActionSelectMenuState:n,showTopBorder:i,theme:r}=e,s=o.map((e=>function(e){const{automationActionMenuStore:t,action:o,initialSlackActionSelectMenuState:n,theme:i}=e;if("slack_notification"===o.type)return{key:"slack_action",action:()=>{t.pushSettingsItem(n)},render:e=>(0,le.jsx)(Se.Z,{...e,icon:o.display.icon({fill:i.regularIconColor,marginLeft:2,marginRight:8,width:12,height:"auto"}),right:(0,io.o)({marginInlineStart:6,width:12,height:"auto"}),title:(0,le.jsx)(a.FormattedMessage,{...o.display.name})})};if("create_page"===o.type)return{key:"create_page",action:()=>{t.pushSettingsItem({actionId:void 0,type:"eventActionCreatePage"})},render:e=>(0,le.jsx)(Se.Z,{...e,icon:o.display.icon({fill:i.regularIconColor,marginInline:"2px 8px",width:14}),right:(0,io.o)({marginInlineStart:6,width:12}),title:(0,le.jsx)(a.FormattedMessage,{...o.display.name})})};if("update_pages"===o.type)return{key:"update_pages",action:()=>{t.pushSettingsItem({actionId:void 0,automationId:"",type:"eventActionUpdatePages"})},render:e=>(0,le.jsx)(Se.Z,{...e,icon:o.display.icon({fill:i.regularIconColor,marginInline:"2px 8px",width:14}),right:(0,io.o)({marginInlineStart:6,width:12}),title:(0,le.jsx)(a.FormattedMessage,{...o.display.name})})}}({automationActionMenuStore:t,action:e,initialSlackActionSelectMenuState:n,theme:r}))).filter(ne.$K);if(0===s.length)return;return{key:"other_actions_section",items:s,render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:i})}}({automationActionMenuStore:o,actions:w,initialSlackActionSelectMenuState:v,theme:c}):void 0,A=b.length>0&&!M?function(e){const{automationActionMenuStore:t,properties:o,collectionSchema:n,theme:i,updateCurrentState:r,onClose:s,showTopBorder:l}=e,c=o.map((e=>function(e){const{automationActionMenuStore:t,propertyId:o,collectionSchema:n,theme:i}=e,r=n[o];if(!r)return;return{key:o,action:()=>{t.pushSettingsItem({propertyId:o,actionId:void 0,type:"eventActionProperty"})},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)(Xe.ZP,{icon:r.icon,size:16,style:{fill:i.regularIconColor,marginRight:6},theme:i,type:r.type}),right:(0,io.o)({marginInlineStart:6,width:12,height:"auto"}),title:r.name})}}({propertyId:e,collectionSchema:n,theme:i,updateCurrentState:r,automationActionMenuStore:t,onClose:s}))).filter(ne.$K);if(0===c.length)return;return{key:"page_properties_edited_section",items:c,render:e=>(0,le.jsx)(Ce.Z,{...e,title:(0,le.jsx)(a.FormattedMessage,{id:"automationEventActionMenu.pagePropertiesEditedSection.title",defaultMessage:"Edit property"}),topBorder:l})}}({automationActionMenuStore:o,properties:b,collectionSchema:x,showTopBorder:(0,ne.$K)(V),theme:c,updateCurrentState:s,onClose:l}):void 0,P=M&&j?function(e){const{onUpsellClick:t,showTopBorder:o,theme:n}=e;return{key:"upsell_section",items:[{action:()=>t(),key:"upsell_item",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)("div",{style:{background:n.accentColors.yellow[50],borderRadius:4,height:20,padding:3,width:20},children:(0,T.K)({fill:n.icon.yellow,height:"100%",width:"100%"})}),right:(0,no.J)({height:"auto",marginBlockStart:2,width:12}),rightStyle:{alignSelf:"start"},caption:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Automatically set properties, create new pages, and more with automations.",id:"automationEventActionMenu.upsellSection.caption"}),title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Upgrade for more actions",id:"automationEventActionMenu.upsellSection.title"}),shouldWrapCaption:!0})}],render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:o})}}({onUpsellClick:k,showTopBorder:!_,theme:c}):void 0,I=[V,A].filter(ne.$K),Z={key:"no_results_section",items:[{key:"no_results_item",action:()=>{},render:e=>(0,le.jsx)(Se.Z,{...e,disabled:!0,disabledFeedback:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"automations.automationEventActionMenu.noResultsItem"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e})},F=(_?[P]:0===I.length?[Z,P]:[...I,P]).filter(ne.$K),B=(0,ve.F)({width:266,paddingBottom:2});return B.header=_?void 0:(0,le.jsx)(ao.ZP,{onChange:e=>{C(e.target.value)},placeholder:d.formatMessage(uo.searchInputPlaceholder),style:{marginBlock:"12px 2px"},value:y}),u||(B.maxHeight="50vh"),(0,le.jsx)(ye.Z,{...B,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:F,initialFocus:0})})}var go=o(10450),mo=o(30823),ho=o(6287),So=o(53498),yo=o(32984);const fo=(0,a.defineMessages)({menuHeaderTitle:{defaultMessage:"Set {propertyName} to",id:"automations.eventActionProperty.menuHeaderTitle"}});function Co(e){var t;window.__c={n:"AutomationEventActionProperty"};const{actionId:o,automationActionMenuStore:i,automationStore:s,collectionStore:l,onClose:c,propertyId:d,updateCurrentState:u}=e,p=(0,a.useIntl)(),g=We({automationStore:s,collectionStore:l}),h=o??(0,r.ZP)(),S=(0,m.VK)((()=>l.getSchema()[d]),[l,d]),y=(0,n.useMemo)((()=>!!S&&("multi_select"===S.type||(0,b.en)(S)&&1!==S.limit)),[S]),f=Boolean(S&&"button"!==S.type&&"rollup"!==S.type&&"formula"!==S.type&&"text"===(0,mo.vc)(S.type)),C=Boolean(S&&"button"!==S.type&&"rollup"!==S.type&&"formula"!==S.type&&"number"===(0,mo.vc)(S.type)),x=Boolean(S&&"date"===S.type),v=Boolean(S&&"status"===S.type),w=(0,m.VK)((()=>{if(S)return(0,M.qW)({table:ho.v,id:l.id,spaceId:l.getSpaceId()},d,S)}),[l,S,d]),j=(0,m.VK)((()=>{const e=s.getActionStores();if(h&&e.length>0){const t=e.find((e=>e.id===h));if(t&&t.isType("update_pages"))return t.getConfigStore().getKeyStore("values").getKeyStore(d).getValue()}}),[s,h,d]),[_,k]=(0,n.useState)(j),T=(0,n.useRef)(null==j?void 0:j.value),V=(0,M.A6)(null==_||null===(t=_.value)||void 0===t?void 0:t.value),A=(0,m.VK)((()=>{if(!g)return[];return g.context.automationStore.getActionIds().some((e=>e===h))?g.getContextValuesForAction(h):g.getAllContextValues()}),[g,h]),P=(0,n.useCallback)((e=>{u({action:{id:h,config:{properties:[d],target:{id:(0,go.J0)(),type:"variable"},values:{[d]:{action:"replace",value:e}}},type:"update_pages"},type:"update_action"})}),[h,d,u]),I=(0,n.useCallback)((()=>{P(T.current),c()}),[P,c]),Z=(0,n.useCallback)((e=>{if(T.current=e,f||C||y)k({action:"replace",value:e});else if(x){const t=(0,M.A6)(null==e?void 0:e.value);0===t.length?I():(0,M.S3)(t[0])&&(0,De.fpG)(t[0])&&k({action:"replace",value:e})}}),[x,f,C,y,I]),F=to({automationTriggerActionMenuStore:i,leftStyle:{flexGrow:0},onClose:I,onDone:y||f||C?I:void 0,rightStyle:{flexGrow:0},title:(0,le.jsx)("div",{style:{display:"inline-flex",minWidth:0,whiteSpace:"pre"},children:p.formatMessage(fo.menuHeaderTitle,{propertyName:(0,le.jsx)("div",{style:{...ie.Z.textOverflowStyle},children:(null==S?void 0:S.name)??""})})}),titleStyle:{minWidth:0}});if(!S||!w||!g)return null;const B={type:"collection",collectionStore:l,property:d},L=(0,yo.li)(S.type);return(0,le.jsx)(So.a,{context:B,contextStore:g,currentSimpleFormulaValueTokens:V,disabled:!1,formulaTypecheckContextValues:A,menuProps:F,onChange:Z,onClose:I,showClearButton:!v,type:w,value:null==_?void 0:_.value,...L})}var xo=o(8808);function vo(e){window.__c={n:"AutomationEventActionUpdatePagesMenu"};const{actionId:t,automationActionMenuStore:o,automationStore:i,collectionStore:s,onClose:l,updateCurrentState:c}=e,d=(0,C.z)("update_pages"),u=We({automationStore:i,collectionStore:s}),p=to({automationTriggerActionMenuStore:o,leftStyle:{flexGrow:0},onClose:l,rightStyle:{flexGrow:0},title:(0,le.jsx)(a.FormattedMessage,{...d.display.name})}),g=(0,n.useCallback)((e=>{c({action:{id:(0,r.ZP)(),config:{properties:[],target:e,values:{}},type:"update_pages"},type:"update_action"}),l()}),[l,c]);return u?(0,le.jsx)(ye.Z,{...p,children:(0,le.jsx)(xo.H,{actionId:t,automationContextStore:u,onChange:g,onClose:l,skipPages:!0})}):null}var bo=o(41892),wo=o(77657),jo=o(149),Mo=o(32161),_o=o(42631),ko=o(42922),To=o(18441),Vo=o(80444);function Ao(e){window.__c={n:"AutomationSlackConnectToSlackView"};const{type:t,automationActionMenuStore:o,onClose:n}=e,i=Bo(),r=(0,m.VK)((()=>{var e;return null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),a=(0,m.VK)((()=>Vo.default.state.currentUserStore),[]),s=(0,m.VK)((()=>{if("connectToSlackReconnect"===t&&a)return(0,St.Kv)(a,{table:Mo.P,id:e.externalBotId,spaceId:r}).getValue()}),[r,a,e,t]);let l,c=Fo({viewType:"connectToSlackDefault"});if("connectToSlackReconnect"===t){if(!s)return null;const{accountName:e,organizationName:t}=(0,To.jg)(s);l=(0,To.jc)(s),c=Fo({viewType:"connectToSlackReconnect",accountName:e,organizationName:t})}return(0,le.jsx)(Xt,{type:"custom",automationTriggerActionMenuStore:o,onClose:n,children:(0,le.jsx)(Ce.Z,{children:(0,le.jsxs)("div",{style:i.container,children:[(0,le.jsx)(Io,{}),(0,le.jsxs)("div",{style:i.connectToSlackBody,children:[(0,le.jsx)("div",{style:i.connectToSlackTitleText,children:Zo(t)}),(0,le.jsx)("div",{style:i.connectToSlackDescriptionText,children:c})]}),(0,le.jsx)(Po,{...e,slackWorkspaceId:l})]})})})}function Po(e){window.__c={n:"AuthActionButtons"};const{automationActionMenuStore:t,slackWorkspaceId:o}=e,n=(0,g.O7)(),i=Bo(),r=(0,m.VK)((()=>{var e;return null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),s=(0,m.VK)((()=>Dt.Z.integrations.state.find((e=>e.id===wo.nO))),[]);return s&&r?(0,le.jsxs)("div",{style:i.buttonGroup,children:[(0,le.jsx)(ko.Z,{style:i.connectToSlackButton,isLarge:!0,onClick:async()=>{const i=await _o.hM({environment:n,integration:s,spaceId:r,from:"collection_view_settings",options:{slackWorkspaceId:o}});jo.x.isFail(i)?t.replaceSettingsItem({type:"selectWorkspace"}):"connectToSlackReconnect"===e.type||("connectToSlackDefault"===e.type?i.value.externalAuthentication?t.replaceSettingsItem({type:"selectChannelNew",currentExternalAuthentication:i.value.externalAuthentication}):t.replaceSettingsItem({type:"selectWorkspace"}):(0,ne.t1)(e))},children:(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettingsSetupSlackView.connectToSlackView.connectButton.label",defaultMessage:"Connect"})}),(0,le.jsx)(qt.Z,{style:i.cancelButton,isLarge:!0,onClick:()=>{t.popSettingsItem()},children:(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettingsSetupSlackView.connectToSlackView.cancelButton.label",defaultMessage:"Cancel"})})]}):null}function Io(){window.__c={n:"SlackIcon"};const e=Bo();return(0,le.jsx)("div",{children:(0,le.jsx)("img",{src:bo.Z.images.externalIntegrations.slackIconPng,style:e.slackIcon})})}function Zo(e){return"connectToSlackDefault"===e?(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettingsSetupSlackView.connectToSlackView.title",defaultMessage:"Connect to Slack"}):"connectToSlackReconnect"===e?(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettingsSetupSlackView.connectToSlackView.reconnect.title",defaultMessage:"Reconnect to Slack"}):void(0,ne.t1)(e)}function Fo(e){const{viewType:t}=e;return"connectToSlackDefault"===t?(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettingsSetupSlackView.connectToSlackView.description",defaultMessage:"Get notified in channels, see rich previews, and more."}):"connectToSlackReconnect"===t?(0,le.jsx)(a.FormattedMessage,{id:"AutomationSlackConnectToSlackView.reconnect.description",defaultMessage:'Reconnect your Slack account ({accountName}) on {hasOrganizationName, select, true {"{organizationName}"} other {your Slack workspace}} to resume your notifications.',values:{accountName:e.accountName,hasOrganizationName:(0,ne.$K)(e.organizationName),organizationName:e.organizationName}}):void(0,ne.t1)(t)}function Bo(){return(0,h.yK)((e=>({container:{display:"flex",flexDirection:"column",margin:"10px 15px",justifyContent:"center",textAlign:"center"},connectToSlackBody:{margin:"0px 25px"},connectToSlackTitleText:{marginBottom:2,fontWeight:ie.Z.fontWeight.semibold},connectToSlackDescriptionText:{fontSize:13,color:e.mediumTextColor},slackIcon:{width:23,height:"auto"},buttonGroup:{margin:"10px 10px 0px 10px"},connectToSlackButton:{width:"100%"},cancelButton:{color:e.mediumTextColor,width:"100%",justifyContent:"center",fontWeight:ie.Z.fontWeight.medium,fontSize:13,marginTop:8}})),[])}var Lo=o(82114),Do=o(36591),Ko=o(35840),Ro=o(54642),Oo=o(92595);class Ho extends Rt.default{getStateForBot(e){return this.state[e]??{channels:{},fetching:!1,lastRefreshed:0}}updateStateForBot(e,t){this.setState({...this.state,[e]:{...this.getStateForBot(e),...t}})}addChannelsForBot(e,t){const o=this.getStateForBot(e);this.setState({...this.state,[e]:{...o,channels:{...o.channels,...t}}})}}const No=new Ho;(0,Oo.exposeDebugValue)("ExternalNotificationChannelsStore",No);const Eo=No;var Wo=o(68785),zo=o(33411);const Go=(0,a.defineMessages)({channelSearchPlaceholder:{id:"notificationRuleSettings.selectChannelView.searchInput.placeholder",defaultMessage:"Search…"}});function Uo(e){window.__c={n:"SlackSelectChannelView"};const{currentNotificationChannel:t,onNotificationChannelSelect:o,onClose:i,onNewSlackAccountAdded:r,renderMenu:s,channelFilter:l}=e,c=(0,g.O7)(),{isMobile:d}=(0,g.Fy)(),u=(0,m.VK)((()=>Dt.Z.completeSlackAuthentications.state),[]),p=e.currentExternalAuthentication??$e.Ps(u);n.useEffect((()=>{p&&async function(e){const{environment:t,botId:o,spaceId:n}=e,i=Eo.getStateForBot(o);if(i.fetching||Date.now()-i.lastRefreshed<15e3)return;let r;Eo.updateStateForBot(o,{fetching:!0,lastRefreshed:Date.now()});for(;;){const e=await Ro.getExternalNotificationChannels(t,{botId:o,spaceId:n,cursor:r});if("success"!==e.type){console.error(e.error);break}{const t={};for(const o of e.data.channels)t[o.id]=o;if(Eo.addChannelsForBot(o,t),r=e.data.cursor,!r)break}}Eo.updateStateForBot(o,{fetching:!1})}({environment:c,botId:p.id,spaceId:p.space_id})}),[c,p]);const[S,y]=n.useState(""),{loadedChannelsForAccount:f,isLoading:C}=(0,m.VK)((()=>{if(!p)return{loadedChannelsForAccount:[],isLoading:!1};const e=Eo.getStateForBot(p.id);return{loadedChannelsForAccount:Object.values(e.channels),isLoading:e.fetching}}),[p]),x=(0,m.VK)((()=>Dt.Z.integrations.state.find((e=>e.id===wo.nO))),[]),v=(0,m.VK)((()=>{var e;return null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),b=n.useCallback((e=>{p&&o(e,p),i()}),[o,p,i]),w=(0,h.yK)((e=>({icon:{marginLeft:8,width:12,height:12,color:e.lightTextColor},container:{backgroundColor:e.popoverBackground,marginTop:12,marginBottom:6},searchIcon:{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,color:e.regularIconColor}})),[]),j=n.useCallback((e=>{const{channel:o}=e;return{key:o.id,render:e=>(0,le.jsx)(Se.Z,{...e,icon:qo({channel:o,styles:w.icon}),desktopIconStyle:{width:8},title:o.name,right:o.id===(null==t?void 0:t.id)&&(0,Do.e)(w.icon)}),action:()=>{b(o)}}}),[b,w.icon,t]),{publicChannels:M,privateChannels:_,personalChannels:k}=n.useMemo((()=>function(e,t){const o=[],n=[],i=[];for(const r of e)t&&!t(r)||("public"===r.type?o.push(r):"private"===r.type?n.push(r):"me"===r.type?i.push(r):(0,ne.t1)(r.type));return{publicChannels:o,privateChannels:n,personalChannels:i}}(f,l)),[l,f]),T=n.useCallback((()=>M.map((e=>({menuListItem:j({channel:e}),channelName:e.name})))),[M,j]),V=n.useCallback((()=>_.map((e=>({menuListItem:j({channel:e}),channelName:e.name})))),[_,j]),A=n.useCallback((()=>k.map((e=>({menuListItem:j({channel:e}),channelName:e.name})))),[k,j]),P=n.useCallback((()=>T().map((e=>{let{menuListItem:t,channelName:o}=e;if($o({channelName:o,query:S}))return t})).filter(ne.$K)),[T,S]),I=n.useCallback((()=>V().map((e=>{let{menuListItem:t,channelName:o}=e;if($o({channelName:o,query:S}))return t})).filter(ne.$K)),[V,S]),Z=n.useCallback((()=>A().map((e=>{let{menuListItem:t,channelName:o}=e;if($o({channelName:o,query:S}))return t})).filter(ne.$K)),[A,S]),F=n.useCallback((()=>{if(!p)return[];const e=[],t=P(),o=I(),n=Z();return n.length>0&&e.push({key:"personal-channels",render:e=>(0,le.jsx)(Ce.Z,{...e,title:(0,To.jg)(p).organizationName}),items:n}),t.length>0&&e.push({key:"public-channels",render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:n.length>0,title:0===n.length&&(0,To.jg)(p).organizationName}),items:t}),o.length>0&&e.push({key:"private-channels",render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:t.length>0,title:0===n.length&&t.length>0&&(0,To.jg)(p).organizationName}),items:o}),e}),[P,I,Z,p]);if(!p||!x)return null;const B=[{key:"search-input-section",items:[{key:"search-input-item",action:()=>{},render:e=>(0,le.jsx)("div",{children:(0,le.jsx)(ao.ZP,{...e,inputLeft:(0,le.jsx)(ao.f_,{icon:Ko.R}),inputRight:(0,le.jsx)(zo.Z,{show:C,showDelay:500,showHold:300,render:e=>e&&(0,le.jsx)(Wo.Z,{style:{marginRight:2}})}),showClearButton:!0,placeholder:Ne.default.formatMessage(Go.channelSearchPlaceholder),focusInitial:!d,value:S,onChange:e=>{y(e.target.value)}})})}],render:e=>(0,le.jsx)(Ce.Z,{...e})},...F()];return t||B.push({key:"add-another-slack-account-section",items:[{key:"add-another-slack-account-item",action:async()=>{if(!v)return;const e=await _o.hM({environment:c,integration:x,spaceId:v,from:"collection_view_settings"});jo.x.isFail(e)||r()},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)("img",{src:bo.Z.images.externalIntegrations.slackIconPng,style:{width:18,height:"auto"}}),title:(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettings.selectChannelView.setupAnotherSlackAccount.label",defaultMessage:"Add another Slack account"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})}),(0,le.jsx)(le.Fragment,{children:s(B)})}function $o(e){const{channelName:t,query:o}=e;return 0===o.length||t.toLocaleLowerCase().indexOf(o.trim().toLocaleLowerCase())>=0}function qo(e){const{channel:t,styles:o}=e;return"private"===t.type?(0,Ft.b)(o):"me"===t.type?(0,Lo.p)(o):(0,W.J)(o)}function Yo(e){window.__c={n:"AutomationSlackSelectChannelView"};const{automationActionMenuStore:t,updateCurrentAutomationState:o,onClose:i}=e,s="selectChannelUpdate"===e.type?e.actionId:void 0,l=n.useCallback(((e,t)=>{o({type:"update_action",action:{id:s??(0,r.ZP)(),type:"slack_notification",config:{target:e,external_bot_id:t.parent_id}}}),i()}),[s,i,o]),c=(0,n.useCallback)((()=>{const e=t.getState().stack;e.length<2||("selectWorkspace"===e[e.length-2].type?t.popSettingsItem():t.replaceSettingsItem({type:"selectWorkspace"}))}),[t]);return(0,le.jsx)(Uo,{currentExternalAuthentication:e.currentExternalAuthentication,currentNotificationChannel:"selectChannelNew"===e.type?void 0:"selectChannelUpdate"===e.type?e.currentNotificationChannel:(0,ne.t1)(e),onClose:i,onNotificationChannelSelect:l,onNewSlackAccountAdded:c,renderMenu:e=>(0,le.jsx)(Xt,{type:"default",automationTriggerActionMenuStore:t,headerTitle:(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettings.selectChannelView.title",defaultMessage:"Select Slack channel"}),sections:e,onClose:i})})}o(30541);const Xo=(0,a.defineMessages)({workspaceSearchPlaceholder:{id:"notificationRuleSettings.selectWorkspaceView.searchInput.placeholder",defaultMessage:"Search…"}});function Qo(e){window.__c={n:"SlackSelectWorkspaceView"};const{onWorkspaceSelect:t,renderMenu:o,workspaceFilter:i,onNewSlackAccountAdded:r}=e,s=(0,g.O7)(),{isMobile:l}=(0,g.Fy)(),c=(0,m.VK)((()=>{var e;return null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),d=(0,m.VK)((()=>(0,To.P9)(Dt.Z.completeSlackAuthentications.state,i)),[i]),u=(0,m.VK)((()=>Dt.Z.integrations.state.find((e=>e.id===wo.nO))),[]),[p,S]=n.useState(""),y=(0,h.yK)((e=>({chevronRight:{width:12,height:"auto",color:e.lightIconColor}})),[]);if(!u)return null;const f=Object.entries((0,To.YJ)(d,p)).map(((e,o)=>{let[n,i]=e;return{key:n,items:i.map((e=>{let{workspaceName:o,externalAuthentication:n}=e;return{key:n.id,action:()=>{t(n)},render:e=>(0,le.jsx)(Se.Z,{...e,title:o??(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettings.selectWorkspace.untitledWorkspace",defaultMessage:"Slack workspace"}),right:(0,io.o)(y.chevronRight)})}})),render:e=>(0,le.jsx)(Ce.Z,{...e,title:n,topBorder:0!==o})}}));return f.unshift({key:"search-input-section",items:[{key:"search-input-item",action:()=>{},render:e=>(0,le.jsx)("div",{children:(0,le.jsx)(ao.ZP,{...e,inputLeft:(0,le.jsx)(ao.f_,{icon:Ko.R}),showClearButton:!0,placeholder:Ne.default.formatMessage(Xo.workspaceSearchPlaceholder),focus:!l||void 0,value:p,onChange:e=>{S(e.target.value)}})})}],render:e=>(0,le.jsx)(Ce.Z,{...e})}),f.push({key:"add-another-slack-account-section",items:[{key:"add-another-slack-account-item",action:async()=>{if(!c)return;const e=await _o.hM({environment:s,integration:u,spaceId:c,from:"collection_view_settings"});jo.x.isFail(e)||e.value.externalAuthentication&&(t(e.value.externalAuthentication),null==r||r())},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)("img",{src:bo.Z.images.externalIntegrations.slackIconPng,style:{width:18,height:"auto"}}),title:(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettings.selectWorkspaceView.setupAnotherSlackAccount.label",defaultMessage:"Add another Slack account"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})}),(0,le.jsx)(le.Fragment,{children:o(f)})}function Jo(e){const{automationActionMenuStore:t,onClose:o}=e,i=n.useCallback((e=>{t.pushSettingsItem({type:"selectChannelNew",currentExternalAuthentication:e})}),[t]);return(0,le.jsx)(Qo,{onWorkspaceSelect:i,renderMenu:e=>(0,le.jsx)(Xt,{type:"default",automationTriggerActionMenuStore:t,headerTitle:(0,le.jsx)(a.FormattedMessage,{id:"notificationRuleSettings.selectSlackWorkspace.title",defaultMessage:"Select Slack workspace"}),sections:e,onClose:o})})}function en(e){window.__c={n:"AutomationActionMenuController"};const{automationStore:t,collectionStore:o,initialState:i,updateCurrentAutomationState:r,buttonPopupParent:a}=e,s=(0,m.VK)((()=>{const e=new Nt;return e.setState({stack:[i]}),e}),[i]),l=(0,m.VK)((()=>s.getCurrentTab()),[s]),c=(0,n.useCallback)((()=>a.close()),[a]);if(!l)return null;if("connectToSlackDefault"===l.type)return(0,le.jsx)(Ao,{type:"connectToSlackDefault",automationActionMenuStore:s,onClose:c});if("connectToSlackReconnect"===l.type)return(0,le.jsx)(Ao,{type:"connectToSlackReconnect",externalBotId:l.externalBotId,notificationActionConfigStore:l.notificationActionConfigStore,automationActionMenuStore:s,onClose:c});if("selectWorkspace"===l.type)return(0,le.jsx)(Jo,{automationActionMenuStore:s,onClose:c});if("selectChannelNew"===l.type)return(0,le.jsx)(Yo,{type:"selectChannelNew",updateCurrentAutomationState:r,currentExternalAuthentication:l.currentExternalAuthentication,automationActionMenuStore:s,onClose:c});if("selectChannelUpdate"===l.type)return(0,le.jsx)(Yo,{type:"selectChannelUpdate",updateCurrentAutomationState:r,actionId:l.actionId,currentExternalAuthentication:l.currentExternalAuthentication,currentNotificationChannel:l.currentNotificationChannel,automationActionMenuStore:s,onClose:c});if("eventActions"===l.type)return(0,le.jsx)(po,{availableActions:l.availableActions,automationActionMenuStore:s,automationStore:t,collectionStore:o,onClose:c,updateCurrentState:r});if("eventActionProperty"===l.type){const{propertyId:e,actionId:n}=l;return(0,le.jsx)(Co,{actionId:n,automationActionMenuStore:s,automationStore:t,collectionStore:o,onClose:c,propertyId:e,updateCurrentState:r})}return"eventActionCreatePage"===l.type?(0,le.jsx)(oo,{automationStore:t,automationActionMenuStore:s,collectionStore:o,onClose:c,updateCurrentState:r}):"eventActionUpdatePages"===l.type?(0,le.jsx)(vo,{actionId:l.actionId,automationActionMenuStore:s,automationStore:t,collectionStore:o,onClose:c,updateCurrentState:r}):(0,ne.t1)(l)}const tn=(0,a.defineMessages)({slackNonOwnerPrivateChannel:{id:"slackNotificationAction.slackTargetPersonalChannel.displayName",defaultMessage:"Private channel"}});function on(e){window.__c={n:"SlackNotificationAction"};const{actionStore:t,automationStore:o,collectionStore:n,currentUserIsOwner:i,disabled:r,updateCurrentAutomationState:s}=e,l=(0,Kt.d)(),c=(0,m.VK)((()=>t.getConfig()),[t]),d=(0,m.VK)((()=>Dt.Z.completeSlackAuthentications.state.find((e=>(null==c?void 0:c.external_bot_id)===e.id))),[c]),u=(0,m.VK)((()=>"disabled_auth"===(null==o?void 0:o.getStatus())),[o]),p=(0,m.VK)((()=>c&&d&&c.target?o&&t&&c.external_bot_id&&u?{type:"connectToSlackReconnect",externalBotId:c.external_bot_id,notificationActionConfigStore:t}:{type:"selectChannelUpdate",actionId:t.id,currentExternalAuthentication:d,currentNotificationChannel:c.target}:{type:"connectToSlackDefault"}),[c,t,o,d,u]),g=rn();return i?(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,popupType:l,render:e=>(0,le.jsx)(en,{automationStore:o,initialState:p,updateCurrentAutomationState:s,buttonPopupParent:e,collectionStore:n}),renderOrigin:e=>(0,le.jsx)(Te,{...e,disabled:r,onClick:()=>{e.onClick()},title:(0,le.jsx)(nn,{actionStore:t,currentUserIsOwner:i}),icon:Z.P,caption:u&&(0,le.jsxs)("div",{style:g.container,children:[(0,Bt.t)(g.warningIcon),(0,le.jsx)("div",{style:g.caption,children:(0,le.jsx)(a.FormattedMessage,{id:"SlackNotificationAction.caption.reconnectNeeded",defaultMessage:"Reconnect Slack to resume"})})]}),onEdit:()=>{e.onClick()},onDelete:()=>{s({type:"remove_action",action:{id:t.id,type:"slack_notification"}})}})}):(0,le.jsx)(Te,{disabled:!0,icon:Z.P,title:(0,le.jsxs)("div",{style:g.container,children:[(0,le.jsx)("div",{style:{fontWeight:500,marginRight:4},children:(0,le.jsx)(a.FormattedMessage,{id:"slackNotificationAction.actionTitle.slackNotification",defaultMessage:"Notify"})}),(0,le.jsx)(sn,{actionStore:t,isUserAutomationOwner:i})]})})}function nn(e){window.__c={n:"SlackActionTitle"};const{actionStore:t,currentUserIsOwner:o}=e,n=rn(),i=(0,m.VK)((()=>t.getConfig()),[t]);return i&&i.external_bot_id&&i.target?(0,le.jsxs)("div",{style:n.container,children:[(0,le.jsx)("div",{style:{fontWeight:500,marginRight:4},children:(0,le.jsx)(a.FormattedMessage,{id:"slackNotificationAction.actionTitle.slackNotification",defaultMessage:"Notify"})}),(0,le.jsx)(sn,{actionStore:t,isUserAutomationOwner:o})]}):(0,le.jsx)("div",{style:n.container,children:(0,le.jsx)(a.FormattedMessage,{id:"slackNotificationAction.actionTitle.slackNotificationPlaceholder",defaultMessage:"Send Slack notification to…"})})}function rn(){return(0,h.yK)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,gap:4},caption:{fontSize:12,fontWeight:400,color:e.mediumTextColor},warningIcon:{width:12,height:"auto",color:e.accentColors.orange[400]}})),[])}function an(e){const{isMobile:t}=e,o=t?ie.Z.fontSize.UISmall.mobile:ie.Z.fontSize.UISmall.desktop;return(0,h.yK)((()=>({overflow:{...ie.Z.textOverflowStyle},container:{display:"inline-flex",alignItems:"baseline",gap:2},lockIcon:{width:o,height:"auto",alignSelf:"center"}})),[o])}function sn(e){window.__c={n:"SlackChannelWithIcon"};const{actionStore:t,isUserAutomationOwner:o}=e,n=(0,g.O7)(),i=(0,m.VK)((()=>Boolean((0,Lt.IJ)(n,t))),[t,n]),r=(0,m.VK)((()=>{var e;return null===(e=t.getConfig())||void 0===e?void 0:e.target}),[t]);return!r||i?(0,le.jsx)(un,{}):"public"===r.type?(0,le.jsx)(ln,{channelName:r.name}):"private"===r.type?(0,le.jsx)(cn,{channelName:r.name,isUserAutomationOwner:o}):"me"===r.type?(0,le.jsx)(dn,{channelName:r.name,isUserAutomationOwner:o}):(0,ne.t1)(r.type)}function ln(e){window.__c={n:"PublicSlackChannel"};const{isMobile:t}=(0,g.Fy)(),o=an({isMobile:t});return(0,le.jsx)("span",{style:o.overflow,children:`#${e.channelName}`})}function cn(e){window.__c={n:"PrivateSlackChannel"};const{channelName:t,isUserAutomationOwner:o}=e,{isMobile:n}=(0,g.Fy)(),i=an({isMobile:n});return o?(0,le.jsxs)("span",{style:{...i.overflow,...i.container},children:[(0,Ft.b)(i.lockIcon),t]}):(0,le.jsx)(un,{})}function dn(e){window.__c={n:"MeSlackChannel"};const{channelName:t,isUserAutomationOwner:o}=e,{isMobile:n}=(0,g.Fy)(),i=an({isMobile:n});return o?(0,le.jsx)("span",{style:i.overflow,children:`@${t}`}):(0,le.jsx)(un,{})}function un(){window.__c={n:"NonOwnerPrivateChannel"};const e=(0,a.useIntl)(),{isMobile:t}=(0,g.Fy)(),o=an({isMobile:t}),n=e.formatMessage(tn.slackNonOwnerPrivateChannel);return(0,le.jsxs)("span",{style:{...o.overflow,...o.container},children:[(0,Ft.b)(o.lockIcon),n]})}function pn(e){window.__c={n:"UnsupportedPropertyTriggerAction"};const{disabled:t,onClick:o,onDelete:i,propertySchema:r}=e,a=(0,h.Fg)(),s="light"===a.mode?50:200,l="light"===a.mode?700:900,c=(0,h.yK)((e=>{const t="light"===e.mode?400:800;return{warning:{color:e.accentColors.orange[t]},title:{flexShrink:1,fontSize:12,fontWeight:ie.Z.fontWeight.medium},titleWrap:{display:"flex"}}}),[]),d=gn({propertySchema:r}),u=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,icon:e=>(0,Bt.t)({...e,...c.warning}),onClick:o,onDelete:i,title:(0,le.jsx)("div",{style:c.titleWrap,children:(0,le.jsx)(j.ZP,{backgroundColor:a.accentColors.yellow[s],color:a.accentColors.yellow[l],format:j.lo.Medium,isSingle:!0,shouldShrink:!0,style:c.title,theme:a,value:d})})})),[s,t,o,i,c.title,c.titleWrap,c.warning,l,a,d]);return(0,le.jsx)(Pe,{renderOrigin:u,title:d,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function gn(e){const{propertySchema:t}=e,o=lo.SO[t.type];return(0,le.jsx)(a.FormattedMessage,{id:"UnsupportedPropertyTriggerAction.unsupportedProperty.title",defaultMessage:"{propertyType} property not supported",values:{propertyType:o}})}function mn(e){const{checkboxValue:t}=e,o=!0===t?(0,ae.c$e)({width:12}):(0,ae.UmH)({width:10}),n=!0===t?(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyChecked}):(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyUnchecked});return(0,le.jsx)(ce,{icon:o,shouldTruncateChildren:!0,children:n})}function hn(e){const{filter:t,propertySchema:o,onEdit:n,onDelete:i,disabled:r}=e;if("changes_to_any"===t.operator)return(0,le.jsx)(Qe,{disabled:r,propertySchema:o,onClick:n,onEdit:n,onDelete:i});{const e={filter:t,propertySchema:o,onEdit:n,onDelete:i,disabled:r};return(0,le.jsx)(Sn,{...e})}}function Sn(e){window.__c={n:"ParametrizableCheckboxPropertyTriggerFilter"};const{filter:t,propertySchema:o,onEdit:i,onDelete:r,disabled:s}=e,l=(0,a.useIntl)(),c=(0,h.yK)((()=>({content:{alignItems:"center",display:"flex",whiteSpace:"pre",lineHeight:"24px"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]);let d,u;(0,v.vR)(t)&&(d=function(e){const{filter:t,intl:o,propertySchema:n,styles:i}=e,r=n.name,a=t.value,s={propertyName:(0,le.jsx)("span",{style:i.propertyName,children:r}),propertyValues:(0,le.jsx)(mn,{checkboxValue:a.value??!1})};return(0,de.vz)(o,s)}({filter:t,intl:l,propertySchema:o,styles:c}),u=yn({filter:t,intl:l,propertySchema:o}));const p=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:s,icon:Xe.wG[o.type],onClick:i,onEdit:i,onDelete:r,title:(0,le.jsx)("div",{style:c.content,children:d})})),[s,r,i,o.type,c.content,d]);return d&&u?(0,le.jsx)(Pe,{renderOrigin:p,title:u,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left}):null}function yn(e){const{filter:t,intl:o,propertySchema:n}=e,i={propertyName:n.name,propertyValues:!0===t.value.value?(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyChecked}):(0,le.jsx)(a.FormattedMessage,{...de.Bo.actionCheckboxPropertyUnchecked})};return(0,de.vz)(o,i)}function fn(e){const{filter:t,propertySchema:o,onEdit:n,onDelete:i,disabled:r}=e;if("changes_to_any"===t.operator)return(0,le.jsx)(Qe,{disabled:r,propertySchema:o,onClick:n,onEdit:n,onDelete:i});{const e={filter:t,propertySchema:o,onEdit:n,onDelete:i,disabled:r};return(0,le.jsx)(Cn,{...e})}}function Cn(e){window.__c={n:"ParametrizableSelectPropertyTriggerFilter"};const{filter:t,propertySchema:o,onEdit:i,onDelete:r,disabled:s}=e,l=(0,a.useIntl)(),c=(0,h.yK)((()=>({content:{alignItems:"baseline",display:"flex",flexWrap:"wrap",whiteSpace:"pre",lineHeight:"24px"},propertyName:{...ie.Z.textOverflowStyle,fontWeight:ie.Z.fontWeight.semibold}})),[]);let d,u;if((0,v.vR)(t)){const e=t.value,n=o.name,i=(Array.isArray(e)?e:[e]).map((e=>e.value)).filter(ne.$K),r=xn({intl:l,limit:5,optionValues:i,propertySchema:o}),a=l.formatList(r,{style:"long",type:"disjunction"}),s=xn({intl:l,isText:!0,limit:5,optionValues:i,propertySchema:o}),p=l.formatList(s,{style:"long",type:"disjunction"});d=(0,de.XJ)(l,{propertyName:(0,le.jsx)("span",{style:c.propertyName,children:n}),propertyValues:nt(a)}),u=(0,de.XJ)(l,{propertyName:(0,le.jsx)("span",{style:c.propertyName,children:n}),propertyValues:nt(p)})}const p=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:s,icon:Xe.wG[o.type],onClick:i,onDelete:r,onEdit:i,title:(0,le.jsx)("div",{style:c.content,children:d})})),[s,r,i,o.type,c.content,d]);return d&&u?(0,le.jsx)(Pe,{renderOrigin:p,title:u,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left}):null}function xn(e){let{intl:t,isText:o,limit:n,optionValues:i,propertySchema:r,tokenFormat:a=j.lo.Medium}=e;const s=r.options??[],l=i.map((e=>{const n=(0,w.i7)(s,e);return n?o?n.value:(0,le.jsx)(qe.a,{value:n.value,color:n.color,format:a,isSingle:!0,showRemoveButton:!1},n.id):o?(0,de.ST)(t):(0,le.jsx)(Ye.Z,{tokenFormat:a},`missing_option_value_${e}`)}));let c;if(void 0!==n&&l.length>n){const e=l.length-n,t=o?`+${e}`:(0,le.jsx)(Oe.Z,{format:j.lo.Medium,isRound:!0,isSingle:!0,showRemoveButton:!1,value:`+${e}`},"More tokens");c=[...l.slice(0,n),t]}else c=l;return c}var vn=o(13005),bn=o(42917),wn=o(16354),jn=o(62385),Mn=o(63474),_n=o(77080),kn=o(98963),Tn=o(47307),Vn=o(9953),An=o(2553),Pn=o(24215);const In=(0,a.defineMessages)({automationDeleteConfirmationMessage:{id:"slackAutomations.remove.confirmation.message",defaultMessage:"Are you sure you want to delete {automationName}?"},automationDeleteAcceptLabel:{id:"slackAutomations.remove.confirmation.acceptLabel",defaultMessage:"Delete"}});async function Zn(e){const{intl:t,environment:o,collectionStore:n,existingAutomationStore:i,triggerType:r,onDelete:a}=e,l=i.getNameWithDefault(t);(await Tn.confirmUserActionV2({message:t.formatMessage(In.automationDeleteConfirmationMessage,{automationName:l}),acceptLabel:t.formatMessage(In.automationDeleteAcceptLabel)})).accept&&(!function(e){const{environment:t,triggerType:o,collectionStore:n,existingAutomationStore:i}=e;d.createAndCommit({environment:t,userAction:"collectionSettingsAutomationsActions.deleteAutomation",perform:e=>{const t=n.getFormatStore().getKeyStore("automation_ids"),o=St.Mz.createChildStore(n,i.pointer);d.applyOperation({store:t,operation:{pointer:t.pointer,path:t.path,command:"listRemove",args:{id:o.id}},transaction:e}),Vn.sW({store:o,data:{alive:!1},transaction:e})}});const r=(0,Pn.mc)(t),a=Dn({automationStore:i,collectionStore:n});y.uO(r,a),"notification_event"===o&&s.xim(t,{type:"granular",source:"collection_view_settings",collection_id:n.id})}({environment:o,triggerType:r,collectionStore:n,existingAutomationStore:i}),null==a||a())}function Fn(e){const{automationStore:t,collectionStore:o,environment:n}=e;d.createAndCommit({environment:n,userAction:"collectionSettingsAutomationsActions.disableAutomation",perform:e=>{const n=St.Mz.createChildStore(o,t.pointer);Vn.sW({store:n,data:{status:"disabled"},transaction:e})}});const i=(0,Pn.mc)(n),r=Dn({automationStore:t,collectionStore:o});y.ai(i,r)}function Bn(e){const{automationStore:t,collectionStore:o,environment:n}=e;d.createAndCommit({environment:n,userAction:"collectionSettingsAutomationsActions.enableAutomation",perform:e=>{const n=St.Mz.createChildStore(o,t.pointer);Vn.sW({store:n,data:{status:"active"},transaction:e})}});const i=(0,Pn.mc)(n),r=Dn({automationStore:t,collectionStore:o});y.Rt(i,r)}function Ln(e){return 1===e.length&&e[0].isType("slack_notification")?"notification_event":"event"}function Dn(e){const{automationStore:t,collectionStore:o}=e,n=o.getSchema(),i=t.getActionStores().map((e=>{return e.isType("slack_notification")?{type:"slack_notification"}:e.isType("update_pages")?{property_types:((null===(t=e.getConfig())||void 0===t?void 0:t.properties)??[]).map((e=>{var t;return null===(t=n[e])||void 0===t?void 0:t.type})).filter(ne.$K),type:"update_pages"}:e.isType("create_page")?{property_types:((null===(o=e.getConfig())||void 0===o?void 0:o.properties)??[]).map((e=>{var t;return null===(t=n[e])||void 0===t?void 0:t.type})).filter(ne.$K),type:"create_page"}:void 0;var t,o})).filter(ne.$K),r=t.getTriggerStore().getValue(),a=[];if("event"===(null==r?void 0:r.type)||"notification_event"===(null==r?void 0:r.type)){const{pagesAdded:e,pagePropertiesEdited:t}=r.event;e&&a.push({type:"page"}),"any"===t.type?a.push({condition:"any",type:"property"}):"none"===t.type?a.push({condition:"none",type:"property"}):a.push({condition:"some",property_types:t.some.map((e=>{var t;return null===(t=n[e.property])||void 0===t?void 0:t.type})).filter(ne.$K),type:"property"})}let s;if(t.isTriggerType("event")||t.isTriggerType("notification_event")){const e=t.getTriggerStore().getKeyStore("event").getKeyStore("source").getValue();e&&"collection_view"===e.type&&(s=e.pointer.id)}return{automation_actions:i,automation_id:t.id,automation_triggers:a,collection_id:o.id,collection_view_id:s}}var Kn=o(33907),Rn=o(12589),On=o(44736),Hn=o(88437);const Nn=(0,a.defineMessages)({automationSummaryCardMoreButtonAriaLabel:{defaultMessage:"More",id:"automations.AutomationSummaryCard.MoreActionsButton.ariaLabel"},automationSummaryCardMoreMenuEditTitle:{defaultMessage:"Edit",id:"automations.AutomationSummaryCard.MoreActionsMenu.Edit.title"},automationSummaryCardMoreMenuDuplicateTitle:{defaultMessage:"Duplicate",id:"automations.AutomationSummaryCard.MoreActionsMenu.Duplicate.title"},automationSummaryCardMoreMenuPauseTitle:{defaultMessage:"Pause",id:"automations.AutomationSummaryCard.MoreActionsMenu.Pause.title"},automationSummaryCardMoreMenuResumeTitle:{defaultMessage:"Resume",id:"automations.AutomationSummaryCard.MoreActionsMenu.Resume.title"},automationSummaryCardMoreMenuDeleteTitle:{defaultMessage:"Delete",id:"automations.AutomationSummaryCard.MoreActionsMenu.Delete.title"}});function En(e){window.__c={n:"AutomationSummaryMoreActionsButton"};const{focused:t,style:o,onEdit:i,onDelete:r,onDuplicate:s,onDisable:l,onEnable:c}=e,d=(0,a.useIntl)(),u=(0,m.qz)(void 0,xe.Z),p=(0,Kt.d)();(0,n.useEffect)((()=>{t||u.setState({open:!1})}),[t,u]);const g=(0,h.yK)((e=>({iconButton:{border:`1px solid ${e.regularDividerColor}`,height:26,width:26,...o},iconButtonIcon:{width:16}})),[o]);return(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(we.ZP,{stopClickPropagation:!0,popupType:p,alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,originGap:0,renderOrigin:e=>(0,le.jsx)(je.Z,{ariaLabel:d.formatMessage(Nn.automationSummaryCardMoreButtonAriaLabel),icon:be.o,iconStyle:g.iconButtonIcon,style:g.iconButton,hasBackground:!0,...e}),render:e=>(0,le.jsx)(Wn,{onClose:()=>e.close(),onEdit:i,onDelete:r,onDuplicate:s,onDisable:l,onEnable:c}),buttonPopupStore:u})})}function Wn(e){window.__c={n:"MoreActionsMenu"};const{onClose:t,onEdit:o,onDelete:n,onDuplicate:i,onDisable:r,onEnable:s}=e,l=(0,a.useIntl)(),c=(0,ve.F)(),d=o?{action:()=>{t(),o()},key:"edit",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,P.R)({height:16,width:16}),title:l.formatMessage(Nn.automationSummaryCardMoreMenuEditTitle)})}:void 0,u=i?{action:()=>{t(),i()},key:"duplicate",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,Hn.a)({height:16,width:16}),title:l.formatMessage(Nn.automationSummaryCardMoreMenuDuplicateTitle)})}:void 0,p=r?{action:()=>{t(),r()},key:"disable",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,On.g)({height:16,width:16}),title:l.formatMessage(Nn.automationSummaryCardMoreMenuPauseTitle)})}:void 0,g=s?{action:()=>{t(),s()},key:"enable",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,Rn.M)({height:16,width:16}),title:l.formatMessage(Nn.automationSummaryCardMoreMenuResumeTitle)})}:void 0,m=n?{action:()=>{t(),n()},key:"delete",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,ge.y)({height:16,width:16}),title:l.formatMessage(Nn.automationSummaryCardMoreMenuDeleteTitle)})}:void 0;return(0,le.jsx)(ye.Z,{...c,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:[{items:[d,u,p,g,m].filter(ne.$K),key:"items",render:e=>(0,le.jsx)(Ce.Z,{enableActionSheetTitle:!0,topBorder:!0,...e})}],initialFocus:0})})}var zn=o(75024);function Gn(e){window.__c={n:"AutomationSummaryCard"};const{actions:t,caption:o,focused:i,hasWarning:r,maxIcons:a,onBlur:s,onClick:l,onDelete:c,onDisable:d,onDuplicate:u,onEdit:p,onEnable:m,onFocus:S,onMouseDown:y,onMouseEnter:f,onMouseLeave:C,title:x,triggers:v}=e,{isMobile:b}=(0,g.Fy)(),w=(0,n.useRef)(null),[j,M]=(0,ue.Z)(),[_,k]=(0,pe.Z)(),[T,V]=(0,n.useState)(!1),A=b||T||M||k,P=(0,h.yK)((e=>({wrap:{background:e.cardContentBackground,border:`1px solid ${e.regularDividerColor}`,borderRadius:8,display:"flex",flexDirection:"column",gap:15,padding:15,position:"relative"},moreButtonWrap:{display:A?"block":"none",position:"absolute",right:8,top:8},iconList:{display:"flex",flexWrap:"wrap",gap:5,listStyle:"none",margin:"0 30px 0 0",padding:0},body:{display:"flex",flexDirection:"column",gap:b?4:2},titleWrap:{...r?{alignItems:"center",display:"inline-flex",gap:4}:(0,zn.pd)(2),fontSize:b?16:14,fontWeight:ie.Z.fontWeight.medium,lineHeight:"130%"},title:{...r?ie.Z.textOverflowStyle:{}},warning:{color:e.accentColors.orange[400],height:"auto",width:b?16:14},caption:{...(0,zn.pd)(2),color:e.lightTextColor,fontSize:b?14:12,fontWeight:ie.Z.fontWeight.regular,lineHeight:"130%",margin:0}})),[r,A,b]),I=(0,n.useCallback)((e=>{V(!0),f&&f(e)}),[f]),Z=(0,n.useCallback)((e=>{V(!1),C&&C(e)}),[C]);(0,n.useEffect)((()=>{i&&null!==w.current&&w.current.focus()}),[i]);const F=(0,me.lq)(w,j,_),B=function(e){const{actionIcons:t,maxIcons:o,triggerIcons:n}=e,i=n.length,r=t.length,a=i>0&&r>0,s=Math.max(o,3),l=a?s-1:s;let c=Math.max(Math.floor(l/2),1),d=Math.max(Math.ceil(l/2),1);if(i<c&&r>d){d+=c-i,c=i}else if(r<d&&i>c){c+=d-r,d=r}const u=[];if(i>0)if(i>c)if(1===c)u.push({color:"gray",type:"truncate",value:i});else{const e=i-(c-1);u.push(...n.slice(0,c-1)),u.push({color:"gray",type:"truncate",value:e})}else u.push(...n);a&&u.push({type:"arrow"});if(r>0)if(r>d)if(1===d)u.push({color:"gray",type:"truncate",value:r});else{const e=r-(d-1);u.push(...t.slice(0,d-1)),u.push({color:"gray",type:"truncate",value:e})}else u.push(...t);return u}({actionIcons:t,maxIcons:Jn(a),triggerIcons:v}),L=Boolean(c||d||m||u||p);return(0,le.jsxs)(he.Z,{onBlur:s,onClick:l,onFocus:S,onMouseDown:y,onMouseEnter:I,onMouseLeave:Z,ref:F,style:P.wrap,children:[(0,le.jsxs)("header",{children:[L&&(0,le.jsx)("div",{style:P.moreButtonWrap,children:(0,le.jsx)(En,{focused:A,onDelete:c,onDisable:d,onEnable:m,onDuplicate:u,onEdit:p})}),(0,le.jsx)("ul",{"aria-hidden":"true",style:P.iconList,children:B.map(((e,t)=>(0,le.jsx)("li",{children:(0,le.jsx)(Un,{icon:e})},t)))})]}),(0,le.jsxs)("div",{style:P.body,children:[(0,le.jsxs)("div",{style:P.titleWrap,children:[(0,le.jsx)("span",{style:P.title,children:x}),r&&(0,Bt.t)(P.warning)]}),o&&(0,le.jsx)("p",{style:P.caption,children:o})]})]})}function Un(e){const{icon:t}=e;return"property"===t.type||"page"===t.type||"misc"===t.type?(0,le.jsx)($n,{color:t.color,icon:t.icon}):"person"===t.type?(0,le.jsx)(Qn,{actor:t.actor}):"app"===t.type?(0,le.jsx)(Yn,{color:"default",icon:t.icon}):"arrow"===t.type?(0,le.jsx)(qn,{}):"truncate"===t.type?(0,le.jsx)(Xn,{color:t.color,value:t.value}):void(0,ne.t1)(t.type)}function $n(e){window.__c={n:"StandardIcon"};const{color:t,icon:o}=e,n=ei(t);return(0,le.jsx)("div",{"aria-hidden":"true",style:n.iconWrap,children:o(n.icon)})}function qn(){window.__c={n:"ArrowIcon"};const e=ei("default");return(0,le.jsx)("div",{style:{...e.iconWrap,...e.iconArrowWrap},children:(0,Kn.n)({...e.icon,...e.iconArrow})})}function Yn(e){window.__c={n:"AppIcon"};const{icon:t}=e,o=ei("default");return(0,le.jsx)("div",{"aria-hidden":"true",style:o.iconAppWrap,children:t(o.iconApp)})}function Xn(e){window.__c={n:"TruncateIcon"};const{color:t,value:o}=e,n=ei(t);return(0,le.jsxs)("div",{style:{...n.iconWrap,...n.truncateWrap},children:["+",o]})}function Qn(e){window.__c={n:"PersonIcon"};const{actor:t}=e,o=ei("default");return(0,le.jsx)("div",{"aria-hidden":"true",style:o.iconPersonWrap,children:(0,le.jsx)(ct.ZP,{actor:t,avatarSize:26,format:ct.ZP.Format.Inline,isSingle:!1,showRemoveButton:!1,style:{margin:0}})})}function Jn(e){return void 0===e||e<0?6:e}function ei(e){const t="default"===e?"gray":e;return(0,h.yK)((e=>{const o="light"===e.mode?400:800,n="light"===e.mode?100:400;return{icon:{fill:e.accentColors[t][o],width:16},iconWrap:{background:e.accentColors[t][n],borderRadius:6,padding:6},iconApp:{width:14},iconAppWrap:{borderRadius:6,borderWidth:1,borderStyle:"solid",borderColor:e.accentColors.gray[n],padding:6},iconPerson:{display:"block",width:"100%"},iconPersonWrap:{alignItems:"center",display:"flex",height:28,justifyContent:"center",width:28},iconArrow:{fill:e.accentColors.gray[600]},iconArrowWrap:{background:void 0},truncateWrap:{alignItems:"center",background:e.accentColors.gray[n],color:e.accentColors[t][o],display:"inline-flex",fontSize:12,fontWeight:ie.Z.fontWeight.semibold,height:28,justifyContent:"center",padding:3,width:28}}}),[t])}const ti=(0,a.defineMessages)({automationTabTitle:{defaultMessage:"Automations",id:"database.viewSettings.automationTab.title"},automationTabFilterButton:{defaultMessage:"Filter",id:"database.viewSettings.automationTab.filterButton"},automationTabAddFilterButton:{defaultMessage:"Add filter",id:"database.viewSettings.automationTab.addFilterButton"},automationTabFilterMenuSearchInputPlaceholder:{defaultMessage:"Filter by…",id:"database.viewSettings.automationTab.filterMenuSearchInputPlaceholder"},automationTabFilterMenuNoResults:{defaultMessage:"No results",id:"database.viewSettings.automationTab.filterMenuNoResults"},automationNewAutomationTitle:{defaultMessage:"New automation",id:"database.viewSettings.automationTab.newAutomationTitle"},automationLearnAutomationTitle:{defaultMessage:"Learn about automations",id:"database.viewSettings.automationTab.learnAutomationTitle"},automationDisabledCaption:{defaultMessage:"Paused",id:"database.viewSettings.automationTab.disabledCaption"},automationEmptyViewEditorPublic:{defaultMessage:"Automatically set status, assignees, property values and more with automations",id:"database.viewSettings.automationTab.automationEmptyViewEditorPublic"},automationEmptyViewReadOnly:{defaultMessage:"You're a content viewer. Content viewers cannot create automations.",id:"database.viewSettings.automationTab.automationEmptyViewReadOnly"},automationEmptyViewContentOnly:{defaultMessage:"You're a content editor. Content editors can edit pages, but cannot create automations.",id:"database.viewSettings.automationTab.automationEmptyViewContentOnly"},automationSearchPlaceholder:{defaultMessage:"Search for an automation…",id:"database.viewSettings.automationTab.automationSearchPlaceholder"}});function oi(e){window.__c={n:"CollectionSettingsAutomationsView"};const{collectionContextStore:t,collectionSettingsStore:o,tabSettings:i}=e,r=(0,a.useIntl)(),s=(0,Mn.D)(),{isMobile:c}=(0,g.Fy)(),[d,u]=(0,n.useState)(""),S=(0,m.VK)((()=>t.collectionStore()),[t]),f=(0,m.VK)((()=>t.collectionViewBlockStore()),[t]),v=(0,m.VK)((()=>S&&S.id),[S]),b=(0,m.VK)((()=>null==S?void 0:S.getSchema()),[S]),w=(0,m.VK)((()=>null==S?void 0:S.getFormat()),[S]),j=(0,m.VK)((()=>function(e){const{collectionStore:t,collectionViewBlockStore:o}=e;if(!t||!o)return[];const n=t.getAutomationStores(),i=[];for(const r of n){const e=r.getModel();null!=e&&e.getAlive()&&((r.isTriggerType("event")||r.isTriggerType("notification_event"))&&i.push(r))}return i}({collectionStore:S,collectionViewBlockStore:f})),[S,f]),M=(0,m.VK)((()=>function(e){const{automationStores:t,collectionSchema:o,intl:n}=e,i=new Map,r=[];for(const l of t){var a;if(!l.isDefined())continue;const e=[],t=l.getName();void 0!==t&&e.push(t);const c=null===(a=l.getOwnerStore())||void 0===a?void 0:a.getDisplayName(n);if(void 0!==c&&e.push(c),l.isTriggerType("event")||l.isTriggerType("notification_event")){const t=l.getEventConfiguration(),i=null==t?void 0:t.pagePropertiesEdited;if("some"===(null==i?void 0:i.type))for(const n of i.some){const t=null==o?void 0:o[n.property];t&&e.push(`${t.name} ${lo.SO[t.type]}`)}const r=l.getActionStores();for(const a of r){const t=a.getType();if(t){const o=(0,C.z)(t);(0,x.Xp)(o)&&e.push(n.formatMessage(o.display.name))}if(a.isType("create_page")||a.isType("update_pages")){var s;const t=a.getConfig();null==t||null===(s=t.properties)||void 0===s||s.forEach((t=>{const n=null==o?void 0:o[t];n&&e.push(`${n.name} ${lo.SO[n.type]}`)}))}}}const d=e.join(" ");i.set(l.id,d),r.push(d)}return function(e){const o=new Set(p().filter(e,r).map((e=>{let{original:t}=e;return t})));return t.filter((0,ne.AO)((e=>{if(!e.isTriggerType("event")&&!e.isTriggerType("notification_event"))return{false:e};const t=i.get(e.id);return t&&o.has(t)?{true:e}:{false:e}})))}}({automationStores:j,collectionSchema:b,intl:r})),[j,b,r]),_=(0,m.VK)((()=>M(d)),[M,d]),k=(0,m.VK)((()=>He.Li({collectionStore:S})),[S]),T=(0,n.useCallback)((()=>{l.H4({collectionSettingsStore:o,item:{type:"automationCreateSettings"}})}),[o]),A=(0,n.useCallback)((e=>u(e.target.value)),[]),P=(0,n.useCallback)((()=>{s&&v&&y.qu(s,{collection_id:v})}),[s,v]);(0,n.useEffect)((()=>{if(!s||!v)return;const e="collection_table_header"===i.source?{property_type:i.propertyType,source:i.source}:{source:i.source};y.d(s,{...e,collection_id:v}),_n.default.logEvent("automation_list_view","true")}),[s,v,i]);const[Z,F]=n.useState(!1),B=(0,m.VK)((()=>function(e){var t;const o=null===(t=Vo.default.state.currentUserStore)||void 0===t?void 0:t.pointer,n=[],i=[];for(const r of e){const e=r.getCreatedByPointer();o&&e&&oe.dr.isEqual(o,e)?n.push(r):i.push(r)}return n.sort(((e,t)=>t.getLastEditedTime()-e.getLastEditedTime())),i.sort(((e,t)=>t.getLastEditedTime()-e.getLastEditedTime())),{currentUserAutomations:n,otherUserAutomations:i}}(_)),[_]),L=(0,n.useMemo)((()=>{const{currentUserAutomations:e,otherUserAutomations:t}=B;return Z?[...e,...t]:e.length>0?e:t}),[B,Z]),D=_.length-L.length,K=!Z&&D>0,R=L.length>0,O=!R&&!(""!==d),H=(0,h.yK)((e=>({buttonList:{display:"flex",flexDirection:"column",flexShrink:1,gap:12,overflow:"hidden auto",paddingBlockEnd:c?0:12,paddingBlockStart:c?12:0,paddingInline:12},emptyViewWrap:{paddingBlockEnd:42,paddingInline:12},menuScrollerStyle:{marginBlockStart:c?12:8},wrap:{display:"flex",flexDirection:"column"},showMoreButtonContainer:{marginLeft:12,marginBottom:12,marginRight:"auto"},showMoreButtonContent:{fontSize:12},noResultsTitle:{color:e.text.secondary,fontSize:12,margin:0}})),[c]);return S&&b&&w&&f?(0,le.jsx)(vn.ZP,{...e,header:!O&&(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(ao.ZP,{focusInitial:!c,onChange:A,placeholder:r.formatMessage(ti.automationSearchPlaceholder),showClearButton:!0,value:d})}),footer:(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[k&&(0,le.jsx)(bn.Z,{icon:I.R,onClick:T,title:r.formatMessage(ti.automationNewAutomationTitle),isGray:!0}),(0,le.jsx)(wn.Z,{href:"https://www.notion.so/help/database-automations",external:!0,onClick:P,children:(0,le.jsx)(bn.Z,{icon:V.m,title:r.formatMessage(ti.automationLearnAutomationTitle),isGray:!0})})]}),menuScrollerStyle:H.menuScrollerStyle,title:R||d?r.formatMessage(ti.automationTabTitle):null,children:(0,le.jsx)("div",{style:H.wrap,children:O?(0,le.jsx)("div",{style:H.emptyViewWrap,children:(0,le.jsx)(ni,{collectionStore:S})}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("div",{style:H.buttonList,children:L.length>0?L.map(((e,n)=>(0,le.jsx)(ri,{collectionContextStore:t,collectionStore:S,collectionSettingsStore:o,focused:!1,schema:b,automationStore:e},e.id))):(0,le.jsx)("p",{style:H.noResultsTitle,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"collectionSettings.automationsView.noResults"})})}),K&&(0,le.jsx)(jn.Z,{style:H.showMoreButtonContainer,onClick:e=>{e.stopPropagation(),F(!0)},children:(0,le.jsx)("div",{style:H.showMoreButtonContent,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.automationsView.showMore",defaultMessage:"Show {number} more",values:{number:D}})})})]})})}):null}function ni(e){window.__c={n:"EmptyView"};const{collectionStore:t}=e,o=(0,g.O7)(),n=(0,h.yK)((e=>({wrap:{alignItems:"center",display:"flex",flexDirection:"column",gap:7.5,justifyContent:"center",minHeight:250,textAlign:"center"},icon:{fill:e.icon.yellow,height:24,width:24},title:{fontSize:17,fontWeight:ie.Z.fontWeight.medium,margin:0},copy:{color:e.text.secondary,fontSize:14,margin:0,lineHeight:1.5}})),[]),i=(0,m.VK)((()=>t.getRole()),[t]);let r;return r=(0,m.VK)((()=>Boolean((0,Lt.IJ)(o,t))),[t,o])||!i||"editor"===i?ti.automationEmptyViewEditorPublic:"reader"===i||"comment_only"===i?ti.automationEmptyViewReadOnly:"content_only_editor"===i||"read_and_write"===i?ti.automationEmptyViewContentOnly:ti.automationEmptyViewEditorPublic,(0,le.jsxs)("div",{style:n.wrap,children:[(0,le.jsx)("div",{"aria-hidden":!0,children:(0,T.K)(n.icon)}),(0,le.jsx)("p",{style:n.title,children:(0,le.jsx)(a.FormattedMessage,{...ti.automationTabTitle})}),(0,le.jsx)("p",{style:n.copy,children:(0,le.jsx)(a.FormattedMessage,{...r})})]})}const ii={text:X.p,number:W.J,url:ee.O,file:R.Z,date:D.V,person:z.O,email:K.n,phone_number:G.u,checkbox:F.r,select:q.w,multi_select:E.A,status:Y.T,relation:U.v,rollup:$.G,formula:O.D,created_time:B.I,created_by:L.H,title:Q.c,last_edited_time:B.I,last_edited_by:L.H,last_visited_time:B.I,button:Y.T,auto_increment_id:H.A,location:N.w,verification:te.f,ai_summary:k.Y,ai_custom_prompt:A.y,ai_extract:E.A,ai_translate:_.Q};function ri(e){window.__c={n:"AutomationSummaryCardWrapper"};const{automationStore:t,collectionContextStore:o,collectionStore:i,collectionSettingsStore:r,focused:s,schema:c}=e,d=(0,a.useIntl)(),u=(0,g.O7)(),p=We({automationStore:t,collectionStore:i}),h=(0,m.VK)((()=>!!(i&&t&&p)&&He.qk({automationContextStore:p,automationStore:t,collectionStore:i})),[p,t,i]),y=(0,m.VK)((()=>t.getActionStores()),[t]),C=(0,m.VK)((()=>t.getTriggerStore().getValue()),[t]),x=(0,m.VK)((()=>t.getNameWithDefault(d)),[d,t]),_=(0,m.VK)((()=>"active"===t.getStatus()),[t]),k=(0,m.VK)((()=>o.aliveAutomationCount.state),[o]),T=(0,m.VK)((()=>He.i1({actionStores:y,automationStore:t})),[y,t]),V=(0,m.VK)((()=>He.qM({automationStore:t})),[t]),A=(0,n.useCallback)((async()=>{await Zn({collectionStore:i,environment:u,existingAutomationStore:t,intl:d,triggerType:"event",onDelete:()=>{1===k&&l.wl({collectionSettingsStore:r,item:{type:"main"}})}})}),[d,u,i,r,t,k]),F=(0,n.useCallback)((()=>{Fn({automationStore:t,collectionStore:i,environment:u})}),[i,u,t]),B=(0,n.useCallback)((()=>{l.H4({collectionSettingsStore:r,item:{type:"automationEditSettings",automationId:t.id}})}),[r,t]),L=(0,n.useCallback)((()=>{Bn({automationStore:t,collectionStore:i,environment:u})}),[i,u,t]),D=(0,n.useMemo)((()=>C?function(e){const{schema:t,triggerConfig:o}=e;if("notification_event"!==o.type&&"event"!==o.type)return[];const n=[];o.event.pagesAdded&&n.push({color:"blue",icon:I.R,type:"page"});const i=o.event.pagePropertiesEdited;if("any"===i.type)n.push({color:"blue",icon:P.R,type:"misc"});else if("some"===i.type)for(const r of i.some){const e=t[r.property],o=r.filter;if(!e)continue;if(!f.Ym[e.type]){n.push({color:"gray",icon:gi(e.type),type:"property"});continue}const i=b.gB(e),a=b.cu(e);if("changes_to_any"===o.operator)n.push({color:i||a?"gray":"blue",icon:gi(e.type),type:"property"});else if(i&&!v.mv(o)&&v.r2(o)){const t=v.wB(o);if(t.length>1)n.push({color:"gray",icon:gi(e.type),type:"property"});else if(1===t.length){const o=t[0];if("is_group"===o.type){const t=(e.groups??[]).find((e=>e.name===o.value));t&&n.push({color:t.color??"gray",icon:gi(e.type),type:"property"})}else{const t=(e.options??[]).find((e=>e.value===o.value));t&&n.push({color:t.color??"gray",icon:gi(e.type),type:"property"})}}}else if(a&&!v.mv(o)&&(v.dx(o)||v.NU(o))){const t=v.dx(o)?v.mg(o):v.qC(o);if(1===t.length){const o=t[0],i=(e.options??[]).find((e=>e.value===o.value));i&&n.push({color:i.color??"gray",icon:gi(e.type),type:"property"})}else t.length>1&&n.push({color:"gray",icon:gi(e.type),type:"property"})}}return n}({schema:c,triggerConfig:C}):[]),[c,C]),K=(0,m.VK)((()=>function(e){const{actionStores:t,collectionStore:o,schema:n}=e,i=[];for(const c of t)if(c.isType("slack_notification"))i.push({icon:Z.P,type:"app"});else if(c.isType("update_pages")){const e=c.getConfig(),t=(null==e?void 0:e.properties)??[];if(1===t.length){var r,a;const l=t[0],c=n[l],d=null==e||null===(r=e.values)||void 0===r?void 0:r[l];if(!c||!d)continue;if(!f.SF(c)){i.push({color:"gray",icon:gi(c.type),type:"property"});continue}const u=(0,M.A6)(null===(a=d.value)||void 0===a?void 0:a.value);if(b.gB(c)){const e=(c.options||[]).find((e=>e.value===u[0]));e&&i.push({color:e.color??"gray",icon:gi(c.type),type:"property"})}else if(b.cu(c))if(1===u.length){const e=(c.options||[]).find((e=>e.value===u[0]));e&&i.push({color:e.color??"gray",icon:gi(c.type),type:"property"})}else u.length>1&&i.push({color:"gray",icon:gi(c.type),type:"property"});else if(b.KR(c)){var s;const e=(0,w.DW)({textValue:null===(s=d.value)||void 0===s?void 0:s.value,propertySchema:c,blockCreatorPointer:void 0}).map((e=>(0,S.Hl)({pointer:e,getRecordValue:o.getRecordValue})));1===e.length?i.push({actor:e[0],type:"person"}):i.push({color:"gray",icon:gi(c.type),type:"property"})}else i.push({color:"gray",icon:gi(c.type),type:"property"})}else t.length>1&&i.push({color:"gray",icon:P.R,type:"misc"})}else if(c.isType("create_page")){var l;(null===(l=c.getConfig())||void 0===l?void 0:l.collection)&&i.push({color:"blue",icon:I.R,type:"page"})}return i}({actionStores:y,collectionStore:i,schema:c})),[c,i,y]),R=(0,m.VK)((()=>_?p&&function(e){const{environment:t,actionStores:o,automationContextStore:n,collectionStore:i,canUserManageAutomation:r,intl:s,schema:l,triggerConfig:c}=e;if(!c||"event"!==c.type&&"notification_event"!==c.type)return;const{event:d}=c,u=[];d.pagesAdded&&u.push(de.Mz(s));if("none"===d.pagePropertiesEdited.type);else if("any"===d.pagePropertiesEdited.type)u.push(de.c5(s));else if("some"===d.pagePropertiesEdited.type)for(const a of d.pagePropertiesEdited.some){const e=l[a.property];if(!e){u.push(de.nf(s));continue}if(!f.Ym[e.type]){u.push(gn({propertySchema:e}));continue}const{filter:t}=a;if("changes_to_any"===t.operator)u.push(de.$G(s,{propertyName:e.name}));else if(f.bD(e))if("status"===e.type){if(!v.r2(t)||!v.vR(t))continue;const o=v.wB(t),n=ot({intl:s,groupValues:o.map((e=>"is_group"===e.type?e.value:void 0)).filter(ne.$K),isText:!0,optionValues:o.map((e=>"is_option"===e.type?e.value:void 0)).filter(ne.$K),propertySchema:e,tokenFormat:j.lo.Small}),i=s.formatList(n,{style:"long",type:"disjunction"});u.push(de.VO(s,{propertyName:e.name,propertyValues:i}))}else if("select"===e.type||"multi_select"===e.type){if(v.mv(t)||!v.dx(t)&&!v.NU(t))continue;const o=xn({intl:s,isText:!0,optionValues:(Array.isArray(t.value)?t.value:[t.value]).map((e=>e.value)).filter(ne.$K),propertySchema:e,tokenFormat:j.lo.Small}),n=s.formatList(o,{style:"long",type:"disjunction"});u.push(de.XJ(s,{propertyName:e.name,propertyValues:n}))}else if("checkbox"===e.type){if(!v.XA(t))continue;u.push(yn({filter:t,propertySchema:e,intl:s}))}else(0,ne.t1)(e)}const p=s.formatList(u,{style:"long",type:"disjunction"}),g=[];for(const S of o)if(S.isType("slack_notification"))g.push((0,le.jsx)(a.FormattedMessage,{defaultMessage:"notify {channel}",id:"CollectionSettingsAutomationsView.summaryCard.slackAction",values:{channel:(0,le.jsx)(sn,{actionStore:S,isUserAutomationOwner:r})}}));else if(S.isType("update_pages")){const e=S.getConfig(),o=null==e?void 0:e.properties,r=null==e?void 0:e.values,c=null==e?void 0:e.target;if(!o||0===o.length||!c)continue;if("collection"===c.type)if((0,oe.qo)(c.collection,i.pointer))g.push((0,le.jsx)(a.FormattedMessage,{defaultMessage:"edit pages in this collection",id:"automation.summaryCard.updatePages.sameCollection"}));else{const e=St.NW.createChildStore(i,c.collection),o=(0,ht.vU)({environment:t,intl:s,store:e});g.push((0,le.jsx)(a.FormattedMessage,{defaultMessage:"edit pages in {collectionTitle}",id:"automation.summaryCard.updatePages.differentCollection",values:{collectionTitle:o}}))}else if("variable"===c.type){const e=o[0],t=l[e],a=null==r?void 0:r[e];if(!t){g.push(de.aD(s));continue}if(!a)continue;if(f.SF(t))if("person"===t.type)g.push((0,le.jsx)(ai,{collectionStore:i,propertyActionValue:a,propertySchema:t}));else if("status"===t.type){const e=(0,le.jsx)(si,{propertyActionValue:a,propertySchema:t});e&&g.push(e)}else if("select"===t.type||"multi_select"===t.type)g.push((0,le.jsx)(li,{propertyActionValue:a,propertySchema:t}));else if("checkbox"===t.type)g.push((0,le.jsx)(ci,{propertyActionValue:a,propertySchema:t}));else if("relation"===t.type)g.push((0,le.jsx)(di,{automationContextStore:n,collectionStore:i,propertyActionValue:a,propertySchema:t}));else if("date"===t.type){const o=(0,le.jsx)(ui,{automationContextStore:n,collectionStore:i,propertyActionValue:a,propertyId:e,propertySchema:t});o&&g.push(o)}else"number"===t.type||"phone_number"===t.type||"text"===t.type||"title"===t.type||"email"===t.type||"url"===t.type?g.push((0,le.jsx)(pi,{automationStore:n.context.automationStore,propertyActionValue:a,propertySchema:t})):(0,ne.t1)(t);else g.push(gn({propertySchema:t}))}}else if(S.isType("create_page")){var m;const e=null===(m=S.getConfig())||void 0===m?void 0:m.collection;if(!e)continue;e.id===i.pointer.id?g.push((0,le.jsx)(a.FormattedMessage,{defaultMessage:"create a page in this database",id:"automation.summaryCard.createPageThisDatabase"})):g.push((0,le.jsx)(a.FormattedMessage,{defaultMessage:"create a page in another database",id:"automation.summaryCard.createPageAnotherDatabase"}))}const h=s.formatList(g,{style:"long",type:"conjunction"});return s.formatMessage({defaultMessage:"When {triggers}, {actions}.",id:"automation.summaryCard.caption"},{actions:h,triggers:p})}({environment:u,actionStores:y,automationContextStore:p,canUserManageAutomation:T,collectionStore:i,intl:d,schema:c,triggerConfig:C}):d.formatMessage(ti.automationDisabledCaption)),[_,p,u,y,T,i,d,c,C]),O=(0,m.VK)((()=>{if(!t.isTriggerType("event")&&!t.isTriggerType("notification_event"))return!0;return!t.getTrigger()||He.vM({automationStore:t,collectionStore:i})}),[t,i]),H=!_||O,N=(0,n.useCallback)((e=>(0,n.createElement)(Gn,{...e,key:t.id,actions:K,caption:R,focused:s,hasWarning:H,onClick:B,onDelete:V?A:void 0,onDisable:_&&V&&h?F:void 0,onEdit:T?B:void 0,onEnable:!_&&V&&h?L:void 0,title:x,triggers:D})),[K,t.id,T,V,R,s,H,_,h,A,F,B,L,x,D]);return(0,le.jsx)(Pe,{caption:R,renderOrigin:N,title:x,tooltipAlignment:re.Z.Alignment.Start,tooltipPlacement:re.Z.Placement.Bottom})}function ai(e){window.__c={n:"PersonActionTitle"};const{collectionStore:t,propertyActionValue:o,propertySchema:n}=e,i=(0,a.useIntl)(),r=(0,m.VK)((()=>ut({getRecordModel:t.getRecordModel,propertySchema:n,value:o.value})),[t.getRecordModel,o.value,n]),s=(0,m.VK)((()=>pt({actors:r,intl:i,propertySchema:n})),[r,i,n]);return s||null}function si(e){var t;window.__c={n:"StatusActionTitle"};const{propertyActionValue:o,propertySchema:n}=e,i=(0,M.A6)(null===(t=o.value)||void 0===t?void 0:t.value)[0],r=bt({intl:(0,a.useIntl)(),propertySchema:n,value:i});return r||null}function li(e){var t,o;window.__c={n:"MultiSelectActionTitle"};const{propertyActionValue:n,propertySchema:i}=e,r=(0,a.useIntl)(),s=null!==(t=n.value)&&void 0!==t&&t.value?(0,M.A6)(null===(o=n.value)||void 0===o?void 0:o.value):[],l=de.oJ({limit:st,propertySchema:i,optionValues:s.map((e=>"string"==typeof e?e:void 0)).filter(ne.$K)});return(0,m.VK)((()=>at({intl:r,propertySchema:i,values:l})),[r,l,i])}function ci(e){const{propertyActionValue:t,propertySchema:o}=e;return Ze({propertySchema:o,value:t.value})}function di(e){window.__c={n:"RelationActionTitle"};const{automationContextStore:t,collectionStore:o,propertyActionValue:n,propertySchema:i}=e,r=(0,a.useIntl)(),s=(0,g.O7)(),l=n.value,c=(0,m.VK)((()=>t.getAllContextValues()),[t]);return(0,m.VK)((()=>Ct({automationContextValues:c,collectionStore:o,environment:s,intl:r,propertySchema:i,value:l})),[c,o,s,r,i,l])}function ui(e){window.__c={n:"DateActionTitle"};const{automationContextStore:t,collectionStore:o,propertyActionValue:i,propertyId:r,propertySchema:s}=e,l=(0,a.useIntl)(),c=i.value,d=(0,n.useMemo)((()=>({type:"collection",collectionStore:o,property:r})),[o,r]),u=(0,m.VK)((()=>Ge({automationContextStore:t,intl:l,propertySchema:s,value:c,valueContext:d})),[t,l,s,c,d]);return u||null}function pi(e){window.__c={n:"TextActionTitle"};const{automationStore:t,propertyActionValue:o,propertySchema:n}=e,i=(0,g.O7)(),r=(0,h.Fg)(),a=(0,m.VK)((()=>kt({automationStore:t,environment:i,propertySchema:n,theme:r,value:o.value})),[t,i,o.value,n,r]);return a||null}function gi(e){return(0,ne.$K)(e)?ii[e]??J.S:J.S}var mi=o(64964);function hi(e){window.__c={n:"AutomationEmptyStepButton"};const{icon:t,onClick:o,title:n}=e,i=(0,h.yK)((e=>({button:{alignItems:"center",border:`1px dashed ${e.stroke.regular}`,borderRadius:6,display:"flex",color:e.accentColors.gray[900],gap:6,justifyContent:"center",padding:16},iconWrap:{fill:e.accentColors.gray[600]},title:{fontSize:14,lineHeight:1.3}})),[]);return(0,le.jsxs)(he.Z,{onClick:o,style:i.button,children:[t&&(0,le.jsx)("div",{"aria-hidden":"true",style:i.iconWrap,children:t}),(0,le.jsx)("div",{style:i.title,children:n})]})}function Si(e){window.__c={n:"AutomationActionSelectButton"};const{automationStore:t,initialState:o,updateCurrentAutomationState:n,collectionStore:i}=e,r=(0,Kt.d)();return i?(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,popupType:r,render:e=>(0,le.jsx)(en,{automationStore:t,buttonPopupParent:e,collectionStore:i,initialState:o,updateCurrentAutomationState:n}),renderOrigin:e=>(0,le.jsx)(yi,{...e})}):(0,le.jsx)(yi,{onClick:()=>{}})}function yi(e){return(0,le.jsx)(hi,{...e,icon:(0,I.R)({height:24,width:12}),title:(0,le.jsx)(a.FormattedMessage,{id:"AutomationActionSelectButton.actionSection.addAction",defaultMessage:"Add action"})})}var fi=o(73657),Ci=o(1136),xi=o(45669),vi=o(31278),bi=o(78316);function wi(e){window.__c={n:"AutomationCollectionSelectMenu"};const{selectedSourcePointer:t,collectionContextStore:o,onSelect:i,disabled:r}=e,{isMobile:s}=(0,g.Fy)(),l=(0,a.useIntl)(),c=(0,g.O7)(),[d,u]=n.useState(""),p=(0,m.VK)((()=>o.collectionStore()),[o]),S=(0,m.VK)((()=>o.collectionViewBlockStore()),[o]),y=(0,m.VK)((()=>S&&p?S.getCollectionViewStores().filter((e=>{var t;const o=null===(t=e.getCollectionStore())||void 0===t?void 0:t.pointer;return(null==o?void 0:o.id)===p.id})):[]),[S,p]),f=(0,m.VK)((()=>{if(!p)return[];let e;t&&"collection_view"===t.table&&(e=St.Xr.createChildStore(p,t));return $e.mN([...y,e].filter(ne.$K),(e=>{let{id:t}=e;return t})).filter((e=>(0,bi.D)(e,d)))}),[p,y,d,t]),C=(0,m.VK)((()=>{if(p&&(0,lo.r_)({collectionStore:p,environment:c,intl:l,queryForFilter:d}))return function(e){const{collectionStore:t,environment:o,selectedSourcePointer:n,onSelect:i,isMobile:r,intl:s}=e,l=t.getIcon(),c=(0,ht.vU)({environment:o,intl:s,store:t}),d=n&&"collection"===n.table&&n.id===t.id,u=t.getSpaceShardedPointer();return{key:"collection",items:[{key:t.id,action:()=>{u&&i(u)},render:e=>(0,le.jsx)(Se.Z,{...e,icon:l&&(0,le.jsx)(vi.Z,{isEmptyPage:!1,size:r?18:16,disabled:!0,icon:l}),title:c,caption:(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.collection.caption",defaultMessage:"Any page in this database",values:{collectionName:c}}),right:d&&(0,Do.e)({width:12,height:"auto"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})}}({collectionStore:p,environment:c,selectedSourcePointer:t,onSelect:i,isMobile:s,intl:l})}),[p,c,l,s,i,d,t]),x=function(e){const{menuListItems:t}=e;if(0===t.length)return;return{key:"collection-views",items:t,render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})}}({menuListItems:(0,m.VK)((()=>p&&S&&y?function(e){const{blockStore:t,filteredCollectionViewStores:o,collectionStore:n,selectedSourcePointer:i,onSelect:r,intl:s}=e,l=n.getSchema();return[...o.map((e=>{const o=e.getSpaceShardedPointer();if(e.isDefined()&&o){const c=i&&"collection_view"===i.table&&i.id===o.id,d=(0,He.rU)({collectionViewStore:e,collectionSchema:l}),u=(0,ne.$K)(d),p=e.getType(),g=e.getFormat().collection_view_icon,m=e.getName(),h=(o,n)=>(0,le.jsx)(Se.Z,{...o,...n,icon:(0,le.jsx)(Ci.F,{color:"lightGray",viewType:p,viewIcon:g}),title:(0,le.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,gap:4},children:[(0,le.jsx)(xi.Z,{collectionViewType:p,collectionViewName:m}),u&&c&&(0,Bt.t)({width:16,height:"auto"})]}),caption:(0,le.jsx)(Mi,{blockStore:t,collectionViewStore:e,intl:s,collectionSchema:l,referencesIncompatibleProperties:u}),right:c&&(0,Do.e)({width:12,height:"auto"}),disabled:u,disabledFeedback:u});let S;if(u&&d){var n;const e=null===(n=l[d])||void 0===n?void 0:n.type,t=e?lo.SO[e]:void 0,o=t?(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.tooltip.incompatibleFiltersWarning.specific",defaultMessage:"{propertyTypeName} properties are not supported",values:{propertyTypeName:t}}):(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.tooltip.incompatibleFiltersWarning.default",defaultMessage:"Some properties are not supported"});S=e=>(0,le.jsx)(re.Z,{placement:re.Z.Placement.Right,renderTooltip:()=>o,render:t=>h(e,t)})}else S=h;return{key:e.id,action:()=>{r(o)},render:S}}}))].filter(ne.$K)}({blockStore:S,collectionStore:p,filteredCollectionViewStores:f,selectedSourcePointer:t,onSelect:i,intl:l}):[]),[S,p,y,f,l,i,t])}),v={key:"search",items:[{key:"search_item",action:()=>{},render:()=>(0,le.jsx)(ao.ZP,{value:d,focus:!0,style:j.searchBar,textWrapperStyle:j.searchText,onChange:e=>u(e.target.value),placeholder:l.formatMessage({defaultMessage:"Search for a view...",id:"collectionViewSelect.viewSearch.label"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e})};let b;(0,ne.$K)(C)||(0,ne.$K)(x)||(b={key:"no-results-section",items:[{key:"no-results-item",action:$e.ZT,render:()=>(0,le.jsx)(fi.Z,{caption:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"collectionViewSelect.noResults.title"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})});const w=[v,C,x,b].filter(ne.$K),j=function(e){return(0,h.yK)((t=>({button:{marginTop:8},buttonPopup:{width:e?void 0:230},searchBar:{marginTop:8,marginBottom:8},searchText:{marginLeft:8,marginRight:8},buttonRight:{color:t.selectLightGray[500]},menuItemTextWrapper:{...e?{marginLeft:12}:{},minWidth:"auto"}})),[e])}(s),M=(0,m.qz)(void 0,xe.Z),_=(0,Kt.d)();if(!p)return null;const k=(0,le.jsx)(ji,{pointer:t,collectionStore:p,intl:l});return(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,popupType:_,style:j.buttonPopup,buttonPopupStore:M,render:e=>{let t;return t=s?{menuType:zt.og.Modal,title:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.notifyForOption.title",defaultMessage:"For pages in"}),right:(0,le.jsx)($t.DoneMenuText,{}),onClickRight:()=>{e.close()}}:{menuType:zt.og.Popup,width:230,maxHeight:"50vh"},(0,le.jsx)(ye.Z,{...t,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:w,initialFocus:0,onAccept:()=>{e.close()}})})},renderOrigin:e=>(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.notifyForOption.title",defaultMessage:"For pages in"}),showChevron:!0,right:k,rightStyle:{flexShrink:1},rotateChevron:M.state.open,disabled:r,textWrapperStyle:j.menuItemTextWrapper,...e})})}function ji(e){window.__c={n:"AutomationSourceCaption"};const{pointer:t,collectionStore:o,intl:n}=e,i=(0,g.O7)(),r=(0,h.yK)((e=>({warningIcon:{width:16,height:"auto",color:e.accentColors.orange[400]},titleContainer:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,gap:4,flex:"1 1 auto",minWidth:0},title:{...ie.Z.textOverflowStyle},errorText:{color:e.errorText,fontWeight:ie.Z.fontWeight.medium}})),[]),s=(0,m.VK)((()=>t?St.t1.createChildStore(o,t):void 0),[o,t]),l=(0,m.VK)((()=>s?(0,ht.vU)({environment:i,intl:n,store:s}):(0,le.jsx)("span",{style:r.errorText,children:(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.source.missing",defaultMessage:"Select database"})})),[i,n,r.errorText,s]),c=(0,m.VK)((()=>{if(!s||s.table===ho.v)return!1;const e=o.getSchema();return(0,ne.$K)((0,He.rU)({collectionViewStore:s,collectionSchema:e}))}),[o,s]);return(0,le.jsxs)("div",{style:r.titleContainer,children:[c&&(0,Bt.t)(r.warningIcon),(0,le.jsx)("span",{style:r.title,children:l})]})}function Mi(e){window.__c={n:"CollectionViewCaption"};const{blockStore:t,collectionViewStore:o,intl:n,collectionSchema:i,referencesIncompatibleProperties:r}=e,s=(0,g.O7)(),l=(0,m.VK)((()=>!o.getAlive()),[o]),c=(0,m.VK)((()=>{const e=o.getParentBlockStore();if(e)return t.id!==e.id?(0,ht.vU)({environment:s,intl:n,store:e}):void 0}),[t.id,o,n,s]),d=(0,m.VK)((()=>{const e=o.getQuery(i);return(0,v.OH)({propertyFilters:o.getPropertyFiltersStore().getValue()??[],combinatorFilter:null==e?void 0:e.filter,schema:i}).reduce(((e,t)=>{if((0,v.aN)(t))return e+1;return e+(t.filters??[]).length}),0)}),[i,o]);return r?(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.collectionView.unsupportedView",defaultMessage:"Not supported"}):l?(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.collectionView.deletedView",defaultMessage:"<emphasis>View not found.</emphasis>",values:{emphasis:e=>(0,le.jsx)("em",{children:e})}}):c?(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.collectionView.captionDifferentParent",defaultMessage:"<emphasis>View configured in {externalParentBlockName}</emphasis>",values:{emphasis:e=>(0,le.jsx)("em",{children:e}),externalParentBlockName:c}}):0===d?(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.collectionView.captionWithNoFilters",defaultMessage:"Any page in this view"}):(0,le.jsx)(a.FormattedMessage,{id:"AutomationCollectionSelectMenu.collectionView.captionWithFilters",defaultMessage:"{ruleCount, plural, one {{ruleCount} filter} other {{ruleCount} filters}}",values:{ruleCount:d}})}function _i(e){window.__c={n:"DeletedPropertyStep"};const{propertyId:t,disabled:o,collectionStore:n,onClick:i}=e,r=(0,h.Fg)(),s="light"===r.mode?50:200,l="light"===r.mode?700:900,c=(0,h.yK)((e=>{const t="light"===e.mode?400:800;return{warning:{color:e.accentColors.orange[t]}}}),[]),d=(0,m.VK)((()=>n.getDeletedSchema()[t]),[n,t]);return(0,le.jsx)(Te,{disabled:o,icon:e=>(0,Bt.t)({...e,...c.warning}),title:(0,le.jsx)(j.ZP,{format:j.lo.Medium,value:(0,le.jsx)(a.FormattedMessage,{id:"deletedPropertyStep.deletedProperty.title",defaultMessage:"{propertyName} property deleted",values:{propertyName:null==d?void 0:d.name}}),theme:r,isSingle:!0,backgroundColor:r.accentColors.yellow[s],color:r.accentColors.yellow[l]}),onClick:i})}var ki=o(55863);function Ti(e){window.__c={n:"AutomationDeletedPropertyMenu"};const{stepType:t,onDelete:o,onViewDeletedProperties:n}=e,i=(0,ve.F)({width:266}),r=(0,g.Fy)().isMobile,s=(0,h.yK)((e=>({icon:{width:r?"12px":"16px",height:"auto",color:e.accentColors.gray[600]},content:{fontSize:"14px",fontWeight:400}})),[r]);return(0,le.jsx)(ye.Z,{...i,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:[{key:"actions-section",items:[{key:"view-deleted-properties",action:()=>{n()},render:e=>(0,le.jsx)(Se.Z,{...e,title:(0,le.jsx)("span",{style:s.content,children:(0,le.jsx)(a.FormattedMessage,{id:"automationDeletedPropertyMenu.viewDeletedProperties.title",defaultMessage:"View deleted properties"})}),icon:(0,ki.s)(s.icon)})},{key:"delete-action",action:()=>{o()},render:e=>(0,le.jsx)(Se.Z,{...e,title:(0,le.jsx)("span",{style:s.content,children:"action"===t?(0,le.jsx)(a.FormattedMessage,{id:"automationDeletedPropertyMenu.deleteAction.title",defaultMessage:"Delete action"}):(0,le.jsx)(a.FormattedMessage,{id:"automationDeletedPropertyMenu.deleteTrigger.title",defaultMessage:"Delete trigger"})}),icon:(0,ge.y)(s.icon)})}],render:e=>(0,le.jsx)(Ce.Z,{...e})}],initialFocus:0})})}const Vi=(0,a.defineMessages)({searchInputPlaceholder:{id:"automationEventTriggerMenu.searchInputPlaceholder.label",defaultMessage:"Search for trigger…"},pageAddedCopy:{id:"automationEventTriggerMenu.pageAdded.title",defaultMessage:"Page added"},pagePropertiesEditedCopy:{id:"automationEventTriggerMenu.anyPropertyEdited.title",defaultMessage:"Any property"}});function Ai(e){window.__c={n:"AutomationEventTriggerMenu"};const{automationStore:t,automationTriggerMenuStore:o,collectionStore:i,updateCurrentState:r,onClose:s}=e,l=(0,h.Fg)(),c=(0,a.useIntl)(),[d,u]=n.useState(""),g=(0,m.VK)((()=>i.getSchema()),[i]),S=(0,m.VK)((()=>t.getTrigger()),[t]),y=(0,m.VK)((()=>("event"===(null==S?void 0:S.type)||"notification_event"===(null==S?void 0:S.type))&&S.event.pagesAdded),[S]),C=(0,m.VK)((()=>(0,f._X)({collectionFormat:i.getFormat(),collectionSchema:g})),[i,g]),x=(0,He.EF)({collectionSchema:g,propertyIds:C,searchTerm:d}),v=(0,h.yK)((e=>({propertyIcon:{width:16,height:16,color:e.mediumIconColor}})),[]),b=(0,ve.F)({maxHeight:"50vh",width:266}),w=(0,le.jsx)(ao.ZP,{focus:!0,style:{marginTop:12,marginBottom:6},value:d,onChange:e=>{u(e.target.value)},placeholder:c.formatMessage(Vi.searchInputPlaceholder)}),j=y?void 0:function(e){const{intl:t,searchInput:o,updateCurrentState:n,onClose:i,styles:r}=e,a=t.formatMessage(Vi.pageAddedCopy);if(!p().test(o,a))return;return{key:"page_added_section",items:[{key:"page_added",action:()=>{n({type:"update_trigger",trigger:{type:"page_added"}}),i()},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,I.R)(r.propertyIcon),title:a})}],render:e=>(0,le.jsx)(Ce.Z,{...e})}}({intl:c,searchInput:d,updateCurrentState:r,onClose:s,styles:v}),M=(0,m.VK)((()=>function(e){const{automationTriggerValue:t,automationTriggerMenuStore:o,showTopBorder:n,properties:i,collectionSchema:r,theme:s,updateCurrentState:l,onClose:c,intl:d,searchInput:u,styles:g}=e,m=d.formatMessage(Vi.pagePropertiesEditedCopy);let h=!1,S=[];"event"!==(null==t?void 0:t.type)&&"notification_event"!==(null==t?void 0:t.type)||(h="any"===t.event.pagePropertiesEdited.type,S="some"===t.event.pagePropertiesEdited.type?t.event.pagePropertiesEdited.some:[]);const y=[h||!p().test(u,m)?void 0:{key:"any_property_edited",action:async()=>{await async function(e){const{hasSpecificPropertyChangedFilters:t}=e;if(!t)return!0;return await Tn.confirmUserAction({message:(0,le.jsx)(a.FormattedMessage,{id:"automations.eventTriggerMenu.replaceTriggerConfirmation.message",defaultMessage:"Replace other triggers?"}),description:(0,le.jsx)(a.FormattedMessage,{id:"automations.eventTriggerMenu.replaceTriggerConfirmation.description",defaultMessage:"Adding the 'Any property edited' trigger will replace all other property triggers."}),acceptLabel:(0,le.jsx)(a.FormattedMessage,{id:"automations.eventTriggerMenu.replaceTriggerConfirmation.acceptLabel",defaultMessage:"Replace"})})}({hasSpecificPropertyChangedFilters:S.length>0})&&(l({type:"update_trigger",trigger:{type:"any_page_property_edited"}}),c())},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,P.R)(g.propertyIcon),title:m})},...i.map((e=>{if(!S.find((t=>t.property===e)))return function(e){const{automationTriggerMenuStore:t,propertyId:o,collectionSchema:n,theme:i,updateCurrentState:r,onClose:a}=e,s=n[o];if(!s)return;const l=(0,f.bD)(s);return{key:o,action:()=>{l?t.pushSettingsItem({type:"propertyChangedFilter",property:o}):(r({type:"update_trigger",trigger:{type:"property_changed",property:o,filter:{operator:"changes_to_any"}}}),a())},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)(Xe.ZP,{icon:s.icon,type:s.type,size:16,theme:i}),title:s.name,right:l?(0,io.o)({marginLeft:6,width:12,height:"auto"}):void 0})}}({propertyId:e,collectionSchema:r,theme:s,updateCurrentState:l,automationTriggerMenuStore:o,onClose:c})})).filter(ne.$K)].filter(ne.$K);if(0===y.length)return;return{key:"page_properties_edited_section",items:y,render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:n,title:(0,le.jsx)(a.FormattedMessage,{id:"automationEventTriggerMenu.pagePropertiesEditedSection.title",defaultMessage:"Property edited"})})}}({automationTriggerValue:S,automationTriggerMenuStore:o,showTopBorder:Boolean(j),properties:x,collectionSchema:g,theme:l,updateCurrentState:r,onClose:s,searchInput:d,intl:c,styles:v})),[S,o,j,x,g,l,r,s,d,c,v]),_=n.useMemo((()=>{const e=[j,M].filter(ne.$K);return 0===e.length?[{key:"none",items:[{key:"none-item",action:()=>{},render:e=>(0,le.jsx)(Se.Z,{...e,disabled:!0,disabledFeedback:!0,title:(0,le.jsx)(a.FormattedMessage,{id:"automations.eventTriggerMenu.noResultsItem",defaultMessage:"No results"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e})}]:e}),[j,M]);return(0,le.jsx)(ye.Z,{...b,header:w,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:_,initialFocus:0})})}function Pi(e){window.__c={n:"AutomationCheckboxPropertyChangedFilterMenu"};const{propertyId:t,updateCurrentState:o,automationTriggerMenuStore:i,propertySchema:r,propertyChangedFilter:s,onClose:l}=e,c=(0,m.VK)((()=>"changes_to_any"===s.operator?[{type:"exact",value:!0},{type:"exact",value:!1}]:(0,v.XA)(s)&&(0,v.vR)(s)?Array.isArray(s.value)?s.value:[s.value]:[]),[s]),[d,u]=(0,n.useState)(c),p=(0,n.useMemo)((()=>1===d.length?{operator:"checkbox_is",value:d[0]}:{operator:"changes_to_any"}),[d]),g=(0,n.useMemo)((()=>2===d.length||1===d.length&&"partial"),[d]),h=(0,n.useCallback)((e=>{const t=Boolean(d.find((t=>t.value===e)));u(t?d.filter((t=>t.value!==e)):[...d,{type:"exact",value:e}])}),[d]),S=(0,n.useCallback)((()=>{(0,He.WM)({anyOptionCheckState:g,propertyId:t,updateCurrentState:o,currentFilter:p}),l()}),[g,p,l,t,o]),y=Boolean(d.find((e=>!0===e.value))),f=Boolean(d.find((e=>!1===e.value)));return(0,le.jsx)(Xt,{type:"default",automationTriggerActionMenuStore:i,onDone:S,onClose:l,sections:[{key:"select",render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0}),items:[{key:"unchecked",render:e=>(0,le.jsx)(Se.Z,{...e,checkState:f,isTokenTitle:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Unchecked",id:"automations.propertyTrigger.checkbox.unchecked"})}),action:()=>h(!1)},{key:"checked",render:e=>(0,le.jsx)(Se.Z,{...e,checkState:y,isTokenTitle:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Checked",id:"automations.propertyTrigger.checkbox.checked"})}),action:()=>h(!0)}]}],headerTitle:(0,le.jsx)(a.FormattedMessage,{id:"automations.propertyTrigger.checkbox.title",defaultMessage:"{propertyName} set to",values:{propertyName:r.name}})})}var Ii=o(62644),Zi=o(60458),Fi=o(47082);function Bi(e){window.__c={n:"AutomationSelectPropertyChangedFilterMenu"};const{propertyId:t,updateCurrentState:o,automationTriggerMenuStore:i,propertySchema:r,propertyChangedFilter:s,onClose:l}=e,{isMobile:c,isAndroid:d}=(0,g.Fy)(),u=(0,a.useIntl)(),p=(0,m.VK)((()=>{if("changes_to_any"===s.operator){return(r.options??[]).map((e=>({type:"exact",value:e.value})))}if(!(0,v.dx)(s)&&!(0,v.NU)(s))return[];if((0,v.vR)(s)){const e=(r.options??[]).map((e=>e.value));return(Array.isArray(s.value)?s.value:[s.value]).filter((t=>(0,ne.$K)(t.value)&&e.includes(t.value)))}return[]}),[r,s]),[h,S]=n.useState(p),y=(0,m.VK)((()=>function(e){const{propertySchema:t,selectedOptions:o}=e;let n=!1,i=!0;const r=t.options??[];for(const a of r){const e=o.some((e=>e.value===a.value));n||=e,i&&=e}return!!i||!!n&&"partial"}({propertySchema:r,selectedOptions:h})),[r,h]),f=n.useMemo((()=>(r.options??[]).map((e=>({type:"exact",value:e.value})))),[r]),C=n.useMemo((()=>"multi_select"===r.type?{operator:"enum_contains",value:h}:"select"===r.type?{operator:"enum_is",value:h}:(0,ne.t1)(r)),[r,h]),x=!0===y?[]:h.map((e=>{if(!e.value||!r.options)return;const t=(0,w.i7)(r.options,e.value);return t?(0,le.jsx)(qe.a,{format:c?j.lo.Large:j.lo.Small,isSingle:!1,value:t.value,color:t.color,showRemoveButton:!0,onClickRemove:()=>{const t=$e.zu(h,e);S(t)}},t.id):void 0})),[b,M]=n.useState(""),_=(0,Ii.I4)({query:b,propertySchema:r,selectedValues:h,updateValue:e=>{M(""),S(e)},isMobile:c,styles:{}}),k=[{key:"search",items:[{key:"input",action:()=>{},render:e=>(0,le.jsx)(Fi.Z,{...e,focusInitial:!0,onClick:void 0,focusAfterAnimation:!0,format:Fi.Z.Format.FilterValue,tokens:x,placeholder:y?u.formatMessage({defaultMessage:"Any option",id:"automations.selectPropertyChangedFilter.inputPlaceholder.anyOption"}):u.formatMessage({defaultMessage:"Select one or more options…",id:"automations.selectPropertyChangedFilter.inputPlaceholder.searchPlaceholder"}),onRemoveLastToken:()=>{const e=h.slice(0,h.length-1);S(e)},onClearButtonClick:()=>{S([]),l()},value:b,onChange:e=>{M(e.target.value)},dontShowBorderBottom:d,showClearButton:!0})}],render:e=>(0,le.jsx)(Ce.Z,{...e})},{key:"any",items:[{key:"any-option-item",action:()=>{!0===y?S([]):!1===y||"partial"===y?S(f):(0,ne.t1)(y),M("")},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)(Zi.Z,{checked:y,size:14,onClick:e.onClick}),title:(0,le.jsx)(a.FormattedMessage,{id:"automations.selectPropertyChangedFilter.anyOption.title",defaultMessage:"Any option"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})},_.length>0?{key:"items",items:_,render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})}:void 0].filter(ne.$K);return(0,le.jsx)(Xt,{type:"default",automationTriggerActionMenuStore:i,onDone:()=>{(0,He.WM)({anyOptionCheckState:y,propertyId:t,updateCurrentState:o,currentFilter:C}),l()},onClose:l,sections:k,headerTitle:(0,le.jsx)(a.FormattedMessage,{id:"automations.propertyChangedFilterHeader.select.title",defaultMessage:"{propertyName} set to",values:{propertyName:r.name}})})}var Li=o(97004);function Di(e){window.__c={n:"AutomationStatusPropertyChangedFilterMenu"};const{propertyId:t,updateCurrentState:o,automationTriggerMenuStore:i,propertySchema:r,propertyChangedFilter:s,onClose:l}=e,{isMobile:c}=(0,g.Fy)(),d=(0,m.VK)((()=>{if("changes_to_any"===s.operator){return(r.groups??[]).map((e=>({type:"is_group",value:e.name})))}return(0,v.r2)(s)&&(0,v.vR)(s)?(0,v.wB)(s):[]}),[r,s]),[u,p]=n.useState(d),h=(0,m.VK)((()=>function(e){const{propertySchema:t,selectedStatusOptions:o}=e,n=t.groups??[],i=t.options??[],r=n.map((e=>(0,Li.rQ)({group:e,options:i,filterValues:o}))),a=r.every((e=>!0===e.groupCheckState)),s=r.some((e=>!1!==e.groupCheckState));return!!a||!!s&&"partial"}({propertySchema:r,selectedStatusOptions:u})),[r,u]),S=n.useMemo((()=>(r.groups??[]).map((e=>({type:"is_group",value:e.name})))),[r]),y=(0,Ii.Sm)({propertySchema:r,statusFilterValues:u,updateValue:e=>{p(e)},isMobile:c,styles:{}});return(0,le.jsx)(Xt,{type:"default",automationTriggerActionMenuStore:i,onDone:()=>{(0,He.WM)({anyOptionCheckState:h,propertyId:t,updateCurrentState:o,currentFilter:{operator:"status_is",value:u}}),l()},onClose:()=>{l()},sections:[{key:"any",items:[{key:"any-option-item",action:()=>{!0===h?p([]):!1===h||"partial"===h?p(S):(0,ne.t1)(h)},render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,le.jsx)(Zi.Z,{checked:h,size:14,onClick:e.onClick}),title:(0,le.jsx)(a.FormattedMessage,{id:"automationEventTriggerPropertyChangedFilterMenu.anyOption.title",defaultMessage:"Any option"})})}],render:e=>(0,le.jsx)(Ce.Z,{...e})},{key:"items",items:y,render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0})}],headerTitle:(0,le.jsx)(a.FormattedMessage,{id:"automations.propertyChangedFilterHeader.status.title",defaultMessage:"{propertyName} set to",values:{propertyName:r.name}})})}function Ki(e){window.__c={n:"AutomationEventTriggerPropertyChangedFilterMenu"};const{automationStore:t,propertyId:o,automationTriggerMenuStore:n,collectionStore:i,updateCurrentState:r,onClose:a}=e,s=(0,m.VK)((()=>i.getSchema()),[i])[o],l=(0,m.VK)((()=>t.getTrigger()),[t]);let c=[];"event"!==(null==l?void 0:l.type)&&"notification_event"!==(null==l?void 0:l.type)||(c="some"===l.event.pagePropertiesEdited.type?l.event.pagePropertiesEdited.some:[]);const d=c.find((e=>e.property===o))??{property:o,filter:{operator:"changes_to_any"}};if(!s)return null;return(0,f.bD)(s)?"multi_select"===s.type||"select"===s.type?(0,le.jsx)(Bi,{propertyId:o,updateCurrentState:r,automationTriggerMenuStore:n,propertySchema:s,propertyChangedFilter:d.filter,onClose:a}):"status"===s.type?(0,le.jsx)(Di,{propertyId:o,updateCurrentState:r,automationTriggerMenuStore:n,propertySchema:s,propertyChangedFilter:d.filter,onClose:a}):"checkbox"===s.type?(0,le.jsx)(Pi,{automationTriggerMenuStore:n,onClose:a,propertyChangedFilter:d.filter,propertyId:o,propertySchema:s,updateCurrentState:r}):null:null}function Ri(e){window.__c={n:"AutomationTriggerMenuController"};const{automationStore:t,collectionStore:o,initialState:i,updateCurrentAutomationState:r,buttonPopupParent:a}=e,s=(0,m.VK)((()=>{const e=new Ht;return e.setState({stack:[i]}),e}),[i]),l=(0,m.VK)((()=>s.getCurrentTab()),[s]),c=(0,n.useCallback)((()=>a.close()),[a]);return l?"eventTriggers"===l.type?(0,le.jsx)(Ai,{automationStore:t,automationTriggerMenuStore:s,collectionStore:o,updateCurrentState:r,onClose:c}):"propertyChangedFilter"===l.type?(0,le.jsx)(Ki,{automationStore:t,propertyId:l.property,automationTriggerMenuStore:s,collectionStore:o,updateCurrentState:r,onClose:c}):(0,ne.t1)(l):null}var Oi=o(50780);function Hi(e){window.__c={n:"AutomationUnsupportedPropertyMenu"};const{stepType:t,onDelete:o,onViewEditProperty:n,propertyId:i,propertySchema:r}=e,s=(0,ve.F)({width:266}),l=(0,g.Fy)().isMobile,c=(0,h.yK)((e=>({icon:{width:l?"12px":"16px",height:"auto",color:e.accentColors.gray[600]},content:{fontSize:"14px",fontWeight:400}})),[l]);return(0,le.jsx)(ye.Z,{...s,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:[{key:"actions-section",items:[{key:"view-edit-property",action:()=>n(i),render:e=>(0,le.jsx)(Se.Z,{...e,title:(0,le.jsx)("span",{style:c.content,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Edit {propertyName}",id:"automationUnsupportedPropertyMenu.viewDeletedProperties.title",values:{propertyName:r.name}})}),icon:(0,Oi.E)(c.icon)})},{key:"delete-action",action:()=>o(),render:e=>(0,le.jsx)(Se.Z,{...e,title:(0,le.jsx)("span",{style:c.content,children:"action"===t?(0,le.jsx)(a.FormattedMessage,{id:"automationUnsupportedPropertyMenu.deleteAction.title",defaultMessage:"Delete action"}):(0,le.jsx)(a.FormattedMessage,{id:"automationUnsupportedPropertyMenu.deleteTrigger.title",defaultMessage:"Delete trigger"})}),icon:(0,ge.y)(c.icon)})}],render:e=>(0,le.jsx)(Ce.Z,{...e})}],initialFocus:0})})}function Ni(e){window.__c={n:"AutomationTriggerList"};const{automationStore:t,collectionStore:o,disabled:i,handleNavigateToEditProperty:r,handleNavigateToDeletedProperties:a,updateCurrentState:s}=e,l=(0,Kt.d)(),c=(0,m.VK)((()=>o.getSchema()),[o]),d=(0,m.VK)((()=>t.getTriggerStore().getKeyStore("event").getValue()),[t]),u=(0,n.useCallback)((e=>{s({type:"remove_trigger",trigger:{type:"property_changed",property:e,filter:{operator:"changes_to_any"}}})}),[s]),p=Gi(),g=[];return null!=d&&d.pagesAdded&&g.push((0,le.jsx)(Wi,{disabled:i,updateCurrentState:s},"page_added_trigger")),"any"===(null==d?void 0:d.pagePropertiesEdited.type)&&g.push((0,le.jsx)(zi,{disabled:i,updateCurrentState:s},"any_page_property_edited_trigger")),"some"===(null==d?void 0:d.pagePropertiesEdited.type)&&g.push(...d.pagePropertiesEdited.some.map((e=>{const{property:d,filter:p}=e,g=c[d];return g?f.Ym[g.type]?"status"!==g.type||"changes_to_any"!==p.operator&&!(0,v.r2)(p)?"select"!==g.type||"changes_to_any"!==p.operator&&!(0,v.dx)(p)?"multi_select"!==g.type||"changes_to_any"!==p.operator&&!(0,v.NU)(p)?"checkbox"!==g.type||"changes_to_any"!==p.operator&&!(0,v.XA)(p)?"changes_to_any"===p.operator?(0,le.jsx)(Qe,{disabled:i,onClick:e=>{e.setState({open:!0})},propertySchema:g,onDelete:()=>{u(d)}},`changes_to_any_${d}_trigger`):void 0:(0,le.jsx)(Ei,{automationStore:t,collectionStore:o,property:d,renderOrigin:e=>{let{onClick:t}=e;return(0,le.jsx)(hn,{disabled:i,filter:p,propertySchema:g,onEdit:t,onDelete:()=>{u(d)}})},updateCurrentState:s},`changes_to_any_${d}_trigger`):(0,le.jsx)(Ei,{property:d,automationStore:t,collectionStore:o,updateCurrentState:s,renderOrigin:e=>{let{onClick:t}=e;return(0,le.jsx)(fn,{disabled:i,filter:p,propertySchema:g,onEdit:t,onDelete:()=>{u(d)}})}},`changes_to_any_${d}_trigger`):(0,le.jsx)(Ei,{property:d,automationStore:t,collectionStore:o,updateCurrentState:s,renderOrigin:e=>{let{onClick:t}=e;return(0,le.jsx)(fn,{disabled:i,filter:p,propertySchema:g,onEdit:t,onDelete:()=>{u(d)}})}},`changes_to_any_${d}_trigger`):(0,le.jsx)(Ei,{automationStore:t,property:d,collectionStore:o,updateCurrentState:s,renderOrigin:e=>{let{onClick:t}=e;return(0,le.jsx)(et,{disabled:i,filter:p,propertySchema:g,onEdit:t,onDelete:()=>{u(d)}})}},`changes_to_any_${d}_trigger`):(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,popupType:l,render:()=>(0,le.jsx)(Hi,{onDelete:()=>{s({type:"remove_trigger",trigger:{filter:p,property:d,type:"property_changed"}})},onViewEditProperty:r,propertyId:d,propertySchema:g,stepType:"trigger"}),renderOrigin:e=>(0,n.createElement)(pn,{...e,key:`unsupported_${d}_trigger`,disabled:i,onClick:()=>e.onClick(),propertySchema:g})},`unsupported_property_${d}_trigger`):(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,popupType:l,render:()=>(0,le.jsx)(Ti,{stepType:"trigger",onDelete:()=>{s({type:"remove_trigger",trigger:{filter:p,property:d,type:"property_changed"}})},onViewDeletedProperties:a}),renderOrigin:e=>(0,le.jsx)(_i,{...e,disabled:i,propertyId:d,collectionStore:o})},`deleted_property_${d}_trigger`)})).filter(ne.$K)),(0,le.jsx)("ul",{style:p.stepList,children:g.map(((e,t)=>(0,le.jsx)("li",{style:0===t?{}:p.stepItemWithBorderTop,children:e},t)))})}function Ei(e){window.__c={n:"AdvancedTriggerPopup"};const{automationStore:t,renderOrigin:o,collectionStore:n,property:i,updateCurrentState:r}=e,a=(0,Kt.d)();return(0,le.jsx)(we.ZP,{popupType:a,renderOrigin:o,render:e=>(0,le.jsx)(Ri,{automationStore:t,collectionStore:n,initialState:{type:"propertyChangedFilter",property:i},updateCurrentAutomationState:r,buttonPopupParent:e})})}function Wi(e){window.__c={n:"AutomationTriggerPagedAdded"};const{disabled:t,updateCurrentState:o}=e,i=(0,a.useIntl)(),r=Gi(),s=de.Mz(i),l=(0,n.useCallback)((e=>{e.setState({open:!0})}),[]),c=(0,n.useCallback)((()=>o({trigger:{type:"page_added"},type:"remove_trigger"})),[o]),d=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,icon:I.R,onClick:l,onDelete:c,title:(0,le.jsx)("div",{style:r.semiBoldTitle,children:s})})),[t,l,c,r.semiBoldTitle,s]);return(0,le.jsx)(Pe,{renderOrigin:d,title:s,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function zi(e){window.__c={n:"AutomationTriggerAnyPropertyEdited"};const{disabled:t,updateCurrentState:o}=e,i=(0,a.useIntl)(),r=Gi(),s=de.c5(i),l=(0,n.useCallback)((e=>{e.setState({open:!0})}),[]),c=(0,n.useCallback)((()=>{o({type:"remove_trigger",trigger:{type:"any_page_property_edited"}})}),[o]),d=(0,n.useCallback)((e=>(0,le.jsx)(Te,{...e,disabled:t,onClick:l,icon:P.R,title:(0,le.jsx)("div",{style:r.semiBoldTitle,children:s}),onDelete:c})),[t,l,c,r.semiBoldTitle,s]);return(0,le.jsx)(Pe,{renderOrigin:d,title:s,tooltipAlignment:re.Z.Alignment.Center,tooltipPlacement:re.Z.Placement.Left})}function Gi(){return(0,h.yK)((e=>({stepList:{border:`1px solid ${e.stroke.regular}`,borderRadius:6,listStyle:"none",margin:0,overflow:"hidden",padding:0},semiBoldTitle:{fontWeight:ie.Z.fontWeight.semibold},stepItemWithBorderTop:{borderTop:`1px solid ${e.stroke.regular}`}})),[])}var Ui=o(85740),$i=o(28267),qi=o(64737),Yi=o(83656),Xi=o(73239),Qi=o(29180),Ji=o(43690),er=o(52105);function tr(e){window.__c={n:"UpdatePagesActionDatabaseAutomation"};const{actionStore:t,updateCurrentAutomationState:o}=e,i=t.id,r=(0,m.VK)((()=>t.getConfig()),[t]),a=(0,n.useCallback)((e=>{var t;const n="collection"===e.type&&"collection"===(null==r||null===(t=r.target)||void 0===t?void 0:t.type)&&e.collection.id!==(null==r?void 0:r.target.collection.id);o({action:{config:{...r,target:e,properties:n?[]:(null==r?void 0:r.properties)??[],values:n?{}:(null==r?void 0:r.values)??{}},id:i,type:"update_pages"},type:"update_action"})}),[r,i,o]),s=(0,n.useCallback)(((e,t)=>{o({action:{config:{...r,properties:e,values:t},id:i,type:"update_pages"},type:"update_action"})}),[i,r,o]),l=(0,n.useCallback)((()=>{o({action:{config:r,id:i,type:"update_pages"},type:"remove_action"})}),[r,i,o]);return(0,le.jsx)(or,{...e,onConfigChange:s,onDelete:l,onTargetChange:a})}function or(e){window.__c={n:"UpdatePagesActionV2"};const{actionStore:t,automationStore:o,collectionStore:i,disabled:r,onConfigChange:a,onDelete:s,onTargetChange:l}=e,c=(0,n.useRef)(null),d=(0,$i.X)(c),u=(0,Yi.a)(d),[p,g]=(0,n.useState)(!1),S=(0,C.z)("update_pages"),y=We({automationStore:o,collectionStore:i}),f=(0,m.VK)((()=>{const e=t.getVariableTargetStore();if(e)return e.getValue();const o=t.getCollectionTargetStore();if(o){const e=o.getKeyStore("collection").getValue();if(e)return{collection:e,type:"collection"}}}),[t]),[x,v,b]=(0,m.VK)((()=>{const e=t.getConfig();return[null==e?void 0:e.target,null==e?void 0:e.properties,null==e?void 0:e.values]}),[t]),w=(0,n.useMemo)((()=>({values:b??{},properties:v??[]})),[b,v]),j=(0,m.VK)((()=>"collection"===(null==f?void 0:f.type)),[f]),M=(0,m.VK)((()=>{const e=t.getTargetStore().getValue();if(e&&y){if("collection"===e.type)return St.NW.createChildStore(y.context.parentRecordStore,e.collection);if("variable"===e.type){const t=y.compilationResultStore.state;if(jo.x.isFail(t))return;const o=(0,Be.vx)(t.value.valueTypes,e.id);if(o)return(0,He.wB)(o,y.context.parentRecordStore)}else{if("page"===e.type)return;(0,ne.t1)(e)}}}),[t,y]),_=(0,m.VK)((()=>{if("collection"!==(null==x?void 0:x.type))return;const e=x.filter;return(0,ne.$K)(e)?(0,Ji.Ih)(e,(null==M?void 0:M.getSchema())??{}):void 0}),[x,M]),k=(0,n.useCallback)((e=>{if(!(0,ne.$K)(x))return void l(e);const t=x.type!==e.type,o="variable"===x.type&&"variable"===e.type&&x.id!==e.id,n="collection"===x.type&&"collection"===e.type&&x.collection.id!==e.collection.id;(t||o||n)&&l(e)}),[x,l]),T=(0,n.useCallback)((e=>{(0,ne.$K)(x)&&"collection"===x.type&&($e.Xy(x.filter,e)||l({...x,filter:e}))}),[x,l]),V=(0,n.useCallback)((e=>{const t=w.properties.concat([e]);a(t,w.values)}),[a,w]),A=(0,n.useCallback)(((e,t)=>{const o=w.properties.indexOf(e);if(-1===o)return;const n=w.properties.slice(0);n[o]=t;const i={...w.values,[t]:void 0};a(n,i)}),[a,w]),P=(0,n.useCallback)((e=>{const t=w.properties.filter((t=>t!==e)),o={...w.values,[e]:void 0};a(t,o)}),[a,w]),I=(0,n.useCallback)(((e,t)=>{const o={...w.values,[e]:t};a(w.properties,o)}),[a,w]),Z=(0,n.useCallback)((()=>{g(!0)}),[]),F=(0,n.useCallback)((()=>{g(!1)}),[]),B=(0,h.yK)((e=>({sectionWrap:{background:e.cardContentBackground,display:"flex",flexDirection:"column",gap:u?12:16,paddingBlock:12,paddingInline:12},headerTitle:{alignItems:"center",display:"flex",flexWrap:"wrap",minWidth:100,whiteSpace:"pre"}})),[u]);return y?(0,le.jsxs)("section",{onMouseEnter:Z,onMouseLeave:F,ref:c,style:B.sectionWrap,children:[(0,le.jsxs)(rr,{disabled:r,icon:S.display.icon({height:21,width:14}),isHovered:p,onDelete:s,children:[(0,le.jsx)("div",{style:B.headerTitle,children:(0,le.jsx)(nr,{actionStore:t,automationContextStore:y,disabled:r,onChange:k,value:f})}),j&&(0,ne.$K)(M)&&(0,le.jsx)("div",{style:B.headerTitle,children:(0,le.jsx)(ir,{automationContextStore:y,collectionStore:M,disabled:r,filter:_,onChange:T})})]}),M&&(0,le.jsx)(yo.vV,{actionId:t.id,collectionStore:M,config:w,contextStore:y,disabled:r,onPropertyAdd:V,onPropertyChange:A,onPropertyRemove:P,onPropertyValueChange:I,showSetPropertyActions:!0})]}):null}function nr(e){window.__c={n:"ActionTitle"};const{actionStore:t,automationContextStore:o,disabled:n,onChange:i,value:r}=e,s=(0,h.yK)((()=>({b:{fontWeight:ie.Z.fontWeight.medium},picker:{flex:"1 1 auto",marginInlineStart:-5,minWidth:50},span:{alignItems:"center",display:"inline-flex",flex:"0 0 auto",minHeight:(0,Ui.H)({})}})),[]);return(0,le.jsx)(a.FormattedMessage,{defaultMessage:"<span>Update <b>pages</b> in </span>{collectionPicker}",id:"automations.UpdatePagesActionV2.header.title",values:{b:e=>(0,le.jsx)("b",{style:s.b,children:e}),collectionPicker:(0,le.jsx)("div",{style:s.picker,children:(0,le.jsx)(Xi.a,{actionStore:t,contextStore:o,currentValue:r,disabled:n,onChange:i})}),span:e=>(0,le.jsx)("span",{style:s.span,children:e})}})}function ir(e){window.__c={n:"CollectionFilterTitle"};const{automationContextStore:t,collectionStore:o,disabled:n,filter:i,onChange:r}=e,s=(0,g.O7)(),l=(0,a.useIntl)(),c=(0,m.VK)((()=>(0,ht.vU)({environment:s,intl:l,store:o})),[o,l,s]),d=(0,h.yK)((()=>({picker:{flex:"1 1 auto",marginInlineStart:-5,minWidth:50},span:{alignItems:"center",display:"inline-flex",flex:"0 0 auto",minHeight:(0,Ui.H)({})}})),[]);return(0,le.jsx)(a.FormattedMessage,{defaultMessage:"<span>that match </span>{filterPicker}",id:"automations.UpdatePagesActionV2.header.filterTitle",values:{filterPicker:(0,le.jsx)("div",{style:d.picker,children:(0,le.jsx)(er.W,{collectionStore:o,contextStore:t,disabled:n,filter:i,noFiltersMessage:(0,ne.$K)(c)?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"All pages in {collectionName}",id:"automations.UpdatePagesAction.filterRuleCount.noFilters.label",values:{collectionName:c}}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"All pages in database",id:"automations.UpdatePagesAction.filterRuleCount.noFilters.fallbackLabel"}),onChange:r})}),span:e=>(0,le.jsx)("span",{style:d.span,children:e})}})}function rr(e){window.__c={n:"ActionHeader"};const{children:t,disabled:o,icon:n,isHovered:i,onDelete:r}=e,{isMobile:a}=(0,g.Fy)(),[s,l]=(0,pe.Z)(),c=!o&&(a||i||l),d=(0,h.yK)((()=>({wrap:{alignItems:"start",cursor:o?"default":void 0,opacity:o?.4:void 0,display:"flex",gap:6,minHeight:28},iconWrap:{alignItems:"center",display:"inline-flex",flex:"0 0 auto",minHeight:(0,Ui.H)({})},titleWrap:{display:"flex",flex:"1 1 auto",flexWrap:"wrap",fontSize:14,lineHeight:1.4,minWidth:0},moreButtonWrap:{flex:"0 0 26px"}})),[o]);return(0,le.jsxs)("header",{ref:s,style:d.wrap,children:[n&&(0,le.jsx)("div",{style:d.iconWrap,children:n}),(0,le.jsx)("div",{style:d.titleWrap,children:t}),(0,le.jsx)("div",{style:d.moreButtonWrap,children:c&&(0,le.jsx)(Ve,{disabled:o,onDelete:r})})]})}function ar(e){window.__c={n:"CreatePageActionDatabaseAutomation"};const{actionStore:t,updateCurrentAutomationState:o}=e,i=t.id,r=(0,m.VK)((()=>t.getConfig()),[t]),a=(0,n.useCallback)((e=>{o({action:{config:{...r,collection:e,properties:["title"],values:{},template_page_id:void 0},id:i,type:"create_page"},type:"update_action"})}),[i,r,o]),s=(0,n.useCallback)((e=>{if(!r)return;const{properties:t,values:n}=r;let a=!1;if(e&&t&&1===t.length&&t.includes("title")){var s;const e=null==n?void 0:n.title;e&&null!==(s=e.value)&&void 0!==s&&s.value||(a=!0)}o({action:{config:{...r,template_page_id:e,...a&&{properties:[]}},id:i,type:"create_page"},type:"update_action"})}),[i,r,o]),l=(0,n.useCallback)(((e,t)=>{o({action:{config:{...r,properties:e,values:t},id:i,type:"create_page"},type:"update_action"})}),[i,r,o]),c=(0,n.useCallback)((()=>{o({action:{config:r,id:i,type:"create_page"},type:"remove_action"})}),[r,i,o]);return(0,le.jsx)(sr,{...e,onConfigChange:l,onDelete:c,onTargetCollectionChange:a,onTemplateChange:s})}function sr(e){window.__c={n:"CreatePageActionV2"};const{actionStore:t,automationStore:o,collectionStore:i,disabled:r,onConfigChange:a,onDelete:s,onTargetCollectionChange:l,onTemplateChange:c}=e,d=(0,n.useRef)(null),u=(0,$i.X)(d),p=(0,Yi.a)(u),g=(0,C.z)("create_page"),[S,y]=(0,n.useState)(!1),[f,x,v]=(0,m.VK)((()=>{const e=t.getConfig();return[null==e?void 0:e.collection,null==e?void 0:e.properties,null==e?void 0:e.values]}),[t]),b=(0,m.VK)((()=>{if(f)return St.NW.createChildStore(i,f)}),[i,f]),w=(0,m.VK)((()=>{const e=t.getCollectionStore();if(e)return{collection:e.getSpaceShardedPointer(),type:"collection"}}),[t]),j=(0,m.VK)((()=>(0,qi.q)(b).length>0),[b]),M=(0,m.VK)((()=>{var e;return null===(e=t.getConfig())||void 0===e?void 0:e.template_page_id}),[t]),_=We({automationStore:o,collectionStore:i}),k=(0,n.useMemo)((()=>({values:v??{},properties:x??[]})),[v,x]),T=(0,n.useCallback)((e=>{l&&"collection"===e.type&&l(e.collection)}),[l]),V=(0,n.useCallback)((e=>{const t=k.properties.concat([e]);a(t,k.values)}),[a,k]),A=(0,n.useCallback)(((e,t)=>{const o=k.properties.indexOf(e);if(-1===o)return;const n=k.properties.slice(0);n[o]=t;const i={...k.values,[t]:void 0};a(n,i)}),[a,k]),P=(0,n.useCallback)((e=>{const t=k.properties.filter((t=>t!==e)),o={...k.values,[e]:void 0};a(t,o)}),[a,k]),I=(0,n.useCallback)(((e,t)=>{const o={...k.values,[e]:t};a(k.properties,o)}),[a,k]),Z=(0,n.useCallback)((()=>{y(!0)}),[]),F=(0,n.useCallback)((()=>{y(!1)}),[]),B=(0,h.yK)((e=>({sectionWrap:{background:e.cardContentBackground,display:"flex",flexDirection:"column",gap:p?12:16,paddingBlock:12,paddingInline:12},headerTitle:{alignItems:"center",display:"flex",flexWrap:"wrap",minWidth:100,whiteSpace:"pre"}})),[p]);return _?(0,le.jsxs)("section",{onMouseEnter:Z,onMouseLeave:F,ref:d,style:B.sectionWrap,children:[(0,le.jsxs)(rr,{disabled:r,icon:g.display.icon({height:21,width:14}),isHovered:S,onDelete:s,children:[(0,le.jsx)("div",{style:B.headerTitle,children:(0,le.jsx)(lr,{actionStore:t,automationContextStore:_,disabled:r,onChange:T,value:w})}),(0,ne.$K)(b)&&j&&(0,le.jsx)("div",{style:B.headerTitle,children:(0,le.jsx)(cr,{collectionStore:b,disabled:r,onChange:c,value:M})})]}),b&&(0,le.jsx)(yo.vV,{actionId:t.id,collectionStore:b,config:k,contextStore:_,disabled:r,onPropertyAdd:V,onPropertyChange:A,onPropertyRemove:P,onPropertyValueChange:I,showSetPropertyActions:!1})]}):null}function lr(e){window.__c={n:"ActionTitle"};const{actionStore:t,automationContextStore:o,disabled:n,onChange:i,value:r}=e,s=(0,h.yK)((()=>({b:{fontWeight:ie.Z.fontWeight.medium},picker:{flex:"1 1 auto",marginInlineStart:-5,minWidth:50},span:{alignItems:"center",display:"inline-flex",flex:"0 0 auto",minHeight:(0,Ui.H)({})}})),[]);return(0,le.jsx)(a.FormattedMessage,{defaultMessage:"<span>Add <b>page</b> to </span>{collectionPicker}",id:"automations.CreatePageActionV2.header.title",values:{b:e=>(0,le.jsx)("b",{style:s.b,children:e}),collectionPicker:(0,le.jsx)("div",{style:s.picker,children:(0,le.jsx)(Xi.a,{actionStore:t,contextStore:o,currentValue:r,disabled:n,onChange:i})}),span:e=>(0,le.jsx)("span",{style:s.span,children:e})}})}function cr(e){window.__c={n:"CollectionTemplateTitle"};const{collectionStore:t,disabled:o,onChange:n,value:i}=e,r=(0,h.yK)((()=>({picker:{flex:"1 1 auto",marginInlineStart:-5,minWidth:50},span:{alignItems:"center",display:"inline-flex",flex:"0 0 auto",minHeight:(0,Ui.H)({})}})),[]);return(0,le.jsx)(a.FormattedMessage,{defaultMessage:"<span>as </span>{collectionTemplatePicker}",id:"automations.CreatePageActionV2.header.template",values:{collectionTemplatePicker:(0,le.jsx)(Qi.f,{collectionStore:t,currentTemplateId:i,disabled:o,onChange:n}),span:e=>(0,le.jsx)("span",{style:r.span,children:e})}})}function dr(e){const{automationStore:t,collectionStore:o,disabled:n,formulaValueContext:i,onClick:r,onEdit:a,propertySchema:s,setPropertyValue:l,onDelete:c}=e;return"person"===s.type?(0,le.jsx)(dt,{collectionStore:o,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"status"===s.type?(0,le.jsx)(vt,{disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"select"===s.type?(0,le.jsx)(it,{disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"multi_select"===s.type?(0,le.jsx)(lt,{disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"date"===s.type?(0,le.jsx)(ze,{automationStore:t,collectionStore:o,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value,valueContext:i}):"relation"===s.type?(0,le.jsx)(yt,{automationStore:t,collectionStore:o,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"checkbox"===s.type?(0,le.jsx)(Ie,{disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"title"===s.type?(0,le.jsx)(Tt,{automationStore:t,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"text"===s.type?(0,le.jsx)(Vt,{automationStore:t,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"email"===s.type?(0,le.jsx)(At,{automationStore:t,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"url"===s.type?(0,le.jsx)(Pt,{automationStore:t,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"number"===s.type?(0,le.jsx)(It,{automationStore:t,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):"phone_number"===s.type?(0,le.jsx)(Zt,{automationStore:t,disabled:n,onClick:r,onDelete:c,onEdit:a,propertySchema:s,value:l.value}):null}function ur(e){window.__c={n:"CollectionSettingsAutomationActionList"};const{automationStore:t,collectionStore:o,updateCurrentAutomationState:n,handleNavigateToDeletedProperties:i,handleNavigateToEditProperty:r,currentUserIsOwner:a,disabled:s}=e,l=(0,m.VK)((()=>t.getActionStores().map((e=>e.isType("update_pages")?(0,le.jsx)(pr,{actionStore:e,automationStore:t,collectionStore:o,disabled:s,handleNavigateToDeletedProperties:i,handleNavigateToEditProperty:r,updateCurrentAutomationState:n},e.id):e.isType("slack_notification")?(0,le.jsx)(on,{actionStore:e,automationStore:t,collectionStore:o,updateCurrentAutomationState:n,currentUserIsOwner:a,disabled:s},e.id):e.isType("create_page")?(0,le.jsx)(ar,{actionStore:e,automationStore:t,collectionStore:o,disabled:s,updateCurrentAutomationState:n},e.id):void 0)).filter(ne.$K)),[t,o,a,s,i,r,n]),c=(0,h.yK)((e=>({stepList:{border:`1px solid ${e.regularDividerColor}`,borderRadius:6,listStyle:"none",margin:0,overflow:"hidden",padding:0},stepItemWithBorderTop:{borderTop:`1px solid ${e.regularDividerColor}`}})),[]);return(0,le.jsx)("ul",{style:c.stepList,children:l.map(((e,t)=>{const o=0===t?void 0:c.stepItemWithBorderTop;return(0,le.jsx)("li",{style:o,children:e},t)}))})}function pr(e){var t;window.__c={n:"InternalUpdatePageAction"};const{actionStore:o,automationStore:i,collectionStore:r,disabled:a,handleNavigateToDeletedProperties:s,handleNavigateToEditProperty:l,updateCurrentAutomationState:c}=e,d=(0,Kt.d)(),u=(0,m.VK)((()=>o.getConfig()),[o]),p=(0,m.VK)((()=>r.getSchema()),[r]),g=(0,n.useCallback)((()=>{c({action:{config:u,id:o.id,type:"update_pages"},type:"remove_action"})}),[u,o.id,c]),h="variable"===(null==u||null===(t=u.target)||void 0===t?void 0:t.type)?(0,Be.MY)(u.target.id):void 0;if(h&&"global"===h.source&&"button_page"===h.global){var S;const e=((null==u?void 0:u.properties)??[])[0],t=p[e],m=null==u||null===(S=u.values)||void 0===S?void 0:S[e];if(t&&m){const s={type:"collection",collectionStore:r,property:e};return(0,f.SF)(t)?(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,popupType:d,render:t=>(0,le.jsx)(en,{automationStore:i,buttonPopupParent:t,collectionStore:r,initialState:{propertyId:e,actionId:o.id,type:"eventActionProperty"},updateCurrentAutomationState:c}),renderOrigin:e=>(0,le.jsx)(dr,{...e,automationStore:i,collectionStore:r,disabled:a,formulaValueContext:s,onDelete:g,onEdit:e.onClick,propertySchema:t,setPropertyValue:m})}):(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,popupType:d,render:()=>(0,le.jsx)(Hi,{onDelete:g,onViewEditProperty:l,propertyId:e,propertySchema:t,stepType:"action"}),renderOrigin:o=>(0,n.createElement)(pn,{...o,key:`unsupported_${e}_action`,disabled:a,onClick:()=>o.onClick(),propertySchema:t})},`unsupported_property_${e}_action`)}return t?null:(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.Center,placementToOrigin:we.pO.Bottom,popupType:d,render:e=>(0,le.jsx)(Ti,{stepType:"action",onDelete:g,onViewDeletedProperties:s}),renderOrigin:t=>(0,le.jsx)(_i,{...t,disabled:a,propertyId:e,collectionStore:r})})}return(0,le.jsx)(tr,{actionStore:o,automationStore:i,collectionStore:r,disabled:a,updateCurrentAutomationState:c})}var gr=o(3386),mr=o(68641),hr=o(5971),Sr=o(84398);var yr=o(18844);function fr(e){const{automationStorePointer:t,defaultRecordCache:o,inMemoryRecordCache:n,userId:i}=e;if(!t||!i)return!1;const r=o.getRecordModel({pointer:t,userId:i}),a=n.getRecordModel({pointer:t,userId:i});return!a||(!!function(e,t){if((0,ne.$K)(e)){if(e.isEventType()&&t.isEventType()||e.isNotificationType()&&t.isNotificationType()){const o=e.getEventConfiguration(),n=t.getEventConfiguration();return!(0,$e.Xy)(o,n)}if(e.isRecurrenceType()&&t.isRecurrenceType()){const o=e.getRecurrence(),n=t.getRecurrence();return!(0,$e.Xy)(o,n)}return!e.isButtonType()||!t.isButtonType()}if(t.isEventType()||t.isNotificationType()){const e=t.getEventConfiguration();return!1!==e.pagesAdded||"none"!==e.pagePropertiesEdited.type}if(t.isRecurrenceType())return!0;if(t.isButtonType())return!1;(0,ne.t1)(t)}(r,a)||!!function(e,t,o){const{defaultRecordCache:n,inMemoryRecordCache:i,userId:r}=o;if((0,ne.$K)(e)){const o=e.getActionIds(),a=t.getActionIds();return o.length!==a.length||!(0,$e.Xy)(o,a)||a.some((e=>{const o={id:e,spaceId:t.spaceId,table:yr.Xj},a=n.getRecordModel({pointer:o,userId:r}),s=i.getRecordModel({pointer:o,userId:r});return!(0,ne.$K)(a)||!(0,$e.Xy)(a.getConfig(),null==s?void 0:s.getConfig())}))}return t.getActionIds().length>0}(r,a,{defaultRecordCache:o,inMemoryRecordCache:n,userId:i}))}var Cr=o(13273);var xr=o(16184),vr=o(42402);const br=(0,a.defineMessages)({automationIncompatibleViewFilterAndOwner:{defaultMessage:"This automation may not work because the view has a non-supported filter",id:"AutomationHeaderView.incompatibleCollectionViewFilter.owner"},automationPublicAccess:{defaultMessage:"This automation is part of a public page",id:"AutomationHeaderView.automationPublicAccess"},automationUpgrade:{defaultMessage:"<anchor-upsell>Upgrade</anchor-upsell> to edit this automation or create your own",id:"AutomationHeaderView.automationUpgrade"},automationEditOnSite:{defaultMessage:"This automation can only be edited on notion.com",id:"AutomationHeaderView.automationEditOnSite"},automationSlackNoPermissions:{defaultMessage:"Ask {user} to edit this automation",id:"AutomationHeaderView.automationSlackNoPermissions"},automationSlackWithPermissions:{defaultMessage:"Ask {user} to edit this automation or <anchor-delete>delete</anchor-delete> it when necessary",id:"AutomationHeaderView.automationSlackWithPermissions"},automationMissingPermissionsNoPermissions:{defaultMessage:"You must have full access to target databases in this automation to edit it",id:"AutomationHeaderView.automationMissingPermissionsNoPermissions"},automationMissingPermissionsWithPermissions:{defaultMessage:"You must have full access to target databases in this automation to edit it or <anchor-delete>delete</anchor-delete> it when necessary",id:"AutomationHeaderView.automationMissingPermissionsWithPermissions"},automationGenericFullAccess:{defaultMessage:"You must have full access to this database to edit automations",id:"AutomationHeaderView.automationGenericFullAccess"}});function wr(e){window.__c={n:"AutomationHeaderView"};const{automationStore:t,automationPermissionScope:o,collectionStore:i,onDelete:r,referencesIncompatibleCollectionViewFilter:s}=e,l=(0,g.O7)(),c=We({automationStore:t,collectionStore:i}),d=(0,m.VK)((()=>Boolean((0,Lt.IJ)(l,t))),[t,l]),u=(0,m.VK)((()=>(0,so.$5)(null==c?void 0:c.context)),[c]),p=(0,m.VK)((()=>(0,He.R4)(t)),[t]),h=(0,n.useCallback)((()=>{ro.y(l,{from:"database_automation_settings_header_message",for:"plus"})}),[l]),S=_r();if(d)return(0,le.jsx)(jr,{icon:(0,le.jsx)("div",{style:S.lockedIconWrap,children:(0,xr.Q)(S.lockedIcon)}),children:(0,le.jsx)("p",{style:S.paragraph,children:(0,le.jsx)(a.FormattedMessage,{...br.automationPublicAccess})})});if("sufficient"!==u.editPermissionStatus&&"free_workspace"===u.reason)return(0,so.Rr)({environment:l})?(0,le.jsx)(Mr,{icon:(0,le.jsx)("div",{style:S.boltIconWrap,children:(0,T.K)(S.boltIcon)}),children:(0,le.jsx)("p",{style:S.paragraph,children:(0,le.jsx)(a.FormattedMessage,{...br.automationUpgrade,values:{"anchor-upsell":e=>(0,le.jsx)(vr.Z,{onClick:h,style:S.link,children:e})}})})}):(0,le.jsx)(jr,{icon:(0,le.jsx)("div",{style:S.lockedIconWrap,children:(0,xr.Q)(S.lockedIcon)}),children:(0,le.jsx)("p",{style:S.paragraph,children:(0,le.jsx)(a.FormattedMessage,{...br.automationEditOnSite})})});if("sufficient"!==u.editPermissionStatus&&"missing_permissions"===u.reason&&u.actionId){const e=p[u.actionId];return(0,le.jsx)(jr,{icon:(0,le.jsx)("div",{style:S.lockedIconWrap,children:(0,xr.Q)(S.lockedIcon)}),children:(0,le.jsx)("p",{style:S.paragraph,children:(0,le.jsx)(a.FormattedMessage,{..."readonly"===o?br.automationSlackNoPermissions:br.automationSlackWithPermissions,values:{"anchor-delete":e=>(0,le.jsx)(vr.Z,{onClick:r,style:S.link,children:e}),user:e}})})})}return"insufficient"===u.editPermissionStatus||"unknown"===u.editPermissionStatus?(0,le.jsx)(jr,{icon:(0,le.jsx)("div",{style:S.lockedIconWrap,children:(0,xr.Q)(S.lockedIcon)}),children:(0,le.jsx)("p",{style:S.paragraph,children:(0,le.jsx)(a.FormattedMessage,{...br.automationGenericFullAccess})})}):s?(0,le.jsx)(jr,{icon:(0,le.jsx)("div",{style:S.lockedIconWrap,children:(0,Bt.t)(S.warningIcon)}),children:(0,le.jsx)(a.FormattedMessage,{...br.automationIncompatibleViewFilterAndOwner})}):null}function jr(e){window.__c={n:"AutomationMessage"};const{children:t,icon:o}=e,n=_r();return(0,le.jsx)("div",{style:n.wrapWrap,children:(0,le.jsxs)("div",{style:n.wrap,children:[o&&(0,le.jsx)("div",{style:n.iconWrap,children:o}),(0,le.jsx)("div",{style:n.messageWrap,children:t})]})})}function Mr(e){window.__c={n:"AutomationUpsellMessage"};const{children:t,icon:o}=e,n=_r();return(0,le.jsx)("div",{style:n.wrapWrap,children:(0,le.jsxs)("div",{style:n.upsellWrap,children:[o&&(0,le.jsx)("div",{style:n.iconWrap,children:o}),(0,le.jsx)("div",{style:n.messageWrap,children:t})]})})}function _r(){const{isMobile:e}=(0,g.Fy)();return(0,h.yK)((t=>({boltIcon:{fill:t.icon.yellow,height:"100%",width:"100%"},boltIconWrap:{height:20,padding:2,width:20},icon:{},iconWrap:{flexGrow:0,flexShrink:0},lockedIcon:{fill:t.icon.secondary,height:"100%",width:"100%"},lockedIconWrap:{background:t.fill.lightGray,borderRadius:4,height:20,padding:2,width:20},link:{color:t.text.interactive},messageWrap:{flexGrow:1},paragraph:{color:t.text.secondary,fontSize:e?14:12,margin:0},warningIcon:{color:t.accentColors.orange[400],height:"100%",width:"100%"},warningIconWrap:{height:20,padding:2,width:20},wrap:{alignItems:"start",display:"flex",flexDirection:"row",gap:10},wrapWrap:{padding:e?12:"0 12px 12px 12px"},upsellWrap:{alignItems:"center",background:t.accentColors.yellow[50],border:`1px solid ${t.accentColors.yellow[100]}`,borderRadius:6,display:"flex",flexDirection:"row",gap:10,padding:8},personBadgeQuestionMark:{fill:t.mediumIconColor,width:16,height:"auto"},personBadgeQuestionMarkWrap:{height:20,padding:2,width:20}})),[e])}var kr=o(24006);const Tr=(0,a.defineMessages)({automationEnabledLabel:{defaultMessage:"Active",id:"collectionSettings.editAutomationView.automationEnabledLabel"},automationPausedLabel:{defaultMessage:"Paused",id:"collectionSettings.editAutomationView.automationPausedLabel"},automationEnabledHiddenAriaLabel:{defaultMessage:"Automation is active.",id:"collectionSettings.editAutomationView.automationEnabledHiddenAriaLabel"},automationPausedHiddenAriaLabel:{defaultMessage:"Automation is paused.",id:"collectionSettings.editAutomationView.automationPausedHiddenAriaLabel"},automationDisabledTooltip:{defaultMessage:"Ask {user} to resume this automation.",id:"collectionSettings.editAutomationView.automationDisabledTooltip"}});function Vr(e){window.__c={n:"AutomationSectionStatus"};const{automationId:t,automationOwner:o,disabled:i,isAutomationPaused:r,onPause:s,onResume:l}=e,c=`toggle-${t}`,d=(0,n.useCallback)((()=>{r?null==l||l():null==s||s()}),[r,l,s]),u=(0,h.yK)((e=>({labelWrap:{color:i?e.text.tertiary:r?e.text.secondary:e.text.primary,flex:"1 1 auto",fontSize:14},sectionWrap:{alignItems:"start",display:"flex",flexDirection:"row",gap:6,marginBlockEnd:12},toggleWrap:{flex:"0 0 auto",paddingBlockStart:2}})),[i,r]),p=r?Tr.automationPausedLabel:Tr.automationEnabledLabel,g=r?Tr.automationPausedHiddenAriaLabel:Tr.automationEnabledHiddenAriaLabel;return(0,le.jsxs)("section",{style:u.sectionWrap,children:[(0,le.jsx)("div",{style:u.toggleWrap,children:(0,le.jsx)(re.Z,{disableTooltip:!i||!r,renderTooltip:()=>(0,le.jsx)(a.FormattedMessage,{...Tr.automationDisabledTooltip,values:{user:o}}),render:e=>(0,le.jsx)("div",{...e,children:(0,le.jsx)(kr.Z,{disabled:i,inputId:c,on:!r,onClick:d})})})}),(0,le.jsx)("div",{style:u.labelWrap,children:(0,le.jsxs)("label",{htmlFor:c,children:[(0,le.jsx)("span",{"aria-hidden":!0,children:(0,le.jsx)(a.FormattedMessage,{...p})}),(0,le.jsx)("span",{style:zn.jy,children:(0,le.jsx)(a.FormattedMessage,{...g})})]})})]})}const Ar=(0,a.defineMessages)({createAutomationViewMenuTitle:{id:"collectionSettings.createStatusAutomationView.menuTitle",defaultMessage:"New automation"},editAutomationViewMenuTitle:{id:"collectionSettings.editStatusAutomationView.menuTitle",defaultMessage:"Edit automation"},addTriggerAriaLabel:{id:"collectionSettings.editAutomationView.addTrigger.iconButton",defaultMessage:"Add trigger"},addActionAriaLabel:{id:"collectionSettings.editAutomationView.addAction.iconButton",defaultMessage:"Add action"},deleteButton:{id:"collectionSettings.editAutomationView.deleteButton",defaultMessage:"Delete"},automationEnabledLabel:{defaultMessage:"Active",id:"collectionSettings.editAutomationView.automationEnabledLabel"},automationPausedLabel:{defaultMessage:"Paused",id:"collectionSettings.editAutomationView.automationPausedLabel"},automationEnabledHiddenAriaLabel:{defaultMessage:"Automation is active.",id:"collectionSettings.editAutomationView.automationEnabledHiddenAriaLabel"},automationPausedHiddenAriaLabel:{defaultMessage:"Automation is paused.",id:"collectionSettings.editAutomationView.automationPausedHiddenAriaLabel"},automationDisabledTooltip:{defaultMessage:"Ask {user} to resume this automation.",id:"collectionSettings.editAutomationView.automationDisabledTooltip"}}),Pr=()=>{};function Ir(e){window.__c={n:"CollectionSettingsEditAutomationView"};const{collectionSettingsStore:t,collectionContextStore:o,...i}=e,s=(0,n.useMemo)((()=>i),[]),{mode:c}=s,u=(0,a.useIntl)(),p=(0,Mn.D)(),S=(0,g.O7)(),{isMobile:C}=(0,g.Fy)(),x=(0,Kt.d)(),v=(0,hr.E)("automation_ui_unify"),b="create"===c,w=(0,Sr.$)("CollectionSettingsEditAutomationView",{cacheFallback:S.defaultRecordCache.inMemoryRecordCache,isTemporaryData:!0}),j=(0,m.VK)((()=>Vo.default.state.currentUserStore),[]),M=(0,m.VK)((()=>null==j?void 0:j.userId),[j]),_=(0,m.VK)((()=>null==j?void 0:j.getDisplayName(u)),[j,u]),k=(0,m.VK)((()=>(0,co.sX)()),[]),T=(0,m.VK)((()=>o.collectionStore()),[o]),V=(0,m.VK)((()=>null==T?void 0:T.getSpaceId()),[T]),A=(0,m.VK)((()=>null==T?void 0:T.id),[T]),P=(0,m.VK)((()=>null==T?void 0:T.getSchema()),[T]),Z=(0,m.VK)((()=>(0,mr.jI)({timelineViewTab:"timeline",collectionContextStore:o})),[o]),F=(0,n.useMemo)((()=>"update"===s.mode?s.automationId:(0,r.ZP)()),[s]),B=(0,m.VK)((()=>o.aliveAutomationCount.state),[o]),L=(0,m.VK)((()=>{if(V&&T&&M)return new St.Mz(S,{id:F,table:kn.cv,spaceId:V})}),[F,T,M,S,V]),D=(0,m.VK)((()=>(null==L?void 0:L.getStatus())??"disabled"),[L]),K="active"===D,R=(0,m.VK)((()=>(0,f.XO)(u,_)),[_,u]),O=(0,m.VK)((()=>{if(!V||!T||!M)return;const e={id:F,table:kn.cv,spaceId:V},t=w.getEntry({pointer:e,userId:M});return t?t.value.value:He.sA({automationId:F,automationName:R,collectionStore:T,userId:M})}),[R,F,T,M,V,w]),H=(0,m.VK)((()=>{if(!V||!T)return;const e={id:F,table:kn.cv,spaceId:V},t=w.getEntry({pointer:e,userId:M});b&&!(0,ne.$K)(t)&&M&&w.setRecord({pointer:e,userId:M},{role:"editor",value:O});const o=new St.Mz(S,e,{inMemoryRecordCache:w});return He.Xd(o)?o:void 0}),[O,F,T,M,S,b,V,w]),N=(0,m.VK)((()=>(null==H?void 0:H.getName())??""),[H]),E=(0,m.VK)((()=>{var e;return(null==H||null===(e=H.getOwnerStore())||void 0===e?void 0:e.getDisplayName(u))??""}),[u,H]),W=(0,m.VK)((()=>{if(H&&(0,He.Xd)(H)){const e=H.getTriggerStore().getKeyStore("event").getKeyStore("source").getValue();if(e&&"filter"!==e.type)return e.pointer}}),[H]),z=(0,m.VK)((()=>((null==H?void 0:H.getActionStores())??[]).filter((e=>e.isDefined()))),[H]),G=function(e){const{actionStores:t,automationStore:o,loadingStatus:n,mode:i}=e;return(0,m.VK)((()=>"create"===i?"edit":"resolved"===n&&o&&t?(0,He.i1)({automationStore:o,actionStores:t})?"edit":(0,He.qM)({automationStore:o})?"readonly_with_delete":"readonly":"readonly"),[i,n,o,t])}({automationStore:H,actionStores:z,loadingStatus:"resolved",mode:s.mode}),U="readonly_with_delete"===G||"edit"===G&&!b,$="edit"===G,q=(0,m.VK)((()=>{if(!H||!j)return!1;const e=j.pointer,t=H.getCreatedByPointer();return!(!e||!t)&&oe.dr.isEqual(e,t)}),[H,j]),Y=We({automationStore:H,collectionStore:T}),X=We({automationStore:L,collectionStore:T}),Q=function(e){const{contextStore:t}=e,[o,i]=(0,n.useState)([]),r=(0,m.VK)((()=>t?(0,so.uV)(t.context.automationStore,t.context.type):void 0),[t]);return(0,m.VK)((()=>{r?(0,He.P$)({automationAvailabilityContext:r}).then((e=>i(function(e){const t=e=>e?1:-1;return e.slice().sort(((e,o)=>t(o.display.hasSideEffects)-t(e.display.hasSideEffects)))}(e))),(()=>i([]))):o.length>0&&i([])}),[o.length,r]),o}({contextStore:Y}),J=(0,m.VK)((()=>!!(0,ne.$K)(H)&&function(e){if(!(0,He.Xd)(e))return!1;const t=e.getTriggerStore().getKeyStore("event").getValue();return(null==t?void 0:t.pagesAdded)||"none"!==(null==t?void 0:t.pagePropertiesEdited.type)}(H)),[H]),ee=(0,m.VK)((()=>!!(0,ne.$K)(H)&&function(e){return e.getActionIds().length>0}(H)),[H]),te=0===Q.length,re=(0,m.VK)((()=>!(!H||!T)&&He.vM({automationStore:H,collectionStore:T})),[H,T]),ae=(0,m.VK)((()=>!!(T&&H&&Y)&&He.qk({automationContextStore:Y,automationStore:H,collectionStore:T})),[Y,H,T]),se=(0,m.VK)((()=>!!(T&&L&&X)&&He.qk({automationContextStore:X,automationStore:L,collectionStore:T})),[T,X,L]),ce=fr({automationStorePointer:null==H?void 0:H.pointer,defaultRecordCache:S.defaultRecordCache.inMemoryRecordCache,inMemoryRecordCache:w,userId:M}),de=(0,n.useMemo)((()=>({type:"eventTriggers"})),[]),ue=(0,n.useMemo)((()=>({type:"eventActions",availableActions:Q})),[Q]);!function(e){const{automationStore:t,collectionStoreId:o,eventTracker:i}=e,[r,a]=(0,n.useState)(!1),s=(0,m.VK)((()=>(null==t?void 0:t.getActionIds().length)??0),[t]),l=(0,m.VK)((()=>{if(!t||!(0,He.Xd)(t))return 0;const e=t.getTriggerStore().getKeyStore("event");let o=0;e.getKeyStore("pagesAdded").getValue()&&o++;const n=e.getKeyStore("pagePropertiesEdited").getValue();return"any"===(null==n?void 0:n.type)?o++:"some"===(null==n?void 0:n.type)&&(o+=n.some.length),o}),[t]);(0,n.useEffect)((()=>{i&&o&&!r&&t&&((0,y.nC)(i,{automation_id:t.id,automation_total_actions:s,automation_total_triggers:l,collection_id:o}),_n.default.logEvent("automation_configure_view","true"),a(!0))}),[i,o,r,s,l,null==t?void 0:t.id,t])}({automationStore:H,collectionStoreId:A,eventTracker:p});const pe=(0,m.VK)((()=>!(!$||!ee)&&(!k||!te)),[$,ee,te,k]),me=He.EE({automationStore:H,currentUserId:M,inMemoryRecordCache:w}),he=(0,n.useCallback)((()=>{T&&H&&ce&&("create"===c?function(e){const{automationStore:t,collectionSettingsStore:o,collectionStore:n,environment:i,intl:s}=e;(function(e){const{automationStore:t,collectionStore:o,environment:n,intl:i}=e,a=(0,Pn.mc)(n);d.createAndCommit({environment:n,userAction:"collectionSettingsAutomationsActions.createDatabaseAutomation",perform:e=>{d.applyOperation({store:o,operation:{pointer:o.pointer,path:["format","automation_ids"],command:"listAfter",args:{id:t.id}},transaction:e});const a=St.Mz.createChildStore(o,t.pointer),s=t.getActionStores();for(const t of s){const o=t.getType();o&&An.zY({actionId:t.id,actionType:o,automationStore:a,config:t.getConfig(),environment:n,intl:i,transaction:e})}const l=Ln(s);Vn.ae({environment:n,inMemoryRecordCache:o.inMemoryRecordCache,table:kn.cv,transaction:e,value:{action_ids:t.getActionIds(),alive:!0,id:t.id,parent_id:o.id,parent_table:o.table,properties:{name:t.getName()},space_id:o.getSpaceId(),status:"active",trigger:{id:(0,r.ZP)(),event:t.getEventConfiguration()??{pagesAdded:!1,pagePropertiesEdited:{type:"none"},source:{pointer:o.getSpaceShardedPointer(),type:"collection"}},type:l}}})}});const s=Dn({automationStore:t,collectionStore:o});y.T0(a,s)})({automationStore:t,collectionStore:n,environment:i,intl:s}),mi.oV({label:(0,le.jsx)(a.FormattedMessage,{id:"automations.editAutomationView.createdConfirmation",defaultMessage:"{automationName} created",values:{automationName:t.getName()}})}),l.z$({collectionSettingsStore:o})}({automationStore:H,collectionSettingsStore:t,collectionStore:T,environment:S,intl:u}):"update"===c?function(e){const{automationStore:t,collectionSettingsStore:o,collectionStore:n,environment:i}=e;(function(e){const{automationStore:t,collectionStore:o,environment:n}=e;d.createAndCommit({environment:n,userAction:"collectionSettingsAutomationsActions.saveDatabaseAutomation",perform:e=>{const n=St.Mz.createChildStore(o,t.pointer),i=t.getName(),r=n.getKeyStore("properties");Vn.sW({store:r,data:{name:i},transaction:e});const a=t.getActionStores(),s=Ln(a),l=n.getTriggerStore();if(Vn.sW({store:l,data:{type:s},transaction:e}),(0,He.Xd)(n)&&(0,He.Xd)(t)){const o=n.getTriggerStore().getKeyStore("event");Vn.sW({store:o,data:t.getTriggerStore().getKeyStore("event").getValue(),transaction:e})}const c=[];for(const t of a){const o=t.getModel();if(!o)continue;const i=St.zq.createChildStore(n,t.pointer);Vn.sO({store:i,value:{alive:!0,config:o.getConfig(),id:o.id,parent_id:n.id,parent_table:n.table,space_id:n.getSpaceId(),type:o.type},transaction:e}),c.push(t.id)}Vn.sW({store:n,data:{action_ids:c},transaction:e})}});const i=(0,Pn.mc)(n),r=Dn({automationStore:t,collectionStore:o});y.r4(i,r)})({automationStore:t,collectionStore:n,environment:i}),mi.oV({label:(0,le.jsx)(a.FormattedMessage,{id:"automations.editAutomationView.updatedConfirmation",defaultMessage:"{automationName} updated",values:{automationName:t.getName()}})}),l.z$({collectionSettingsStore:o})}({automationStore:H,collectionSettingsStore:t,collectionStore:T,environment:S}):(0,ne.t1)(c))}),[H,t,T,S,ce,u,c]),Se=(0,n.useCallback)((()=>{H&&T&&Fn({automationStore:H,collectionStore:T,environment:S})}),[T,S,H]),ye=(0,n.useCallback)((()=>{H&&T&&Bn({automationStore:H,collectionStore:T,environment:S})}),[T,S,H]),xe=(0,n.useCallback)((async()=>{H&&T&&!b&&await Zn({intl:u,environment:S,existingAutomationStore:H,collectionStore:T,triggerType:"event",onDelete:()=>{1===B?l.wl({collectionSettingsStore:t,item:{type:"main"}}):l.z$({collectionSettingsStore:t})}})}),[B,H,t,T,S,u,b]),ve=(0,n.useCallback)((async()=>{await Zr({automationName:N,hasPendingChanges:ce})&&(0===B?l.wl({collectionSettingsStore:t,item:{type:"main"}}):l.z$({collectionSettingsStore:t}))}),[B,N,t,ce]),be=(0,n.useCallback)((async()=>{await Zr({automationName:N,hasPendingChanges:ce})&&l.E3({collectionSettingsStore:t})}),[N,t,ce]);!function(e){const{hasPendingChanges:t,onClick:o}=e;(0,n.useEffect)((()=>{async function e(e){const n=e.target;if(t&&e.eventPhase===Event.CAPTURING_PHASE&&n instanceof Element){if((0,Cr.jM)(n)||(0,Cr.yT)(n))return;e.stopPropagation(),e.preventDefault(),await o()}}return window.addEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[t,o])}({hasPendingChanges:ce,onClick:be});const Me=(0,n.useCallback)((async()=>{await Zr({automationName:N,hasPendingChanges:ce})&&(l.wl({collectionSettingsStore:t,item:{type:"main"}}),l.H4({collectionSettingsStore:t,item:{type:"properties",timelineViewTab:"timeline"}}),l.H4({collectionSettingsStore:t,item:{type:"deletedProperties",timelineViewTab:"timeline"}}))}),[N,t,ce]),_e=(0,n.useCallback)((async e=>{await Zr({automationName:N,hasPendingChanges:ce})&&(l.wl({collectionSettingsStore:t,item:{type:"main"}}),l.H4({collectionSettingsStore:t,item:{type:"properties",timelineViewTab:"timeline"}}),l.H4({collectionSettingsStore:t,item:{type:"property",formatKey:Z,property:e}}))}),[N,t,Z,ce]),ke=(0,m.VK)((()=>e=>{if(me(e),A&&P&&H)if("update_trigger"===e.type||"remove_trigger"===e.type){const t=function(e){const{action:t,automationId:o,collectionStoreId:n,schema:i}=e;let r;if("page_added"===t.trigger.type)r={type:"page"};else if("any_page_property_edited"===t.trigger.type)r={condition:"any",type:"property"};else if("property_changed"===t.trigger.type){const e=i[t.trigger.property];if(!e)return;r={condition:"some",property_types:[e.type],type:"property"}}else(0,ne.t1)(t.trigger);return{automation_id:o,automation_trigger:r,collection_id:n}}({action:e,automationId:F,collectionStoreId:A,schema:P});if(!t)return;"remove_trigger"===e.type?(0,y.Ey)(p,t):"update_trigger"===e.type&&function(e,t){if(!(0,He.Xd)(t))return!0;const o=t.getTriggerStore().getKeyStore("event");if("page_added"===e.type&&!0===o.getKeyStore("pagesAdded").getValue())return!1;if("any_page_property_edited"===e.type&&"any"===o.getKeyStore("pagePropertiesEdited").getKeyStore("type").getValue())return!1;if("property_changed"===e.type){const t=o.getKeyStore("pagePropertiesEdited").getValue();if("some"===(null==t?void 0:t.type)&&t.some.some((t=>t.property===e.property)))return!0}return!0}(e.trigger,H)&&(0,y.nK)(p,t)}else if("update_action"===e.type||"remove_action"===e.type){const t=function(e){const{action:t,automationId:o,collectionStoreId:n,schema:i}=e;let r;if("slack_notification"===t.action.type)r={type:"slack_notification"};else{if("update_pages"!==t.action.type)return;var a;r={property_types:((null===(a=t.action.config)||void 0===a?void 0:a.properties)??[]).map((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.type})).filter(ne.$K),type:"update_pages"}}return{automation_action:r,automation_action_id:t.action.id,automation_id:o,collection_id:n}}({action:e,automationId:F,collectionStoreId:A,schema:P});if(!t)return;"remove_action"===e.type?(0,y.OK)(p,t):"update_action"===e.type&&function(e,t){return!t.getActionIds().includes(e.id)}(e.action,H)&&(0,y.A2)(p,t)}}),[F,H,P,A,p,me]),Te=(0,n.useCallback)((e=>{const t=e.target.value;ke({type:"update_name",name:t})}),[ke]),Ve=(0,n.useCallback)((e=>{ke({type:"update_source",pointer:e})}),[ke]),Ae=function(e){const t=4,{showDeleteEnableDisableOptions:o}=e,{isMobile:n}=(0,g.Fy)();return(0,h.yK)((e=>({automationSection:{display:"flex",flexDirection:"column",gap:t},automationSectionAdd:{marginLeft:"auto",flexGrow:0,flexShrink:0},automationSectionHeader:{alignItems:"center",display:"flex",flexDirection:"row"},automationSectionHeaderAction:{background:`linear-gradient(to right, ${e.stroke.regular} 50%, transparent 50%), linear-gradient(to right, ${e.stroke.regular} 50%, transparent 50%)`,backgroundPosition:"20px 0px, 20px bottom",backgroundRepeat:"no-repeat",backgroundSize:`2px 36px, 2px ${t+2}px`,marginBlockEnd:-t,paddingBlock:`36px ${t}px`,position:"relative"},automationSectionTitle:{color:e.lightTextColor,fontSize:n?14:12,lineHeight:1.3,position:"relative",fontWeight:ie.Z.fontWeight.medium},automationCreateMobile:{boxShadow:"none",paddingBlock:"0 12px",paddingInline:12},automationCreateDesktop:{paddingBlock:o?"12px 0":12,paddingInline:12},automationCreateButton:{...n?{minHeight:45}:{},width:"100%"},automationNameInput:{marginBlockEnd:n?void 0:8},automationNameText:{marginInlineStart:12},automationOptionIconDesktop:{marginInlineStart:12},menuScroller:{...n?{}:{marginBlockStart:6}},wrap:{borderTop:`1px solid ${e.regularDividerColor}`,paddingBlockStart:15,paddingBlockEnd:12,paddingInline:12}})),[n,o])}({showDeleteEnableDisableOptions:U}),Pe=[],Ie=ce&&ae;if($&&Pe.push((0,le.jsx)(Ce.Z,{mobileStyle:Ae.automationCreateMobile,style:Ae.automationCreateDesktop,topBorder:!C,children:(0,le.jsx)(ko.Z,{onClick:he,disabled:!Ie,style:Ae.automationCreateButton,children:b?(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.createButton.label",defaultMessage:"Create"}):(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.saveButton.label",defaultMessage:"Save"})})})),U&&Pe.push((0,le.jsx)(Ce.Z,{disableMobilePadding:!0,topBorder:C||0===Pe.length,children:(0,le.jsx)(bn.Z,{desktopIconStyle:Ae.automationOptionIconDesktop,icon:ge.y,isRed:!0,onClick:xe,title:u.formatMessage(Ar.deleteButton)})})),!T||!H)return null;const Ze=b?u.formatMessage(Ar.createAutomationViewMenuTitle):u.formatMessage(Ar.editAutomationViewMenuTitle),Fe=D&&E&&(0,le.jsx)(wr,{automationStore:H,collectionStore:T,automationPermissionScope:G,referencesIncompatibleCollectionViewFilter:re,onDelete:xe});return(0,le.jsx)(gr.Z,{capture:!0,onEsc:be,children:(0,le.jsxs)(vn.ZP,{title:Ze,collectionSettingsStore:t,collectionContextStore:o,handleBackArrowClick:ve,handleClose:be,footer:Pe,fullHeight:!0,menuScrollerStyle:Ae.menuScroller,children:[Fe,(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:void 0,sections:[{key:"automation_top_input",items:[{key:"automation_name",action:()=>{},render:e=>(0,le.jsx)(ao.ZP,{style:Ae.automationNameInput,...e,value:N??"Loading...",onChange:Te,disabled:!$,textWrapperStyle:Ae.automationNameText})},{key:"automation_source",action:Pr,render:e=>(0,le.jsx)(wi,{menuListItemProps:e,selectedSourcePointer:W,collectionContextStore:o,onSelect:Ve,disabled:!$})}],render:e=>(0,le.jsx)(Ce.Z,{...e,disableMobilePadding:Boolean(Fe)})}]}),(0,le.jsxs)("div",{style:Ae.wrap,children:[se&&U&&(0,le.jsx)(Vr,{automationId:H.id,automationOwner:E,isAutomationPaused:!K,onPause:Se,onResume:ye}),v?(0,le.jsx)("section",{children:"Hello world."}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)("section",{style:Ae.automationSection,children:[(0,le.jsxs)("header",{style:Ae.automationSectionHeader,children:[(0,le.jsx)("div",{style:Ae.automationSectionTitle,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.triggerSection.title",defaultMessage:"When any of these occur"})}),(0,le.jsx)("div",{style:{...Ae.automationSectionAdd,visibility:J&&$?void 0:"hidden"},children:(0,le.jsx)(we.ZP,{popupType:x,alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,renderOrigin:e=>(0,le.jsx)(je.Z,{...e,ariaLabel:u.formatMessage(Ar.addTriggerAriaLabel),icon:I.R}),render:e=>T&&(0,le.jsx)(Ri,{automationStore:H,collectionStore:T,initialState:de,updateCurrentAutomationState:ke,buttonPopupParent:e})})})]}),J?(0,le.jsx)(Ni,{automationStore:H,collectionStore:T,updateCurrentState:ke,handleNavigateToDeletedProperties:Me,handleNavigateToEditProperty:_e,disabled:!$}):(0,le.jsx)(we.ZP,{popupType:x,renderOrigin:e=>(0,le.jsx)(hi,{...e,icon:(0,I.R)({height:24,width:12}),title:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.triggerSection.placeholder",defaultMessage:"Add trigger"})}),render:e=>T&&(0,le.jsx)(Ri,{automationStore:H,collectionStore:T,initialState:de,updateCurrentAutomationState:ke,buttonPopupParent:e})})]}),(0,le.jsxs)("section",{style:Ae.automationSection,children:[(0,le.jsxs)("header",{style:{...Ae.automationSectionHeader,...Ae.automationSectionHeaderAction},children:[(0,le.jsx)("div",{style:Ae.automationSectionTitle,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettings.editAutomationView.actionSection.title",defaultMessage:"Do this"})}),(0,le.jsx)("div",{style:{...Ae.automationSectionAdd,visibility:pe?void 0:"hidden"},children:(0,le.jsx)(we.ZP,{alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,popupType:x,render:e=>(0,le.jsx)(en,{automationStore:H,buttonPopupParent:e,collectionStore:T,initialState:ue,updateCurrentAutomationState:ke}),renderOrigin:e=>(0,le.jsx)(je.Z,{...e,ariaLabel:u.formatMessage(Ar.addActionAriaLabel),icon:I.R})})})]}),ee?(0,le.jsx)(ur,{automationStore:H,collectionStore:T,handleNavigateToDeletedProperties:Me,handleNavigateToEditProperty:_e,updateCurrentAutomationState:ke,currentUserIsOwner:q,disabled:!$}):(0,le.jsx)(Si,{automationStore:H,collectionStore:T,initialState:ue,updateCurrentAutomationState:ke})]})]})]})]})})}async function Zr(e){const{automationName:t,hasPendingChanges:o}=e;return!o||await Tn.confirmUserAction({message:(0,le.jsx)(a.FormattedMessage,{id:"automations.confirmDiscardChanges.message",defaultMessage:"{hasName, select, true {Are you sure you want to discard {automationName}?} other {Are you sure you want to discard this automation?}}",values:{automationName:t,hasName:Boolean(t)}}),acceptLabel:(0,le.jsx)(a.FormattedMessage,{id:"automations.confirmDiscardChanges.acceptLabel",defaultMessage:"Discard"})})}var Fr=o(12534),Br=o(34859),Lr=o(58421),Dr=o(36857),Kr=o(59187),Rr=(o(52262),o(24506),o(1302)),Or=o(39132),Hr=o(61061),Nr=o(44495),Er=o(95371),Wr=o(30188),zr=o(66890);var Gr=o(77181),Ur=o(42937),$r=o(29376),qr=o(64275);function Yr(e){window.__c={n:"CollectionSettingsNotification"};const{title:t,icon:o,style:n,children:i,right:r,showCloseButton:a,onClose:s}=e,l=(0,h.Fg)(),c=(0,le.jsx)(he.Z,{onClick:s,style:{display:"flex",alignItems:"center",justifyContent:"center",background:void 0,borderRadius:6,width:16,height:16},children:(0,qr.D)({width:14,fill:l.mediumTextColor})});return(0,le.jsxs)("div",{style:{padding:"12px 16px",margin:"4px 12px",fontSize:12,background:l.accentColors.orange[50],borderRadius:6,...n},children:[t&&(0,le.jsxs)("div",{style:{display:"flex",marginBottom:2,alignItems:"center"},children:[o,(0,le.jsx)("div",{style:{fontWeight:ie.Z.fontWeight.medium,flexGrow:1},children:t}),a?c:r]}),i]})}var Xr=o(64369),Qr=o(5210);function Jr(e){window.__c={n:"CollectionSettingsViewSubitemsPreview"};const{propertyName:t,inversePropertyName:o,newDesign:n}=e,i=(0,h.yK)((e=>({togglePreviewParentIcon:{color:e.regularIconColor,marginRight:"4"},togglePreviewChildIcon:{color:e.mediumIconColor,marginLeft:"24px",marginRight:"4"},togglePreviewRowWithDivider:{padding:"4px",margin:"0px 12px",display:"flex",fontSize:14,alignItems:"center",borderBottom:`1px solid ${e.regularDividerColor}`},togglePreviewRow:{padding:"4px",margin:"0px 12px",display:"flex",fontSize:14,alignItems:"center"},togglePreviewOutsideBorder:{margin:"0px 12px",border:`1px solid ${e.regularDividerColor}`,borderRadius:"4px",alignItems:"center",...n?{fontWeight:ie.Z.fontWeight.medium,backgroundColor:e.accentColors.gray[30],padding:"9px 0"}:{}}})),[n]);return(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(Ce.Z,{disableMobileBorders:!0,children:(0,le.jsxs)("div",{style:i.togglePreviewOutsideBorder,children:[(0,le.jsxs)("div",{style:i.togglePreviewRowWithDivider,children:[(0,le.jsx)(Qr.Z,{isSidebar:!1,open:!0,fill:!0,onClick:()=>{},style:i.togglePreviewParentIcon,disabled:!0}),(0,le.jsx)("span",{children:"🐔"}),(0,le.jsx)("div",{style:{marginLeft:"5px"},children:o})]}),(0,le.jsxs)("div",{style:i.togglePreviewRowWithDivider,children:[(0,le.jsx)(Qr.Z,{isSidebar:!1,open:!1,fill:!0,onClick:()=>{},style:i.togglePreviewChildIcon,disabled:!0}),(0,le.jsx)("span",{children:"🐣"}),(0,le.jsx)("div",{style:{marginLeft:"5px"},children:t})]}),(0,le.jsxs)("div",{style:i.togglePreviewRow,children:[(0,le.jsx)(Qr.Z,{isSidebar:!1,open:!1,fill:!0,onClick:()=>{},style:i.togglePreviewChildIcon,disabled:!0}),(0,le.jsx)("span",{children:"🐣"}),(0,le.jsx)("div",{style:{marginLeft:"5px"},children:t})]})]})})})}var ea=o(22491),ta=o(65742),oa=(o(21703),o(27731));function*na(e,t){const o=new oa.Z;for(o.currentValue=e,o.endValue=t,o.stiffness=35;;){const e=yield o.currentValue;if(o.step(e)){yield o.currentValue;break}}}function*ia(e,t,o){let n=0;for(;n<o;){n+=(yield e+n/o*(t-e))}}function*ra(e){for(const[t,o]of $e.$R(e,e.slice(1)))(0,ne.$K)(t)&&(0,ne.$K)(o)&&(yield*na(t,o))}function*aa(e,t){let o=0;for(;!(0,ne.$K)(t)||o<t;){o+=(yield e)}}function*sa(e){let t=0;for(;;){const o={};for(const[n,i]of(0,ne.qP)(e)){const e=i.next(t);if(e.done)return;o[n]=e.value}t=yield o}}var la=o(43350);const ca="inactive-task-filter",da="active-task-filter",ua="mouse-cursor-filter",pa=80,ga=24;function*ma(e){yield*sa({x:e,opacity:aa(1)})}function ha(e){window.__c={n:"DateShiftingPreview"};const{mode:t}=e,o=(0,h.yK)((e=>({wrap:{margin:"0px 10px",border:`1px solid ${e.regularDividerColor}`,borderRadius:4,alignItems:"center",position:"relative",height:112}})),[1]),i=(0,n.useRef)(null),r=(0,$i.X)(i),a=r?r.width-2:264;return(0,le.jsx)("div",{style:o.wrap,ref:i,children:(0,le.jsx)(Sa,{mode:t,sceneWidth:a})})}function Sa(e){window.__c={n:"DateShiftingPreviewAnimation"};const{mode:t,sceneWidth:o}=e,i=(0,h.yK)((e=>({svgArrowTheme:{stroke:e.collectionValidDependencyArrow,strokeWidth:ta.lf},invalidArrow:{stroke:e.collectionInvalidDependencyArrow},svgContainer:{position:"absolute",width:"100%",height:"100%",backgroundColor:e.accentColors.gray[30]}})),[]),r=(0,n.useMemo)((()=>({none:function*(){for(;;)yield*ma(ra([o/2,o/2+40+20,o/2-40-20,o/2]))},preserve_gap:function*(){for(;;)yield*ma(ra([o/2,o/2+40,o/2-40,o/2]))},consume_gap:function*(){for(;;){yield*ma(ra([o/2,o/2-40,o/2+40,o/2+pa]));const e=500;yield*sa({x:aa(o/2+pa),opacity:ia(1,0,e)}),yield*sa({x:aa(o/2),opacity:ia(0,1,e)})}}})),[o]),{x:a,opacity:s}=function(e){const t=(0,n.useMemo)((()=>e()),[e]),[o,i]=(0,n.useState)((()=>{const e=t.next(0);if(e.done)throw new Error("Generator must provide at least one result");return e.value}));return(0,n.useEffect)((()=>{const e=t.next(0);e.done||i(e.value);let o=Date.now(),n=0;return n=requestAnimationFrame((function e(){n=requestAnimationFrame(e);const r=Date.now(),a=r-o;o=r;const s=t.next(a);s.done||i(s.value)})),()=>cancelAnimationFrame(n)}),[t]),o}(r[t??"none"]),l={x:o/2-160,y:10},c={x:a-40,y:42},d={x:o/2+pa,y:74},u={x:c.x+40,y:c.y+12};return(0,ne.$K)(t)&&("consume_gap"===t?(l.x=Math.min(l.x,c.x-pa),d.x=Math.max(d.x,c.x+pa)):"preserve_gap"===t?(l.x=l.x+a-o/2,d.x=d.x+a-o/2):(0,ne.t1)(t)),(0,le.jsxs)("svg",{style:i.svgContainer,children:[$e.w6(o/2-160,o,40).map(((e,t)=>(0,le.jsx)(fa,{startPoint:{x:e,y:0},endPoint:{x:e,y:110}},t))),(0,le.jsx)(la.Z,{startPoint:{x:c.x+pa,y:c.y+12},endPoint:{x:d.x-2,y:d.y+12},...(0,ea.iv)(i.svgArrowTheme,c.x+pa>d.x?i.invalidArrow:void 0,{opacity:s}),showArrowHead:!0}),(0,le.jsx)(la.Z,{startPoint:{x:l.x+pa,y:l.y+12},endPoint:{x:c.x-2,y:c.y+12},...(0,ea.iv)(i.svgArrowTheme,c.x<l.x+pa?i.invalidArrow:void 0,{opacity:s}),showArrowHead:!0}),(0,le.jsx)(ya,{point:l,opacity:s}),(0,le.jsx)(ya,{point:c,active:!0,opacity:s}),(0,le.jsx)(ya,{point:d,opacity:s}),(0,le.jsx)(Ca,{point:u,opacity:s}),(0,le.jsx)(xa,{})]})}function ya(e){window.__c={n:"SvgTaskBox"};const{point:t,active:o,opacity:n}=e,i=(0,h.Fg)(),r=o?"dark"===i.mode?"#28456C":"#E7F3F8":i.buttonBackground;return(0,le.jsx)("g",{transform:`translate(${t.x-4},${t.y-2})`,opacity:n,children:(0,le.jsx)("rect",{filter:`url(#${o?da:ca})`,width:pa,height:ga,x:"4",y:"2",fill:r,rx:"3"})})}function fa(e){window.__c={n:"SvgDashedLine"};const{startPoint:t,endPoint:o}=e,n=(0,h.Fg)(),i="dark"===n.mode?n.accentColors.gray[300]:"#E3E2E0";return(0,le.jsx)("line",{x1:t.x,y1:t.y,x2:o.x,y2:o.y,stroke:i,strokeDasharray:"3 4"})}function Ca(e){const{point:t,opacity:o}=e;return(0,le.jsxs)("g",{filter:"url(#mouse-cursor-filter)",transform:`translate(${t.x},${t.y})`,opacity:o,children:[(0,le.jsx)("path",{fill:"#32302C",d:"M14 12.25h-3.334l2.193 5.294-2.309.956-2.194-5.294L6 15.563l-.75-.75V3.94l1.06-.44L14 11.19v1.06z"}),(0,le.jsx)("path",{stroke:"#fff",fill:"#32302C",strokeWidth:"0.5",d:"M14 12.5h.25v-1.413l-.073-.073-7.69-7.69-.12-.12-.154.065-1.059.44L5 3.775v11.142l.073.073.75.75.177.177.177-.177 2.092-2.091 2.05 4.948.096.23.23-.095 2.31-.956.231-.096-.096-.231-2.05-4.948H14z"})]})}function xa(){return(0,le.jsxs)("defs",{children:[(0,le.jsxs)("filter",{id:ca,width:88,height:32,x:"0",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,le.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:"1",result:"effect1_dropShadow_637_7659"}),(0,le.jsx)("feOffset",{}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0707 0 0 0 0 0.0693 0 0 0 0 0.0693 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_637_7659"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feOffset",{dy:"2"}),(0,le.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"effect1_dropShadow_637_7659",result:"effect2_dropShadow_637_7659"}),(0,le.jsx)("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_637_7659",result:"shape"})]}),(0,le.jsxs)("filter",{id:da,width:88,height:32,x:"0",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,le.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:"1",result:"effect1_dropShadow_637_5084"}),(0,le.jsx)("feOffset",{}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.2 0 0 0 0 0.494118 0 0 0 0 0.662745 0 0 0 0.2 0"}),(0,le.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_637_5084"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feOffset",{dy:"2"}),(0,le.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"effect1_dropShadow_637_5084",result:"effect2_dropShadow_637_5084"}),(0,le.jsx)("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_637_5084",result:"shape"})]}),(0,le.jsxs)("filter",{id:ua,width:"17.75",height:"24.244",x:"0.75",y:"0.91",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,le.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feOffset",{dy:"2"}),(0,le.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0.2 0"}),(0,le.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_637_4925"}),(0,le.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_637_4925",result:"shape"})]})]})}var va=o(52936),ba=o(18442),wa=o(71644),ja=o(16956),Ma=o(58023),_a=o(86825),ka=o(61053),Ta=o(98519),Va=o(69872);function Aa(e){window.__c={n:"CollectionSettingsViewDefaultPropertyPopup"};const{menuProps:t,property:o,defaultProperty:n,checkState:i,propertySchema:r,collectionContextStore:a,handleDefaultPropertySelect:s,handlePropertySelect:l,...c}=e,d=(0,g.MO)(),u=(0,m.VK)((()=>a.permissionScopes.state),[a]);return(0,m.VK)((()=>_n.default.checkGate("collection_level_subitems_setting")),[])?(0,le.jsx)(Va.Z,{...t,disabled:!u.canConfigureBlock,propertySchema:r,format:Va.Z.DisplayFormat.Name,onClick:()=>s(o),right:(0,le.jsx)(Pa,{property:o,checkState:o===n,collectionContextStore:a,defaultProperty:void 0})}):(0,le.jsx)(we.ZP,{popupType:d?we.Z4.SlideUp:we.Z4.Popup,alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,originGap:0,renderOrigin:e=>(0,le.jsx)(Va.Z,{...t,...e,disabled:!u.canConfigureBlock,propertySchema:r,format:Va.Z.DisplayFormat.Name,right:(0,le.jsx)(Pa,{property:o,defaultProperty:n,checkState:i,collectionContextStore:a})}),render:e=>(0,le.jsx)(Ia,{...c,parent:e,property:o,collectionContextStore:a,handleDefaultPropertySelect:s,handlePropertySelect:l})})}function Pa(e){window.__c={n:"DefaultCheck"};const{property:t,defaultProperty:o,checkState:n,collectionContextStore:i}=e,r=(0,g.MO)(),s=(0,m.VK)((()=>{var e;return null===(e=i.collectionStore())||void 0===e||null===(e=e.getName())||void 0===e?void 0:e.toString()}),[i]),l=(0,h.yK)((e=>({defaultText:{color:e.mediumTextColor,fontSize:12,fontWeight:500,textTransform:"uppercase",marginRight:4}})),[]);return(0,le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,le.jsx)("div",{style:{...l.defaultText},children:t===o&&(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Default",id:"database.viewSettings.setViewPropertyDefault.defaultProperty.tag",values:{databaseName:s}})}),n&&(0,le.jsx)("div",{style:{...r?{marginLeft:"auto",marginRight:20,minWidth:0,flexShrink:0}:{marginLeft:"auto",marginRight:12,minWidth:0,flexShrink:0},width:r?16:14,flexShrink:0},children:(0,Ta.k)()})]})}function Ia(e){window.__c={n:"PropertySelectPopup"};const{parent:t,property:o,collectionContextStore:n,handleDefaultPropertySelect:i,handlePropertySelect:r,...s}=e,l=(0,g.MO)(),c=(0,m.VK)((()=>n.permissionScopes.state),[n]),d=(0,m.VK)((()=>n.databaseType),[n]),u=(0,m.VK)((()=>{var e;return null===(e=n.collectionStore())||void 0===e||null===(e=e.getName())||void 0===e?void 0:e.toString()}),[n]);let p;p=l?{menuType:zt.og.ActionSheet}:{menuType:zt.og.Popup,width:300};const h=c.canConfigureCollection;let S;if("v1"===e.version)S=(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[h&&(0,le.jsx)(bn.Z,{isGray:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Set on all new {databaseName} views",id:"database.viewSettings.setViewPropertyDefault.allDefaultButton.title",values:{databaseName:u}}),onClick:()=>{i(o),t.close()}}),(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.setViewPropertyDefault.setProperty.title",defaultMessage:"Set on this view"}),isGray:!0,onClick:()=>{r(o),t.close()}})]});else if("v2"===e.version){const n=(0,Ur.K9)({feature:e.feature,databaseType:d});S=(0,le.jsxs)(le.Fragment,{children:[h&&(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Set as default",id:"database.viewSettings.relationFeatures.setViewPropertyDefault.allDefaultButton.title",values:{databaseName:u}}),caption:(0,le.jsx)(a.FormattedMessage,{...n}),shouldWrapCaption:!0,onClick:()=>{i(o),t.close()}})}),(0,le.jsx)(Ce.Z,{topBorder:h,children:(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationFeatures.setViewPropertyDefault.setProperty.title",defaultMessage:"Set on this view only"}),onClick:()=>{r(o),t.close()}})})]})}else(0,ne.t1)(e);return(0,le.jsx)(ye.Z,{...p,children:S})}var Za=o(6695),Fa=o(29798);const Ba=(0,a.defineMessages)({inputPlaceholder:{defaultMessage:"Search for a property…",id:"database.viewSettings.propertySelect.inputPlaceholder"}});function La(e){window.__c={n:"CollectionSetttingsGroupedPropertySelectMenu"};const{currentProperty:t,getGroupedProperties:o,onAccept:i,renderProperty:r,inputPlaceholder:s,schema:l,format:c,defaultShowPropertyGroupCount:d}=e,u=(0,g.Fy)(),S=(0,m.qz)(void 0,Fa.Z),y=(0,m.VK)((()=>o()),[o]),[f,C]=(0,n.useState)(!1),[x,v]=(0,n.useState)(""),b=(0,Za.iB)(c,l,void 0,Za.j5.Page).collection_page_properties||[],w=(0,n.useCallback)((e=>{v(e.target.value),S.setState({...S.state,focus:{section:0,indexLocal:0,indexGlobal:0}}),C(!1)}),[S]),j=(0,h.yK)((e=>({dotsIcon:{width:16,fill:e.mediumTextColor,marginLeft:4,marginRight:2},showMoreButton:{color:e.mediumTextColor}})),[]),M=$e.MR(y,(e=>Math.min(...e.map((e=>b.findIndex((t=>t.property===e))))))),_=[{key:"input",comp:(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(ao.ZP,{focusInitial:!u.isMobile||void 0,focus:!u.isMobile||void 0,value:x,onChange:w,placeholder:s||Ne.default.formatMessage(Ba.inputPlaceholder)})})}];if(x){const e=M.map((e=>e.filter((e=>{const t=l[e],o=t?`${t.name} ${lo.SO[t.type]}`:"";return Boolean(p().match(x,o))})))).filter((e=>e.length>0));if(0===e.length)_.push({key:"noResults",comp:(0,le.jsx)(fi.Z,{caption:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"database.viewSettings.propertySelect.noResultsTitle"})})});else{const o=[{key:"results",render:e=>(0,le.jsx)(Ce.Z,{...e}),items:e.flat().map((e=>Ka({onAccept:i,property:e,schema:l,currentProperty:t,renderProperty:r}))).filter(ne.$K)}];_.push(Da({sections:o,menuListStore:S}))}}else{const e=d||2;let o,n;if(!f&&M.length>e){o=M.slice(0,e);const t=$e.Sm(M.slice(e).map((e=>e.length)));n={key:"show_more",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,be.o)(j.dotsIcon),style:j.showMoreButton,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{moreCount} more",id:"database.viewSettings.propertySelect.showMoreTitle",values:{moreCount:t}})}),action:()=>{C(!0)}}}else o=M;const s=o.map(((e,a)=>({key:e.join("-"),render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:0!==a}),items:e.map((e=>Ka({onAccept:i,property:e,schema:l,currentProperty:t,renderProperty:r}))).concat(a===o.length-1?[n]:[]).filter(ne.$K)})));_.push(Da({sections:s,menuListStore:S}))}return(0,le.jsx)(le.Fragment,{children:_.map((e=>{let{key:t,comp:o}=e;return(0,le.jsx)(n.Fragment,{children:o},t)}))})}function Da(e){const{menuListStore:t,sections:o}=e;return{key:"properties",comp:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:0,sections:o,store:t})}}function Ka(e){const{schema:t,currentProperty:o,onAccept:n,renderProperty:i,property:r}=e,a=t[r];if(!a)return;return{key:r,render:e=>{const t=r===o;return i?i(e,r,t,a):(0,le.jsx)(Va.Z,{...e,propertySchema:a,format:Va.Z.DisplayFormat.Name,checkState:t})},action:()=>{n(r)}}}var Ra=o(31869),Oa=o(54281);function Ha(e){const{collectionContextStore:t,feature:o}=e,n=(0,a.useIntl)();return{initialPropertyName:(0,m.VK)((()=>{const e=t.collectionStore();if(null!=e&&e.isDefined()){const i=t.normalizedSchemaStore.state;return $r.m8(n,{targetCollectionStore:e,isSelfRelation:!0,sourceSchema:i,createUnique:!0,from:o})}return n.formatMessage({id:"database.viewSettings.relationsPropertyTab.initialPropertyName.placeholder",defaultMessage:"Related to target"})}),[t,n,o])}}function Na(e){const{feature:t,collectionContextStore:o,collectionSettingsStore:i,onPropertySelect:r}=e,s=(0,g.O7)(),c=(0,a.useIntl)(),{initialPropertyName:u}=Ha({collectionContextStore:o,feature:t}),p=(0,n.useCallback)((e=>{const{collectionViewStore:o,newProperty:n,transaction:i}=e;"subitem"===t?Wr.dR({collectionViewStore:o,propertyId:n,transaction:i}):"timeline_arrows_by"===t?Oa.tF({collectionViewStore:o,newProperty:n,transaction:i}):(0,ne.t1)(t)}),[t]),h=(0,m.VK)((()=>o.normalizedSchemaStore.state),[o]),S=(0,n.useCallback)((()=>$r.ND(o,h)),[o,h]),y=(0,n.useCallback)((e=>{const{relationPropertyId:n,transaction:i}=e;"subitem"===t?Wr.jA({environment:s,collectionContextStore:o,relationPropertyId:n,transaction:i}):"timeline_arrows_by"===t?Oa._p({collectionContextStore:o,relationPropertyId:n,transaction:i}):(0,ne.t1)(t)}),[o,s,t]),f=(0,n.useCallback)((e=>{const{featureType:t}=e,n=o.collectionStore(),r=n,a=o.collectionViewStore();n&&r&&(d.createAndCommit({userAction:"CollectionSettingsSetupRelation.handleAddRelation",environment:s,perform:i=>{const l=ja.G3({environment:s,collectionStore:n,collectionViewArgs:a?{collectionViewStore:a,format:a.getFormat(),formatKey:"collection_page_properties"}:void 0,propertyType:"relation",transaction:i});return Ra.n7({environment:s,collectionContextStore:o,collectionStore:n,property:l,propertyName:u,targetCollectionStore:r,hasInverseRelation:!0,inverseName:void 0,autoRelate:{enabled:!1},propertyLimit:"no_limit",intl:c,transaction:i,from:t}),a&&(p({collectionViewStore:a,newProperty:l,transaction:i}),y({relationPropertyId:l,transaction:i})),"timeline_arrows_by"===t&&os({environment:s,intl:c,collectionStore:n,transaction:i,newConfig:e.dateShiftingConfig}),l}}),l.wl({collectionSettingsStore:i,item:{type:"main"}}),Et._H({environment:s,collectionContextStore:o,from:t,property_type:"relation"}))}),[o,i,s,u,c,y,p]),C=(0,n.useCallback)((e=>{const n=o.collectionViewStore();if(!n)return;let i;d.createAndCommit({userAction:"CollectionSettingsViewRelationsProperty.handleDefaultPropertySelect",environment:s,perform:t=>{p({collectionViewStore:n,newProperty:e,transaction:t}),y({relationPropertyId:e,transaction:t})}}),r(e),"subitem"===t?i="update_default_subitem":"timeline_arrows_by"===t?i="update_default_timeline_arrows_by":(0,ne.t1)(t),Et.wd({action:i,original_view_type:void 0,property_type:e?"relation":void 0,environment:s,collectionContextStore:o})}),[o,s,r,t,p,y]);return{handlePropertySelect:(0,n.useCallback)((e=>{const n=o.collectionViewStore();if(!n)return;let i;d.createAndCommit({userAction:"CollectionSettingsViewRelationsProperty.handlePropertySelect",environment:s,perform:t=>{p({collectionViewStore:n,newProperty:e,transaction:t})}}),r(e),"subitem"===t?i="update_subitem":"timeline_arrows_by"===t?i="update_timeline_arrows_by":(0,ne.t1)(t),Et.wd({action:i,original_view_type:void 0,property_type:e?"relation":void 0,environment:s,collectionContextStore:o})}),[o,s,r,t,p]),handleDefaultPropertySelect:C,handleAddRelation:f,getProperties:S}}function Ea(e){const{feature:t,collectionContextStore:o}=e;let n,i;const r=_n.default.checkGate("collection_level_subitems_setting");var a,s,l,c;if("subitem"===t)r?(i=null===(a=o.collectionStore())||void 0===a?void 0:a.getFormatStore().getKeyStore("subitem_property").getValue(),n="flattened"===(null===(s=o.collectionViewStore())||void 0===s?void 0:s.getFormat().subitem_display_mode)?void 0:i):(n=null===(l=o.currentSubitemFormatStore.state)||void 0===l?void 0:l.property,i=null===(c=o.collectionStore())||void 0===c?void 0:c.getFormatStore().getKeyStore("collection_default_subitem").getValue());else if("timeline_arrows_by"===t){var d;n=o.currentArrowsByFormatStore.state,i=null===(d=o.collectionStore())||void 0===d?void 0:d.getFormatStore().getKeyStore("collection_default_arrows_by").getValue()}else(0,ne.t1)(t);const u=o.normalizedSchemaStore.state,p=$r.NA(o,u);(0,ne.$K)(n)&&!p.includes(n)&&(n=void 0),(0,ne.$K)(i)&&!p.includes(i)&&(i=void 0);const g=n??i;if(g)return{property:g,isDefault:g===i,enabledOnView:Boolean(n),enabledOnCollection:Boolean(i),supportedInView:ns({feature:t,viewType:o.getViewType()})}}function Wa(e){const{feature:t,collectionContextStore:o}=e;return(0,m.VK)((()=>Ea({feature:t,collectionContextStore:o})),[o,t])}function za(e){window.__c={n:"RelationPropertyPicker"};const{currentPropertyId:t,feature:o,collectionContextStore:n,collectionSettingsStore:i,permissionScopes:r,onPropertySelect:s,buttonPopupStore:l,disabled:c}=e,d=(0,a.useIntl)(),u=(0,m.VK)((()=>{var e,t;return"subitem"===o?null===(e=n.collectionStore())||void 0===e||null===(e=e.getFormat())||void 0===e?void 0:e.collection_default_subitem:"timeline_arrows_by"===o?null===(t=n.collectionStore())||void 0===t||null===(t=t.getFormat())||void 0===t?void 0:t.collection_default_arrows_by:void(0,ne.t1)(o)}),[o,n]),p=(0,m.VK)((()=>n.databaseType),[n]),{handleDefaultPropertySelect:g,handlePropertySelect:h,getProperties:S}=Na({collectionContextStore:n,collectionSettingsStore:i,feature:o,onPropertySelect:s}),y=(0,Ur.g3)({feature:o,databaseType:p});return(0,le.jsx)(Ua,{intl:d,icon:U.v,caption:(0,le.jsx)(a.FormattedMessage,{...y}),collectionContextStore:n,buttonPopupStore:l,shouldGroupProperties:!0,getGroupedProperties:S,currentProperty:t,disabled:c,onAccept:r.canConfigureBlock&&r.canConfigureCollection?h:()=>{},renderProperty:(e,t,i,r)=>(0,le.jsx)(Aa,{version:"v2",feature:o,menuProps:e,property:t,defaultProperty:u,checkState:i,propertySchema:r,collectionContextStore:n,handleDefaultPropertySelect:g,handlePropertySelect:h})})}function Ga(e){window.__c={n:"DatePropertyPicker"};const{currentPropertyId:t,collectionContextStore:o,onPropertyChanged:i,disabled:r,title:s}=e,l=(0,a.useIntl)(),c=(0,m.qz)(void 0,xe.Z),d=(0,m.VK)((()=>o.normalizedSchemaStore.state),[o]),u=(0,n.useCallback)((()=>Object.keys(d).filter((e=>{const t=d[e];return"date"===(null==t?void 0:t.type)})).filter(ne.$K)),[d]);return(0,le.jsx)(Ua,{intl:l,buttonPopupStore:c,title:s,collectionContextStore:o,shouldGroupProperties:!1,getProperties:u,currentProperty:t,disabled:r,onAccept:e=>{e&&i(e),c.setState({open:!1})}})}function Ua(e){window.__c={n:"PopupPropertyPicker"};const{currentProperty:t,icon:o,caption:n,buttonPopupStore:i,collectionContextStore:r,disabled:s,title:l,shouldGroupProperties:c}=e,d=(0,g.Fy)(),u=(0,m.VK)((()=>{var e;return(null===(e=r.collectionStore())||void 0===e?void 0:e.getFormat())??{}}),[r]),p=(0,m.VK)((()=>r.normalizedSchemaStore.state),[r]),S=(0,h.yK)((e=>({caption:{fontSize:d.isMobile?ie.Z.fontSize.UISmall.mobile:ie.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,margin:"0 12px 12px 14px"}})),[d]),y=(0,m.VK)((()=>i.state.open),[i]),f=(0,m.VK)((()=>d.isPhone?{menuType:zt.og.ActionSheet}:{menuType:zt.og.Popup,width:300}),[d.isPhone]);return(0,le.jsxs)(le.Fragment,{children:[n&&(0,le.jsx)("div",{style:S.caption,children:n}),(0,le.jsx)(we.ZP,{popupType:d.isPhone?Me.kQ.SlideUp:Me.kQ.Popup,alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,disabled:s,originGap:0,renderOrigin:e=>{var n;return(0,le.jsx)(bn.Z,{title:l??(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationFeatures.propertyPicker.default.title",defaultMessage:"Property"}),showChevron:!0,right:t?(0,le.jsx)("span",{style:ie.Z.textOverflowStyle,children:null===(n=p[t])||void 0===n?void 0:n.name}):void 0,rightStyle:{flexShrink:1},textWrapperStyle:{flexShrink:0},rotateChevron:y,disabled:s,icon:o,...e})},render:t=>(0,le.jsx)(ye.Z,{...f,children:c?(0,le.jsx)(La,{...e,getGroupedProperties:e.getGroupedProperties,format:u,schema:p}):(0,le.jsx)(ka.Z,{...e,getProperties:e.getProperties,format:u,schema:p})}),buttonPopupStore:i})]})}function $a(e){var t;window.__c={n:"DateShiftingConfigSection"};const{currentConfig:o,onConfigChange:i,disabled:r,collectionContextStore:s}=e,l=(0,m.VK)((()=>s.databaseType),[s]),c=(0,g.O7)(),d=null===(t=o.configWithoutDates)||void 0===t?void 0:t.mode,[u,p]=(0,n.useState)(!(0,ne.$K)(o.configWithoutDates)||Boolean(o.configWithoutDates.avoid_weekends)),S=(0,ne.$K)(o.configWithoutDates)?Boolean(o.configWithoutDates.avoid_weekends):u;(0,n.useEffect)((()=>{if((0,ne.$K)(o.configWithoutDates)){const e=Boolean(o.configWithoutDates.avoid_weekends);e!==u&&p(e)}}),[o,u]);const y=(0,h.yK)((()=>({dateShiftContainer:{marginLeft:4},previewContainer:{marginLeft:4},previewTitle:{paddingLeft:10}})),[]),f=(0,n.useCallback)((e=>{(0,ne.$K)(o.configWithoutDates)&&(i({...o,configWithoutDates:{...o.configWithoutDates,avoid_weekends:e}}),Et.wd({environment:c,collectionContextStore:s,action:"update_dependency_date_shift_avoid_weekends",new_avoid_weekends:e}))}),[s,o,c,i]),C=(0,n.useCallback)((e=>{(0,ne.$K)(e)?i({...o,configWithoutDates:{...o.configWithoutDates,mode:e,avoid_weekends:u}}):i({...o,configWithoutDates:void 0}),Et.wd({environment:c,collectionContextStore:s,action:"update_dependency_date_shift_mode",new_date_shift_mode:e??"none"})}),[s,o,c,u,i]);return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ce.Z,{title:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.dateShiftingSectionCaption}),disableMobileBorders:!0,style:y.previewContainer,desktopTitleStyle:y.previewTitle,children:(0,le.jsx)(ha,{mode:d})}),(0,le.jsx)(Ce.Z,{disableMobileBorders:!0,style:y.dateShiftContainer,children:(0,le.jsx)(es,{currentMode:d,onModeChange:C,databaseType:l,disabled:r})}),(0,le.jsxs)(Ce.Z,{children:[(0,le.jsx)(Ja,{currentValue:S,databaseType:l,onChange:f,disabled:r||!(0,ne.$K)(o.configWithoutDates)}),(0,le.jsx)(qa,{...e})]})]})}function qa(e){window.__c={n:"DatePropertiesConfigSection"};const{collectionContextStore:t,currentConfig:o,onConfigChange:i,disabled:r}=e,s=(0,m.VK)((()=>{const e=t.normalizedSchemaStore.state;return Object.keys(e).filter((t=>{const o=e[t];return o&&(0,b.Lt)(o)}))}),[t]),l=s.length,c=o.datePropertyId?s.find((e=>e!==o.datePropertyId)):void 0,d="string"==typeof o.datePropertyId&&(0,ne.$K)(o.endDatePropertyId),u=(0,n.useCallback)(((e,t)=>{const n={[e]:t};if(d&&(0,ne.$K)(o.datePropertyId)){const i="datePropertyId"===e?"endDatePropertyId":"datePropertyId";o[i]===t&&(n[i]=s.find((e=>e!==t)))}i({...o,...n})}),[o,s,i,d]);return!(0,ne.$K)(o.configWithoutDates)||l<=1?null:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ga,{collectionContextStore:t,currentPropertyId:o.datePropertyId,title:d?(0,le.jsx)(a.FormattedMessage,{...Ur.dH.startDate}):(0,le.jsx)(a.FormattedMessage,{...Ur.dH.datePropertyPickerTitle}),onPropertyChanged:e=>u("datePropertyId",e),disabled:r}),(0,ne.$K)(c)&&"string"==typeof o.datePropertyId&&(0,le.jsxs)(le.Fragment,{children:[(0,ne.$K)(o.endDatePropertyId)&&(0,le.jsx)(Ga,{collectionContextStore:t,currentPropertyId:o.endDatePropertyId,title:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.endDate}),onPropertyChanged:e=>u("endDatePropertyId",e),disabled:r}),(0,le.jsx)(_a.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationFeatures.datePropertyPicker.separateStartEnd",defaultMessage:"Separate start and end dates"}),focused:!1,on:d,disabled:r,disabledFeedback:!0,onClick:()=>{i({...o,endDatePropertyId:d?void 0:c})}})]})]})}function Ya(e){const{collectionSettingsStore:t,feature:o,permissionScopes:n}=e,i=!n.canConfigureCollection&&!n.canConfigureBlock;return(0,le.jsx)(bn.Z,{icon:ba.H,showChevron:!0,disabled:i,title:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.advancedSettings}),onClick:()=>{l.H4({collectionSettingsStore:t,item:{type:"relationFeaturesAdvancedSettings",feature:o}})}})}function Xa(e){window.__c={n:"TurnOnFeatureButton"};const{feature:t,handleAddRelation:o,databaseType:n,permissionScopes:i}=e,r=(0,h.yK)((e=>({button:{width:"100%"},buttonWrap:{margin:"0px 12px"}})),[]);if(!i.canConfigureBlock||!i.canConfigureCollection)return null;const s=(0,Ur.Tq)({feature:t,databaseType:n});return(0,le.jsx)(Ce.Z,{disableMobileBorders:!0,children:(0,le.jsx)("div",{style:r.buttonWrap,children:(0,le.jsx)(ko.Z,{style:r.button,onClick:o,isLarge:!0,children:(0,le.jsx)(a.FormattedMessage,{...s})})})})}function Qa(e){window.__c={n:"TurnOffFeatureMenuItem"};const{feature:t,permissionScopes:o,propertyName:n,relationPropertyId:i,inversePropertyName:r,collectionContextStore:s,collectionSettingsStore:c,handleDefaultPropertySelect:u,databaseType:p}=e,m=(0,g.O7)(),S=(0,h.yK)((e=>({modalTitle:{fontWeight:ie.Z.fontWeight.semibold,fontSize:18},modalInnerStyle:{textAlign:"center"},modalPropertyName:{color:e.darkTextColor,fontWeight:ie.Z.fontWeight.semibold}})),[]);if(!(o.canConfigureCollection&&o.canConfigureBlock&&n&&r))return null;const y=(0,Ur.nB)({feature:t,databaseType:p}),f=(0,Ur.OH)({feature:t,databaseType:p});return(0,le.jsx)(bn.Z,{icon:ge.y,title:(0,le.jsx)(a.FormattedMessage,{...y}),isRed:!0,onClick:()=>{Tn.showDialog({description:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.turnOffFeatureDeletedProperties,values:{span:e=>(0,le.jsx)("span",{style:S.modalPropertyName,children:e}),propertyName:n,inversePropertyName:r}}),message:(0,le.jsx)("div",{style:S.modalTitle,children:(0,le.jsx)(a.FormattedMessage,{...f})}),innerStyle:S.modalInnerStyle,showCancel:!0,keepFocus:!0,items:[{label:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.turnOffAndDelete}),color:"red",onAccept:async()=>{i&&(await async function(e){const{environment:t,collectionContextStore:o,propertyId:n,feature:i}=e,r=o.normalizedSchemaStore.state,a=o.collectionStore();if(!a)return;await d.createAndCommitAsync({environment:t,userAction:"CollectionSettingsViewRelationFeatures.handleTurnOffFeatureAndDeleteAccept",waitForServerCommit:!1,perform:e=>ja.yV({environment:t,collectionStore:a,schema:r,property:n,transaction:e})});const s=r[n];s&&Et.y9({environment:t,collectionContextStore:o,property_type:s.type,from:i,property:n})}({environment:m,propertyId:i,collectionContextStore:s,feature:t}),u(void 0),l.wl({collectionSettingsStore:c,item:{type:"main"}}))}},{label:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.turnOffFeature}),color:"red",onAccept:()=>{i&&(u(void 0),l.wl({collectionSettingsStore:c,item:{type:"main"}}))}}]})}})}function Ja(e){const{currentValue:t,onChange:o,disabled:n,databaseType:i}=e;return(0,le.jsx)(_a.Z,{title:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.avoidWeekendsSwitcherTitle}),caption:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.Bq)(i)}),shouldWrapCaption:!0,shouldWrapTitle:!0,focused:!1,on:t,disabled:n,disabledFeedback:!0,onClick:()=>o(!t)})}function es(e){window.__c={n:"DateShiftModeSelect"};const{currentMode:t,onModeChange:o,disabled:n,databaseType:i}=e,r=(0,h.yK)((e=>({wrap:{display:"flex",flexDirection:"column",rowGap:8,marginLeft:12,marginRight:12}})),[]);return(0,le.jsx)("div",{style:r.wrap,children:[...va.Bp,void 0].map((e=>(0,le.jsx)(ts,{dateShiftingMode:e,databaseType:i,onClick:()=>o(e),active:e===t,disabled:n},e??"none")))})}function ts(e){window.__c={n:"DateShiftButton"};const{dateShiftingMode:t,onClick:o,active:n,disabled:i,databaseType:r}=e,s=(0,g.Fy)(),l=(0,h.yK)((e=>({buttonStyles:{fontSize:s.isMobile?ie.Z.fontSize.UISmall.mobile:ie.Z.fontSize.UISmall.desktop,fontWeight:ie.Z.fontWeight.medium,borderRadius:4,width:"100%",padding:"8px 8px",boxShadow:`0 0 0 1px ${e.regularDividerColor}`,color:e.darkTextColor,fill:e.mediumTextColor,...n&&{boxShadow:`0 0 0 2px ${e.blueColor}`,color:e.blueColor,fill:e.blueColor},...i&&{opacity:.65}},icon:{width:20,height:20,marginRight:6},buttonContentWrap:{display:"flex",alignItems:"center"}})),[n,s,i]),c=(0,Ur.W3)({dateShiftingMode:t,databaseType:r}),d=(0,Ur.l7)(t);return(0,le.jsx)(he.Z,{style:l.buttonStyles,onClick:o,disabled:i,children:(0,le.jsxs)("div",{style:l.buttonContentWrap,children:[(0,le.jsx)("div",{children:d(l.icon)}),(0,le.jsx)("div",{children:(0,le.jsx)(a.FormattedMessage,{...c})})]})})}function os(e){const{environment:t,newConfig:o,collectionStore:n,transaction:i,intl:r}=e;let a;if((0,ne.$K)(o.configWithoutDates))if(o.datePropertyId)a={...o.configWithoutDates,date_property:o.datePropertyId,end_date_property:o.endDatePropertyId};else{const e=(0,wa.ZP)(),s={name:r.formatMessage(Ur.dH.newDateProperty),type:"date"};Ma.xO({environment:t,collectionStore:n,update:{[e]:s},transaction:i}),a={...o.configWithoutDates,date_property:e,end_date_property:void 0}}Vn.sW({store:n.getFormatStore(),data:{dependency_date_shifting_config:a??null},transaction:i})}function ns(e){const{viewType:t,feature:o}=e;return"timeline_arrows_by"===o?"timeline"===t:"subitem"===o||void(0,ne.t1)(o)}function is(e){window.__c={n:"CollectionSettingsViewRelationFeatures"};const{collectionContextStore:t,collectionSettingsStore:o,feature:i}=e,r=(0,a.useIntl)(),s=(0,g.Fy)(),l=(0,m.VK)((()=>t.normalizedSchemaStore.state),[t]),c=(0,m.VK)((()=>t.databaseType),[t]),d=(0,m.VK)((()=>t.collectionStore()),[t]),u=Wa({collectionContextStore:t,feature:i}),p=null==u?void 0:u.property,S=(0,n.useMemo)((()=>bi.HI(l)),[l]),y=(0,m.VK)((()=>t.permissionScopes.state),[t]),f=(0,m.VK)((()=>{var e;return p&&(null===(e=l[p])||void 0===e?void 0:e.name)}),[l,p]),C=(0,m.VK)((()=>{const e=p&&l[p];if(e&&"relation"===e.type){var t;const o=e.property;return o?null===(t=l[o])||void 0===t?void 0:t.name:void 0}}),[p,l]),x=(0,m.VK)((()=>{const e=t.collectionStore();return null!=e&&e.isDefined()?$r.aI(r,{sourceCollection:e.getModel(),isSelfRelation:!0,targetCollectionStore:e,createUnique:!0,from:i}):r.formatMessage({id:"database.viewSettings.relationsPropertyTab.inverseName.placeholder",defaultMessage:"Related to this database"})}),[t,r,i]),v=(0,m.VK)((()=>Boolean(d&&function(e){const{collectionContextStore:t,collectionStore:o}=e,n=o.getFormat().collection_default_arrows_by,i=t.currentArrowsByFormatStore.state;return!(0,ne.$K)(i)||i===n}({collectionContextStore:t,collectionStore:d}))),[t,d]),b=(0,m.qz)(void 0,xe.Z),w=(0,n.useCallback)((e=>{e&&b.setState({open:!1})}),[b]),{initialPropertyName:j}=Ha({collectionContextStore:t,feature:i}),M=Na({collectionContextStore:t,collectionSettingsStore:o,onPropertySelect:w,feature:i}),{handleAddRelation:_,handleDefaultPropertySelect:k}=M,T=(0,hr.E)("collection_level_subitems_setting"),V=(0,h.yK)((e=>({container:{marginLeft:12,marginRight:12},captionText:{fontSize:s.isMobile?ie.Z.fontSize.UISmall.mobile:ie.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,fontWeight:ie.Z.fontWeight.regular,marginLeft:14},subitemsPreviewContainer:{marginBottom:6,marginLeft:2}})),[s]);if(!d)return null;let A;if("subitem"===i)if(u)A=(0,le.jsxs)(Ce.Z,{disableMobileBorders:!0,children:[(0,le.jsx)("div",{style:V.subitemsPreviewContainer,children:(0,le.jsx)(Jr,{propertyName:f||j,inversePropertyName:C||x,newDesign:!0})}),T?(0,le.jsx)(cs,{databaseType:c,permissionScopes:y}):(0,le.jsx)(ls,{feature:i,databaseType:c,featuredRelationProperty:u,actions:M,permissionScopes:y}),(0,le.jsx)(Ya,{collectionSettingsStore:o,feature:i,permissionScopes:y}),(0,le.jsx)(Qa,{feature:i,databaseType:c,permissionScopes:y,propertyName:f,relationPropertyId:p,collectionContextStore:t,collectionSettingsStore:o,handleDefaultPropertySelect:k,inversePropertyName:C})]});else{const e=()=>{_({featureType:"subitem"}),T&&Rr.default.afterNextFlush((()=>{const e=t.subitemTreeStore.getState(),o=t.resultsInViewOrder(1).at(0),n=(0,Er.DY)(e.children,(e=>e.value.store===o));if(n){const e=n.map((e=>e.value.store.pointer)),o=(0,Gr.Af)(e);Wr.rT({collectionContextStore:t,pathKey:o})}}))};A=(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Jr,{propertyName:f||j,inversePropertyName:C||x,newDesign:!0}),(0,le.jsx)(Xa,{feature:i,permissionScopes:y,databaseType:c,handleAddRelation:e})]})}else"timeline_arrows_by"===i?A=u?(0,le.jsxs)(le.Fragment,{children:[v?(0,le.jsx)(as,{collectionContextStore:t,firstDatePropertyId:S,permissionScopes:y}):(0,le.jsx)(rs,{collectionContextStore:t,databaseType:c}),(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[(0,le.jsx)(Ya,{collectionSettingsStore:o,feature:i,permissionScopes:y}),(0,le.jsx)(ls,{feature:i,databaseType:c,featuredRelationProperty:u,actions:M,permissionScopes:y}),(0,le.jsx)(Qa,{feature:i,databaseType:c,permissionScopes:y,relationPropertyId:p,propertyName:f,inversePropertyName:C,collectionContextStore:t,collectionSettingsStore:o,handleDefaultPropertySelect:k})]})]}):(0,le.jsx)(ss,{databaseType:c,collectionContextStore:t,firstDatePropertyId:S,handleAddRelation:_,permissionScopes:y}):(0,ne.t1)(i);const P=(0,Ur.Gt)({feature:i,databaseType:c}),I=(0,Ur.qi)({feature:i,databaseType:c});return(0,le.jsxs)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{...P}),children:[(0,le.jsx)(Ce.Z,{disableMobileBorders:!0,children:(0,le.jsx)("div",{style:{...V.container,...V.captionText},children:(0,le.jsx)(a.FormattedMessage,{...I})})}),A]})}function rs(e){window.__c={n:"DateShiftingNotApplicableToThisViewMessage"};const{collectionContextStore:t,databaseType:o}=e,n=(0,g.MO)(),i=(0,h.yK)((e=>({wrap:{boxShadow:e.plainButtonBoxShadow,...n?{backgroundColor:e.sidebarBackground,margin:void 0,borderRadius:void 0}:{background:"rgba(196, 196, 196, 0.13)",marginTop:14,marginBottom:20}},iconWithMessage:{display:"flex",gap:8},icon:{width:14,height:14,position:"relative",top:1,color:e.mediumTextColor}})),[n]),r=(0,m.VK)((()=>{var e;return null===(e=t.collectionStore())||void 0===e?void 0:e.getNormalizedDependencyDateShiftingConfig()}),[t]),s=(0,Ur.uM)({currentDateShiftConfig:r,databaseType:o});return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ce.Z,{title:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.dateShiftingSectionCaption}),children:(0,le.jsx)(ha,{mode:null==r?void 0:r.mode})}),(0,le.jsx)(Yr,{style:i.wrap,showCloseButton:!1,children:(0,le.jsxs)("div",{style:i.iconWithMessage,children:[(0,Nr.D)(i.icon),(0,le.jsx)(Xr.Z,{isSmall:!0,isMultiline:!0,children:(0,le.jsx)(a.FormattedMessage,{...s})})]})})]})}function as(e){window.__c={n:"FeatureEnabledDependenciesSection"};const{collectionContextStore:t,firstDatePropertyId:o,permissionScopes:i}=e,r=(0,g.O7)(),s=(0,a.useIntl)(),l=(0,m.VK)((()=>{var e;return null===(e=t.collectionStore())||void 0===e?void 0:e.getNormalizedDependencyDateShiftingConfig()}),[t]),c=(0,n.useCallback)((e=>{const o=t.collectionStore();o&&d.createAndCommit({userAction:"FeatureEnabledDependenciesSection.handleConfigChange",environment:r,perform:t=>{os({collectionStore:o,environment:r,intl:s,newConfig:e,transaction:t})}})}),[t,r,s]),u=(0,n.useMemo)((()=>({configWithoutDates:l,...l?{datePropertyId:l.date_property,endDatePropertyId:l.end_date_property}:{datePropertyId:o}})),[l,o]);return(0,le.jsx)($a,{collectionContextStore:t,currentConfig:u,disabled:!i.canConfigureBlock||!i.canConfigureCollection,onConfigChange:c})}function ss(e){window.__c={n:"FeatureDisabledDependenciesSection"};const{collectionContextStore:t,handleAddRelation:o,firstDatePropertyId:i,permissionScopes:r,databaseType:a}=e,[s,l]=(0,n.useState)({datePropertyId:i,configWithoutDates:{mode:"consume_gap",avoid_weekends:true}});return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)($a,{collectionContextStore:t,currentConfig:s,disabled:!r.canConfigureBlock||!r.canConfigureCollection,onConfigChange:l}),(0,le.jsx)(Xa,{feature:"timeline_arrows_by",permissionScopes:r,databaseType:a,handleAddRelation:()=>{o({featureType:"timeline_arrows_by",dateShiftingConfig:s})}})]})}function ls(e){window.__c={n:"ToggleViewVisibilityMenuItem"};const{feature:t,featuredRelationProperty:o,actions:n,permissionScopes:i,databaseType:r}=e,s=(0,g.Fy)(),l=(0,h.yK)((()=>({eyeHideIcon:{width:20,height:s.isMobile?24:12,marginLeft:3}})),[s]);if(!o.supportedInView)return null;const c=o.enabledOnView,d=c?{icon:Hr.B,iconStyle:l.eyeHideIcon}:{icon:Or.c};return(0,le.jsx)(bn.Z,{...d,onClick:()=>{n.handlePropertySelect(c?void 0:o.property)},title:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.cn)({feature:t,isOn:c,databaseType:r})}),disabled:!i.canConfigureBlock})}function cs(e){window.__c={n:"SubitemDisplayModeMenuItem"};const{databaseType:t,permissionScopes:o}=e,i=(0,zr.Y$)(),r=(0,m.VK)((()=>i.collectionViewStore()),[i]),s=(0,m.VK)((()=>null==r?void 0:r.getFormat()),[r]),l=void 0===(null==s?void 0:s.subitem_display_mode)||"show"===(null==s?void 0:s.subitem_display_mode),u=(0,g.Fy)(),p=(0,g.O7)(),S=(0,h.yK)((()=>({eyeHideIcon:{width:20,height:u.isMobile?24:12,marginLeft:3}})),[u]),y=n.useCallback((()=>{r&&d.createAndCommit({userAction:"actionRegistry.updateCollectionViewSubitemDisplayMode",environment:p,perform:e=>{c.FH({stores:[r],update:{subitem_display_mode:l?"flattened":"show",collection_view_subitem:l?void 0:(0,Gr.wf)(i)},transaction:e})}})}),[l,i,r,p]);Pn.j(p,"configure_subitem_display_mode",{userAction:l?"CollectionSettingsViewRelationFeatures.configureSubitemDisplayMode.flattened":"CollectionSettingsViewRelationFeatures.configureSubitemDisplayMode.show"});const f=l?{icon:Hr.B,iconStyle:S.eyeHideIcon}:{icon:Or.c};return(0,le.jsx)(bn.Z,{...f,onClick:y,title:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.cn)({feature:"subitem",isOn:l,databaseType:t})}),disabled:!o.canConfigureBlock})}var ds=o(91),us=o(80402),ps=o(60442);function gs(e){const{render:t,showImage:o,caption:i,tooltipImage:r}=e,a=e.tooltipImageScale||1,[s,l]=n.useState(!1),[c,d]=n.useState({width:0,height:0});return n.useEffect((()=>{if(r){const e=new Image;e.src=r,e.onload=()=>{d({width:e.width*a,height:e.height*a}),l(!0)}}}),[r,a]),(0,le.jsx)(re.Z,{placement:re.Z.Placement.Left,disableTooltip:void 0===i,style:{whiteSpace:"break-spaces"},render:t,renderTooltip:()=>r&&s&&o?(0,le.jsx)(ps.Z,{caption:i,imageURL:r,imageWidth:c.width,imageHeight:c.height}):(0,le.jsx)("div",{children:i})})}const ms="box1-filter",hs="box2-filter";function Ss(e){window.__c={n:"CollectionSettingsViewDependenciesPreview2"};const{propertyName:t,inversePropertyName:o}=e,n=(0,h.Fg)(),i=(0,h.yK)((e=>({svgWrap:{margin:"0px 12px",border:`1px solid ${e.regularDividerColor}`,borderRadius:4,alignItems:"center",position:"relative",height:112,backgroundColor:e.accentColors.gray[30],display:"flex",justifyContent:"center"}})),[]);return(0,le.jsx)(Ce.Z,{disableMobileBorders:!0,children:(0,le.jsx)("div",{style:i.svgWrap,children:(0,le.jsxs)("svg",{width:"266",height:"116",fill:"none",children:[(0,le.jsx)("path",{stroke:"#DFAF49",strokeWidth:"2",d:"M124 20h.426c7.703 0 17.307-.002 25.029 1.93 3.979.994 8.078 2.638 11.248 5.575C164.082 30.635 166 34.868 166 40c0 8.001-6.095 12.917-11.524 15.932-5.553 3.086-12.74 5.481-19.23 7.644l-.349.116c-6.919 2.307-13.074 4.381-17.546 6.866C112.655 73.166 112 75 112 76c0 1.868.582 2.885 1.453 3.692 1.08 1.001 2.981 1.982 6.002 2.737C125.59 83.963 132.773 84 141 84"}),(0,le.jsx)("path",{stroke:"#E3E2E0",strokeWidth:"2",d:"M125 32c8.227 0 15.41.037 21.545 1.57 3.021.756 4.922 1.737 6.002 2.738.871.807 1.453 1.824 1.453 3.692 0 .999-.655 2.834-5.351 5.443-4.472 2.484-10.627 4.558-17.546 6.865l-.349.116c-6.49 2.163-13.677 4.558-19.23 7.644C106.095 63.084 100 67.998 100 76c0 5.132 1.918 9.365 5.297 12.495 3.17 2.937 7.269 4.581 11.248 5.576C124.267 96 133.871 96 141.574 96H142"}),(0,le.jsx)("path",{fill:n.accentColors.gray[30],d:"M157 27h16v18h-16zM92 70h16v18H92z"}),(0,le.jsx)("path",{stroke:"#DFAF49",strokeWidth:"2",d:"M136 88l5-4-5-4"}),(0,le.jsx)("path",{stroke:"#E3E2E0",strokeWidth:"2",d:"M130 36l-5-4 5-4"}),(0,le.jsxs)("g",{filter:"url(#box1-filter)",children:[(0,le.jsx)("rect",{width:"100",height:"28",x:"24",y:"12",fill:n.buttonBackground,rx:"3"}),(0,le.jsx)("text",{x:"67",y:"31",fill:"#000",children:"🌱"})]}),(0,le.jsxs)("g",{filter:"url(#box2-filter)",children:[(0,le.jsx)("rect",{width:"100",height:"28",x:"142",y:"76",fill:n.buttonBackground,rx:"3"}),(0,le.jsx)("text",{x:"185",y:"95",fill:"#000",children:"🌳"})]}),(0,le.jsx)(ys,{x:"161",y:"26",width:"100",height:"16",textStyles:{fontSize:12,fontWeight:590,color:n.regularTextColor},children:t}),(0,le.jsx)(ys,{x:"15",y:"69",width:"90",height:"16",textStyles:{color:n.lightTextColor,fontSize:12,fontWeight:500,textAlign:"right"},children:o}),(0,le.jsxs)("defs",{children:[(0,le.jsxs)("filter",{id:ms,width:"108",height:"36",x:"20",y:"10",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,le.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:"1",result:"effect1_dropShadow_1034_52436"}),(0,le.jsx)("feOffset",{}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0707 0 0 0 0 0.0693 0 0 0 0 0.0693 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1034_52436"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feOffset",{dy:"2"}),(0,le.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"effect1_dropShadow_1034_52436",result:"effect2_dropShadow_1034_52436"}),(0,le.jsx)("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1034_52436",result:"shape"})]}),(0,le.jsxs)("filter",{id:hs,width:"108",height:"36",x:"138",y:"74",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,le.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:"1",result:"effect1_dropShadow_1034_52436"}),(0,le.jsx)("feOffset",{}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0707 0 0 0 0 0.0693 0 0 0 0 0.0693 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1034_52436"}),(0,le.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,le.jsx)("feOffset",{dy:"2"}),(0,le.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,le.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,le.jsx)("feColorMatrix",{values:"0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0 0.0705882 0 0 0 0.1 0"}),(0,le.jsx)("feBlend",{in2:"effect1_dropShadow_1034_52436",result:"effect2_dropShadow_1034_52436"}),(0,le.jsx)("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1034_52436",result:"shape"})]})]})]})})})}function ys(e){const{children:t,textStyles:o,...n}=e;return(0,le.jsx)("foreignObject",{...n,children:(0,le.jsx)("div",{style:{...ie.Z.textOverflowStyle,...n.width?{width:Number(n.width)}:{},...o},children:t})})}function fs(e){var t;window.__c={n:"CollectionSettingsDependenciesAdvancedSettings"};const{collectionContextStore:o,collectionSettingsStore:i,feature:r}=e,s=(0,a.useIntl)(),l=(0,hr.E)("collection_level_subitems_setting"),c=(0,m.VK)((()=>o.collectionStore()),[o]),d=(0,m.VK)((()=>o.normalizedSchemaStore.state),[o]),u=(0,m.VK)((()=>o.permissionScopes.state),[o]),p=null===(t=Wa({collectionContextStore:o,feature:r}))||void 0===t?void 0:t.property,g=(0,m.VK)((()=>{var e;return p&&(null===(e=d[p])||void 0===e?void 0:e.name)}),[p,d]),S=(0,m.VK)((()=>{var e;return"table"===(null===(e=o.collectionViewStore())||void 0===e?void 0:e.getType())}),[o]),y=(0,m.VK)((()=>{const e=p&&d[p];if(e&&"relation"===e.type){var t;const o=e.property;return o?null===(t=d[o])||void 0===t?void 0:t.name:void 0}}),[p,d]),f=(0,m.VK)((()=>{const e=o.collectionStore();return null!=e&&e.isDefined()?$r.aI(s,{sourceCollection:e.getModel(),isSelfRelation:!0,targetCollectionStore:e,createUnique:!0,from:r}):s.formatMessage({id:"database.viewSettings.relationsPropertyTab.inverseName.placeholder",defaultMessage:"Related to this database"})}),[o,s,r]),C=(0,m.qz)(void 0,xe.Z),{initialPropertyName:x}=Ha({collectionContextStore:o,feature:r}),v=(0,n.useCallback)((e=>{e&&C.setState({open:!1})}),[C]),b=(0,h.yK)((()=>({previewContainer:{marginLeft:2}})),[]);if(!c)return null;let w;return"subitem"===r?w=(0,le.jsx)(Jr,{propertyName:g||x,inversePropertyName:y||f,newDesign:!0}):"timeline_arrows_by"===r?w=(0,le.jsx)(Ss,{propertyName:g||x,inversePropertyName:y||f}):(0,ne.t1)(r),(0,le.jsxs)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{...Ur.dH.advancedSettings}),children:[(0,le.jsx)("div",{style:b.previewContainer,children:w}),(0,le.jsxs)(Ce.Z,{disableMobileBorders:!0,children:[(0,le.jsx)(za,{currentPropertyId:p,feature:r,onPropertySelect:v,buttonPopupStore:C,collectionContextStore:o,collectionSettingsStore:i,permissionScopes:u,disabled:l&&!u.canConfigureCollection}),"subitem"===r&&S&&(0,le.jsx)(Cs,{collectionContextStore:o,permissionScopes:u})]})]})}function Cs(e){window.__c={n:"ToggleNestingOnTitleMenuItem"};const{collectionContextStore:t,permissionScopes:o}=e,i=(0,a.useIntl)(),r=(0,g.O7)(),s=(0,m.VK)((()=>"title"===t.normalizedFormatStore.state.table_subitem_toggle_column),[t]),l=!o.canConfigureBlock,c=(0,n.useCallback)((()=>{const e=t.collectionViewStore();e&&(us.d1({environment:r,collectionViewStore:e,currentValue:t.normalizedFormatStore.state.table_subitem_toggle_column}),Et.wd({environment:r,collectionContextStore:t,action:"toggle_table_subitem_toggle_on_title"}))}),[t,r]);return(0,le.jsx)(gs,{showImage:o.canConfigureBlock,caption:i.formatMessage(Ur.dH.toggleNestingOnTitleMenuItemTooltip),tooltipImage:bo.Z.images.tooltips.collectionSettings.subitemsToggleOnTitlePng,tooltipImageScale:.3,render:e=>(0,le.jsx)(bn.Z,{...e,icon:e=>(0,ds.L)({width:11,height:11,marginRight:5,marginLeft:6,transform:"rotateZ(180deg)"}),onClick:c,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Show nesting toggle on title",id:"database.viewSettings.layoutTab.tableSubitemToggleOnTitle"}),right:(0,le.jsx)(kr.Z,{disallowTabbing:!0,on:s,disabled:l,onClick:c}),disabled:l})})}var xs=o(93959),vs=o(53787);function bs(e){window.__c={n:"CollectionSettingsViewDependenciesPreview"};const{propertyName:t}=e,o=(0,h.Fg)(),n=(0,h.yK)((e=>({dependenciesPreviewOutsideBorder:{margin:"0px 12px",border:`1px solid ${e.regularDividerColor}`,borderRadius:4,alignItems:"center",position:"relative",height:112,paddingLeft:19},svgContainer:{position:"absolute",width:"100%",height:"100%"},svgArrowTheme:{stroke:e.collectionValidDependencyArrow,strokeWidth:ta.lf},dependencyPropertyNamePreview:{fontSize:12,position:"absolute",background:e.buttonBackground,top:48,left:96},timelineItemPreview:{padding:4,margin:"0px 12px",display:"flex",fontSize:14,alignItems:"center",borderRadius:5,background:e.cardBackground,boxShadow:e.buttonBoxShadow,width:100,justifyContent:"center"}})),[]);return(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(Ce.Z,{children:(0,le.jsxs)("div",{style:n.dependenciesPreviewOutsideBorder,children:[(0,le.jsxs)("svg",{style:n.svgContainer,children:[(0,le.jsx)(la.Z,{startPoint:{x:110,y:25},endPoint:{x:110,y:87},style:n.svgArrowTheme,showArrowHead:!0}),(0,le.jsx)(la.Z,{startPoint:{x:210,y:87},endPoint:{x:223,y:87},style:n.svgArrowTheme,showArrowHead:!1}),(0,le.jsx)("circle",{cx:223,cy:87,r:ta.Wk,style:n.svgArrowTheme,fill:o.white})]}),(0,le.jsx)("div",{style:n.dependencyPropertyNamePreview,children:t}),(0,le.jsx)("div",{style:{...n.timelineItemPreview,marginTop:10,marginLeft:10},children:(0,le.jsx)("span",{children:"🌱"})}),(0,le.jsx)("div",{style:{...n.timelineItemPreview,marginTop:34,marginLeft:111},children:(0,le.jsx)("span",{children:"🌳"})})]})})})}const ws=(0,a.defineMessages)({subitemInputPlaceholder:{defaultMessage:"Sub-tasks…",id:"database.viewSettings.relationsPropertyTab.subitemInputPlaceholder"},timelineArrowsByInputPlaceholder:{defaultMessage:"Dependencies…",id:"database.viewSettings.relationsPropertyTab.timelineArrowsByInputPlaceholder"}});const js=(0,a.injectIntl)((function(e,t){window.__c={n:"CollectionSettingsViewRelationsProperty"};const{collectionContextStore:o,collectionSettingsStore:i,formatSetting:r}=e,s=(0,g.Fy)(),u=(0,a.useIntl)(),p=(0,g.O7)(),S="collection_page_properties",[y]=(0,n.useState)("no_limit"),f="subitem"===r,C="timeline_arrows_by"===r,x=(0,m.VK)((()=>o.databaseType),[o.databaseType]),v=(0,m.VK)((()=>o.normalizedSchemaStore.state),[o]),b=(0,m.VK)((()=>o.collectionStore()),[o]),w=(0,m.VK)((()=>(null==b?void 0:b.getFormat())??{}),[b]),j=(0,m.VK)((()=>{var e;return f?null===(e=o.currentSubitemFormatStore.state)||void 0===e?void 0:e.property:C?o.currentArrowsByFormatStore.state:void 0}),[o,f,C]),M=(0,m.VK)((()=>{var e,t;return f?null===(e=o.collectionStore())||void 0===e||null===(e=e.getFormat())||void 0===e?void 0:e.collection_default_subitem:C?null===(t=o.collectionStore())||void 0===t||null===(t=t.getFormat())||void 0===t?void 0:t.collection_default_arrows_by:void 0}),[o,f,C]),_=(0,m.VK)((()=>o.permissionScopes.state),[o]),k=(0,m.VK)((()=>$r.NA(o,v)),[o,v]),T=(0,m.VK)((()=>o.normalizedSchemaStore.state),[o]),V=(0,m.VK)((()=>{var e;const t=o.currentSubitemFormatStore.state,n=o.currentArrowsByFormatStore.state;let i;return f?i=t?v[t.property]:void 0:C&&(i=n?v[n]:void 0),null===(e=i)||void 0===e?void 0:e.name}),[o,v,f,C]),A=(0,m.VK)((()=>{const e=o.collectionStore();return null!=e&&e.isDefined()?$r.m8(u,{targetCollectionStore:e,isSelfRelation:!0,sourceSchema:T,createUnique:!0,from:r}):u.formatMessage({id:"database.viewSettings.relationsPropertyTab.initialPropertyName.placeholder",defaultMessage:"Related to target"})}),[o,T,u,r]),[P,Z]=(0,n.useState)(V||A),F=P===A,B=(0,m.VK)((()=>{const e=o.currentSubitemFormatStore.state,t=o.currentArrowsByFormatStore.state;let n;if(f?n=e?v[e.property]:void 0:C&&(n=t?v[t]:void 0),n&&"relation"===n.type){var i;const e=n.property;return e?null===(i=v[e])||void 0===i?void 0:i.name:void 0}}),[o,v,f,C]),L=(0,m.VK)((()=>{const e=o.collectionStore();return null!=e&&e.isDefined()?$r.aI(u,{sourceCollection:e.getModel(),isSelfRelation:!0,targetCollectionStore:e,createUnique:!0,from:r}):u.formatMessage({id:"database.viewSettings.relationsPropertyTab.inverseName.placeholder",defaultMessage:"Related to this database"})}),[o,u,r]),D=(0,m.VK)((()=>"title"===o.normalizedFormatStore.state.table_subitem_toggle_column),[o]),[K,R]=(0,n.useState)({hasInverseRelation:!0,inverseName:B,autoRelate:{enabled:!1}}),[O,H]=(0,n.useState)(0===k.length),N=(0,m.VK)((()=>(0,xs.$4)()),[]),E=(0,m.qz)(void 0,xe.Z),W=(0,m.Kw)(E),z=(0,n.useCallback)((()=>$r.NA(o,v)),[o,v]),G=(0,n.useCallback)((e=>{if(e){const t=v[e];if(t&&"relation"===t.type){const e=t.property;if(e){const t=v[e];if(t&&K){const e=t.name;R({hasInverseRelation:null==K?void 0:K.hasInverseRelation,inverseName:e,autoRelate:null==K?void 0:K.autoRelate})}}Z(t.name)}}}),[v,K,Z]),$=(0,n.useCallback)((e=>{const{collectionViewStore:t,newProperty:o,transaction:n}=e;f?(Wr.dR({collectionViewStore:t,propertyId:o,transaction:n}),(0,$e.o8)(t.getFormat().table_subitem_toggle_column)&&c.FH({stores:[t],update:{table_subitem_toggle_column:"title"},transaction:n})):C&&Oa.tF({collectionViewStore:t,newProperty:o,transaction:n})}),[f,C]),q=(0,n.useCallback)((e=>{const{relationPropertyId:t,transaction:n}=e;f&&Wr.jA({environment:p,collectionContextStore:o,relationPropertyId:t,transaction:n}),C&&Oa._p({collectionContextStore:o,relationPropertyId:t,transaction:n})}),[f,C,p,o]),Y=(0,n.useCallback)((e=>{const t=o.collectionViewStore();t&&(d.createAndCommit({userAction:"CollectionSettingsViewRelationsProperty.handleDefaultPropertySelect",environment:p,perform:o=>{$({collectionViewStore:t,newProperty:e,transaction:o}),q({relationPropertyId:e,transaction:o})}}),G(e),H(!1),l.E3({collectionSettingsStore:i}),Et.wd({action:f?"update_default_subitem":"update_default_timeline_arrows_by",original_view_type:void 0,property_type:e?"relation":void 0,environment:p,collectionContextStore:o}))}),[o,p,H,G,i,f,$,q]),X=(0,n.useCallback)((e=>{const t=o.collectionViewStore();t&&(d.createAndCommit({userAction:"CollectionSettingsViewRelationsProperty.handlePropertySelect",environment:p,perform:o=>{$({collectionViewStore:t,newProperty:e,transaction:o})}}),G(e),H(!1),l.E3({collectionSettingsStore:i}),Et.wd({action:f?"update_subitem":"update_timeline_arrows_by",original_view_type:void 0,property_type:e?"relation":void 0,environment:p,collectionContextStore:o}))}),[o,p,G,i,f,$]),Q=(0,n.useCallback)((()=>{Rr.default.afterNextFlush((()=>{H(!0),R({hasInverseRelation:!0,inverseName:L,autoRelate:{enabled:!1}}),Z(A)}))}),[L,A]),J=(0,n.useCallback)((()=>{if(!K)return;const{hasInverseRelation:e,inverseName:t,autoRelate:n}=K,a=o.collectionStore(),s=a,c=o.collectionViewStore();a&&s&&(d.createAndCommit({userAction:"CollectionSettingsSetupRelation.handleAddRelation",environment:p,perform:i=>{const l=ja.G3({environment:p,collectionStore:a,collectionViewArgs:c?{collectionViewStore:c,format:c.getFormat(),formatKey:S}:void 0,propertyType:"relation",transaction:i});return Ra.n7({environment:p,collectionContextStore:o,collectionStore:a,property:l,propertyName:P,targetCollectionStore:s,hasInverseRelation:e,inverseName:t,autoRelate:n,propertyLimit:y,intl:u,transaction:i,from:r}),c&&($({collectionViewStore:c,newProperty:l,transaction:i}),q({relationPropertyId:l,transaction:i})),l}}),l.z$({collectionSettingsStore:i}),l.H4({collectionSettingsStore:i,item:{type:"main"}}),Et._H({environment:p,collectionContextStore:o,from:r,property_type:"relation"}))}),[o,p,i,S,u,y,P,K,r,$,q]),ee=(0,n.useCallback)((()=>{const e=o.collectionViewStore();e&&(us.d1({environment:p,collectionViewStore:e,currentValue:o.normalizedFormatStore.state.table_subitem_toggle_column}),Et.wd({environment:p,collectionContextStore:o,action:"toggle_table_subitem_toggle_on_title"}))}),[o,p]),te=!_.canConfigureBlock,oe=(0,h.yK)((e=>({emptyStateText:{color:e.mediumTextColor,fontSize:14,margin:"0px 12px"},useExistingTitle:{fontSize:12,color:e.mediumTextColor,marginLeft:12,marginTop:12}})),[]);if(!b)return null;const ne=f&&_.canConfigureBlock&&V&&N,ie=_.canConfigureCollection,re=(e,t,n,i)=>(0,le.jsx)(Aa,{version:"v1",menuProps:e,property:t,defaultProperty:M,checkState:n,propertySchema:i,collectionContextStore:o,handleDefaultPropertySelect:Y,handlePropertySelect:X});return(0,le.jsxs)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.Gt)({feature:r,databaseType:x})}),footer:(0,le.jsxs)(Ce.Z,{topBorder:k.length>0&&!O,children:[ne&&!O&&(0,le.jsx)(gs,{showImage:!te,caption:Ne.default.formatMessage(Ur.dH.toggleNestingOnTitleMenuItemTooltip),tooltipImage:bo.Z.images.tooltips.collectionSettings.subitemsToggleOnTitlePng,tooltipImageScale:.3,render:e=>(0,le.jsx)(bn.Z,{...e,icon:e=>(0,ds.L)({width:11,height:11,marginRight:5,marginLeft:6,transform:"rotateZ(180deg)"}),title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Show nesting toggle on title",id:"database.viewSettings.layoutTab.tableSubitemToggleOnTitle"}),right:(0,le.jsx)(kr.Z,{disallowTabbing:!0,on:D,onClick:ee,disabled:te}),disabled:te,isGray:!0,onClick:ee})}),ie&&k.length>0&&!O&&(0,le.jsx)(bn.Z,{icon:I.R,title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.subitemTab.newRelation",defaultMessage:"Create new relation"}),isGray:!0,onClick:Q}),!O&&(0,le.jsx)(le.Fragment,{children:_.canConfigureBlock&&!_.canConfigureCollection?(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationsPropertyTab.removeSubitemRelation.removeSubitemButton.title",defaultMessage:"Turn off for this view"}),isRed:!0,onClick:()=>X(void 0)}):_.canConfigureBlock&&(0,le.jsx)(we.ZP,{popupType:s.isPhone?Me.kQ.SlideUp:Me.kQ.Popup,alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,originGap:0,renderOrigin:e=>(0,le.jsx)(le.Fragment,{children:!(!_.canConfigureBlock||!j)&&(0,le.jsx)(bn.Z,{isGray:!0,icon:ge.y,title:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.nB)({feature:r,databaseType:x})}),isRed:!0,...e})}),render:e=>{let t;return t=s.isPhone?{menuType:zt.og.ActionSheet}:{menuType:zt.og.Popup,width:300},(0,le.jsx)(ye.Z,{...t,footer:(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[_.canConfigureBlock&&(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationsPropertyTab.removeRelation.removeRelationButton.title",defaultMessage:"Turn off for this view"}),isRed:!0,onClick:()=>X(void 0)}),_.canConfigureCollection&&(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Turn off for all new views",id:"database.viewSettings.relationsPropertyTab.removeRelation.removeAllDefaultButton.title"}),isRed:!0,onClick:()=>{Y(void 0)}})]})})}})})]}),children:[f&&(0,le.jsx)(Jr,{propertyName:P||A,inversePropertyName:(null==K?void 0:K.inverseName)||L,newDesign:!1}),C&&(0,le.jsx)(bs,{propertyName:P||A}),!O&&(0,le.jsx)("div",{style:oe.useExistingTitle,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Use an existing relation",id:"database.viewSettings.relationsPropertyTab.useExistingRelation.title"})}),k.length>0&&!O?(0,le.jsx)("div",{style:{paddingBottom:"6px"},children:(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(we.ZP,{buttonPopupStore:E,render:e=>{let t;return t=s.isPhone?{menuType:zt.og.ActionSheet}:{menuType:zt.og.Popup,width:300},(0,le.jsx)(ye.Z,{...t,footer:(0,le.jsx)(ka.Z,{schema:v,format:w,getProperties:z,onAccept:_.canConfigureBlock&&!_.canConfigureCollection?X:()=>{},inputPlaceholder:Ne.default.formatMessage(f?ws.subitemInputPlaceholder:ws.timelineArrowsByInputPlaceholder),currentProperty:j,defaultShowPropertyCount:5,renderProperty:_.canConfigureBlock&&!_.canConfigureCollection?void 0:re})})},renderOrigin:e=>{var t;return(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationsPropertyTab.existingRelation",defaultMessage:"Property"}),showChevron:!0,right:j?null===(t=v[j])||void 0===t?void 0:t.name:void 0,rotateChevron:W.open,disabled:!1,icon:U.v,...e})},popupType:s.isPhone?Me.kQ.SlideUp:Me.kQ.Popup,alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,originGap:0})})}):ie&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ce.Z,{children:(0,le.jsx)("div",{style:oe.emptyStateText,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Rename (optional)",id:"database.viewSettings.relationsPropertyTab.emptyStateDescription"})})}),(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(ao.ZP,{value:P,placeholder:P,onChange:e=>Z(e.target.value),onBlur:()=>{},onSubmit:()=>{},focusInitial:!0,selectAll:!1})}),(0,le.jsx)(vs.Z,{collectionContextStore:o,targetCollectionStore:b,property:void 0,buttonContents:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Create",id:"database.viewSettings.relationsPropertyTab.createButton.title"}),temporaryInverseState:K,setTemporaryInverseState:R,isInitialPropertyName:F,onSubmit:J,from:r}),k.length>0&&(0,le.jsx)("div",{style:{margin:"auto",textAlign:"center"},children:(0,le.jsx)(qt.Z,{onClick:()=>{Rr.default.afterNextFlush((()=>{H(!1)}))},isGray:!0,style:{margin:"6px 12px 6px 12px",width:"auto"},children:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.relationsPropertyTab.newRelation",defaultMessage:"Use existing relation"})})})]})]})}));var Ms=o(98742);function _s(e){window.__c={n:"CollectionSettingsAccountPicker"};const{integration:t,collectionSettingsStore:o,collectionContextStore:n,onAccountSelect:i}=e,r=(0,h.yK)((()=>({settingsMenu:{display:"flex",flexGrow:1,flexDirection:"column",padding:"8px 16px 16px 8px"}})),[]),s=(0,g.O7)(),c=(0,m.VK)((()=>{var e;return null===(e=n.collectionStore())||void 0===e?void 0:e.getSpaceId()}),[n]),d=(0,m.VK)((()=>{const e=Dt.Z.state;return e.loaded?e.externalAuthentications.filter((e=>e.integration_id===t.id)):[]}),[t]);return t&&c?(0,le.jsx)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Choose an account",id:"collectionSettingsAccountPicker.title"}),footer:ks({environment:s,integration:t,spaceId:c}),children:(0,le.jsx)("div",{style:r.settingsMenu,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:0,sections:[{key:"externalAuthentications",items:d.map((e=>({key:e.id,render:o=>(0,le.jsx)(re.Z,{renderTooltip:()=>(0,le.jsx)("span",{children:e.account_name}),placement:re.Z.Placement.Left,textWrap:!0,render:n=>(0,le.jsx)(Se.Z,{...(0,Ms.Z)(n||{},o),title:e.account_name,icon:(0,le.jsx)("img",{style:{width:18},src:t.info.icon}),focused:o.focused})}),action:()=>{l.z$({collectionSettingsStore:o}),i(e)}}))),render:e=>(0,le.jsx)(Ce.Z,{...e})}]})})}):null}function ks(e){const t=e.environment.device.isMobileBrowser;return(0,le.jsx)(Ce.Z,{topBorder:!0,children:t?void 0:Ts(e)})}function Ts(e){return(0,le.jsx)(bn.Z,{...e,icon:I.R,title:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsAccountPicker.addAccount",defaultMessage:"Connect another account"}),isGray:!0,onClick:async()=>{await _o.hM({...e,from:"source_picker_connect_another_account"})}})}var Vs=o(58573),As=o(59054),Ps=o(20270),Is=o(64002),Zs=o(14871),Fs=o(61202),Bs=o(70764),Ls=o(75079);function Ds(e){window.__c={n:"CollectionSettingsAccountSelectionIndicator"};const{onClick:t,integration:o,accountName:n}=e,i=(0,h.yK)((e=>({accountSelection:{padding:"8px",borderTop:`1px solid ${e.regularDividerColor}`,cursor:"pointer"},accountSelectionLabel:{fontWeight:ie.Z.fontWeight.medium,paddingLeft:4,paddingTop:4}})),[]);return(0,le.jsx)("div",{style:i.accountSelection,children:(0,le.jsxs)("div",{onClick:t,children:[(0,le.jsx)(Xr.Z,{isSecondaryColor:!0,isSmall:!0,style:i.accountSelectionLabel,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.currentAccountSection.label",defaultMessage:"Connected to {integration}",values:{integration:o.name}})}),(0,le.jsx)(re.Z,{renderTooltip:()=>(0,le.jsx)("span",{children:n}),placement:re.Z.Placement.Left,textWrap:!0,render:t=>(0,le.jsx)(Se.Z,{showExtensionArrow:!0,focused:!1,...(0,Ms.Z)(t||{},e),title:n,icon:(0,le.jsx)("img",{style:{width:18},src:o.info.icon})})})]})})}var Ks=o(29109),Rs=o(1634);function Os(e){window.__c={n:"CollectionSettingsExternalAuthentication"};const{collectionContextStore:t,integration:o}=e,n=(0,h.Fg)(),i=(0,m.VK)((()=>t.collectionStore()),[t]),r=(0,m.VK)((()=>null==i?void 0:i.getIcon()),[i]),s=(0,g.O7)(),l=(0,m.VK)((()=>{var e;return null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),c=(0,h.yK)((e=>({settingsMenu:{display:"flex",flexGrow:1,flexDirection:"column",padding:"8px 16px 16px 8px"},authenticationBody:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"0px 16px 16px 16px",textAlign:"center"},settingsMenuSubHeading:{display:"inline",fontSize:14,margin:"4px 20px 20px 20px",color:e.mediumTextColor,textAlign:"center"},settingsMenuAuthenticationButton:{fontSize:14,height:32,color:e.regularInvertedTextColor}})),[]),{background:d,hoveredBackground:u,pressedBackground:p}=(0,Ks.d)(o,n.mode);return(0,le.jsx)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Connect to {integration}",id:"collectionSettingsCreateExternalViewPicker.authenticateHeader.title",values:{integration:o.name}}),children:(0,le.jsx)("div",{style:c.settingsMenu,children:(0,le.jsxs)("div",{style:c.authenticationBody,children:[(0,le.jsx)(vi.Z,{disabled:!0,bucket:"secure",store:i,icon:r,size:40,isEmptyPage:!1,style:{marginBottom:6}}),(0,le.jsx)("div",{style:c.settingsMenuSubHeading,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Link your {integration} account for richer content previews and seamless imports.",id:"collectionSettingsCreateExternalViewPicker.authenticateBody.title",values:{integration:o.name}})}),(0,le.jsx)(qt.Z,{onClick:()=>{l&&(_o.hM({environment:s,integration:o,spaceId:l,from:"placeholder_root_external_collection_view_block"}),Rs.Z.reset())},style:{background:d,...c.settingsMenuAuthenticationButton},hoveredStyle:{background:u},pressedStyle:{background:p},children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Connect to {integration}",id:"collectionSettingsCreateExternalViewPicker.authenticateButton.title",values:{integration:o.name}})})]})})})}var Hs=o(33338),Ns=o(53336);function Es(e){window.__c={n:"CollectionSettingsCreateExternalViewPicker"};const{collectionSettingsStore:t,collectionContextStore:o,externalAuthentication:n}=e,i=(0,m.VK)((()=>o.collectionStore()),[o]),r=(0,m.VK)((()=>{if(!i)return;const e=i.getFormat().integration_id;return Dt.Z.integrations.state.find((t=>t.id===e))}),[i]),a=(0,m.VK)((()=>!!r&&(0,Bs.NP)(r.id).length>0),[r]),s=(0,m.VK)((()=>{var e;return null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit()}),[]);return i&&s&&r?(0,le.jsx)(le.Fragment,{children:a?(0,le.jsx)(Gs,{...e,collectionContextStore:o,collectionSettingsStore:t,integration:r,externalAuthentication:n}):(0,le.jsx)(Os,{...e,collectionContextStore:o,collectionSettingsStore:t,integration:r})}):null}const Ws=e=>{var t;return null===(t=e.integration.info)||void 0===t||null===(t=t.original_url_patterns)||void 0===t?void 0:t.filter((e=>{var t;return null===(t=e.additional_types)||void 0===t?void 0:t.collection})).find((t=>{let{regex:o}=t;return new RegExp(o).test(e.url)}))},zs=(0,a.defineMessages)({all:{id:"collectionSettingsCreateExternalViewPicker.filters.all",defaultMessage:"All"},issues:{id:"collectionSettingsCreateExternalViewPicker.filters.issues",defaultMessage:"Issues"},pull_requests:{id:"collectionSettingsCreateExternalViewPicker.filters.pullRequests",defaultMessage:"Pull Requests"},board:{id:"collectionSettingsCreateExternalViewPicker.filters.boards",defaultMessage:"Boards"},project:{id:"collectionSettingsCreateExternalViewPicker.filters.projects",defaultMessage:"Projects"},Releases:{id:"collectionSettingsCreateExternalViewPicker.filters.releases",defaultMessage:"Releases"},"Pull Request":{id:"collectionSettingsCreateExternalViewPicker.filters.PullRequests",defaultMessage:"Pull Requests"},Issues:{id:"collectionSettingsCreateExternalViewPicker.filters.Issues",defaultMessage:"Issues"}});function Gs(e){window.__c={n:"CollectionSettingsSourceSelection"};const{integration:t,collectionContextStore:o,collectionSettingsStore:i,externalAuthentication:r}=e,[c,d]=(0,n.useState)(""),u=(0,m.VK)((()=>{const e=Dt.Z.state;return e.loaded?e.externalAuthentications.filter((e=>e.integration_id===t.id)):[]}),[t]),p=(0,m.VK)((()=>r||(u.length?u[0]:null)),[u,r]),[S,y]=(0,n.useState)(!1),[f,C]=(0,n.useState)(null),x=(0,h.yK)((e=>({settingsMenu:{display:"flex",flexGrow:1,flexDirection:"column",padding:"8px"},settingsMenuSearchBox:{background:e.contentBackground,marginBottom:10},syncSourceButton:{width:"100%",display:"flex",justifyContent:"center"},noResults:{width:"100%",paddingBottom:10,display:"flex",justifyContent:"center",fontSize:14,color:e.mediumTextColor},suggestionBox:{display:"flex",alignItems:"center",fontSize:12,color:se.ZP.white,background:se.ZP.blue,borderRadius:6,padding:10,boxShadow:e.largeLightBoxShadow,alignSelf:"center",maxWidth:"80%"},errorMessage:{alignSelf:"center",padding:10,fontSize:14,color:e.errorText},syncingData:{width:"100%",paddingBottom:10,display:"flex",justifyContent:"center",fontSize:14,color:e.mediumTextColor},filterContainer:{position:"relative",flexGrow:0,overflow:"hidden"},filterContainerScroller:{display:"flex",alignItems:"center",padding:"8px 12px"}})),[]),v=(0,m.VK)((()=>o.collectionStore()),[o]),b=(0,m.VK)((()=>o.collectionViewBlockStore()),[o]),w=(0,g.O7)(),[{value:j,status:M}]=(0,As.r5)((async()=>{if(!p)return;const e=p.parent_id;return Ro.listExternalCollections(w,{bot_id:e})}),[w,p]),_="success"===(null==j?void 0:j.type)&&"data"in j.data?j.data.data:[],k="success"===(null==j?void 0:j.type)&&"error"in j.data?j.data.error:null,T=_.filter((e=>!f||e.type===f)),V=T.length?(0,Vs.ZP)(c,T,(e=>e.title)):[],A=Array.from(new Set(_.map((e=>e.type)))),P=Ws({integration:t,url:c}),I=async e=>{if(y(!0),!v||!b)return;const n=e||c,r=Ws({integration:t,url:n});if(!r)return y(!1),void Tn.showDialog({items:[{label:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.unsupportedUrlErrorDialog.copyDebuggingInformation",defaultMessage:"Copy debugging information"}),color:"blue",onAccept:()=>{Zs.RD({environment:w,stringValue:JSON.stringify({botId:null==p?void 0:p.parent_id,url:n},null,2),copiedMessage:Zs.tq.copiedToClipboard})}},{label:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.unsupportedUrlErrorDialog.closeButton",defaultMessage:"Close"}),onAccept:()=>{}}],showCancel:!1,keepFocus:!1,message:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.unsupportedUrlErrorDialog.title",defaultMessage:"This source is currently not supported. Please try a different source."})});const d=(0,Bs.NP)(t.id);await Fs.UY({environment:w,url:n,botIds:d.map((e=>e.id)),externalCollectionStore:v,externalCollectionViewBlockStore:b});const{host:u}=(0,Is.Qc)(n);s.Mp(w,{...(0,Ls.Pn)(o),integrationId:t.id,type:"collection",entity:r.name,domain:u||"",from:"external_picker_settings"}),l.wl({collectionSettingsStore:i,item:{type:"shareSyncedView",integrationName:t.name,integrationIcon:t.info.icon}}),y(!1)};if(!v||!b)return null;const Z=A.length>1?(0,le.jsx)("div",{style:x.filterContainer,children:(0,le.jsxs)(Ns.Z,{type:Br.Z.X,style:x.filterContainerScroller,showLeftRightOverlay:!1,children:[(0,le.jsx)(Hs.Z,{title:(0,le.jsx)("span",{children:Ne.default.formatMessage(zs.all)}),on:!(0,ne.K0)(f),hideChevron:!0,onClick:e=>{(0,Fr.ZP)({event:e,context:Fr.Af.CollectionSettingsClick,callback:()=>{C(null)}})}},"all"),A.map((e=>(0,le.jsx)(Hs.Z,{title:(0,le.jsx)("span",{children:Ne.default.formatMessage(zs[e])}),on:f===e,hideChevron:!0,onClick:t=>{(0,Fr.ZP)({event:t,context:Fr.Af.CollectionSettingsClick,callback:()=>{C((t=>t===e?null:e))}})}},e)))]})}):null,F=P?(0,le.jsx)("div",{style:x.syncSourceButton,children:(0,le.jsx)(ko.Z,{isLarge:!0,onClick:e=>{(0,Fr.ZP)({event:e,context:Fr.Af.CollectionSettingsClick,callback:()=>{I()}})},disabled:!1,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.syncSourceButton.label",defaultMessage:"Sync Source"})})}):null,B=P||_.length&&V.length?null:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("div",{style:x.noResults,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.noResults.text",defaultMessage:"No results"})}),(0,le.jsxs)("div",{style:x.suggestionBox,children:[(0,Nr.D)({marginRight:8,width:14,height:14}),(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Try different search or paste any {integration} URL",id:"collectionSettingsCreateExternalViewPicker.noResults.help",values:{integration:t.name}})]})]}),L=_.length&&V.length?(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:0,sections:[{key:"collections",items:V.map((e=>({key:e.url,render:t=>(0,le.jsx)(re.Z,{renderTooltip:()=>(0,le.jsx)("span",{children:e.title}),placement:re.Z.Placement.Left,textWrap:!0,render:o=>(0,le.jsx)(Se.Z,{...(0,Ms.Z)(o||{},t),title:e.title,icon:(0,le.jsx)("img",{style:{width:18},src:e.icon}),caption:e.parent.title})}),action:t=>{"stopPropagation"in t.event&&t.event.stopPropagation(),I(e.url)}}))),render:e=>(0,le.jsx)(Ce.Z,{...e,disableMobilePadding:!0})}]})}):null,D="pending"===M||"idle"===M||S;if(!p||k&&(k.status===Ps.mQ.UNAUTHORIZED||k.status===Ps.mQ.FORBIDDEN))return(0,le.jsx)(Os,{collectionContextStore:o,collectionSettingsStore:i,integration:t});const K="rejected"===M||"failed"===(null==j?void 0:j.type)||k,R=(0,le.jsx)(Ds,{onClick:()=>{l.H4({collectionSettingsStore:i,item:{type:"selectAccountForExternalSource",integration:t,onAccountSelect:e=>{l.H4({collectionSettingsStore:i,item:{type:"createSyncedViewSource",externalAuthentication:e}})}}})},integration:t,accountName:p.account_name});return(0,le.jsx)(vn.ZP,{...e,footer:F||S?null:R,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Select from {integration}",id:"collectionSettingsCreateExternalViewPicker.title",values:{integration:t.name}}),header:!D&&"resolved"===M&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(ao.ZP,{inputLeft:(0,le.jsx)(ao.f_,{icon:Ko.R}),onSubmit:()=>{P&&I()},style:x.settingsMenuSearchBox,focusInitial:!0,value:c,onChange:e=>{d(e.target.value)},placeholder:"Search source or paste a link..."}),P?null:Z]}),children:(0,le.jsxs)("div",{style:x.settingsMenu,children:[K&&(0,le.jsx)("div",{style:x.errorMessage,children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.error.unknown",defaultMessage:"Something went wrong.",values:{integration:t.name}})}),D&&(S?(0,le.jsxs)("div",{style:x.syncingData,children:[(0,le.jsx)("span",{children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.settingUpSync",defaultMessage:"Setting up sync..."})}),(0,le.jsx)(Wo.Z,{style:{alignSelf:"center"}})]}):(0,le.jsxs)("div",{style:x.syncingData,children:[(0,le.jsx)("span",{children:(0,le.jsx)(a.FormattedMessage,{id:"collectionSettingsCreateExternalViewPicker.loadingData",defaultMessage:"Loading available sources..."})}),(0,le.jsx)(Wo.Z,{style:{alignSelf:"center"}})]})),!D&&"resolved"===M&&(0,le.jsxs)(le.Fragment,{children:[F,B,L]})]})})}var Us=o(26263),$s=o(45433),qs=o(93108),Ys=o(38715),Xs=o(75081),Qs=o(26122);function Js(e){window.__c={n:"CollectionSettingsCreateTypedDB"};const t=(0,h.Fg)(),o=(0,g.O7)(),i=o.device,[r,s]=(0,n.useState)($s.br),[c,u]=(0,n.useState)(),p=(0,n.useMemo)((()=>Rt.default.createValue("")),[]),S=(0,n.useMemo)((()=>new Us.Z({name:"CollectionSettingsCreateTypedDB"})),[]),y=(0,m.VK)((()=>{const t=e.collectionContextStore.collectionStore();if(t)return t.clone(S).getIcon()}),[e.collectionContextStore,S]);(0,n.useEffect)((()=>{var t;void 0===c&&u(null===(t=e.collectionContextStore.collectionViewStore())||void 0===t?void 0:t.getType())}),[e.collectionContextStore,c]),(0,n.useEffect)((()=>{const e=o.defaultRecordCache.inMemoryRecordCache;return e.addCacheOverride(S),()=>{e.removeCacheOverride(S)}}),[o,S,e.collectionContextStore]);const f=(0,n.useCallback)((e=>{p.setState(e)}),[p]),C=(0,n.useCallback)(((t,n)=>{const{collectionContextStore:i}=e,r=i.collectionViewStore(),a=i.collectionViewBlockStore();r&&a&&l.nr({environment:o,baseViewType:c,selectedDBType:n,collectionName:p.state,collectionContextStore:i,collectionViewBlockStore:a,collectionViewStore:r,useTemporaryRecordCache:t,temporaryRecordCache:S})}),[e,c,o,p,S]);(0,n.useEffect)((()=>{C(!0,$s.br)}),[C]);const x=(0,n.useCallback)((t=>{const{collectionContextStore:o}=e;s(t),C(!0,t),Ma.Ip({collectionContextStore:o})}),[e,C]);const v=(0,n.useCallback)((t=>{var n;const i=null===(n=e.collectionContextStore.collectionStore())||void 0===n?void 0:n.getIconStore().clone(S);i&&d.createAndCommit({userAction:"SpacePermissionGroup.handleIconChange",environment:o,perform:e=>{Vn.sO({store:i,value:t,transaction:e})}})}),[e.collectionContextStore,o,S]),b=(0,n.useCallback)((t=>{(0,Fr.ZP)({event:t,context:Fr.Af.CollectionSettingsClick,callback:()=>{const{collectionSettingsStore:t}=e;Tn.showDialog({message:(0,le.jsx)("span",{children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Would you like to continue creating this database?",id:"collectionSettingsNewDatabase.confirmDialog.prompt"})}),showCancel:!1,keepFocus:!1,items:[{label:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Yes create {selectedType, select, untyped {an {type}} other {a {type}}} database",values:{selectedType:r,type:r===$s.br?"empty":(0,Xs.Mn)(r)},id:"collectionSettingsNewDatabase.confirmDialog.affirmativeButton.label"}),color:"red",onAccept:()=>{C(!1,r),l.E3({collectionSettingsStore:t})}},{label:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Cancel",id:"collectionSettingsNewDatabase.confirmDialog.cancel.label"}),color:"blue",onAccept:()=>{}}]})}})}),[e,r,C]),w=(0,n.useCallback)((()=>{o.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(S);const{collectionContextStore:t,collectionSettingsStore:n}=e,i=t.collectionViewBlockStore(),r=t.collectionViewStore();void 0!==i&&void 0!==r&&(t.setContext({type:"collectionView",collectionViewBlockStore:i,collectionStore:void 0,collectionViewStore:r}),l.H4({collectionSettingsStore:n,item:{type:"createViewSource"}}))}),[o,e,S]);return(0,le.jsxs)(vn.ZP,{...e,handleClose:b,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"New database",id:"database.viewSettings.createTypedDBTab.title"}),footer:(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[(0,le.jsx)(bn.Z,{icon:qs.p,isGray:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"View an existing database",id:"database.viewSettings.createTypedDBTab.viewExistingDatabaseButton"}),onClick:w}),(0,le.jsx)(bn.Z,{icon:Ys.N,isGray:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Import or sync from",id:"database.viewSettings.createTypedDB.importDatabaseButton"})})]}),children:[(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(Qs.Z,{initialValue:"",placeholder:(0,Xs.Mn)(r),inputStore:p,onBlur:f,onSubmit:f,iconButton:{icon:e=>(0,le.jsx)(vi.Z,{isEmptyPage:!0,disabled:!0,defaultIcon:(0,$s.T)(r)({width:16,height:16,backfaceVisibility:void 0,marginRight:6}),icon:y,size:16}),onSubmit:v,includeEmojiTab:!0}})}),(0,le.jsxs)("div",{style:{...!i.isMobile&&{width:"100%",paddingLeft:8,paddingRight:8},...i.isMobile&&{background:t.contentBackground,width:"100%",paddingTop:12,paddingBottom:12}},children:[(0,le.jsx)("div",{style:{display:"flex",flexFlow:"wrap",justifyContent:"center"},children:$s.Cr[$s.TM].map((function(e){return(0,le.jsx)(el,{dbType:e,isCurrentType:r===e,onClick:()=>x(e)})}))}),(0,le.jsx)(ko.Z,{style:{display:"flex",margin:"14px",height:32},onClick:function(){const{collectionSettingsStore:t}=e;C(!1,r),l.E3({collectionSettingsStore:t})},children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Create database",id:"database.viewSettings.createTypedDB.createDatabase"})})]})]})}function el(e){window.__c={n:"CollectionSettingsTypedDBButton"};const{dbType:t,onClick:o,isCurrentType:n}=e,i=(0,h.Fg)();return(0,le.jsxs)(he.Z,{style:{display:"flex",width:"95%",height:45,flexGrow:0,flexShrink:0,fontSize:11,borderRadius:4,margin:6,padding:6,boxShadow:`0 0 0 1px ${i.regularDividerColor}`,color:i.mediumTextColor,fill:i.mediumTextColor,...n&&{boxShadow:`0 0 0 2px ${i.blueColor}`,color:i.blueColor,fill:i.blueColor,fontWeight:500}},disabled:n,onClick:o,children:[(0,le.jsx)("div",{children:(0,$s.T)(t)({...n&&{fill:i.blueColor,color:i.blueColor},width:17,height:17,marginBottom:4,marginTop:4,marginLeft:4})}),(0,le.jsxs)("div",{style:{position:"relative",width:"100%",marginLeft:12},children:[(0,le.jsx)("span",{style:{position:"absolute",fontSize:13,fontWeight:500},children:(0,Xs.Mn)(t)}),(0,le.jsx)("span",{style:{position:"absolute",top:15,fontSize:12,marginTop:1},children:(0,le.jsx)(a.FormattedMessage,{...$s.LI[t].caption})})]})]})}var tl=o(79362),ol=o(23877),nl=o(92165),il=o(80881),rl=o(6637),al=o(89036),sl=o(93644),ll=o(87990),cl=o(13495),dl=o(27714),ul=o(62208),pl=o(12677),gl=o(84199),ml=o(94110),hl=o(33507),Sl=o(37888),yl=o(72711),fl=o(28020),Cl=o(95697),xl=o(52489);function vl(e){window.__c={n:"CollectionContentOnlyEditorEducationPill"};const{style:t}=e,o=(0,h.Fg)(),n=(0,g.MO)(),i=(0,le.jsx)("div",{style:{marginTop:1},children:(0,Ft.b)({width:14,marginRight:8,height:void 0})}),r=(0,le.jsx)(Xr.Z,{style:{color:o.regularTextColor,lineHeight:ie.Z.lineHeight.UISmall.desktop},isSmall:!0,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"You're a content editor",id:"database.viewSettings.mainTab.contentOnlyEditorPill.title"})});return(0,le.jsx)(Yr,{icon:i,title:r,style:n?{backgroundColor:o.sidebarBackground,boxShadow:o.plainButtonBoxShadow,margin:void 0,borderRadius:void 0,...t}:{background:"rgba(196, 196, 196, 0.13)",margin:"8px 14px",...t},showCloseButton:!1,children:(0,le.jsx)(Xr.Z,{style:{marginLeft:22},isSmall:!0,isMultiline:!0,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Content editors can edit pages, but cannot change view and database settings.",id:"database.viewSettings.mainTab.contentOnlyEditorPill.subtitle"})})})}var bl=o(40745),wl=o(13709);class jl extends i.Z{constructor(){super(...arguments),this.handleFirstLoadLimitChange=e=>{const{collectionContextStore:t}=this.props,o=t.collectionViewStore();o&&(d.createAndCommit({userAction:"CollectionSettingsFirstLoadLimit.handleFirstLoadLimitChange",environment:this.environment,perform:t=>{c.FH({stores:[o],update:{inline_collection_first_load_limit:e},transaction:t})}}),t.groupsStore.resetAllLimits(),Et.wd({environment:this.environment,collectionContextStore:t,action:"set_first_load_limit"}))}}renderComponent(){const{collectionContextStore:e}=this.props,t=e.normalizedFormatStore.state,o=e.isFullScreen.state,n=function(e){var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}(this.props.collectionContextStore);if(!(t.collection_group_by||!o&&"calendar"!==n))return;const i=function(e){const t=e.normalizedFormatStore.state;return(0,Za.rx)(t.inline_collection_first_load_limit,Boolean(t.collection_group_by))}(this.props.collectionContextStore),r=e.permissionScopes.state;return(0,le.jsx)(wl.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Load limit",id:"database.viewSettings.layoutTab.firstLoadLimitSetting"}),selectedKey:i,popupStyle:{minWidth:190},options:Za.jk.map((e=>({key:e,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{limit} pages",values:{limit:e.limit},id:"database.viewSettings.layoutTab.limitPagesTitle"})}))),onChange:this.handleFirstLoadLimitChange,disabled:!r.canConfigureBlock,icon:bl.M})}}jl.displayName="CollectionSettingsFirstLoadLimit";const Ml=(0,a.injectIntl)(jl);var _l=o(35011),kl=o(14714),Tl=o(49865),Vl=o(81849),Al=o(18514),Pl=o(26055),Il=o(75498),Zl=o(21269),Fl=o(79131),Bl=o(5145),Ll=o(28992),Dl=o(97820);class Kl extends i.Z{constructor(){super(...arguments),this.storeTypes={reducerResultStore:Rt.default.createClass(void 0),groupsLimit:Rt.default.createClass(Vl.XD)},this.handleHideEmptyGroupsClick=()=>{const{groupByKey:e,collectionContextStore:t,groupsFormatKey:o}=this.props,n=Jl(this.props.collectionContextStore,this.props.groupByKey),i=this.groupsDisplayStateStore.state;if(!i)return;const{currentGroups:r}=i,a=t.collectionViewStore();if(!n||!a)return;const s=!n.hideEmptyGroups;d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleHideEmptyGroupsClick",environment:this.environment,perform:i=>{if(s){const e=r.map((e=>!1===e.hidden?{...e,hidden:void 0}:e));Tl.A6({collectionContextStore:t,newGroups:e,groupsFormatKey:o,transaction:i})}c.FH({stores:[a],update:{[e]:{...n,hideEmptyGroups:s}},transaction:i})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"toggle_hide_empty_groups"})},this.handleHideAllClick=()=>{const{collectionContextStore:e,groupsFormatKey:t}=this.props,o=this.groupsDisplayStateStore.state;if(!o)return;const{currentGroups:n}=o,i=n.map((e=>({...e,hidden:!0})));this.stores.groupsLimit.setState(Vl.XD),d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleHideAllClick",environment:this.environment,perform:o=>{Tl.A6({collectionContextStore:e,newGroups:i,groupsFormatKey:t,transaction:o})}}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_groups_hide_all"})},this.handleShowAllClick=()=>{const{collectionContextStore:e,groupsFormatKey:t}=this.props,o=this.groupsDisplayStateStore.state;if(!o)return;const{currentGroups:n}=o,i=n.map((e=>({...e,hidden:!1})));this.stores.groupsLimit.setState(Vl.XD),d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleShowAllClick",environment:this.environment,perform:o=>{Tl.A6({collectionContextStore:e,newGroups:i,groupsFormatKey:t,transaction:o})}}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_groups_show_all"})},this.handleGroupReorder=(e,t)=>{const{collectionContextStore:o,groupsFormatKey:n}=this.props,i=this.groupsDisplayStateStore.state;if(!i)return;const{currentGroups:r}=i,a=r.filter((t=>e.indexOf((0,kl.mD)(t))<0)),l=r.filter((t=>e.indexOf((0,kl.mD)(t))>=0)),c=$e.MR(l,(t=>{const o=e.indexOf((0,kl.mD)(t));return o>=0?o:1/0})),u=t?[...a,...c]:[...c,...a];d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleGroupReorder",environment:this.environment,perform:e=>{Tl.A6({collectionContextStore:o,newGroups:u,groupsFormatKey:n,transaction:e})}}),s.wds(this.environment,{view_type:Ql(this.props.collectionContextStore),action:t?"reorder_hidden_groups":"reorder_groups"})},this.handleToggleGroupVisibility=e=>{const{collectionContextStore:t,groupsFormatKey:o}=this.props,n=this.groupsDisplayStateStore.state;if(!n)return;const{currentGroups:i}=n,r=i.map((t=>(0,kl.ZH)(t,e)?{...e,hidden:!(0,kl.eF)(e)}:t));d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleToggleGroupVisibility",environment:this.environment,perform:e=>{Tl.A6({collectionContextStore:t,newGroups:r,groupsFormatKey:o,transaction:e})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"toggle_group_visibility"})},this.handleSortTypeChange=e=>{const{collectionContextStore:t,groupByKey:o}=this.props,n=Jl(this.props.collectionContextStore,this.props.groupByKey),i=t.collectionViewStore();if(n&&i){if("formula"===n.type){const t={...n,groupBy:{...n.groupBy,sort:{type:e}}};d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleSortTypeChange",environment:this.environment,perform:e=>{c.FH({stores:[i],update:{[o]:t},transaction:e})}})}else d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleSortTypeChange",environment:this.environment,perform:t=>{c.FH({stores:[i],update:{[o]:{...n,sort:{type:e}}},transaction:t})}});Et.wd({environment:this.environment,collectionContextStore:t,action:"update_group_sort"})}},this.handleTextGroupByTypeChange=e=>{const{collectionContextStore:t,groupByKey:o,groupsFormatKey:n}=this.props,i=Jl(this.props.collectionContextStore,this.props.groupByKey),r=t.collectionViewStore();if(!i||!r)return;const a=zl(i);if(a){if((0,kl.aB)(i))d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleTextGroupByTypeChange",environment:this.environment,perform:t=>{c.FH({stores:[r],update:{[o]:{...i,groupBy:e},[n]:void 0},transaction:t})}});else if("formula"===i.type){const t={...$e.CE(a,"property"),groupBy:e},s={...i,groupBy:t};d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleTextGroupByTypeChange",environment:this.environment,perform:e=>{c.FH({stores:[r],update:{[o]:s,[n]:void 0},transaction:e})}})}Et.wd({environment:this.environment,collectionContextStore:t,action:"update_text_group_by"})}},this.handleDateGroupByTypeChange=e=>{const{collectionContextStore:t,groupByKey:o,groupsFormatKey:n}=this.props,i=Jl(this.props.collectionContextStore,this.props.groupByKey),r=t.collectionViewStore();if(!i||!r)return;const a=Wl(i);if(a){if((0,kl.ib)(i))d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleDateGroupByTypeChange",environment:this.environment,perform:t=>{c.FH({stores:[r],update:{[o]:{...i,groupBy:e},[n]:void 0},transaction:t})}});else if("formula"===i.type){const t={...$e.CE(a,"property"),type:"date",groupBy:e},s={...i,groupBy:t};d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleDateGroupByTypeChange",environment:this.environment,perform:e=>{c.FH({stores:[r],update:{[o]:s,[n]:void 0},transaction:e})}})}Et.wd({environment:this.environment,collectionContextStore:t,action:"update_date_group_by"})}},this.handleStatusGroupByTypeChange=e=>{const{collectionContextStore:t,groupByKey:o,groupsFormatKey:n}=this.props,i=Jl(this.props.collectionContextStore,this.props.groupByKey),r=t.collectionViewStore();i&&r&&"status"===(null==i?void 0:i.type)&&(d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleStatusGroupByTypeChange",environment:this.environment,perform:t=>{c.FH({stores:[r],update:{[o]:{...i,groupBy:e},[n]:void 0},transaction:t})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"update_status_group_by"}))},this.handleRemoveClick=()=>{const{collectionContextStore:e,groupByKey:t,groupsFormatKey:o}=this.props,n=e.collectionViewStore();n&&(d.createAndCommit({userAction:"CollectionSettingsViewGroup.handleRemoveClick",environment:this.environment,perform:e=>{c.FH({stores:[n],update:{[t]:void 0,[o]:void 0},transaction:e})}}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_remove_grouping"}))},this.reducerStore=this.createComputedStore((()=>{const{collectionContextStore:e,groupsFormatKey:t}=this.props,o=e.normalizedFormatStore.state,n=e.normalizedSchemaStore.state,i=e.remoteRequestStore.state,r=Jl(this.props.collectionContextStore,this.props.groupByKey);if(r)return(0,Vl.ej)({groupBy:r,schema:n,format:o,filter:null==i?void 0:i.loader.filter,groupsFormatKey:t,limit:this.stores.groupsLimit.state})})),this.schemaGroupsStore=this.createComputedStore((()=>{const{collectionContextStore:e}=this.props,t=e.normalizedSchemaStore.state,o=Jl(this.props.collectionContextStore,this.props.groupByKey);if(o)return(0,kl.Qq)({schema:t,groupBy:o})}),!0),this.groupsDisplayStateStore=this.createComputedStore((()=>{var e;const{groupsFormatKey:t,collectionContextStore:o}=this.props,n=o.normalizedFormatStore.state,i=o.normalizedSchemaStore.state,r=o.collectionViewBlockStore(),a=Jl(this.props.collectionContextStore,this.props.groupByKey),s=this.stores.reducerResultStore.state;if(!a||!r||!s)return;const l=this.stores.groupsLimit.state,c=this.schemaGroupsStore.state,d=s.results,u=s?s.total:0,p=(0,Vl.Cz)({groupBy:a,schema:i,formatGroups:n[t]||[],schemaGroups:c,reducerResults:d,getRecordModel:r.getRecordModel,relativeVariableResult:o.relativeVariableStore.state,viewAppConfigUri:null===(e=o.collectionViewStore())||void 0===e?void 0:e.getFormat().app_config_uri}),g=p.filter((e=>!(0,kl.eF)(e))).slice(0,l),m=p.filter((e=>(0,kl.eF)(e)));return{currentGroups:[...g,...m],visibleGroups:g,hiddenGroups:m,total:u}}),!0)}renderComponent(){const{collectionContextStore:e,groupByKey:t}=this.props,o=Jl(this.props.collectionContextStore,this.props.groupByKey),n=e.normalizedSchemaStore.state;return(0,le.jsxs)(vn.ZP,{...this.props,title:(0,le.jsx)(oc,{collectionSettingsStore:this.props.collectionSettingsStore,collectionContextStore:this.props.collectionContextStore}),children:[(0,le.jsxs)(Ce.Z,{children:[(0,le.jsx)(nc,{collectionContextStore:this.props.collectionContextStore,collectionSettingsStore:this.props.collectionSettingsStore,groupByKey:this.props.groupByKey,groupsFormatKey:this.props.groupsFormatKey,groupBy:o}),o&&Nl({groupBy:o,schema:n})&&this.renderTypeMenuButton(o),o&&this.renderSortMenuButton(o),o&&this.renderAutoHideButton(o),o&&"board_columns_by"===t&&(0,le.jsx)(ic,{collectionContextStore:this.props.collectionContextStore})]}),o&&this.renderGroupSortListReducer(),(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[o&&tc(this.props.collectionContextStore,this.props.groupByKey)&&(0,le.jsx)(bn.Z,{isGray:!0,icon:ge.y,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Remove grouping",id:"database.viewSettings.groupTab.removeButton.title"}),onClick:this.handleRemoveClick,isRed:!0}),(0,le.jsx)(Zl.Z,{href:(0,Al.UY)("guides.databaseGroup"),title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Learn about grouping",id:"database.viewSettings.groupTab.learnMoreButton.title"}),analyticsFrom:"view_settings_group"})]})]})}renderTypeMenuButton(e){const{collectionContextStore:t,collectionSettingsStore:o,groupByKey:n,groupsFormatKey:i}=this.props,r=t.normalizedSchemaStore.state,a=ec(this.props.collectionContextStore),s="formula"===e.type?{...e.groupBy,property:e.property}:e;return(0,kl.ib)(s)?(0,le.jsx)(wl.Z,{title:El({groupBy:s,schema:r}),popupStyle:{minWidth:190},selectedKey:s.groupBy,options:kl.z8.map((e=>({key:e,title:ql(e)}))),onChange:this.handleDateGroupByTypeChange,disabled:!a}):(0,kl.aB)(s)?(0,le.jsx)(wl.Z,{title:El({groupBy:s,schema:r}),popupStyle:{minWidth:190},selectedKey:s.groupBy,options:kl.Kp.map((e=>({key:e,title:Yl(e)}))),onChange:this.handleTextGroupByTypeChange,disabled:!a}):"number"===s.type?(0,le.jsx)(bn.Z,{title:El({groupBy:s,schema:r}),showChevron:!0,right:Ul({groupBy:s,schema:r}),onClick:()=>{l.H4({collectionSettingsStore:o,item:{type:"groupByNumber",groupByKey:n,groupsFormatKey:i}})},disabled:!a}):"status"===s.type?(0,le.jsx)(wl.Z,{title:El({groupBy:s,schema:r}),popupStyle:{minWidth:190},selectedKey:s.groupBy,options:kl.vu.map((e=>({key:e,title:$l(e)}))),onChange:this.handleStatusGroupByTypeChange,disabled:!a}):void 0}renderSortMenuButton(e){const t=(0,kl.YG)(e,!_n.default.checkGate("collection_properties_select_auto_sort_options"));if(t.length<=1)return;const o=(0,kl.mu)(e);return(0,le.jsx)(wl.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sort",id:"database.viewSettings.groupTab.sort"}),popupStyle:{minWidth:190},selectedKey:o.type,options:t.map((t=>({key:t,title:Hl(e,t)}))),onChange:this.handleSortTypeChange,disabled:!ec(this.props.collectionContextStore)})}renderAutoHideButton(e){return(0,le.jsx)(_a.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Hide empty groups",id:"database.viewSettings.groupTab.hideEmptyGroups"}),on:Boolean(e.hideEmptyGroups),focused:!1,onClick:this.handleHideEmptyGroupsClick,disabled:!ec(this.props.collectionContextStore),textWrapperStyle:{opacity:1}})}renderGroupSortListReducer(){const{groupsFormatKey:e}=this.props,t=this.reducerStore.state,o=this.groupsDisplayStateStore.state;return t?(0,le.jsx)(Il.Z,{id:`group_menu_${e}`,reducer:t,collectionContextStore:this.props.collectionContextStore,resultStore:this.stores.reducerResultStore,render:()=>this.renderGroupSortListSections(o)}):this.renderGroupSortListSections(o)}renderGroupSortListSections(e){const t=Jl(this.props.collectionContextStore,this.props.groupByKey);if(!t)return;if(!e)return(0,le.jsx)(Ce.Z,{topBorder:!0,disableMobileBorders:!0,noTextOverflow:!0,children:(0,le.jsx)("div",{style:{marginTop:6,display:"flex",alignItems:"center",flexDirection:"column"},children:(0,le.jsx)(Wo.Z,{})})});const o="manual"===(0,kl.mu)(t).type&&!this.environment.device.isMobile&&ec(this.props.collectionContextStore),n=this.stores.groupsLimit.state,{total:i,hiddenGroups:r,visibleGroups:s}=e,l=Math.min(Vl.kW,i-r.length-s.length),c=l>0?(0,le.jsx)(Se.Z,{disabled:!1,focused:!1,style:{color:this.theme.mediumTextColor},icon:(0,be.o)({width:14,height:14}),title:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.loadMoreButton.text",defaultMessage:"Show {loadMoreAmount, plural, one {{loadMoreAmount} more group} other {{loadMoreAmount} more groups}}",values:{loadMoreAmount:l}}),onClick:()=>{this.props.collectionContextStore.isLoading.state||this.props.collectionContextStore.loadingDetails.setState({type:"load_groups_menu"}),this.stores.groupsLimit.setState(n+Vl.kW)}}):void 0;return(0,le.jsxs)(le.Fragment,{children:[e.visibleGroups.length>0&&(0,le.jsxs)(Ce.Z,{topBorder:!0,noTextOverflow:!0,isTitleUppercase:!1,title:(0,le.jsx)("span",{style:{alignSelf:"center"},children:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.visibleGroups",defaultMessage:"Visible groups"})}),right:(0,le.jsx)(qt.Z,{isSmall:!0,shouldShrink:!0,isBlue:!0,style:{fontSize:12,height:void 0,paddingTop:2,paddingBottom:2},onClick:this.handleHideAllClick,disabled:!ec(this.props.collectionContextStore),children:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.hideAllGroups",defaultMessage:"Hide all"})}),children:[this.renderGroupSortList({displayState:e,groups:e.visibleGroups,canReorder:o,isHidden:!1}),c]}),e.hiddenGroups.length>0&&(0,le.jsx)(Ce.Z,{topBorder:!1,noTextOverflow:!0,isTitleUppercase:!1,title:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.hiddenGroups",defaultMessage:"Hidden groups"}),right:(0,le.jsx)(qt.Z,{isSmall:!0,shouldShrink:!0,isBlue:!0,style:{fontSize:12,height:void 0,paddingTop:2,paddingBottom:2},onClick:this.handleShowAllClick,disabled:!ec(this.props.collectionContextStore),children:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.showAllGroups",defaultMessage:"Show all"})}),children:this.renderGroupSortList({displayState:e,groups:e.hiddenGroups,canReorder:o,isHidden:!0})})]})}renderGroupSortList(e){const{displayState:t,groups:o,canReorder:i,isHidden:r}=e;return i?(0,le.jsx)(Fl.ZP,{direction:"vertical",keys:o.map((e=>(0,kl.mD)(e))),renderKey:(e,n)=>{const r=o[n];return this.renderGroupSortListItem({displayState:t,groupFormat:r,canReorder:i})},onDrop:e=>{this.handleGroupReorder(e,r)},disabled:!ec(this.props.collectionContextStore)}):o.map((e=>(0,le.jsx)(n.Fragment,{children:this.renderGroupSortListItem({displayState:t,groupFormat:e,canReorder:i})},(0,kl.mD)(e))))}renderGroupSortListItem(e){const{collectionContextStore:t}=this.props,{displayState:o,groupFormat:n,canReorder:i}=e,r=t.normalizedSchemaStore.state,a=(0,kl.eF)(n),s=Jl(this.props.collectionContextStore,this.props.groupByKey);if(s)return(0,le.jsx)(Ll.Z,{disabled:!ec(this.props.collectionContextStore),title:(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[i&&(0,le.jsx)(Bl.ZP,{iconSize:12,style:{marginRight:3}}),(0,le.jsx)(Pl.Z,{groupBy:s,groupFormat:n,currentGroups:o.currentGroups,schema:r,disabled:!0,isHiddenGroup:!1,style:{padding:0},collectionContextStore:t})]}),right:(0,le.jsx)(je.Z,{icon:a?Hr.B:Or.c,iconStyle:{width:16,height:16},isDarkIconColor:!a,onClick:()=>{this.handleToggleGroupVisibility(n)},disabled:!ec(this.props.collectionContextStore)}),textWrapperStyle:{opacity:1}})}}function Rl(e){return e?(0,le.jsx)(Dl.Z,{propertySchema:e,showIcon:!1}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"None",id:"database.viewSettings.groupTab.noGroupingSetMessage"})}function Ol(e,t){return"collection_group_by"===e&&"board"===t?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sub-group by",id:"database.viewSettings.groupTab.subGroupProperty"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Group by",id:"database.viewSettings.groupTab.groupProperty"})}function Hl(e,t){return"manual"===t?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Manual",id:"database.viewSettings.groupTab.sortType.manual"}):"ascending"===t?(0,kl.ib)(e)||"formula"===e.type&&"date"===e.groupBy.type?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Oldest first",id:"database.viewSettings.groupTab.sortType.chronological"}):(0,kl.aB)(e)||"relation"===e.type||"select"===e.type||"multi_select"===e.type||"formula"===e.type&&"text"===e.groupBy.type?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Alphabetical",id:"database.viewSettings.groupTab.sortType.alphabetical"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Ascending",id:"database.viewSettings.groupTab.sortType.ascending"}):"descending"===t?(0,kl.ib)(e)||"formula"===e.type&&"date"===e.groupBy.type?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Newest first",id:"database.viewSettings.groupTab.sortType.reverseChronological"}):(0,kl.aB)(e)||"relation"===e.type||"select"===e.type||"multi_select"===e.type||"formula"===e.type&&"text"===e.groupBy.type?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Reverse alphabetical",id:"database.viewSettings.groupTab.sortType.reverseAlphabetical"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Descending",id:"database.viewSettings.groupTab.sortType.descending"}):void(0,ne.t1)(t)}function Nl(e){const{groupBy:t,schema:o}=e,n=o[t.property];if(!n||!(0,kl.LG)(n))return;let i;if("formula"===n.type){const e=(0,_l.mm)(n);if("unknown"===e||"array"===e)return;i="block"===e?"relation":e}else i=n.type;return(0,kl.A1)(i)||(0,kl.HB)(i)||"number"===i||"status"===i?i:void 0}function El(e){const t=Nl(e);if(t)return(0,kl.A1)(t)?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Date by",id:"database.viewSettings.groupByTypeTab.dateBy"}):(0,kl.HB)(t)?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Text by",id:"database.viewSettings.groupByTypeTab.textBy"}):"number"===t?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Number by",id:"database.viewSettings.groupByTypeTab.numberBy"}):"status"===t?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Status by",id:"database.viewSettings.groupByTypeTab.statusBy"}):void 0}function Wl(e){return(0,kl.ib)(e)?e:"formula"===e.type&&"date"===e.groupBy.type?e.groupBy:void 0}function zl(e){return(0,kl.aB)(e)?e:"formula"===e.type&&"text"===e.groupBy.type?e.groupBy:void 0}function Gl(e){return"number"===e.type?e:"formula"===e.type&&"number"===e.groupBy.type?{...e.groupBy,property:e.property}:void 0}function Ul(e){const{groupBy:t}=e,o=Nl(e);if(o)if((0,kl.A1)(o)){const e=Wl(t);if(e)return ql(e.groupBy)}else if((0,kl.HB)(o)){const e=zl(t);if(e)return Yl(e.groupBy)}else if("number"===o){const e=Gl(t);if(e)return(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{start} to {end}",id:"database.groupMenu.numberGroupBy.range",values:{start:e.start,end:e.end}})}}function $l(e){return"group"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Group",id:"database.groupMenu.statusGroupBy.group"}):"option"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Option",id:"database.groupMenu.statusGroupBy.option"}):void(0,ne.t1)(e)}function ql(e){return"relative"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Relative",id:"database.groupMenu.dateGroupBy.relative"}):"day"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Day",id:"database.groupMenu.dateGroupBy.day"}):"week"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Week",id:"database.groupMenu.dateGroupBy.week"}):"month"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Month",id:"database.groupMenu.dateGroupBy.month"}):"year"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Year",id:"database.groupMenu.dateGroupBy.year"}):void(0,ne.t1)(e)}function Yl(e){return"exact"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Exact",id:"database.groupMenu.textGroupBy.exact"}):"alphabet_prefix"===e?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Alphabetical",id:"database.groupMenu.textGroupBy.alphabetical"}):void(0,ne.t1)(e)}Kl.displayName="CollectionSettingsViewGroup";const Xl=(0,a.injectIntl)(Kl);function Ql(e){var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function Jl(e,t){return e.normalizedFormatStore.state[t]}function ec(e){return e.permissionScopes.state.canConfigureBlock}function tc(e,t){return ec(e)&&(0,Vl._1)({viewType:Ql(e),groupByKey:t})}function oc(e){let{collectionSettingsStore:t,collectionContextStore:o}=e;window.__c={n:"Title"};const n=(0,m.VK)((()=>(0,Lr.n)(t)),[t]);return n&&"group"===n.type?"collection_group_by"===n.groupByKey&&"board"===Ql(o)?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sub-group",id:"database.viewSettings.groupTab.subGroup.title"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Group",id:"database.viewSettings.groupTab.group.title"}):null}function nc(e){let{groupBy:t,collectionContextStore:o,collectionSettingsStore:n,groupByKey:i,groupsFormatKey:r}=e;window.__c={n:"PropertyMenuButton"};const a=(0,g.O7)(),s=(0,m.VK)((()=>o.normalizedSchemaStore.state),[o]),c=t?s[t.property]:void 0,d=(0,m.VK)((()=>ec(o)),[o]);return(0,le.jsx)(bn.Z,{title:Ol(i,Ql(o)),showChevron:!0,right:Rl(c),onClick:()=>{Et.wd({environment:a,collectionContextStore:o,action:"click_group_by_property",original_view_type:void 0,property_type:null==c?void 0:c.type}),l.H4({collectionSettingsStore:n,item:{type:"groupByProperty",groupByKey:i,groupsFormatKey:r}})},disabled:!d})}function ic(e){let{collectionContextStore:t}=e;window.__c={n:"ColorColumnsOption"};const o=(0,g.O7)(),n=(0,m.VK)((()=>(0,Vl.h6)(o,t)),[o,t]),i=(0,m.VK)((()=>ec(t)),[t]);return(0,le.jsx)(_a.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Color columns",id:"database.viewSettings.groupTab.colorColumns"}),on:!n,focused:!1,onClick:()=>{l.iN({environment:o,collectionContextStore:t})},disabled:!i,textWrapperStyle:{opacity:1}})}var rc=o(13148),ac=o(59960),sc=o(48299),lc=o(94841),cc=o(83182);function dc(e){window.__c={n:"CollectionTaskTypeBadge"};const t=(0,h.yK)((e=>({homeIcon:{width:13,marginRight:8},badgeTitle:{color:e.regularTextColor,lineHeight:ie.Z.lineHeight.UISmall.desktop,marginRight:5},badgeStyle:{background:"rgba(196, 196, 196, 0.13)",margin:"8px 14px",padding:"12px 14px"}})),[]),{collectionContextStore:o}=e,n=(0,ac.w)(t.homeIcon),i=(0,le.jsx)(Xr.Z,{style:t.badgeTitle,isSmall:!0,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"This is a task database",id:"CollectionTaskTypeBadge.title"})});return(0,le.jsx)(Yr,{icon:n,title:i,showCloseButton:!1,right:(0,le.jsx)(uc,{collectionContextStore:o}),style:t.badgeStyle,children:(0,le.jsx)(Xr.Z,{style:{marginLeft:22},isSmall:!0,isMultiline:!0,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"See your assigned tasks in Home.",id:"CollectionTaskTypeBadge.description"})})})}function uc(e){window.__c={n:"MoreMenu"};const t=(0,g.O7)(),{collectionContextStore:o}=e,i=(0,h.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor},hideButtonIcon:{height:17,width:17},confirmationModalTitle:{fontWeight:500},confirmationModalDescription:{fontSize:13,display:"flex",textAlign:"center"}})),[]),r=(0,n.useCallback)((()=>{d.createAndCommit({environment:t,userAction:"CollectionTaskTypeBadge.untypeDatabase",perform:e=>{sc.RQ({environment:t,collectionContextStore:o,transaction:e})}})}),[t,o]),s=(0,le.jsx)("span",{style:i.confirmationModalDescription,children:(0,le.jsx)(a.FormattedMessage,{id:"CollectionTaskTypeBadge.MoreMenu.RemoveFromHome.description",defaultMessage:"Tasks assigned from this database will no longer appear in Home or work with Sprints."})}),l=e=>[{key:"removeFromHome",render:e=>(0,le.jsx)(Se.Z,{...e,icon:(0,rc.U)(i.hideButtonIcon),title:(0,le.jsx)(a.FormattedMessage,{id:"CollectionTaskTypeBadge.MoreMenu.RemoveFromHome.title",defaultMessage:"Undo task database"})}),action:()=>{const t=[{label:(0,le.jsx)(a.FormattedMessage,{id:"CollectionTaskTypeBadge.UntypeDatabase.modal.confirm",defaultMessage:"Remove"}),color:"red",onAccept:r}];Tn.showDialog({message:(0,le.jsx)("div",{style:{textAlign:"center"},children:(0,le.jsx)("span",{style:i.confirmationModalTitle,children:(0,le.jsx)(a.FormattedMessage,{id:"CollectionTaskTypeBadge.UntypeDatabase.modal.title",defaultMessage:"Undo Task Database?\t"})})}),description:s,showCancel:!0,keepFocus:!0,items:t}),e.close()}}],c=(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(cc.Z,{href:lc.h5,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Learn more",id:"CollectionTaskTypeBadge.MoreMenu.LearnMore.title"}),analyticsFrom:"view_settings_properties"})});return(0,le.jsx)(we.ZP,{popupType:we.Z4.Popup,alignmentToOrigin:we.vR.Center,originGap:2,renderOrigin:e=>(0,le.jsx)(he.Z,{style:i.buttonStyle,...e,children:(0,be.o)(i.threeDotIcon)}),render:e=>{const t=[{key:"all",render:e=>(0,le.jsx)(Ce.Z,{...e}),items:l(e)}];return(0,le.jsxs)(ye.Z,{menuType:zt.og.Popup,width:200,children:[(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:t,initialFocus:void 0}),c]})}})}var pc=o(74420),gc=o(76798),mc=o(32662);const hc={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}},Sc={1:{key:"one_week",value:1},2:{key:"two_weeks",value:2},3:{key:"three_weeks",value:3},4:{key:"four_weeks",value:4}},yc={MO:"Monday",TU:"Tuesday",WE:"Wednesday",TH:"Thursday",FR:"Friday",SA:"Saturday",SU:"Sunday"},fc=(0,a.defineMessages)({sprintsMenuTitle:{id:"sprintSettingsMenu.label",defaultMessage:"Sprints"},on:{id:"sprintSettingsMenu.on.label",defaultMessage:"On"},off:{id:"sprintSettingsMenu.off.label",defaultMessage:"Off"},completeSprintNextSprintActionMenuOptionText:{id:"sprintSettingsMenu.remainingTasks.moveToNextSprintOption.label",defaultMessage:"Move to next sprint"},completeSprintNextSprintActionSelectedText:{id:"sprintSettingsMenu.remainingTasks.moveToNextSprintOption.selected.label",defaultMessage:"Next sprint"},completeSprintBacklogActionMenuOptionText:{id:"sprintSettingsMenu.remainingTasks.moveToBacklogOption.label",defaultMessage:"Move to backlog"},completeSprintBacklogActionSelectedText:{id:"sprintSettingsMenu.remainingTasks.moveToBacklogOption.selected.label",defaultMessage:"Backlog"},completeSprintKeepInCurrentSprintActionMenuOptionText:{id:"sprintSettingsMenu.remainingTasks.keepInCurrentSprint.label",defaultMessage:"Keep in current sprint"},completeSprintKeepInCurrentSprintActionSelectedText:{id:"sprintSettingsMenu.remainingTasks.keepInCurrentSprint.selected.label",defaultMessage:"Current sprint"},autocompleteToggleTitle:{id:"sprintSettingsMenu.autocompleteToggle.label",defaultMessage:"Auto-complete"},autocompleteToggleCaption:{id:"sprintSettingsMenu.autocompleteToggle.caption",defaultMessage:"Automatically create and complete sprints based on your settings."},duration:{id:"sprintSettingsMenu.duration.label",defaultMessage:"Duration"},durationMenuOptionText:{id:"sprintSettingsMenu.duration.option.label",defaultMessage:"{durationValue, plural, one {1 week} other {{durationValue} weeks}}"},startOn:{id:"sprintSettingsMenu.startOn.label",defaultMessage:"Start on"},remainingTasks:{id:"sprintSettingsMenu.remainingTasks.label",defaultMessage:"Remaining tasks"},turnOffSprints:{id:"sprintSettingsMenu.turnOffSprints.button.label",defaultMessage:"Turn off sprints"}}),Cc={complete_sprint_and_move_incomplete_tasks_to_next_sprint:{menuOptionText:fc.completeSprintNextSprintActionMenuOptionText,selectedText:fc.completeSprintNextSprintActionSelectedText},complete_sprint_and_move_incomplete_tasks_to_backlog:{menuOptionText:fc.completeSprintBacklogActionMenuOptionText,selectedText:fc.completeSprintBacklogActionSelectedText},complete_sprint:{menuOptionText:fc.completeSprintKeepInCurrentSprintActionMenuOptionText,selectedText:fc.completeSprintKeepInCurrentSprintActionSelectedText}};function xc(e){return(0,le.jsx)(a.FormattedMessage,{...Cc[e.completeSprintAction].menuOptionText})}function vc(e){return(0,le.jsx)(a.FormattedMessage,{...Cc[e.completeSprintAction].selectedText})}function bc(e){return 1===e||2===e||3===e||4===e?Sc[e]:void(0,ne.t1)(e)}function wc(e){const{sprintDurationValue:t}=e;let o;return 1===t||2===t||3===t||4===t?o=t:(0,ne.t1)(t),(0,le.jsx)(a.FormattedMessage,{...fc.durationMenuOptionText,values:{durationValue:o}})}const jc=(0,a.defineMessages)({viewNamePlaceholderMessage:{defaultMessage:"View name",id:"database.viewSettings.mainTab.viewNamePlaceholder.title"}});class Mc extends i.Z{constructor(){super(...arguments),this.handleViewNameSubmit=e=>{const{collectionContextStore:t}=this.props,o=t.collectionViewStore();o&&o.isDefined()&&(o.getName()!==e&&d.createAndCommit({userAction:"CollectionSettingsViewMain.handleViewNameSubmit",environment:this.environment,perform:t=>{Ma.iG({collectionViewStore:o,update:{name:e},transaction:t})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"rename",original_view_type:o.getType()}))},this.handleViewIconSubmit=e=>{const{collectionContextStore:t}=this.props,o=t.collectionViewStore();o&&o.isDefined()&&(d.createAndCommit({userAction:"CollectionSettingsViewMain.handleViewIconSubmit",environment:this.environment,perform:t=>{Ma.Uy({collectionViewBlockStore:o,icon:e,transaction:t})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"change_icon",icon:e}))},this.handleDuplicateClick=()=>{const{collectionContextStore:e,collectionSettingsStore:t,intl:o}=this.props,n=e.collectionViewStore();n&&(l.zt({environment:this.environment,collectionContextStore:e,collectionViewStore:n,collectionSettingsStore:t,intl:o}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_duplicate",original_view_type:n.getType()}))},this.handleCopyLinkClick=()=>{const{collectionContextStore:e}=this.props,t=e.collectionViewStore();t&&(l.Ol({environment:this.environment,collectionContextStore:e,collectionViewStore:t}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_copy_link",original_view_type:t.getType()}))},this.handleDeleteClick=()=>{const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.collectionViewStore();o&&(l.TT({environment:this.environment,collectionContextStore:e,collectionViewStore:o,collectionSettingsStore:t,from:"view_settings"}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_delete",original_view_type:o.getType()}))},this.handleToggleLockClick=()=>{const{collectionContextStore:e}=this.props,t=e.collectionViewBlockStore();t&&(yl.bo({environment:this.environment,store:t,lock:!t.isLocked()}),Et.wd({environment:this.environment,collectionContextStore:e,action:"click_toggle_lock"}))},this.shouldRenderTurnIntoTaskStore=this.createComputedStore((()=>{const{device:e}=this.environment,{collectionContextStore:t}=this.props,o=t.collectionStore(),n=t.collectionViewBlockStore(),i=t.collectionViewStore();if(e.isMobile)return!1;if(!o||!n||!i)return!1;if(o.isSyncedCollection())return!1;const r=n.getCollectionViewSourceCollectionStore();return!!t.permissionScopes.state.canConfigureBlock&&((null==r||!r.isTypedCollection())&&void 0!==r)})),this.shouldRenderSourceStore=this.createComputedStore((()=>{const{collectionContextStore:e}=this.props,t=e.collectionStore(),o=e.collectionViewBlockStore(),n=e.collectionViewStore();if(!t||!o||!n)return!1;if(t.isSyncedCollection())return!0;return void 0===o.getCollectionViewSourceCollectionStore()})),this.isMyTasks=this.createComputedStore((()=>{var e;const{collectionContextStore:t}=this.props,o=null===(e=t.collectionViewBlockStore())||void 0===e?void 0:e.id;return o&&(0,fl.qG)(o)}))}renderComponent(){const{device:e}=this.environment,{collectionContextStore:t,selectViewNameInitial:o}=this.props,n=t.collectionViewStore(),i=t.collectionViewBlockStore();if(!n||!i)return;if(!n.isDefined())return;const r=t.permissionScopes.state,s=n.getFormat().collection_view_icon,l=n.getType(),c=n.getAppConfigUri(),d=c&&(0,xs.xB)(c),u=!this.isMyTasks.state&&!d,p=(0,le.jsx)(Ce.Z,{title:e.isMobile&&(0,le.jsx)(a.FormattedMessage,{defaultMessage:"View name",id:"database.viewSettings.mainTab.viewNameSection.title"}),children:(0,le.jsx)(Qs.Z,{initialValue:n.getName()||"",placeholder:Ne.default.formatMessage(jc.viewNamePlaceholderMessage),onBlur:this.handleViewNameSubmit,onSubmit:this.handleViewNameSubmit,focusInitial:o,selectAll:o,disabled:!r.canConfigureBlock||!u,iconButton:{icon:e=>(0,le.jsx)(Ci.F,{color:"gray",viewIcon:s,viewType:l,style:{marginRight:6}}),iconStyle:{fill:tl.Lr[this.theme.mode].gray},enforceIconColor:"gray",onSubmit:this.handleViewIconSubmit}})});return"page"===n.getType()?(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"View options",id:"database.viewSettings.mainTab.title"}),children:p}):(0,le.jsxs)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"View options",id:"database.viewSettings.mainTab.title"}),children:[(0,le.jsx)(Pc,{collectionContextStore:this.props.collectionContextStore}),p,e.isMobile?(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[this.renderSource(),this.renderLayout(),this.renderProperties(),this.renderFilter(),this.renderSort(),this.renderGroup(),this.renderSubGroup(),this.renderRelationFeatures(),(0,le.jsx)(Bc,{collectionSettingsStore:this.props.collectionSettingsStore,collectionContextStore:this.props.collectionContextStore}),(0,le.jsx)(Ml,{collectionContextStore:t}),(0,le.jsx)(Fc,{collectionContextStore:this.props.collectionContextStore,collectionSettingsStore:this.props.collectionSettingsStore})]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(Ce.Z,{children:[this.renderSource(),this.renderLayout()]}),(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[this.renderProperties(),this.renderFilter(),this.renderSort(),this.renderGroup(),this.renderSubGroup(),this.renderRelationFeatures(),(0,le.jsx)(Bc,{collectionSettingsStore:this.props.collectionSettingsStore,collectionContextStore:this.props.collectionContextStore}),(0,le.jsx)(Ml,{collectionContextStore:t}),(0,le.jsx)(Fc,{collectionContextStore:this.props.collectionContextStore,collectionSettingsStore:this.props.collectionSettingsStore})]})]}),(0,Cl.QI)("dev_or_beta")?this.renderTurnIntoTask():void 0,(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[(0,Cl.QI)("dev_or_beta")?this.renderTaskTypeBadge():void 0,this.renderLockAction(),this.renderCopyLinkAction(),this.renderDuplicateAction(),this.renderDeleteAction()]})]})}renderTaskTypeBadge(){const{device:e}=this.environment,{collectionContextStore:t}=this.props,o=t.collectionViewBlockStore(),n=t.collectionStore();if(!e.isMobile&&(null==n?void 0:n.getDatabaseType())===$s.iS&&o&&"content_only_editor"!==o.getRole())return(0,le.jsx)(dc,{collectionContextStore:t})}renderLockAction(){const{collectionContextStore:e}=this.props,t=e.collectionViewBlockStore();if(!t)return;const o=t.getCollectionViewSourceCollectionStore(),n=t.isLocked();if(!(o?o.canEditCollection():t.canEditCollection()))return;const i=null==t?void 0:t.isCollectionViewPageWithContent();return(0,le.jsx)(bn.Z,{icon:n?Sl.U:Ft.b,title:kc(o,i,n),onClick:this.handleToggleLockClick})}renderCopyLinkAction(){return(0,le.jsx)(bn.Z,{icon:dl.N,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Copy link to view",id:"database.viewSettings.mainTab.copyLinkButton.title"}),onClick:this.handleCopyLinkClick})}renderDuplicateAction(){const{collectionContextStore:e}=this.props;if(e.permissionScopes.state.canConfigureBlock&&"collectionTypedView"!==e.contextType)return(0,le.jsx)(bn.Z,{icon:Hn.a,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Duplicate view",id:"database.viewSettings.mainTab.duplicateButton.title"}),onClick:this.handleDuplicateClick})}renderGroup(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=Ac(this.props.collectionContextStore),n="board"===o?{groupByKey:"board_columns_by",groupsFormatKey:"board_columns"}:{groupByKey:"collection_group_by",groupsFormatKey:"collection_groups"},i=e.normalizedSchemaStore.state,r=e.normalizedFormatStore.state[n.groupByKey],s=e.permissionScopes.state;return"calendar"!==o&&(0,le.jsx)(bn.Z,{icon:"board"===o?sl.b:ll.q,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Group",id:"database.viewSettings.mainTab.groupButton.title"}),showChevron:!0,right:Rl(r?i[r.property]:void 0),onClick:()=>{var a;Et.wd({environment:this.environment,collectionContextStore:e,action:"click_group",original_view_type:o,property_type:r?null===(a=i[r.property])||void 0===a?void 0:a.type:void 0}),e.isLoading.state||e.loadingDetails.setState({type:"load_groups_menu"}),l.H4({collectionSettingsStore:t,item:r?{type:"group",...n}:{type:"groupByProperty",...n}})},disabled:!r&&!s.canConfigureBlock})}renderSubGroup(){const e=Ac(this.props.collectionContextStore),{collectionContextStore:t,collectionSettingsStore:o}=this.props,n=t.normalizedSchemaStore.state,i=t.normalizedFormatStore.state.collection_group_by,r={groupByKey:"collection_group_by",groupsFormatKey:"collection_groups"},s=t.permissionScopes.state;return"board"===e&&(0,le.jsx)(bn.Z,{icon:ll.q,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sub-group",id:"database.viewSettings.mainTab.subGroupButton.title"}),showChevron:!0,right:Rl(i?n[i.property]:void 0),onClick:()=>{var a;Et.wd({environment:this.environment,collectionContextStore:t,action:"click_subgroup",original_view_type:e,property_type:i?null===(a=n[i.property])||void 0===a?void 0:a.type:void 0}),t.isLoading.state||t.loadingDetails.setState({type:"load_groups_menu"}),l.H4({collectionSettingsStore:o,item:i?{type:"group",...r}:{type:"groupByProperty",...r}})},disabled:!i&&!s.canConfigureBlock})}renderRelationFeatures(){const{collectionContextStore:e}=this.props,t=e.collectionStore();if((null==t||!t.isSyncedCollection())&&"collectionTypedView"!==e.contextType)return(0,le.jsxs)(n.Fragment,{children:[this.renderSubitem(),this.renderArrowsBy()]})}renderSubitem(){return _n.default.checkGate("dependency_date_shifting_by_space")?(0,le.jsx)(Ic,{collectionSettingsStore:this.props.collectionSettingsStore,collectionContextStore:this.props.collectionContextStore}):this.renderSubitemV1()}renderSubitemV1(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.normalizedSchemaStore.state,n=e.currentSubitemFormatStore.state,i=n?o[n.property]:void 0,r=e.permissionScopes.state,s=e.databaseType;return(0,le.jsx)(bn.Z,{icon:pl.Y,title:(0,le.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[(0,le.jsx)(a.FormattedMessage,{...(0,Ur.Gt)({feature:"subitem",databaseType:s})}),(0,le.jsx)(mc.Z,{size:2})]}),showChevron:!0,right:(0,le.jsx)("span",{style:{...ie.Z.textOverflowStyle},children:(null==i?void 0:i.name)??(0,le.jsx)(a.FormattedMessage,{defaultMessage:"None",id:"database.viewSettings.subitemTab.none"})}),onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_subitem"}),l.H4({collectionSettingsStore:t,item:{type:"subitem"}})},disabled:!n&&!r.canConfigureBlock})}renderArrowsBy(){return _n.default.checkGate("dependency_date_shifting_by_space")?(0,le.jsx)(Zc,{collectionSettingsStore:this.props.collectionSettingsStore,collectionContextStore:this.props.collectionContextStore}):ns({feature:"timeline_arrows_by",viewType:Ac(this.props.collectionContextStore)})?this.renderArrowsByV1():void 0}renderArrowsByV1(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.normalizedSchemaStore.state,n=e.currentArrowsByFormatStore.state,i=n?o[n]:void 0,r=e.permissionScopes.state;return(0,le.jsx)(bn.Z,{icon:nl.Z,title:(0,le.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Dependencies",id:"database.viewSettings.mainTab.dependencies.title"}),(0,le.jsx)(mc.Z,{size:2})]}),showChevron:!0,right:(0,le.jsx)("span",{style:{...ie.Z.textOverflowStyle},children:(null==i?void 0:i.name)??(0,le.jsx)(a.FormattedMessage,{defaultMessage:"None",id:"database.viewSettings.arrowsByTab.none"})}),onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_timeline_arrows_by"}),l.H4({collectionSettingsStore:t,item:{type:"arrowsBy"}})},disabled:!n&&!r.canConfigureBlock})}renderDeleteAction(){const{collectionContextStore:e}=this.props;if(!e.collectionViewBlockStore())return;return e.permissionScopes.state.canConfigureBlock&&"collectionTypedView"!==e.contextType?(0,le.jsx)(bn.Z,{icon:ge.y,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Delete view",id:"database.viewSettings.mainTab.deleteButton.title"}),isRed:!0,onClick:this.handleDeleteClick}):void 0}renderSource(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.collectionStore(),n=e.collectionViewBlockStore();if(!o||!n)return;if(!this.shouldRenderSourceStore.state)return;const i=o.getIcon();return(0,le.jsx)(bn.Z,{icon:al.v,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Source",id:"database.viewSettings.mainTab.sourceButton.title"}),showChevron:!0,right:(0,le.jsxs)(le.Fragment,{children:[i&&(0,le.jsx)(vi.Z,{icon:i,isEmptyPage:!1,size:20,disabled:!0,style:{marginRight:4,opacity:.6}}),(0,le.jsx)(gc.Z,{store:o})]}),rightStyle:{flexShrink:1},textWrapperStyle:{flexShrink:0},onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_source"}),l.H4({collectionSettingsStore:t,item:{type:"source"}})}})}renderLayout(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.collectionViewStore();if(!o)return;const n=o.getType();return n?(0,le.jsx)(bn.Z,{icon:cl.M,isPadded:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Layout",id:"database.viewSettings.mainTab.layoutButton.title"}),showChevron:!0,right:lo.Bh[n],onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_layout"}),l.H4({collectionSettingsStore:t,item:{type:"layout"}})}}):void 0}renderTurnIntoTask(){const{collectionContextStore:e}=this.props;if(e.collectionStore()&&this.shouldRenderTurnIntoTaskStore.state)return(0,le.jsx)(Ce.Z,{topBorder:!0,style:{marginLeft:4},children:(0,le.jsx)(bn.Z,{icon:()=>(0,ul.z)({width:14}),title:(0,le.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",marginBottom:4},children:[(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Turn into task database",id:"database.viewSettings.mainTab.turnIntoTask.title"}),(0,le.jsx)(pc.Z,{})]}),caption:(0,le.jsx)("div",{children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"See your assigned tasks in Home, manage tasks in sprints, and more.",id:"database.viewSettings.mainTab.turnIntoTask.caption"})}),shouldWrapCaption:!0,showChevron:!1,onClick:()=>{xl.Z.setState({isModalOpen:!0,databaseType:$s.iS,collectionContextStore:e}),Et.gd({environment:this.environment,database_type:$s.iS,collectionContextStore:e})}})})}renderProperties(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=(e.normalizedFormatStore.state[(0,Za.oz)(Ac(this.props.collectionContextStore))]||[]).filter((e=>Boolean(e.visible))).length;return(0,le.jsx)(bn.Z,{icon:gl.N,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Properties",id:"database.viewSettings.mainTab.propertiesButton.title"}),showChevron:!0,right:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{propertiesShown} shown",id:"database.viewSettings.mainTab.propertiesButton.propertiesShown.title",values:{propertiesShown:o}}),onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_properties"}),l.H4({collectionSettingsStore:t,item:{type:"properties",timelineViewTab:"timeline"}})}})}renderFilter(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.permissionScopes.state,n=e.currentPropertyFiltersStore.state.length+(e.currentCombinatorFilterStore.state&&o.canConfigureBlock?1:0);return(0,le.jsx)(bn.Z,{icon:rl.I,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Filter",id:"database.viewSettings.mainTab.filterButton.title"}),showChevron:!0,right:n>0?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{numberOfFilters, plural, one {{numberOfFilters} filter} other {{numberOfFilters} filters}}",values:{numberOfFilters:n},id:"database.viewSettings.mainTab.filterButton.filters.title"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"None",id:"database.viewSettings.mainTab.filterButton.noFilters.title"}),onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_filters"}),0===n?l.H4({collectionSettingsStore:t,item:{type:"createFilter"}}):l.H4({collectionSettingsStore:t,item:{type:"filters"}})}})}renderSort(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.currentSortsStore.state.length;return(0,le.jsx)(bn.Z,{icon:ml.j,isPadded:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sort",id:"database.viewSettings.mainTab.sortButton.title"}),showChevron:!0,right:o>0?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{numberOfSorts, plural, one {{numberOfSorts} sort} other {{numberOfSorts} sorts}}",values:{numberOfSorts:o},id:"database.viewSettings.mainTab.sortButton.oneOrMoreSorts.title"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"None",id:"database.viewSettings.mainTab.sortButton.noSorts.title"}),onClick:()=>{Et.wd({environment:this.environment,collectionContextStore:e,action:"click_sort"}),0===o?l.H4({collectionSettingsStore:t,item:{type:"createSort"}}):l.H4({collectionSettingsStore:t,item:{type:"sort"}})}})}}Mc.displayName="CollectionSettingsViewMain";const _c=(0,a.injectIntl)(Mc);function kc(e,t,o){return t?o?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):e?o?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):o?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"})}function Tc(e){let t;return t=e?e.supportedInView&&!e.enabledOnView?Ur.dH.relationFeatureHiddenMessage:Ur.dH.relationFeatureOnMessage:Ur.dH.relationFeatureOffMessage,Ne.default.formatMessage(t)}function Vc(e,t){const o=t.permissionScopes.state,n=(0,ne.$K)(e),i=o.canConfigureBlock;return n||i}function Ac(e){var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function Pc(e){let{collectionContextStore:t}=e;window.__c={n:"ContentOnlyEditorEducationPill"};return(0,m.VK)((()=>{const e=t.collectionViewBlockStore();return e&&"content_only_editor"!==e.getRole()}),[t])?null:(0,le.jsx)(vl,{})}function Ic(e){let{collectionSettingsStore:t,collectionContextStore:o}=e;window.__c={n:"SubitemV2"};const n=(0,m.VK)((()=>o.currentSubitemFormatStore.state),[o]),i=(0,m.VK)((()=>o.databaseType),[o]),r=(0,m.VK)((()=>Ea({feature:"subitem",collectionContextStore:o})),[o]),s=(0,m.VK)((()=>Vc(n,o)),[o,n]);return(0,le.jsx)(bn.Z,{icon:pl.Y,title:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.Gt)({feature:"subitem",databaseType:i})}),showChevron:!0,right:Tc(r),onClick:()=>{l.H4({collectionSettingsStore:t,item:{type:"subitemV2"}})},disabled:!s})}function Zc(e){let{collectionSettingsStore:t,collectionContextStore:o}=e;window.__c={n:"ArrowsByV2"};const n=(0,m.VK)((()=>o.currentArrowsByFormatStore.state),[o]),i=(0,m.VK)((()=>o.databaseType),[o]),r=(0,m.VK)((()=>Ea({feature:"timeline_arrows_by",collectionContextStore:o})),[o]),s=(0,m.VK)((()=>Vc(n,o)),[o,n]);return(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{...(0,Ur.Gt)({feature:"timeline_arrows_by",databaseType:i})}),showChevron:!0,icon:il.I,right:Tc(r),onClick:()=>{l.H4({collectionSettingsStore:t,item:{type:"dependencies"}})},disabled:!s})}function Fc(e){let{collectionContextStore:t,collectionSettingsStore:o}=e;window.__c={n:"AutomationAction"};const n=(0,m.VK)((()=>(0,He.cB)(t)),[t]),i=(0,m.VK)((()=>t.aliveAutomationCount.state),[t]);return n?(0,le.jsx)(bn.Z,{icon:Rn.M,onClick:()=>{i>0?l.H4({collectionSettingsStore:o,item:{source:"collection_view_settings",type:"automationSettings"}}):(l.H4({collectionSettingsStore:o,item:{source:"collection_view_settings",type:"automationSettings"}}),l.H4({collectionSettingsStore:o,item:{type:"automationCreateSettings"}}))},right:i>0?i:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.mainTab.automations.none",defaultMessage:"None"}),showChevron:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Automations",id:"database.viewSettings.mainTab.automations.title"})}):null}function Bc(e){let{collectionSettingsStore:t,collectionContextStore:o}=e;window.__c={n:"SprintSettings"};const n=(0,m.VK)((()=>_n.default.checkGate("recurring_sprints")),[]),i=(0,m.VK)((()=>{const e=o.databaseType;return e===$s.iS||e===$s.p$}),[o]),r=(0,m.VK)((()=>o.sprintSettingsContext.state),[o]),s=(0,m.VK)((()=>r&&function(e){const{sprintCollectionStore:t,taskCollectionStore:o,automationContext:n}=e;if(o.canEditCollection()){if(!t||t.canEditCollection()&&!n)return"displayOff";if(t.canEditCollection())return t.canEditCollection()&&n?"displayOn":void 0}}(r)),[r]);let c;return"displayOn"===s?c=(0,le.jsx)(a.FormattedMessage,{...fc.on}):"displayOff"===s?c=(0,le.jsx)(a.FormattedMessage,{...fc.off}):void 0===s?c=void 0:(0,ne.t1)(s),n&&i&&r&&c?(0,le.jsx)(bn.Z,{icon:hl.L,right:c,showChevron:!0,title:(0,le.jsx)(a.FormattedMessage,{...fc.sprintsMenuTitle}),onClick:()=>{l.H4({collectionSettingsStore:t,item:{type:"sprintSettings"}})}}):null}class Lc extends i.Z{constructor(){super(...arguments),this.handleViewNameBlur=e=>{const{collectionContextStore:t}=this.props,o=t.collectionViewStore();o&&o.isDefined()&&o.getName()!==e&&d.createAndCommit({userAction:"CollectionSettingsCreateView.handleViewNameBlur",environment:this.environment,perform:t=>{Ma.iG({collectionViewStore:o,update:{name:e},transaction:t})}})},this.handleViewNameSubmit=e=>{const{collectionSettingsStore:t,collectionContextStore:o}=this.props;this.handleViewNameBlur(e),l.wl({collectionSettingsStore:t,item:{type:"main"}}),Et.wd({environment:this.environment,collectionContextStore:o,action:"rename"})},this.handleViewIconSubmit=e=>{const{collectionContextStore:t}=this.props,o=t.collectionViewStore();o&&o.isDefined()&&(d.createAndCommit({userAction:"CollectionSettingsCreateView.handleViewIconSubmit",environment:this.environment,perform:t=>{Ma.Uy({collectionViewBlockStore:o,icon:e,transaction:t})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"change_icon",icon:e}))}}renderComponent(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,{device:o}=this.environment,n=e.collectionViewStore();if(!n)return;if(!n.isDefined())return;const i=n.getFormat().collection_view_icon,r=n.getType();return(0,le.jsxs)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"New view",id:"database.viewSettings.createViewTab.title"}),desktopWidth:290,children:[(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(Qs.Z,{initialValue:"",placeholder:Ne.default.formatMessage(jc.viewNamePlaceholderMessage),focusInitial:!o.isMobile||void 0,onBlur:this.handleViewNameBlur,iconButton:{icon:e=>(0,le.jsx)(Ci.F,{color:"gray",viewIcon:i,viewType:r,style:{marginRight:6}}),iconStyle:{fill:tl.Lr[this.theme.mode].gray},enforceIconColor:"gray",onSubmit:this.handleViewIconSubmit},onSubmit:this.handleViewNameSubmit})}),(0,le.jsx)(ol.Z,{collectionContextStore:e,collectionSettingsStore:t,showDoneButton:!o.isMobile})]})}}Lc.displayName="CollectionSettingsCreateView";const Dc=(0,a.injectIntl)(Lc);var Kc=o(49670);class Rc extends i.Z{renderComponent(){return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Deleted properties",id:"database.viewSettings.propertyTab.deletedTitle"}),children:this.renderContent()})}renderContent(){const{collectionContextStore:e}=this.props,t=e.normalizedDeletedSchemaStore.state,o=Object.entries(t).map((e=>{let[t,o]=e;if(o)return{propertyId:t,propertySchema:o}})).filter(ne.$K);if(0===o.length)return(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(Ll.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"database.viewSettings.deletedPropertiesTab.noResults"})})});const{theme:n}=this;return(0,le.jsx)(Ce.Z,{children:o.map((e=>{let{propertyId:t,propertySchema:o}=e;return(0,le.jsx)(Ll.Z,{title:(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,le.jsx)(Xe.ZP,{type:o.type,icon:o.icon,size:16,theme:n,style:{fill:n.regularIconColor}}),(0,le.jsx)("span",{style:{marginLeft:6,maxWidth:200,...ie.Z.textOverflowStyle},children:o.name})]}),right:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(je.Z,{icon:ki.s,iconStyle:{marginRight:2},onClick:()=>{!function(e,t,o,n,i){const r=o.collectionStore(),s=(0,mr.jI)({timelineViewTab:n,collectionContextStore:o});if(r){const o=bi.D8({deletedSchema:r.getDeletedSchema(),property:e});if(o){var c;if("verification"===(null===(c=r.getDeletedSchema()[e])||void 0===c?void 0:c.type)){const e=r.getSchema();if(Object.keys(e).some((t=>{var o;return"verification"===(null===(o=e[t])||void 0===o?void 0:o.type)})))return void Tn.showDialog({message:(0,le.jsx)(a.FormattedMessage,{id:"database.deletedPropertiesTab.cannotRestoreDuplicateProperty.modal.verification",defaultMessage:"You can only have one verification property."}),showCancel:!1,keepFocus:!0,items:[{label:(0,le.jsx)(a.FormattedMessage,{id:"database.deletedPropertiesTab.cannotRestoreDuplicateProperty.modal.dismissButton",defaultMessage:"Dismiss"}),onAccept:()=>{}}]})}d.createAndCommit({userAction:"CollectionSettingsDeletedProperties.handleRestoreDeletedPropertyClick",environment:i,perform:e=>{Ma.xO({environment:i,collectionStore:r,update:o.updateSchema,transaction:e}),Ma.$N({collectionStore:r,update:o.updateDeletedSchema,transaction:e})}}),l.z$({collectionSettingsStore:t}),l.H4({collectionSettingsStore:t,item:{type:"property",property:e,formatKey:s}})}}}(t,this.props.collectionSettingsStore,this.props.collectionContextStore,this.props.timelineViewTab,this.environment)}}),(0,le.jsx)(je.Z,{icon:ge.y,onClick:()=>{!function(e,t,o){Tn.showDialog({message:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.deletedPropertiesTab.permanentlyDeleteProperty.modal.prompt",defaultMessage:"Are you sure you want to delete this property?"}),showCancel:!0,keepFocus:!0,items:[{label:(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.propertyTab.deleteProperty.modal.confirmButton",defaultMessage:"Delete"}),color:"red",onAccept:()=>{const n=t.collectionStore();n&&d.createAndCommit({userAction:"CollectionSettingsDeletedProperties.handlePermanentlyDeleteDeletedPropertyClick",environment:o,perform:t=>{Ma.$N({collectionStore:n,update:{[e]:null},transaction:t})}})}}]})}(t,this.props.collectionContextStore,this.environment)}})]})},t)}))})}}Rc.displayName="CollectionSettingsDeletedProperties";const Oc=(0,a.injectIntl)(Rc);var Hc=o(83319),Nc=o(89211),Ec=o(28410),Wc=o(3791),zc=o(79474),Gc=o(16971),Uc=o(44866),$c=o(19124),qc=o(83212),Yc=o(78291),Xc=o(30905),Qc=o(91965);const Jc=(0,a.defineMessages)({autoUpdateExplanationMessage:{defaultMessage:"Keep values updated with the latest edits to pages",id:"database.CollectionSettingsPropertyAiAutofill.autoUpdateExplanationMessage"},onlyWithAiAddOnMessage:{defaultMessage:"Only with Notion AI add-on",id:"database.CollectionSettingsPropertyAiAutofill.onlyWithAiAddOnMessage"},updateOnPageEdits:{defaultMessage:"Auto-update on page edits",id:"database.viewSettings.propertyTab.aiAutofill.updateOnPageEdits"}});function ed(e){let{collectionContextStore:t,environment:o,setAiInference:i,aiInference:s,doesUserHaveAIAddOn:l}=e;window.__c={n:"CollectionSettingsAiAutofillAutoUpdateToggle"};const c=(0,n.useRef)((0,r.ZP)()),d=(0,n.useCallback)((()=>{if(!t.collectionStore())return;if(!s)return;if(!(l||null!=s&&s.auto_update_on_edit))return void Uc.triggerAiAutofillUpsell({environment:o,from:"ai_autofill_on_page_edit"});const e={...s,auto_update_on_edit:!s.auto_update_on_edit};i(e)}),[t,s,l,i,o]);return s?(0,le.jsx)(re.Z,{renderTooltip:()=>(0,le.jsxs)("div",{style:{width:159},children:[(0,le.jsx)("div",{style:{color:"white",fontWeight:500,wordWrap:"break-word",whiteSpace:"pre-wrap"},children:(0,le.jsx)(a.FormattedMessage,{...Jc.autoUpdateExplanationMessage})}),!l&&(0,le.jsx)("div",{style:{color:"#ACABA9",fontWeight:500},children:(0,le.jsx)(a.FormattedMessage,{...Jc.onlyWithAiAddOnMessage})})]}),render:e=>(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{...Jc.updateOnPageEdits}),showChevron:!1,right:(0,le.jsx)(kr.Z,{inputId:c.current,on:!!s.auto_update_on_edit,onClick:d,disabled:!1,noColor:!1}),onClick:d,disabled:!1,textWrapperStyle:{minWidth:"auto"},...e})}):null}var td=o(1743);const od=(0,a.defineMessages)({optionsSectionTitle:{defaultMessage:"Options",id:"database.viewSettings.propertyTab.aiAutofill.optionsSectionTitle"},extractPromptSectionTitle:{defaultMessage:"What key info to extract?",id:"database.viewSettings.propertyTab.aiAutofill.extractPromptSectionTitle"},customPromptSectionTitle:{defaultMessage:"What to generate?",id:"database.viewSettings.propertyTab.aiAutofill.customPromptSectionTitle"},extractPromptInputPlaceholder:{defaultMessage:"e.g. “Key topics in bullets” or “People mentioned on the page”",id:"database.viewSettings.propertyTab.aiAutofill.extractPromptInputPlaceholder"},customPromptInputPlaceholder:{defaultMessage:"Tell AI what to generate from page content and properties…",id:"database.viewSettings.propertyTab.aiAutofill.customPromptInputPlaceholder"}});function nd(e){var t;let{environment:o,aiInference:i,setAiInference:r,collectionContextStore:s,isAutofillSetupEnabled:l,shouldShowUserPromptIsInvalidError:c,setShouldShowUserPromptIsInvalidError:d}=e;window.__c={n:"CollectionSettingsAiAutofillPromptInput"};const u=function(e){if(!e)return;switch(e.type){case"summarize":case"translate":return;case"extract":return{aiInferenceType:e.type,sectionTitle:od.extractPromptSectionTitle,inputPlaceholder:od.extractPromptInputPlaceholder,value:e.prompt};case"custom":return{aiInferenceType:e.type,sectionTitle:od.customPromptSectionTitle,inputPlaceholder:od.customPromptInputPlaceholder,value:e.prompt};case"select":case"multi_select":return{aiInferenceType:e.type,sectionTitle:od.customPromptSectionTitle,inputPlaceholder:od.customPromptInputPlaceholder,value:e.prompt};default:(0,ne.t1)(e)}}(i),p=(0,m.VK)((()=>(0,lo.k4)()),[]),g=(0,n.useCallback)((e=>{if(s.collectionStore()&&u)switch(e.target.value&&e.target.value.length<=Ec.Th?d(!1):e.target.value.length>Ec.Th&&d(!0),u.aiInferenceType){case"extract":case"custom":r({type:u.aiInferenceType,prompt:e.target.value,auto_update_on_edit:(null==i?void 0:i.auto_update_on_edit)??p});break;case"select":case"multi_select":r({type:u.aiInferenceType,prompt:e.target.value,auto_update_on_edit:(null==i?void 0:i.auto_update_on_edit)??p,add_options:((null==i?void 0:i.type)===u.aiInferenceType&&(null==i?void 0:i.add_options))??!1});break;case"summarize":case"translate":return;default:(0,ne.t1)(u.aiInferenceType)}}),[i,s,p,u,r,d]);return u?(0,le.jsxs)(Ce.Z,{title:Ne.default.formatMessage(u.sectionTitle),isInput:!0,style:{marginTop:-4},children:[(0,le.jsx)(td.Z,{capture:!0,allowEsc:!0,children:(0,le.jsx)(ao.ZP,{inputOuterStyle:{margin:o.device.isMobile?"8px 0":0,border:c?"1px solid red":void 0},type:"text",value:u.value||"",onChange:g,placeholder:Ne.default.formatMessage(u.inputPlaceholder),textarea:!0,disabled:!l,autosize:!0,autosizeMinHeight:100,autosizeMaxHeight:600},u.aiInferenceType)}),c&&(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingLeft:12,fontSize:12},children:[(0,Bt.t)({width:12,height:12,fill:"#D34F43"}),(0,le.jsx)("div",{style:{color:"#D34F43",paddingLeft:4},children:((null===(t=u.value)||void 0===t?void 0:t.length)??0)>Ec.Th?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Instruction is too long",id:"CollectionSettings.propertyTab.aiAutofill.promptInput.exceedsMaxLength"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Required",id:"CollectionSettings.propertyTab.aiAutofill.promptInput.required"})})]})]}):null}function id(e){const{collectionContextStore:t,isAutofillSetupEnabled:o,draftAiInference:n,setDraftAiInference:i,environment:r,shouldShowUserPromptIsInvalidError:a,setShouldShowUserPromptIsInvalidError:s,doesUserHaveAIAddOn:l}=e;return n?"select"!==n.type&&"multi_select"!==n.type?null:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(Ce.Z,{style:{marginBottom:10},children:[(0,le.jsx)(Qc.Z,{setAiInference:i,aiInference:n}),(0,le.jsx)(ed,{collectionContextStore:t,environment:r,setAiInference:i,aiInference:n,doesUserHaveAIAddOn:l})]}),n&&(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(nd,{environment:r,aiInference:n,setAiInference:i,collectionContextStore:t,isAutofillSetupEnabled:o,shouldShowUserPromptIsInvalidError:a,setShouldShowUserPromptIsInvalidError:s})})]}):null}var rd=o(87205),ad=o(99417);const sd=new xe.Z;var ld=o(43765);const cd=(0,a.defineMessages)({optionsSectionTitle:{defaultMessage:"Options",id:"database.viewSettings.propertyTab.aiAutofill.optionsSectionTitle"},whatToTranslate:{defaultMessage:"What to translate?",id:"CollectionSettingsPropertyAiAutofill.translateProperty.propertySelector"},translateTo:{defaultMessage:"Translate to",id:"CollectionSettingsPropertyAiAutofill.translateProperty.languageSelector"},selectorSearchPlaceholder:{defaultMessage:"Search",id:"CollectionSettingsPropertyAiAutofill.selectorOption.searchbar.placeholder"},allProperties:{defaultMessage:"All properties",id:"CollectionSettingsPropertyAiAutofill.selectorOption.allProperties.checkbox"},noAiAutofillSelected:{defaultMessage:"Select an option",id:"database.CollectionSettingsPropertyAiAutofill.noAiAutofillSelected"}});function dd(e){window.__c={n:"CollectionSettingsTextPropertyAiAutofill"};const{collectionContextStore:t,propertySchema:o,previousPromptByAiInferenceType:i,isAutofillSetupEnabled:r,draftAiInference:a,setDraftAiInference:s,environment:l,propertyId:c,collectionSchema:d,shouldShowUserPromptIsInvalidError:u,setShouldShowUserPromptIsInvalidError:p,doesUserHaveAIAddOn:g}=e,m=(0,h.Fg)(),S=(0,n.useMemo)((()=>[new xe.Z,new xe.Z]),[]),y=(0,n.useMemo)((()=>function(e){var t;let{environment:o,aiInference:n,collectionSchema:i,setAiInference:r,property:a,theme:s,optionsButtonPopupStores:l}=e;if(!n)return[];switch(n.type){case"summarize":return[];case"translate":const e=$e.oA((0,ne.Yd)(i).map((e=>{if(e===a)return;const t=i[e];if(t&&(0,rd.K9)(t)){var o;if("text"===t.type&&"translate"===(null===(o=t.ai_inference)||void 0===o?void 0:o.type))return;return{id:e,option:t.name,icon:(0,le.jsx)(Xe.ZP,{icon:t.icon,type:t.type,theme:s,size:16})}}}))),o=e.findIndex((e=>"title"===e.id));if(o&&o>0){const t=e[o];e.splice(o,1),e.unshift(t)}for(;l.length<2;)l.push(new xe.Z);return[{type:"multi",options:e,selectedIds:(null===(t=n.targetProperties)||void 0===t?void 0:t.length)>0?n.targetProperties:["title"],setSelectedIds:e=>{r({...n,targetProperties:e})},selectorTitle:cd.whatToTranslate,selectAllTitle:cd.allProperties,buttonPopupStore:l[0]},{type:"single",options:rd.nI.map((e=>{let{key:t,name:o}=e;return{id:t,option:Ne.default.formatMessage(o)}})),selectedId:n.toLanguage,onSelect:e=>{r({...n,toLanguage:e})},selectorTitle:cd.translateTo,buttonPopupStore:l[1]}];case"extract":case"custom":return[];default:(0,ne.t1)(n)}}({environment:l,aiInference:a,collectionSchema:d,setAiInference:s,property:c,theme:m,optionsButtonPopupStores:S})),[l,a,d,s,c,m,S]);return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(Ce.Z,{style:{marginBottom:10},children:[(0,le.jsx)(ud,{propertySchema:o,previousPromptByAiInferenceType:i,draftAiInference:a,setDraftAiInference:s,environment:l}),(0,le.jsx)(ed,{collectionContextStore:t,environment:l,setAiInference:s,aiInference:a,doesUserHaveAIAddOn:g})]}),a&&(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[(0,le.jsx)(nd,{environment:l,aiInference:a,setAiInference:s,collectionContextStore:t,isAutofillSetupEnabled:r,shouldShowUserPromptIsInvalidError:u,setShouldShowUserPromptIsInvalidError:p}),(0,le.jsx)(gd,{environment:l,optionProps:y})]})]})}function ud(e){let{propertySchema:t,previousPromptByAiInferenceType:o,draftAiInference:i,setDraftAiInference:r,environment:s}=e;window.__c={n:"AiPromptTypeSelectorSections"};const l=(0,m.VK)((()=>(0,lo.k4)()),[]),c=(0,n.useCallback)((e=>{var n,i,a,s,c,d,u,p;if(!t||!(0,b.qQ)(t)||!e)return;let g;switch(e){case"summarize":g={type:e,auto_update_on_edit:l};break;case"translate":g={type:e,auto_update_on_edit:l,targetProperties:(null===(n=t.ai_inference)||void 0===n?void 0:n.type)===e?null===(i=t.ai_inference)||void 0===i?void 0:i.targetProperties:["title"],toLanguage:(null===(a=t.ai_inference)||void 0===a?void 0:a.type)===e?null===(s=t.ai_inference)||void 0===s?void 0:s.toLanguage:"english"};break;case"extract":g={type:e,prompt:(null===(c=t.ai_inference)||void 0===c?void 0:c.type)===e?null===(d=t.ai_inference)||void 0===d?void 0:d.prompt:o[e]??"",auto_update_on_edit:l};break;case"custom":g={type:e,prompt:(null===(u=t.ai_inference)||void 0===u?void 0:u.type)===e?null===(p=t.ai_inference)||void 0===p?void 0:p.prompt:o[e]??"",auto_update_on_edit:l};break;default:(0,ne.t1)(e)}r(g)}),[l,o,t,r]),d=(0,h.Fg)();return t&&(0,b.qQ)(t)?(0,le.jsx)(we.ZP,{popupType:s.device.isMobile?we.Z4.SlideUp:we.Z4.Popup,buttonPopupStore:sd,render:e=>{const t={key:"section",render:e=>(0,le.jsx)(Ce.Z,{...e}),items:$e.oA(Object.keys(ad.OE.text).map((t=>{if(("translate"!==t||(0,$c.hu)())&&(0,ad.MD)(t))return{key:t,render:e=>{const o=ad.OE.text[t];return(0,le.jsx)(Se.Z,{focused:!1,onClick:e.onClick,icon:o.svg({height:20,width:24,fill:d.aiPurpleColor}),title:Ne.default.formatMessage(o.name),checkState:(null==i?void 0:i.type)===t})},action:()=>{e.close(),c(t)}}})))};return(0,le.jsx)(ye.Z,{menuType:zt.og.Popup,minWidth:260,maxWidth:"100vw",children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:void 0,sections:[t]})})},renderOrigin:e=>{let{onClick:t}=e;return(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:14,marginLeft:4,marginRight:4,marginTop:8,paddingLeft:12,paddingRight:12,cursor:"pointer",height:28},onClick:t,children:[(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Fill with",id:"CollectionSettingsPropertyAiAutofill.ClosedSelector.Title"}),(0,le.jsx)(pd,{aiActionType:null==i?void 0:i.type})]})}}):null}function pd(e){let{aiActionType:t}=e;window.__c={n:"AiActionRenderer"};const o=(0,h.Fg)(),n=t?ad.OE.text[t]:{name:cd.noAiAutofillSelected,svg:()=>null};return(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:14,paddingLeft:15,paddingBottom:0},children:[(0,le.jsx)("div",{style:{color:o.lightIconColor},children:n.svg({height:16,width:16,marginRight:2})}),(0,le.jsx)("div",{style:{color:o.lightTextColor,paddingLeft:4},children:(0,le.jsx)(a.FormattedMessage,{...n.name})}),(0,le.jsx)("div",{style:{color:o.lightIconColor,paddingLeft:4},children:(0,io.o)({height:12,width:12})})]})}function gd(e){let{environment:t,optionProps:o}=e;return o&&o.length>0?(0,le.jsx)(Ce.Z,{title:Ne.default.formatMessage(cd.optionsSectionTitle),isInput:!0,style:{marginTop:-4},children:o.map(((e,o)=>"multi"===e.type?(0,le.jsx)(md,{environment:t,options:e.options,selectedIds:e.selectedIds,setSelectedIds:e.setSelectedIds,selectorTitle:e.selectorTitle,selectAllTitle:e.selectAllTitle,buttonPopupStore:e.buttonPopupStore},o):(0,le.jsx)(hd,{environment:t,options:e.options,selectedId:e.selectedId,onSelect:e.onSelect,selectorTitle:e.selectorTitle,buttonPopupStore:e.buttonPopupStore},o)))}):null}function md(e){let{environment:t,options:o,selectedIds:i,setSelectedIds:r,selectorTitle:s,selectAllTitle:l,buttonPopupStore:c}=e;window.__c={n:"CheckSelectorOption"};const[d,u]=(0,n.useState)(""),p=(0,h.Fg)(),g=o.filter((e=>i.includes(e.id))),S=(0,m.VK)((()=>$e.jj($e.MR(o.map((e=>e.id)))).join(",")===$e.jj($e.MR(i)).join(",")),[o,i]),y=e=>{i.includes(e)?r(i.filter((t=>t!==e))):r($e.jj([...i,e]))},f=()=>{i.length<o.length?r(o.map((e=>e.id))):r(["title"])},C=(0,le.jsx)(Ce.Z,{desktopStyle:{paddingTop:12,paddingBottom:4},children:(0,le.jsx)(ao.ZP,{focusInitial:!t.device.isMobile||void 0,focus:!t.device.isMobile||void 0,value:d,onChange:e=>{u(e.target.value)},placeholder:Ne.default.formatMessage(cd.selectorSearchPlaceholder)})});return(0,le.jsx)(we.ZP,{popupType:t.device.isMobile?we.Z4.SlideUp:we.Z4.Popup,buttonPopupStore:c,render:e=>{const t=o.filter((e=>{var t;const o=null===(t=e.option)||void 0===t?void 0:t.toLowerCase();return-1!==(null==o?void 0:o.indexOf(d.toLowerCase()))})).map((e=>{let{id:t,option:o,icon:n}=e;return{key:t,render:e=>(0,le.jsx)(Se.Z,{focused:!1,onClick:e.onClick,left:(0,le.jsx)(Zi.Z,{checked:i.includes(t),size:14,checkSize:8,onClick:e=>{y(t)}}),icon:n,title:o}),action:()=>{y(t)}}})),n={key:"section",render:e=>(0,le.jsx)(Ce.Z,{...e,topBorder:!0}),items:t},r={key:"all-items",render:e=>(0,le.jsx)(Ce.Z,{...e}),items:[{key:"all-items",render:e=>(0,le.jsx)(Se.Z,{focused:!1,onClick:()=>{f()},left:(0,le.jsx)(Zi.Z,{checked:S,size:14,checkSize:8,onClick:()=>{f()}}),title:Ne.default.formatMessage(l)}),action:()=>{f()}}]};return(0,le.jsxs)(ye.Z,{menuType:zt.og.Popup,minWidth:260,maxWidth:"100vw",children:[C,0===t.length?(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(ld.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"CollectionSettingsPropertyAiAutofill.searchBar.noResults.label"})})}):(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:void 0,sections:[r,n]})]})},renderOrigin:e=>(0,le.jsx)(bn.Z,{title:Ne.default.formatMessage(s),showChevron:!0,right:(0,le.jsx)("div",{style:{color:p.lightTextColor,paddingLeft:4,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"90%"},children:$e.oA(g.map((e=>{let{id:t,option:o,icon:n}=e;return o}))).join(", ")}),rightStyle:{flexShrink:1},rotateChevron:c.state.open,disabled:!1,textWrapperStyle:{minWidth:"auto"},...e})})}function hd(e){let{environment:t,options:o,selectedId:i,onSelect:r,selectorTitle:s,buttonPopupStore:l}=e;window.__c={n:"SelectorOption"};const[c,d]=(0,n.useState)(""),u=o.find((e=>e.id===i)),p=(0,h.Fg)(),g=(0,le.jsx)(Ce.Z,{desktopStyle:{paddingTop:12,paddingBottom:4},children:(0,le.jsx)(ao.ZP,{focusInitial:!t.device.isMobile||void 0,focus:!t.device.isMobile||void 0,value:c,onChange:e=>{d(e.target.value)},placeholder:Ne.default.formatMessage(cd.selectorSearchPlaceholder)})});return(0,le.jsx)(we.ZP,{popupType:t.device.isMobile?we.Z4.SlideUp:we.Z4.Popup,buttonPopupStore:l,render:e=>{const t=o.filter((e=>{var t;return-1!==(null===(t=e.option)||void 0===t?void 0:t.toLowerCase().indexOf(c.toLowerCase()))})).map((t=>{let{id:o,option:n,icon:a}=t;return{key:o,render:e=>(0,le.jsx)(Se.Z,{focused:!1,onClick:e.onClick,icon:a,title:n,checkState:o===i}),action:()=>{e.close(),r(o)}}})),n={key:"section",render:e=>(0,le.jsx)(Ce.Z,{...e}),items:t};return(0,le.jsxs)(ye.Z,{menuType:zt.og.Popup,minWidth:260,maxWidth:"100vw",children:[g,0===t.length?(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(ld.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"No results",id:"CollectionSettingsPropertyAiAutofill.searchBar.noResults.label"})})}):(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:void 0,sections:[n]})]})},renderOrigin:e=>(0,le.jsx)(bn.Z,{title:Ne.default.formatMessage(s),showChevron:!0,right:u&&(0,le.jsxs)(le.Fragment,{children:[u.icon,(0,le.jsx)("div",{style:{color:p.lightTextColor,paddingLeft:4,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"90%"},children:u.option})]}),rightStyle:{flexShrink:1},rotateChevron:l.state.open,disabled:!1,textWrapperStyle:{minWidth:"auto"},...e})})}var Sd=o(73420),yd=o(91839);const fd=(0,a.defineMessages)({optionsSectionTitle:{defaultMessage:"Options",id:"database.viewSettings.propertyTab.aiAutofill.optionsSectionTitle"},removeAutofillButton:{defaultMessage:"Turn off AI autofill",id:"database.viewSettings.propertyTab.aiAutofill.removeAutofillButton"},toggleFillWithAiSectionLabel:{defaultMessage:"Actions",id:"database.viewSettings.propertyTab.aiAutofill.actionsSectionLabel"},confirmOverwriteExistingPropertyValues:{defaultMessage:"Filling “{propertyName}” with AI will overwrite any existing values of the property. Are you sure you want to continue?",id:"database.viewSettings.propertyTab.aiAutofill.confirmOverwriteModal"},noAiAutofillSelected:{defaultMessage:"Select an option",id:"database.CollectionSettingsPropertyAiAutofill.noAiAutofillSelected"}});function Cd(e){window.__c={n:"CollectionSettingsPropertyAiAutofill"};const{property:t,collectionContextStore:o,collectionSettingsStore:i}=e,r=(0,m.VK)((()=>o.normalizedSchemaStore.state[t]),[t,o.normalizedSchemaStore]),s=(0,m.VK)((()=>o.collectionStore()),[o]),c=(0,m.VK)((()=>o.normalizedSchemaStore.getState()),[o]),u=r&&(0,b.qQ)(r)?(0,b.q3)(r):void 0,p=(0,g.O7)(),h=vd(),S=(0,m.VK)((()=>{const e=o.collectionStore();return e&&(0,$c.mX)(p,qc.Z.getMode(p,e),e)}),[p,o]),y=Rt.default.createValue({stage:"not_started"});(0,n.useEffect)((()=>{var e,n;if("page"===o.getViewType())return;if(!1!==(null===(e=o.getPropertyFormat(t))||void 0===e?void 0:e.visible))return;const i=new Us.Z({name:"CollectionSettingsPropertyAiAutofill"});p.defaultRecordCache.inMemoryRecordCache.addCacheOverride(i);const r=null===(n=o.formatStore())||void 0===n?void 0:n.clone(i),a=o.getPropertyFormatKey();return r&&a&&d.createAndCommit({userAction:"CollectionSettingsPropertyAiAutofill.open",environment:p,perform:e=>{ja.er({formatStore:r,formatKey:a,property:t,update:{visible:!0},transaction:e})}}),()=>{p.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(i)}}),[o,p,t]);const f=(0,n.useRef)({}),C=(0,m.VK)((()=>(0,lo.k4)()),[]),[x,v]=(0,n.useState)(r&&Uc.getDefaultAiInference(r,C)),[w,j]=(0,n.useState)(!1),M=(0,n.useCallback)((()=>{const e=o.collectionStore();if(!e||!r||!(0,b.qQ)(r))return;const n=(0,b.q3)(r);n&&"prompt"in n&&(f.current={...f.current,[n.type]:n.prompt}),Uc.saveOrRemovePropertyAiInference({environment:p,propertySchema:r,collectionStore:e,property:t,draftAiInference:x})}),[o,r,x,t,p]),_=(0,m.VK)((()=>{var e;return(null===(e=o.collectionStore())||void 0===e||null===(e=e.getName())||void 0===e?void 0:e.toString())||""}),[o]),k=(0,m.VK)((()=>{const e=o.collectionStore();return e?(0,Za.De)(e.getFormat(),t):{isRunning:!1,numPagesFilled:void 0,numPagesRequested:void 0}}),[o,t]),T=(0,n.useCallback)((async()=>{const e=o.collectionStore();e&&r&&await Uc.autofillPropertyForCollection({environment:p,collectionStore:e,propertySchema:r,property:t,...x&&{includedCollectionSchemaUpdateOp:{pointer:e.pointer,command:"set",path:["schema",t,"ai_inference"],args:x}}})}),[p,r,t,o,x]),V=(0,n.useCallback)((async()=>{if(r&&(0,b.qQ)(r)&&$e.Xy(x,(0,b.q3)(r)))l.E3({collectionSettingsStore:i});else if(x){var e;if("prompt"in x)if(function(e){if(!e)return!1;switch(e.type){case"extract":case"custom":return!0;case"select":case"multi_select":case"summarize":case"translate":return!1;default:throw(0,ne.t1)(e)}}(x)&&0===(null===(e=x.prompt)||void 0===e?void 0:e.length)||(0,ne.$K)(x.prompt)&&x.prompt.length>Ec.Th)return void j(!0);(null==u||!u.auto_update_on_edit)&&null!=x&&x.auto_update_on_edit&&C&&r?await zc.r({sourceAction:"auto_update",propertyName:r.name,collectionName:_})&&M():M()}}),[_,i,u,x,M,C,r]),P=(0,n.useCallback)((()=>{const e=o.collectionStore();e&&u&&r&&(Uc.saveOrRemovePropertyAiInference({environment:p,propertySchema:r,collectionStore:e,property:t,draftAiInference:null}),l.z$({collectionSettingsStore:i}))}),[o,u,p,r,t,i]),I=r&&(0,b.qQ)(r)&&$e.Xy(x,(0,b.q3)(r)),Z=(0,n.useCallback)((async()=>new Promise((e=>{Tn.showDialog({showCancel:!1,keepFocus:!1,message:(0,le.jsxs)(Sd.sg,{alignItems:"center",gap:8,children:[(0,A.y)(h.confirmDiscardChangesDialogIconStyle),(0,le.jsx)("div",{style:h.confirmDiscardChangesDialogMessageStyle,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Do you want to discard changes for AI autofill?",id:"database.viewSettings.propertyTab.aiAutofill.confirmDiscordChangesDialog.message"})})]}),items:[{label:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Discard",id:"database.viewSettings.propertyTab.aiAutofill.confirmDiscordChangesDialog.acceptLabel"}),color:"red",onAccept:()=>e(!0)},{label:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Continue editing",id:"database.viewSettings.propertyTab.aiAutofill.confirmDiscordChangesDialog.cancelLabel"}),onAccept:()=>e(!1)}]})}))),[h]),F=(0,n.useCallback)((async()=>{(I||await Z())&&l.z$({collectionSettingsStore:i})}),[I,i,Z]),B=(0,n.useCallback)((async()=>{(I||await Z())&&l.E3({collectionSettingsStore:i})}),[I,i,Z]),L=(0,m.VK)((()=>{var e;const t=(null===(e=Yc.default.state.data)||void 0===e?void 0:e.addOns)??[];return(0,Wc.de)(t)}),[]);return r&&(0,b.qQ)(r)&&s?(0,le.jsx)(gr.Z,{capture:!0,onEsc:B,children:(0,le.jsxs)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Fill “{propertyName}” with AI",id:"database.viewSettings.propertyTab.aiAutofill.title",values:{propertyName:r.name}}),handleBackArrowClick:F,handleClose:B,children:[!S&&(0,le.jsx)(Ce.Z,{style:h.menuItemStyle,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"You don't have permission to set up AI autofill on this database.",id:"database.viewSettings.propertyTab.aiAutofill.noSetupPermission"})}),"text"===r.type&&(0,le.jsx)(dd,{collectionContextStore:o,propertySchema:r,previousPromptByAiInferenceType:f.current,isAutofillSetupEnabled:Boolean(S),draftAiInference:x,setDraftAiInference:v,environment:p,propertyId:t,collectionSchema:c,shouldShowUserPromptIsInvalidError:w,setShouldShowUserPromptIsInvalidError:j,doesUserHaveAIAddOn:L}),(0,b.cu)(r)&&(0,le.jsx)(id,{collectionContextStore:o,isAutofillSetupEnabled:Boolean(S),draftAiInference:x,setDraftAiInference:v,environment:p,shouldShowUserPromptIsInvalidError:w,setShouldShowUserPromptIsInvalidError:j,doesUserHaveAIAddOn:L}),x&&(0,le.jsxs)(Ce.Z,{children:[(0,le.jsx)(xd,{environment:p,isAutofillSetupEnabled:S,collectionContextStore:o,tryAutofillStore:y,propertySchema:r,property:t,aiInference:x}),(0,le.jsx)(ko.Z,{style:{...h.buttonStyle,margin:"8px 12px 12px 12px",display:I?"none":"flex"},onClick:V,disabled:!S,children:I?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Done",id:"database.viewSettings.propertyTab.aiAutofill.saveButtonAllSaved"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Save changes",id:"database.viewSettings.propertyTab.aiAutofill.saveButtonWithChanges"})})]}),(0,le.jsxs)(Ce.Z,{topBorder:!0,title:p.device.isMobile&&Ne.default.formatMessage(fd.toggleFillWithAiSectionLabel),children:[void 0!==u&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(re.Z,{disableTooltip:L,renderTooltip:()=>(0,le.jsx)(Xc.qQ,{collectionStore:s,propertySchema:r}),render:e=>(0,le.jsx)(bn.Z,{icon:e=>(0,le.jsx)(Xc.Xh,{updateAiInferencesTaskStatus:k,iconStyle:e,progressIconStyle:{marginTop:4,marginLeft:4,marginRight:2}}),title:(0,le.jsx)(Xc.ZP,{updateAiInferencesTaskStatus:k}),caption:void 0!==k.numPagesFilled&&void 0!==k.numPagesRequested&&(0,le.jsx)(Xc.Y7,{updateAiInferencesTaskStatus:k}),focused:!1,onClick:T,disabled:k.isRunning||!S,...e})}),(0,le.jsx)(bn.Z,{icon:ge.y,isRed:!0,focused:!1,title:Ne.default.formatMessage(fd.removeAutofillButton),onClick:P,disabled:!S})]}),(0,le.jsx)(Zl.Z,{href:(0,Al.UY)("guides.aiAutofill"),title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Learn about AI autofill",id:"database.viewSettings.propertyTab.aiAutofill.learnMoreLink"}),analyticsFrom:"collection_ai_autofill_menu"})]})]})}):null}function xd(e){let{environment:t,isAutofillSetupEnabled:o,collectionContextStore:i,tryAutofillStore:l,propertySchema:c,property:d,aiInference:u}=e;window.__c={n:"TryOnThisViewActionSection"};const[p,g]=(0,n.useState)((0,r.ZP)()),h=(0,n.useRef)((0,r.ZP)()),S=(0,m.VK)((()=>l.state.stage),[l]),y=(0,m.VK)((()=>{const e=i.contextType;if("collectionPage"===e)return{type:"page",candidateBlockStores:$e.oA([(0,fl.np)()])};if("collectionTypedView"===e||"collectionView"===e)return{type:"collection",candidateBlockStores:i.resultsInViewOrder(5)};throw new Error(`Unexpected context type: ${e}`)}),[i]),f=(0,n.useCallback)((()=>{var e;s.qG2(t,{ai_inference_type:u.type,type:"undo_from_collection_settings",inference_id:p,collection_id:null===(e=i.collectionStore())||void 0===e?void 0:e.id,session_id:h.current}),"not_started"!==S&&(Gc.Yw(t,!1),l.setState({stage:"not_started"}))}),[t,u,p,i,S,l]),C=(0,ne.Of)(y.candidateBlockStores),x=vd({isTryAutofillEnabled:o&&C});if(t.device.isMobile)return null;let v;return v=C?"collection"===y.type?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Updates the first {maxPages} pages. You can undo changes anytime.",id:"database.viewSettings.propertyTab.aiAutofill.tryOnCollectionDescription",values:{maxPages:5}}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:'Updates "{propertyName}" on this page. You can undo changes anytime.',id:"database.viewSettings.propertyTab.aiAutofill.tryOnPageDescription",values:{propertyName:c.name}}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Add more pages or remove filters to try AI on this view.",id:"database.viewSettings.propertyTab.tryAutofillDisabledDescription"}),(0,le.jsx)(n.Fragment,{children:(0,le.jsx)("div",{style:{margin:"8px 12px"},children:(0,le.jsxs)(Sd.X2,{gap:8,children:[(0,le.jsx)(qt.Z,{disabled:!o||!C,style:{...x.buttonStyle,...x.undoButtonStyle,..."not_started"===S&&{display:"none"}},onClick:f,children:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Undo",id:"database.viewSettings.propertyTab.aiAutofill.undoButton"})}),(0,le.jsx)(re.Z,{renderTooltip:()=>(0,le.jsx)("div",{children:v}),render:e=>(0,le.jsx)(qt.Z,{...e,disabled:!o||!C,style:{...x.buttonStyle,...x.tryButtonStyle},hoveredStyle:x.tryButtonHoveredStyle,pressedStyle:x.tryButtonPressedStyle,onClick:async()=>{if((0,ne.Of)(y.candidateBlockStores)){const e=(0,r.ZP)();g(e),l.setState({stage:"in_progress"}),await Uc.autofillPropertyForBlocks({environment:t,stores:y.candidateBlockStores,property:d,propertySchema:c,aiInferenceOverride:u,userEventForAnalytics:"generate_from_try_on_view_button",sessionIdForAnalytics:h.current,collectionContextStore:i,from:"ai_autofill_settings"}),l.setState({stage:"complete"})}},children:"in_progress"===S?(0,le.jsx)(yd.Z,{}):(0,le.jsxs)(le.Fragment,{children:[(0,A.y)({width:16,..."not_started"!==S&&{display:"none"}}),"not_started"!==S?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Try again",id:"database.viewSettings.propertyTab.aiAutofill.tryAgain"}):"collection"===y.type?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Try on this view",id:"database.viewSettings.propertyTab.aiAutofill.tryOnCollection"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Try on this page",id:"database.viewSettings.propertyTab.aiAutofill.tryOnPage"})]})})})]})})})}function vd(e){const t=(0,h.Fg)();return(0,h.yK)((()=>({buttonStyle:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",gap:8},menuItemStyle:{fontSize:13,borderRadius:6,background:t.accentColors.purple[50],color:t.accentColors.purple[500],margin:"8px 12px",padding:"8px 12px"},undoButtonStyle:{border:`1px solid ${t.accentColors.gray[100]}`,flex:1},tryButtonStyle:{fontWeight:500,flex:1,background:null!=e&&e.isTryAutofillEnabled?"light"===t.mode?t.accentColors.purple[50]:t.accentColors.purple[200]:t.accentColors.gray[50],color:null!=e&&e.isTryAutofillEnabled?t.aiPurpleColor:t.accentColors.gray[400]},fillAllPagesWandIconStyle:{fill:t.aiPurpleColor},tryButtonHoveredStyle:{background:t.accentColors.purple[100]},tryButtonPressedStyle:{background:t.accentColors.purple[200]},confirmDiscardChangesDialogIconStyle:{width:32,height:32,fill:t.aiPurpleColor,paddingTop:8},confirmDiscardChangesDialogMessageStyle:{textAlign:"center",fontWeight:500}})),[t,null==e?void 0:e.isTryAutofillEnabled])}var bd=o(15047),wd=o(29369),jd=o(16173),Md=o(88990);const _d=(0,a.defineMessages)({upgradeButton:{id:"appTemplateUpgradeActions.upgradeConfirmationDialog.upgrade.label",defaultMessage:"Upgrade"},cancelUpgradeButton:{id:"appTemplateUpgradeActions.upgradeConfirmationDialog.cancelUpgrade.label",defaultMessage:"Don't upgrade"}});async function kd(e){const{environment:t,collectionViewBlockStore:o,collectionSettingsStore:n}=e,i=null==o?void 0:o.getFormat().app_config_uri,r=null==o?void 0:o.getParentStore();if(!o||i!==$s.TZ&&i!==$s.pz)return!1;const a=i===$s.TZ?o:await sc.JN({environment:t,collectionViewBlockStore:o,databaseUri:$s.iS}),s=i===$s.pz?o:await sc.JN({environment:t,collectionViewBlockStore:o,databaseUri:$s.p$});return!(!(a&&s&&r)||r.table!==bd.bx&&r.table!==gt.iU&&r.table!==wd.e0)&&(Tn.showDialog({message:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("div",{children:"Upgrade Existing Sprints to Latest?"}),(0,le.jsx)("div",{style:{fontSize:12,padding:8},children:"This will update your Sprints Database, and change some existing views and properties."})]}),items:[{label:Ne.default.formatMessage(_d.upgradeButton),color:"red",onAccept:async()=>{await async function(e){var t;const{environment:o,appParentStore:n,collectionViewBlockStore:i}=e,r=null===(t=i.getFormat())||void 0===t?void 0:t.app_uri_map,a=i.getCollectionStore();if(!r||!a)return;const s=await Td(i,n),l=(0,b.oC)({format:a.getFormat(),space_id:a.getSpaceId(),schema:a.getSchema()});d.createAndCommit({userAction:"appTemplateActions.upgradeSprintsDatabaseFromV1ToV2",environment:o,perform:e=>{Ma.Rm({environment:o,collectionStore:a,update:Vd[$s.p$](l,a.getFormat()),transaction:e}),s.forEach((t=>{const o=t.id,n=t.getFormat(),i=t.getQuery(l);r["notion://sprints/sprints_timeline_view"]===o?Ma.iG({collectionViewStore:t,update:Vd["notion://sprints/sprints_timeline_view"](n,i),transaction:e}):r["notion://sprints/sprints_view"]===o&&Ma.iG({collectionViewStore:t,update:Vd["notion://sprints/sprints_view"](n,i),transaction:e})}))}})}({environment:t,appParentStore:r,collectionViewBlockStore:s}),await async function(e){var t;const{environment:o,appParentStore:n,collectionViewBlockStore:i}=e,r=null===(t=i.getFormat())||void 0===t?void 0:t.app_uri_map;if(!r)return;const a=await Td(i,n);d.createAndCommit({userAction:"appTemplateActions.upgradeTasksDatabaseSprintsFeatureFromV1ToV2",environment:o,perform:e=>{a.forEach((t=>{const o=t.id,n=t.getFormat();if(r[$s.g3]===o){const o=Vd[$s.g3](n);Ma.iG({collectionViewStore:t,update:o,transaction:e})}else r[$s.y$]===o&&Ma.iG({collectionViewStore:t,update:Vd[$s.y$](n),transaction:e})}))}})}({environment:t,appParentStore:r,collectionViewBlockStore:a}),n.setState({open:!1,stack:[]})}},{label:Ne.default.formatMessage(_d.cancelUpgradeButton),onAccept:()=>{}}],showCancel:!1,keepFocus:!0}),!0)}async function Td(e,t){return await Promise.all(e.getCollectionViewPointers().map((async e=>{const o=St.Xr.createChildStore(t,e);return await o.load(),o})))}const Vd={[$s.g3]:e=>({name:Ne.default.formatMessage(Md.sY.tasksCurrentSprintV2ViewName),format:{...e,property_filters:[...(e.property_filters??[]).filter((e=>e.filter.property!==$s.Es.SprintStatusRollup)),Md.Ws]}}),[$s.y$]:e=>({format:{...e,property_filters:[...(e.property_filters??[]).filter((e=>e.filter.property!==$s.Es.TaskToSprintRelation))],table_properties:[...(e.table_properties??[]).filter((e=>e.property!==$s.Es.SprintStatusRollup)),{property:$s.Es.SprintStatusRollup,visible:!1}]}}),[$s.p$]:(e,t)=>({schema:{...e,[$s.b0.UniqueId]:jd.eK(Ne.default.getIntl())[$s.b0.UniqueId],[$s.b0.TotalTasksRollup]:Md.X$,[$s.b0.CompletedTasksRollup]:Md.sU,[$s.b0.StatusV2]:jd.eK(Ne.default.getIntl())[$s.b0.StatusV2]},format:{...t,app_uri_map:{...(null==t?void 0:t.app_uri_map)||{},[$s.b0.UniqueId]:$s.b0.UniqueId,[$s.b0.TotalTasksRollup]:$s.b0.TotalTasksRollup,[$s.b0.CompletedTasksRollup]:$s.b0.CompletedTasksRollup,[$s.b0.StatusV2]:$s.b0.StatusV2}}}),"notion://sprints/sprints_timeline_view":(e,t)=>({format:{...e,table_properties:[...(e.table_properties??[]).filter((e=>e.property!==$s.b0.Status)),{width:147,visible:!1,property:$s.b0.Status},{width:147,visible:!0,property:$s.b0.StatusV2}],timeline_table_properties:[...(e.timeline_table_properties??[]).filter((e=>e.property!==$s.b0.Status)),{width:132,visible:!1,property:$s.b0.Status},{width:132,visible:!0,property:$s.b0.StatusV2}],collection_group_by:{sort:{type:"ascending"},type:"status",groupBy:"group",property:$s.b0.StatusV2}},query2:{...t??{},sort:[...(null==t?void 0:t.sort)??[],{property:$s.b0.StatusV2,direction:"ascending"}]}}),"notion://sprints/sprints_view":(e,t)=>({format:{...e,table_properties:[...(e.table_properties??[]).filter((e=>e.property!==$s.b0.Status)),{width:137,visible:!1,property:$s.b0.Status},{width:137,visible:!0,property:$s.b0.StatusV2},{width:75,visible:!0,property:$s.b0.TotalTasksRollup}],collection_group_by:{sort:{type:"ascending"},type:"status",groupBy:"group",property:$s.b0.StatusV2}},query2:{...t??{},sort:[...(null==t?void 0:t.sort)??[],{property:$s.b0.StatusV2,direction:"ascending"}]}})};var Ad=o(90559),Pd=o(10070),Id=o(87085);function Zd(e){var t,o;const{render:n,showDisabledTooltip:i,property:r,overrideCaption:a}=e;let s=r.description;if(a)s=a;else if(i){var l;s=null===(l=r.canOnlyAdminAuth)||void 0===l?void 0:l.disabledPropertyTooltipMessage}return(0,le.jsx)(gs,{render:n,showImage:!i,caption:s,tooltipImage:null===(t=r.tooltipImage)||void 0===t?void 0:t.img,tooltipImageScale:null===(o=r.tooltipImage)||void 0===o?void 0:o.scale})}var Fd=o(54119),Bd=o(15560),Ld=o(45959),Dd=o(34045),Kd=o(95477);var Rd=o(69834),Od=o(32363);var Hd=o(33954),Nd=o(85644),Ed=o(12205);const Wd=(0,a.defineMessages)({duplicateGithubPropertyTooltip:{defaultMessage:"A database can only have one GitHub Pull Requests property",id:"database.viewSettings.propertyTab.duplicateGithubProperty.tooltip"},wikiGithubPropertyTooltip:{defaultMessage:"A wiki cannot have a GitHub Pull Requests property",id:"database.viewSettings.propertyTab.wikiGithubProperty.tooltip"},syncedDatabaseGithubPropertyTooltip:{defaultMessage:"A synced database cannot have a GitHub Pull Requests property",id:"database.viewSettings.propertyTab.syncedDatabaseGithubProperty.tooltip"},nonMeetingsCronPropertyTooltip:{defaultMessage:"The Cron Calendar property can only be added to a Meetings database",id:"database.viewSettings.propertyTab.nonMeetingsCronProperty.tooltip"},duplicateCronEventPropertyTooltip:{defaultMessage:"A database can only have one Cron Calendar event property",id:"database.viewSettings.propertyTab.duplicateCronEventProperty.tooltip"},newPill:{defaultMessage:"New",id:"database.viewSettings.newHighlightedFeature"}});function zd(e){let{collectionContextStore:t,propertySchema:o}=e;const i=(0,g.O7)(),r=(0,h.Fg)(),a=(0,m.VK)((()=>t.collectionStore()),[t]),s=(0,m.VK)((()=>{if(!a)return;return a.getParentBlockStore()}),[a]),l=(0,m.VK)((()=>Dt.Z.bots.state),[]),c=(0,m.VK)((()=>{var e;if(!a)return;const t=null===(e=a.getFormat())||void 0===e?void 0:e.app_config_uri;return t?(0,xs.YB)((0,Dd.appConfigs)(),t):void 0}),[a]),d=(0,m.VK)((()=>{if(!a||!s||!c)return;if(void 0!==o)return;return a.isDefined()?function(e,t,o){const n=t=>{var n,i;const r=null===(n=o.format)||void 0===n?void 0:n.app_config_uri,a=Pd.aQ.deriveTypeUris(o.schema??{},null===(i=o.format)||void 0===i?void 0:i.app_uri_map);if(t.collectionUri!==r)return!1;const s=Vo.default.state.mainEditorCurrentBlockStore,l=s&&qc.Z.getMode(e,s),c=(0,$c.GD)(l);let d=!0;return t.uri===(0,Md.GT)().uri&&a.has($s.Es.GithubPrsRelation)&&(d=!1),t.dependencies.some((e=>"property"===e.type&&e.collectionUri===r&&(0,$s.jP)(e.uri)&&!a.has(e.uri)))&&(!t.isAi||c)&&d},i={};t.allFeatures.forEach((e=>{(0,xs.FW)(e)&&e.variants.every((e=>Boolean(t.allFeatures.find((t=>t.uri===e&&(0,xs.oX)(t)&&n(t))))))&&(i[e.uri]=e.variants)}));const r=Object.values(i).flat();return t.allFeatures.filter((e=>(0,xs.oX)(e)&&!r.find((t=>t===e.uri))?n(e):!!(0,xs.FW)(e)&&Boolean(i[e.uri]))).sort(((e,t)=>(0,xs.FW)(e)?-1:(0,xs.FW)(t)?1:e.dependencies.length-t.dependencies.length))}(i,c,{format:a.getFormat(),space_id:a.getSpaceId(),schema:a.getSchema()}):void 0}),[a,s,c,o,i]),u=(0,Ed.J)();return{suggestedProperties:d,renderSuggestedProperty:n.useCallback((e=>{const o=e.integrationId,n=Boolean(l.find((e=>e.integration_id===o))),s=Boolean(e.canOnlyAdminAuth),d=(0,w.gi)(n,u,s,i.device.isMobile),p=(e,t,o,n)=>{const i=Pd.aQ.deriveTypeUris((null==a?void 0:a.getSchema())??{},null==a?void 0:a.getPropertyMapping()),s=o.dependencies.find((e=>{var t;return"property"===e.type&&e.collectionUri===(null==a||null===(t=a.getFormat())||void 0===t?void 0:t.app_config_uri)&&(0,$s.jP)(e.uri)&&!i.has(e.uri)})),l=o.dependencies.find((e=>"property"===e.type&&(0,b.qQ)(e.propertySchema)&&(0,b.q3)(e.propertySchema)));if(s)return(0,le.jsx)(Se.Z,{...e,disabled:d,disabledFeedback:d,title:(0,le.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[t,l?(0,le.jsx)(Fd.Z,{}):null,o.isNew?"notion://projects/tasks_with_sprints_feature"===o.uri&&(0,le.jsx)(Bd.Z,{}):null]}),icon:(0,le.jsx)(Xe.ZP,{type:s.propertySchema.type,theme:r,icon:n,size:16,style:{fill:r.regularIconColor}})})};return{key:e.name,render:o=>(0,le.jsx)(Zd,{showDisabledTooltip:d,property:e,render:n=>{if((0,xs.oX)(e))return p({...o,...n,onMouseEnter:e=>{var t,i;null===(t=n.onMouseEnter)||void 0===t||t.call(n,e),null===(i=o.onMouseEnter)||void 0===i||i.call(o,e)}},e.name,e,e.icon);{const r=$e.oA(e.variants.map((e=>{const t=null==c?void 0:c.allFeatures.find((t=>t.uri===e));if(t&&(0,xs.oX)(t))return t})));return(0,le.jsx)(Ld.Z,{items:r,getKey:e=>e.name,onSelect:async e=>{await Id.G0({environment:i,feature:e,collectionContextStore:t})},selectedItem:void 0,renderOrigin:t=>p({...o,...n,...t,onMouseEnter:e=>{var t,i;null===(t=n.onMouseEnter)||void 0===t||t.call(n,e),null===(i=o.onMouseEnter)||void 0===i||i.call(o,e)}},e.name,r[0],e.icon),renderItem:e=>(0,le.jsx)(Se.Z,{...e,title:e.value.name,shouldWrapCaption:!0,shouldWrapTitle:!0})})}}}),action:async()=>{await Id.G0({environment:i,feature:e,collectionContextStore:t})}}}),[l,u,i,a,r,null==c?void 0:c.allFeatures,t])}}function Gd(e){let{collectionContextStore:t,propertyTypes:o,onAccept:i,propertySchema:r}=e;const a=(0,h.Fg)(),s=(0,m.VK)((()=>{var e;return null===(e=t.collectionStore())||void 0===e?void 0:e.getSchema()}),[t]),l=(0,m.VK)((()=>t.collectionViewBlockStore()),[t]),c=n.useCallback((()=>{if(!(0,Nd.iL)()||null==l||!l.isCollectionViewPageWithContent()||r&&"verification"!==r.type)return!1;for(const e in s){const t=s[e];if("verification"===(null==t?void 0:t.type))return!1;if((0,w.Kp)(t))return!1}return!0}),[r,s,l]),d=n.useCallback((()=>{for(const t in s){var e;const o=s[t];if("text"===(null==o?void 0:o.type)&&"summarize"===(null===(e=o.ai_inference)||void 0===e?void 0:e.type))return!1}return!0}),[s]);return{standardAndDerivedPropertyTypes:(0,m.VK)((()=>o.filter((e=>"button"===e?(0,so.PN)():"auto_increment_id"===e?_n.default.checkGate("unique_id"):"verification"===e?c():"ai_summary"===e?d():"ai_translate"!==e||(0,$c.hu)()))),[o,c,d]),renderStandardOrDerivedProperty:n.useCallback(((e,o)=>({key:e,render:n=>{const i=(null==r?void 0:r.type)===e,s=function(e,t,o){if("auto_increment_id"===t){var n;const t=e.collectionStore(),i=null==t?void 0:t.isPageTreeCollection(),r=Boolean(null==t?void 0:t.isSyncedCollection());if(i)return Ne.default.formatMessage(Hd.zU.wiki_forbidden_auto_increment_id_property);if(r)return Ne.default.formatMessage(Hd.zU.synced_database_forbidden_auto_increment_id_property);if(null!=o&&o.type)return Ne.default.formatMessage(Hd.zU.convert_to_auto_increment_id_property);const a=t&&t.getFormat(),s=t&&(null===(n=t.getSpaceStore())||void 0===n?void 0:n.id),l=t&&t.getSchema(),c=t&&t.getDeletedSchema();if(!(a&&s&&l&&c))return;if(t&&(0,Ad.cj)({format:a,space_id:s,schema:l,deleted_schema:c}))return Ne.default.formatMessage(Hd.zU.duplicate_auto_increment_id_property)}}(t,e,r),l=void 0!==s,c=(0,le.jsx)(Se.Z,{...n,checkState:i,title:(0,le.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[o??lo.SO[e],!1]}),icon:(0,le.jsx)(Xe.ZP,{type:e,icon:void 0,size:16,theme:a,style:{fill:(0,b.XU)(e)?a.aiPurpleColor:a.regularIconColor}}),disabled:l,disabledFeedback:l});return s?(0,le.jsx)(re.Z,{placement:re.Z.Placement.Left,render:e=>(0,le.jsx)("div",{...e,children:c}),renderTooltip:()=>s,style:{whiteSpace:"break-spaces"}}):c},action:()=>{i(e,o)}})),[r,t,a,i])}}const Ud=new Set([wo.Nw]);function $d(e,t){const o=(0,g.O7)(),i=(0,a.useIntl)(),r=(0,m.VK)((()=>Dt.Z.bots.state),[]),s=(0,m.VK)((()=>e.collectionStore()),[e]),l=(0,m.VK)((()=>null==s?void 0:s.getSchema()),[s]),c=(0,m.VK)((()=>null==s?void 0:s.isPageTreeCollection()),[s]),d=(0,m.VK)((()=>e.databaseType),[e]),u=(0,m.VK)((()=>{if(void 0===t)return function(e){if(!e)return[];const t=_n.default.checkGate("google_drive_connected_relation"),o=_n.default.checkGate("figma_connected_relation"),n=_n.default.checkGate("zendesk_connected_relation"),i=_n.default.checkGate("cron_connected_relation"),r=_n.default.checkGate("connected_relation"),a=e.getDatabaseType()===$s.iS,s=Dt.Z.state;if(!s.loaded)return[];const l=s.integrations,c={};if(!a){const e=l.find((e=>e.id===wo.U9)),t=(0,Md.GT)();var d;e&&(c[t.name]={name:t.name,pattern:Rd.x,integration:e,tooltipImage:{img:bo.Z.images.tooltips.properties.githubSyncPullStatusPng,scale:.5},description:t.description,canOnlyAdminAuth:{disabledPropertyTooltipMessage:null===(d=t.canOnlyAdminAuth)||void 0===d?void 0:d.disabledPropertyTooltipMessage}})}const u=[];if(t&&u.push(wo.f3),o&&u.push(wo.mQ),n&&u.push(wo.Nw),i&&u.push(wo.Dv),u.forEach((e=>{const t=l.find((t=>t.id===e));if(null!=t&&t.info.original_url_patterns)for(const n of t.info.original_url_patterns){var o;null!==(o=n.additional_types)&&void 0!==o&&o.connectedRelation&&(c[n.name]||(c[n.name]={name:(0,Od.ni)({pattern:n,integration:t}),pattern:n,integration:t}))}})),!r)return Object.values(c);for(const g of l)if(g.info.original_url_patterns&&![wo.U9,wo.f3,wo.mQ,wo.Dv].includes(g.id))for(const e of g.info.original_url_patterns){var p;null!==(p=e.additional_types)&&void 0!==p&&p.connectedRelation&&(c[e.name]||(c[e.name]={name:(0,Od.ni)({pattern:e,integration:g}),pattern:e,integration:g}))}return Object.values(c)}(s)}),[s,t]),p=(0,m.VK)((()=>Boolean(null==s?void 0:s.isSyncedCollection())),[s]),h=(0,Ed.J)();return{connectedRelationProperties:u,renderConnectedRelationProperty:n.useCallback((t=>{const n=t.integration.id,a=Boolean(r.find((e=>e.integration_id===n))),s=Boolean(t.canOnlyAdminAuth),u=Boolean(l&&(0,ne.qP)(l).find((e=>{let[t,o]=e;return o&&(0,w.Kp)(o)}))),g=Boolean(l&&(0,ne.qP)(l).find((e=>{let[t,o]=e;return o&&(0,w.A0)(o)}))),m=t.integration.id===wo.U9&&u||c||p;let S;m&&(u?S=i.formatMessage(Wd.duplicateGithubPropertyTooltip):c?S=i.formatMessage(Wd.wikiGithubPropertyTooltip):p&&(S=i.formatMessage(Wd.syncedDatabaseGithubPropertyTooltip)));const y=d===$s.Fi,f=t.integration.id===wo.Dv&&(!y||g);f&&(y?g&&(S=i.formatMessage(Wd.duplicateCronEventPropertyTooltip)):S=i.formatMessage(Wd.nonMeetingsCronPropertyTooltip));const C=(0,w.gi)(a,h,s,o.device.isMobile)||m||f;return{key:t.name,render:e=>(0,le.jsx)(Zd,{showDisabledTooltip:C,property:t,overrideCaption:S,render:o=>(0,le.jsx)(Se.Z,{...e,...o,checkState:!1,title:(0,le.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[t.name,Ud.has(t.integration.id)?(0,le.jsx)(pc.Z,{}):null]}),icon:(0,le.jsx)("img",{src:t.integration.info.icon,alt:t.name,style:{width:16,height:16}}),disabled:C,disabledFeedback:C})}),action:async()=>{await Id.Jw({environment:o,connectedRelationProperty:t,collectionContextStore:e,intl:i})}}}),[r,e,d,o,i,h,p,c,l])}}const qd=(0,a.defineMessages)({searchPlaceholder:{defaultMessage:"Search or add new property",id:"database.viewSettings.propertyTypeSelect.searchPlaceholder"},suggestedSectionTitle:{defaultMessage:"Suggested",id:"database.viewSettings.propertyTypeSection.suggested"},connectedRelationSectionTitle:{defaultMessage:"Connections",id:"database.viewSettings.propertyTypeSection.connected"},typesSectionTitle:{defaultMessage:"Type",id:"database.viewSettings.propertyTab.propertyType"},newProperty:{defaultMessage:"New property",id:"database.viewSettings.newProperty"},newPropertyWithDatabaseName:{defaultMessage:"New property on {databaseName}",id:"database.viewSettings.newPropertyOnDatabase"},selectToAddNewProperty:{defaultMessage:"Select to add",id:"database.viewSettings.selectToAdd"}});function Yd(e){window.__c={n:"CollectionSettingsPropertyType"};const t=(0,g.Fy)(),[o,i]=n.useState(""),{collectionContextStore:r,propertyTypes:a,onAccept:s,propertySchema:l}=e,c=(0,g.O7)(),d=(0,m.VK)((()=>{var e;return null==r||null===(e=r.collectionStore())||void 0===e||null===(e=e.getName())||void 0===e?void 0:e.toString()}),[r]),{connectedRelationProperties:u,renderConnectedRelationProperty:h}=$d(e.collectionContextStore,e.propertySchema),{standardAndDerivedPropertyTypes:S,renderStandardOrDerivedProperty:y}=Gd({collectionContextStore:r,propertyTypes:a,onAccept:s,propertySchema:l}),{suggestedProperties:f,renderSuggestedProperty:C}=zd({collectionContextStore:e.collectionContextStore,propertySchema:e.propertySchema}),{derivedPropertyTypesInSuggestedSection:x}=(0,n.useMemo)((()=>{const e=new Set;for(const t of S)(0,b.XU)(t)&&"suggested"===(0,lo.to)(t)&&e.add(t);return{derivedPropertyTypesInSuggestedSection:e}}),[S]);n.useEffect((()=>{!async function(){const e=await async function(e,t){if(!(0,xs.Ru)()||!t.permissionScopes.state.canConfigureCollection)return!1;const o=t.collectionStore(),n=t.collectionViewBlockStore();if(!n)return!1;const i=n.getFormat();if((null==i?void 0:i.app_config_uri)===$s.TZ){var r;const t=await sc.JN({environment:e,collectionViewBlockStore:n,databaseUri:$s.p$});if(!t)return!1;const o=null==t?void 0:t.getCollectionStore();return Boolean(!(null!=o&&null!==(r=o.getPropertyMapping())&&void 0!==r&&r[$s.b0.StatusV2]))}var a;return(null==i?void 0:i.app_config_uri)===$s.pz&&Boolean(!(null!=o&&null!==(a=o.getPropertyMapping())&&void 0!==a&&a[$s.b0.StatusV2]))}(c,r);w(e)}()}),[r,c]);const[v,w]=(0,n.useState)(!1),j=n.useCallback((async()=>{await kd({environment:c,collectionViewBlockStore:r.collectionViewBlockStore(),collectionSettingsStore:e.collectionSettingsStore})}),[r,c,e.collectionSettingsStore]),M=(0,n.useMemo)((()=>new Map(S.map((e=>[lo.SO[e],e])))),[S]);let _=[];if(""!==o){const e=(null==f?void 0:f.reduce(((e,t)=>(e[t.name]=C(t),e)),{}))||{};for(const o of x)e[lo.SO[o]]=y(o);const t=(null==u?void 0:u.reduce(((e,t)=>(h&&(e[t.name]=h(t)),e)),{}))||{},n=p().filter(o,Object.keys(e)).flatMap((t=>e[t.original])),i=p().filter(o,Array.from(M.keys())).flatMap((e=>{const t=M.get(e.original);return!t||x.has(t)?[]:y(t)})),r=p().filter(o,Object.keys(t)).flatMap((e=>t[e.original]));n.length&&_.push({key:"suggested",render:e=>(0,le.jsx)(Ce.Z,{...e,title:Ne.default.formatMessage(qd.suggestedSectionTitle)}),items:n}),i.length&&_.push({key:"search",render:e=>(0,le.jsx)(Ce.Z,{title:Ne.default.formatMessage(qd.typesSectionTitle),...e}),items:i}),r.length&&_.push({key:"connected",render:e=>(0,le.jsx)(Ce.Z,{...e,title:Ne.default.formatMessage(qd.connectedRelationSectionTitle)}),items:r}),0===n.length&&0===i.length&&_.push({key:"custom",render:e=>(0,le.jsx)(Ce.Z,{...e,title:Ne.default.formatMessage(qd.selectToAddNewProperty)}),items:[y("text",o)]})}else{const e=(null==f?void 0:f.map((e=>C(e))))??[];for(const n of x)e.push(y(n));const t=S.map((e=>x.has(e)?void 0:y(e))).filter(ne.$K),o=(null==u?void 0:u.map((e=>h&&h(e))).filter(ne.$K))??[];_=$e.oA([e.length&&{key:"suggested",render:e=>(0,le.jsx)(Ce.Z,{...e,title:Ne.default.formatMessage(qd.suggestedSectionTitle)}),items:e},t.length&&{key:"properties",render:e=>(0,le.jsx)(Ce.Z,{...e,title:Ne.default.formatMessage(qd.typesSectionTitle)}),items:t},o.length&&{key:"connected",render:e=>(0,le.jsx)(Ce.Z,{...e,title:Ne.default.formatMessage(qd.connectedRelationSectionTitle)}),items:o}])}const k=(0,le.jsx)(Ce.Z,{desktopStyle:{paddingTop:12,paddingBottom:4},children:(0,le.jsx)(ao.ZP,{focusInitial:!t.isMobile||void 0,focus:!t.isMobile||void 0,value:o,onChange:e=>{i(e.target.value)},placeholder:Ne.default.formatMessage(qd.searchPlaceholder)})});return(0,le.jsxs)(vn.ZP,{...e,title:t.isDesktop&&d?Ne.default.formatMessage(qd.newPropertyWithDatabaseName,{databaseName:d}):Ne.default.formatMessage(qd.newProperty),children:[k,v&&(0,le.jsxs)(he.Z,{style:{border:"1px solid #b3d4fc",borderRadius:5,margin:"3px 11px",padding:7,fontSize:14,color:"rgba(35, 131, 226, 1)",boxShadow:"2px 2px 3px 0px #b3d4fc",cursor:"pointer",marginTop:10},onClick:j,children:["🏃 New Sprints 💨",(0,le.jsx)("div",{style:{fontSize:11},children:"Upgrade V1 to V2!!!"})]}),(0,le.jsx)(fe.Z,{disableInitialScroll:!0,type:fe.i.Vertical,initialFocus:0,sections:_})]})}var Xd=o(34296);class Qd extends i.Z{constructor(){super(...arguments),this.searchSessionId="",this.handleSourcePickerAccept=e=>{const{collectionContextStore:t,collectionSettingsStore:o,property:n,formatKey:i}=this.props;if(!t.collectionStore())return;Et.wd({environment:this.environment,collectionContextStore:t,action:"select_relation_source"});const{stack:r}=o.state,a=r[r.length-2];a&&"setupRelation"===a.type&&l.z$({collectionSettingsStore:o}),l.FK({collectionSettingsStore:o,item:{type:"setupRelation",property:n,formatKey:i,targetCollectionPointer:e.pointer}})}}renderComponent(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=e.collectionViewBlockStore();if(!o)return;const n=Rt.default.createValue("");return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Related to",id:"database.viewSettings.selectNewRelationSourceTab.title"}),handleClose:()=>{Et.tW({environment:this.environment,eventName:"abandoned_search",queryLength:n.state.length,sessionId:this.searchSessionId,source:Xd.S.Relation}),l.E3({collectionSettingsStore:t})},children:(0,le.jsx)(Wt.Z,{collectionContextStore:e,onAccept:this.handleSourcePickerAccept,parentStore:o,context:Xd.S.Relation,searchSessionId:this.searchSessionId,inputStore:n})})}willMount(){this.searchSessionId=(0,r.ZP)()}}Qd.displayName="CollectionSettingsSelectRelationSource";const Jd=(0,a.injectIntl)(Qd);var eu=o(16257),tu=o(79892);function ou(e){window.__c={n:"CollectionSettingsSetupRelation"};const{collectionContextStore:t,collectionSettingsStore:o,property:i,formatKey:r,targetCollectionPointer:s,from:u}=e,p=(0,m.VK)((()=>t.collectionStore()),[t]),h=(0,m.VK)((()=>{const e=t.collectionViewBlockStore();return function(e){const{targetCollectionPointer:t,collectionStore:o,collectionViewBlockStore:n}=e;if(!t)return;if(o&&o.pointer===t)return o;return n?St.NW.createChildStore(n,t):void 0}({targetCollectionPointer:s,collectionStore:p,collectionViewBlockStore:e})}),[t,p,s]),S=(0,m.VK)((()=>i?$r.KV(t,i):void 0),[t,i]),y=Boolean(p&&h&&p.id===h.id),f=Boolean("relation"===(null==S?void 0:S.type)&&S.connectedRelation),C=Boolean("subitem"===u),x=Boolean("timeline_arrows_by"===u),v=(0,m.VK)((()=>t.contextType),[t]),b=(0,g.O7)(),w=(0,a.useIntl)(),j=(0,m.VK)((()=>{const e=null==p?void 0:p.getSchema();return void 0===(null==S?void 0:S.name)&&h&&e?$r.m8(w,{targetCollectionStore:h,isSelfRelation:y,sourceSchema:e,createUnique:!0,from:u}):(null==S?void 0:S.name)||""}),[p,null==S?void 0:S.name,h,w,y,u]),[M,_]=(0,n.useState)(j),[k,T]=(0,n.useState)("no_limit"),[V,A]=(0,n.useState)(C||x?{hasInverseRelation:!0,inverseName:void 0,autoRelate:{enabled:!1}}:{hasInverseRelation:!1,inverseName:void 0,autoRelate:{enabled:!1}}),P=M===j,I=(0,n.useCallback)((()=>{l.H4({collectionSettingsStore:o,item:{type:"selectRelationSource",property:i,formatKey:r}})}),[o,i,r]),Z=(0,n.useCallback)((()=>{if(!V)return;const{hasInverseRelation:e,inverseName:n,autoRelate:a}=V,s=t.collectionStore(),p=t.collectionViewStore();if(!s||!h)return;const{performResult:g}=d.createAndCommit({userAction:"CollectionSettingsSetupRelation.handleAddRelation",environment:b,perform:o=>{const l=i??ja.G3({environment:b,collectionStore:s,collectionViewArgs:p&&r?{collectionViewStore:p,format:p.getFormat(),formatKey:r}:void 0,propertyType:"relation",transaction:o});if(Ra.n7({environment:b,collectionContextStore:t,collectionStore:s,property:l,propertyName:M,targetCollectionStore:h,hasInverseRelation:e,inverseName:n,autoRelate:a,propertyLimit:k,intl:w,transaction:o,from:u}),p){var d;const e=(null===(d=p.getFormat().table_properties)||void 0===d?void 0:d.find((e=>e.property===l)))??{property:l,visible:!0};c.FH({stores:[p],update:{table_properties:[...p.getFormat().table_properties??[],e]},transaction:o})}return"subitem"===u&&p?(Wr.dR({collectionViewStore:p,propertyId:l,transaction:o}),Wr.jA({environment:b,collectionContextStore:t,relationPropertyId:l,transaction:o})):"timeline_arrows_by"===u&&p&&(Oa.tF({collectionViewStore:p,newProperty:l,transaction:o}),Oa._p({collectionContextStore:t,relationPropertyId:l,transaction:o})),l}});"subitem"===u||"timeline_arrows_by"===u?(l.z$({collectionSettingsStore:o}),l.H4({collectionSettingsStore:o,item:{type:"main"}})):l.qU({collectionSettingsStore:o,property:g,formatKey:r}),Et._H({environment:b,collectionContextStore:t,from:"collectionPage"===v?"page_properties":"view_settings",property_type:"relation"})}),[V,t,h,b,o,i,r,v,M,k,w,u]);return(0,le.jsxs)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"New relation",id:"database.viewSettings.setupRelationTab.title"}),children:[(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(ao.ZP,{value:M||"",placeholder:"Property name",onChange:e=>_(e.target.value),onBlur:()=>{},onSubmit:()=>{},focusInitial:!0,selectAll:!1})}),(0,le.jsx)(tu.Z,{isSelfRelation:y,collectionStore:h,showAs:"chevron",onClick:I,disabled:C}),!u&&(0,le.jsx)(eu.U,{selectedKey:k,propertyType:"relation",onChange:e=>T(e)}),h&&!f&&(0,le.jsx)(vs.Z,{collectionContextStore:t,targetCollectionStore:h,property:i,propertyName:M,buttonContents:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Add relation",id:"database.viewSettings.setupRelationTab.addButton.title"}),temporaryInverseState:V,setTemporaryInverseState:A,isInitialPropertyName:P,onSubmit:Z,from:u}),(0,le.jsx)(Ce.Z,{children:(0,le.jsx)(Zl.Z,{href:(0,Al.UY)("guides.relations"),title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Learn about relations",id:"database.viewSettings.propertyTab.relations.learnMoreButton.title"}),analyticsFrom:"view_settings_property_relation"})})]})}var nu=o(27006),iu=o(63143),ru=o(76464),au=o(88893),su=o(29551),lu=o(46978);class cu extends i.Z{constructor(){super(...arguments),this.storeTypes={restrictedStore:Rt.default.createClass(!1)},this.handleContinue=()=>{const e=this.stores.restrictedStore.state,{collectionContextStore:t}=this.props,o=t.collectionViewBlockStore(),n=t.settingsStore;o&&(e&&function(e){const{environment:t,store:o}=e,n=t.currentUser.id;if(!n)return;d.createAndCommit({userAction:"CollectionSettingsSyncedContentShare.restrictAccessToSyncedContent",environment:t,perform:e=>{ru.Pk({environment:t,store:o,shouldInherit:!1,transaction:e,permissionItem:{type:"user_permission",user_id:n,role:"editor"}})}})}({environment:this.environment,store:o}),s.KIh(this.environment,{type:e?"restrict":"share"}),l.E3({collectionSettingsStore:n}))}}renderComponent(){const{collectionSettingsStore:e,collectionContextStore:t,integrationName:o,integrationIcon:n}=this.props,{restrictedStore:i}=this.stores,r=t.collectionViewBlockStore();if(!r)return;const s=this.createComputedStore((()=>{const e=Yc.default.state.data?au.CM(Yc.default.state.data):[],t=(0,iu.m8)($e.oA(e.map((e=>[e.userId,e.role])))),o=(0,Lt.YO)(r).map((e=>e.permissionItem));let n=!1,i=!1;for(const r of o)nu.$D(r)?n=!0:nu.ix(r)&&!nu.Wi(r.role)&&(i=!0);const a=$e.jj($e.oA([...o.map((e=>"user_permission"===e.type?e.user_id:void 0)),...i?Object.keys(t):[]])),s=a.filter((e=>"none"!==t[e])).length,l=a.filter((e=>{const n=t[e],i=Boolean(o.filter(nu.jg).find((t=>t.user_id===e)));return Boolean(n&&i&&!nu.YX(n))})).length;return{numberOfGuests:l,numberOfUsers:s+l,isPublic:n}})),{numberOfGuests:c,numberOfUsers:d,isPublic:u}=s.state;if(!u&&1===d)return void l.E3({collectionSettingsStore:e});const p=(0,le.jsx)("div",{style:this.getPromptTitleStyle(),children:(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.header",defaultMessage:"Share synced content with"})}),g=(0,le.jsxs)(le.Fragment,{children:[0!==c?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.share.caption.usersWithGuests",defaultMessage:"{numberOfUsers} people (including you {numberOfGuests, plural, one {and {numberOfGuests} guest} other {and {numberOfGuests} guests}})",values:{numberOfUsers:d,numberOfGuests:c}})," "]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.share.caption.usersWithoutGuests",defaultMessage:"{numberOfUsers} people (including you)",values:{numberOfUsers:d}})," "]}),u&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.share.caption.sharedWithPublic",defaultMessage:"and those with the link"})," "]}),(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.share.caption.accessToIntegration",defaultMessage:"will get access to content synced from {integrationName}",values:{integrationName:o}})]}),m=(0,le.jsx)(su.gq,{style:{marginTop:10},children:(0,le.jsx)(ko.Z,{style:{flex:"0 0 100%"},isLarge:!0,onClick:this.handleContinue,children:(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.continueButton",defaultMessage:"Continue"})})}),h=(0,le.jsx)(su.gq,{style:{paddingBottom:24},alignItems:"center",justifyContent:"center",children:(0,le.jsx)("img",{style:{width:40},src:n})}),S=(0,le.jsx)(fe.Z,{type:fe.i.Vertical,initialFocus:void 0,sections:[{key:"grant_permissions",items:[{key:"allow",action:()=>null,render:e=>(0,le.jsx)(Se.Z,{...e,textWrapperStyle:{textAlign:"left"},title:(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.share.title",defaultMessage:"Anyone on this page"}),shouldWrapCaption:!0,caption:g,icon:(0,le.jsx)(lu.Z,{isSelected:!i.state}),onClick:()=>{i.setState(!1)}})},{key:"restrict",action:()=>null,render:e=>(0,le.jsx)(Se.Z,{...e,textWrapperStyle:{textAlign:"left"},title:(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.restrict.title",defaultMessage:"Only you"}),shouldWrapCaption:!0,caption:(0,le.jsx)(a.FormattedMessage,{id:"CollectionSettingsSyncedContentShare.option.restrict.caption",defaultMessage:"You'll need to share with others using the share menu"}),icon:(0,le.jsx)(lu.Z,{isSelected:i.state}),onClick:()=>{i.setState(!0)}})}],render:e=>(0,le.jsx)(Ce.Z,{...e})}]});return(0,le.jsx)(vn.ZP,{...this.props,children:(0,le.jsxs)(su.gq,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0px 16px 16px 16px"},flexDirection:"column",children:[h,(0,le.jsxs)("div",{children:[p,S]}),m]})})}getPromptTitleStyle(){return{color:this.theme.regularTextColor,fontWeight:ie.Z.fontWeight.semibold,fontSize:14}}}cu.displayName="CollectionSettingsSyncedContentShare";const du=(0,a.injectIntl)(cu);var uu=o(21197),pu=o(40778);const gu=(0,a.defineMessages)({inputPlaceholder:{defaultMessage:"Filter by…",id:"database.viewSettings.createFilterTab.inputPlaceholder"}});class mu extends i.Z{constructor(){super(...arguments),this.handlePropertyAccept=e=>{if(!e)return;const{collectionContextStore:t}=this.props,o=t.collectionViewStore(),n=this.suggestedFilters.state.find((t=>t.property===e));if(!n||!o)return;const i={id:(0,r.ZP)(),filter:n};pu.iU({environment:this.environment,collectionContextStore:t,temporaryState:{...t.temporaryState.state,propertyFilters:{value:[...fu(this.props.collectionContextStore),i]}}}),function(e,t,o,n,i){if(Et.wd({environment:i,collectionContextStore:t,action:"create_property_filter"}),o===mr.HV.FilterBar||o===mr.HV.TopbarFilterPopup){Su(t,n);const o=t.getFilterBarItemSettingsStore(e);l.wl({collectionSettingsStore:o,item:{type:"filter"}})}else if(o===mr.HV.ViewSettings){yu(n);const o=t.getFilterOptionsItemSettingsStore(e);l.wl({collectionSettingsStore:o,item:{type:"filter"}})}}(i,this.props.collectionContextStore,this.props.context,this.props.collectionSettingsStore,this.environment)},this.handleCombinatorFilterClick=()=>{const{collectionContextStore:e}=this.props;if(!e.collectionViewStore())return;Cu(this.props.collectionContextStore)||pu.iU({environment:this.environment,collectionContextStore:e,temporaryState:{...e.temporaryState.state,combinatorFilter:{value:v.TI}}}),xu(this.props.collectionContextStore,this.props.context,this.props.collectionSettingsStore,this.environment)},this.suggestedFilters=this.createComputedStore((()=>{const{collectionContextStore:e}=this.props,t=e.normalizedSchemaStore.state,o=e.collectionViewStore();if(!o)return[];return(0,Li.qd)({schema:t,filters:fu(this.props.collectionContextStore),getRecordModel:o.getRecordModel})}),!0)}renderComponent(){var e;const{collectionContextStore:t}=this.props,o=this.suggestedFilters.state,n=Cu(this.props.collectionContextStore),i=t.permissionScopes.state;return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Add filter",id:"database.viewSettings.createFilterTab.title"}),footer:i.canConfigureBlock&&(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(bn.Z,{icon:n?uu.Q:I.R,isGray:!0,title:n?(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Advanced filter",id:"database.viewSettings.createFilterTab.advancedFilter.title"}):(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Add advanced filter",id:"database.viewSettings.createFilterTab.addAdvancedFilter.title"}),right:n&&(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{ruleCount, plural, one {{ruleCount} rule} other {{ruleCount} rules}}",id:"database.viewSettings.createFilterTab.advancedFilterRulesCount.title",values:{ruleCount:(null===(e=n.filters)||void 0===e?void 0:e.length)||1}}),onClick:this.handleCombinatorFilterClick})}),children:(0,le.jsx)(ka.Z,{schema:t.normalizedSchemaStore.state,format:t.normalizedFormatStore.state,getProperties:()=>o.map((e=>e.property)),onAccept:this.handlePropertyAccept,inputPlaceholder:Ne.default.formatMessage(gu.inputPlaceholder)})})}}mu.displayName="CollectionSettingsViewCreateFilter";const hu=(0,a.injectIntl)(mu);function Su(e,t){e.filtersBarOpen.setState(!0),l.z$({collectionSettingsStore:t})}function yu(e){l.wl({collectionSettingsStore:e,item:{type:"main"}}),l.H4({collectionSettingsStore:e,item:{type:"filters"}})}function fu(e){return e.currentPropertyFiltersStore.state}function Cu(e){return e.currentCombinatorFilterStore.state}function xu(e,t,o,n){Et.wd({environment:n,collectionContextStore:e,action:"create_combinator_filter"}),t===mr.HV.FilterBar||t===mr.HV.TopbarFilterPopup?(Su(e,o),l.wl({collectionSettingsStore:e.filterBarCombinatorFilterSettingsState,item:{type:"filter"}})):t===mr.HV.ViewSettings&&(yu(o),l.wl({collectionSettingsStore:e.filterOptionsCombinatorFilterSettingsState,item:{type:"filter"}}))}const vu=(0,a.defineMessages)({inputPlaceholder:{defaultMessage:"Sort by…",id:"database.viewSettings.createSortTab.inputPlaceholder"}});class bu extends i.Z{constructor(){super(...arguments),this.handlePropertyAccept=e=>{var t;if(!e)return;const{collectionContextStore:o,context:n,collectionSettingsStore:i}=this.props,r=o.collectionViewStore(),a=o.normalizedSchemaStore.state;if(!r||!a)return;const s=null===(t=a[e])||void 0===t?void 0:t.type;Et.wd({environment:this.environment,collectionContextStore:o,action:"create_sort_accept",original_view_type:r.getType(),property_type:s});const c={property:e,direction:"ascending"},d=[...ju(this.props.collectionContextStore),c];if(pu.iU({environment:this.environment,collectionContextStore:o,temporaryState:{...o.temporaryState.state,sorts:{value:d}}}),n===mr.HV.TopbarSortPopup||n===mr.HV.FilterBar){o.filtersBarOpen.setState(!0),l.z$({collectionSettingsStore:i});const{filterBarSortSettingsStore:e}=o;l.wl({collectionSettingsStore:e,item:{type:"sort"}})}else n===mr.HV.ViewSettings&&(l.wl({collectionSettingsStore:i,item:{type:"main"}}),l.H4({collectionSettingsStore:i,item:{type:"sort"}}))}}renderComponent(){const{collectionContextStore:e}=this.props,t=e.normalizedSchemaStore.state,o=ju(this.props.collectionContextStore);return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"New sort",id:"database.viewSettings.createSortTab.title"}),children:(0,le.jsx)(ka.Z,{schema:e.normalizedSchemaStore.state,format:e.normalizedFormatStore.state,getProperties:()=>Object.keys(t).filter((e=>!o.find((t=>t.property===e)))),onAccept:this.handlePropertyAccept,inputPlaceholder:Ne.default.formatMessage(vu.inputPlaceholder)})})}}bu.displayName="CollectionSettingsViewCreateSort";const wu=(0,a.injectIntl)(bu);function ju(e){return e.currentSortsStore.state}var Mu=o(18245),_u=o(6758),ku=o(8982);class Tu extends i.Z{constructor(){super(...arguments),this.handleFilterChange=(e,t)=>{var o;const{collectionContextStore:n}=this.props,i=null===(o=n.remoteResult.state)||void 0===o?void 0:o.sizeHint,r=Mu.default.mark("collections.update_filter_lag");Mu.default.measureAfterNextFlush(r,{environment:this.environment,getData:()=>Ls.Y5({from:"combinator_filter",collectionContextStore:n,sizeHintAtStart:i})}),pu.iU({environment:this.environment,collectionContextStore:n,temporaryState:{...n.temporaryState.state,combinatorFilter:{value:t}}}),Et.wd({environment:this.environment,collectionContextStore:n,action:"update_combinator_filter"})},this.handleRemoveClick=()=>{const{collectionContextStore:e,context:t,collectionSettingsStore:o}=this.props;pu.iU({environment:this.environment,collectionContextStore:e,temporaryState:{...e.temporaryState.state,combinatorFilter:{value:void 0}}}),t===mr.HV.FilterBar&&l.E3({collectionSettingsStore:o}),Et.wd({environment:this.environment,collectionContextStore:e,action:"delete_combinator_filter"})}}renderComponent(){const{collectionContextStore:e}=this.props,t=e.collectionViewStore(),o=e.normalizedSchemaStore.state,n=function(e){return e.currentCombinatorFilterStore.state}(this.props.collectionContextStore);if(!t||!n)return;const i=t.getType();return i?(0,le.jsxs)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Advanced filter",id:"database.viewSettings.filterTab.title"}),unconstrainedWidth:!0,children:[(0,le.jsx)(ku.D,{children:(0,le.jsx)(_u.Pq,{index:0,level:0,combinatorFilter:n,schema:o,onChange:this.handleFilterChange,collectionViewType:i,collectionViewId:t.id,parentStore:t})}),(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(bn.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Delete filter",id:"database.viewSettings.filterTab.deleteFilterButton.title"}),onClick:this.handleRemoveClick})})]}):void 0}}Tu.displayName="CollectionSettingsViewFilter";const Vu=(0,a.injectIntl)(Tu);var Au=o(28398),Pu=o(40121),Iu=o(58814),Zu=o(19699);class Fu extends i.Z{constructor(){super(...arguments),this.renderPropertyFilter=e=>{const{collectionContextStore:t}=this.props;return(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"4px 10px"},children:[Du(this.environment)&&(0,le.jsx)(Bl.ZP,{iconSize:12,style:{marginLeft:6,marginRight:6}}),(0,le.jsx)(Zu.Z,{id:e.id,context:Pu.P.SettingsFilters,collectionContextStore:t,collectionSettingsStore:t.getFilterOptionsItemSettingsStore(e)},e.id)]})},this.handleFiltersDrop=e=>{const{collectionContextStore:t}=this.props;if(!t.collectionViewBlockStore())return;const o=t.currentPropertyFiltersStore.state,n=$e.oA(e.map((e=>o.find((t=>t.id===e)))));pu.iU({environment:this.environment,collectionContextStore:t,temporaryState:{...t.temporaryState.state,propertyFilters:{value:n}}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"reorder_filters"})},this.handleNewFilterClick=()=>{const{collectionSettingsStore:e,collectionContextStore:t}=this.props;Et.wd({environment:this.environment,collectionContextStore:t,action:"click_new_filter"}),l.H4({collectionSettingsStore:e,item:{type:"createFilter"}}),t.filtersBarOpen.setState(!0)},this.localStateHasChangesStore=this.createComputedStore((()=>{const{collectionContextStore:e}=this.props;return(0,Li.yU)(e)}))}renderComponent(){const{collectionContextStore:e}=this.props,{device:t}=this.environment,o=e.currentPropertyFiltersStore.state,n=o.map((e=>e.id)),i=e.permissionScopes.state,r=i.canConfigureBlock?e.currentCombinatorFilterStore.state:void 0;return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Filters",id:"database.viewSettings.filtersTab.title"}),footer:this.localStateHasChangesStore.state&&(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(Lu,{collectionContextStore:this.props.collectionContextStore})}),unconstrainedWidth:!0,children:(0,le.jsxs)(Ce.Z,{desktopStyle:{paddingBottom:24},children:[(n.length>0||r)&&(0,le.jsxs)("div",{style:t.isMobile?{paddingTop:8,background:this.theme.contentBackground}:void 0,children:[r&&(0,le.jsx)(Ku,{collectionContextStore:this.props.collectionContextStore}),Du(this.environment)?(0,le.jsx)(Fl.ZP,{direction:"vertical",keys:n,renderKey:e=>{const t=n.indexOf(e);return this.renderPropertyFilter(o[t])},onDrop:this.handleFiltersDrop,disabled:!i.canConfigureBlock}):n.map((e=>{const t=n.indexOf(e);return this.renderPropertyFilter(o[t])}))]}),(0,le.jsx)(Se.Z,{focused:!1,icon:(0,I.R)({width:14,marginLeft:4,marginRight:4,fill:this.theme.mediumIconColor}),style:{color:this.theme.mediumTextColor},title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Add filter",id:"database.viewSettings.filtersTab.newFilter.title"}),onClick:this.handleNewFilterClick})]})})}}Fu.displayName="CollectionSettingsViewFilters";const Bu=(0,a.injectIntl)(Fu);function Lu(e){let{collectionContextStore:t}=e;return(0,le.jsx)(Au.ZP,{context:Au.R1.SettingsFilters,collectionContextStore:t})}function Du(e){return!e.device.isMobile}function Ku(e){let{collectionContextStore:t}=e;window.__c={n:"CombinatorFilter"};const o=(0,g.O7)();return(0,le.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"4px 10px"},children:[Du(o)&&(0,le.jsx)(Bl.ZP,{iconSize:12,style:{marginLeft:6,marginRight:6,opacity:.4,cursor:void 0}}),(0,le.jsx)(Iu.Z,{context:Pu.P.SettingsFilters,collectionContextStore:t,collectionSettingsStore:t.filterOptionsCombinatorFilterSettingsState})]})}var Ru=o(74194);class Ou extends i.Z{constructor(){super(...arguments),this.storeTypes={inputValue:Rt.default.createClass("")},this.handleChangeDebounced=$e.Ds((e=>{void 0!==e&&this.props.onChange(e)}),300)}willMount(e){this.stores.inputValue.setState(e.value.toString())}renderComponent(){const e=this.stores.inputValue.state;return(0,le.jsx)(Ru.Z,{type:"number",value:e,inputClassName:"input-hide-arrows",style:{background:this.theme.contentBackground},onChange:e=>{const t=e.target.value,o=parseFloat(t);isNaN(o)?this.handleChangeDebounced(void 0):this.handleChangeDebounced(o),this.stores.inputValue.setState(t)}})}}Ou.displayName="CollectionViewGroupMenuNumberInput";const Hu=Ou;class Nu extends i.Z{renderComponent(){const{numberGroupBy:e,collectionContextStore:t,schema:o}=this.props,n=o[e.property];if(t.collectionStore()&&n)return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ce.Z,{topBorder:!1,disableMobileBorders:!0,title:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.numberGroupRange",defaultMessage:"Group range"}),isTitleUppercase:!1,children:(0,le.jsxs)("div",{style:{display:"flex",paddingLeft:14,paddingRight:14},children:[(0,le.jsx)(Wu,{onChange:this.props.onChange,numberGroupBy:e,inputKey:"start"}),(0,le.jsx)("span",{style:{color:this.theme.mediumTextColor,margin:"0 8px"},children:"–"}),(0,le.jsx)(Wu,{onChange:this.props.onChange,numberGroupBy:e,inputKey:"end"})]})}),(0,le.jsx)(Ce.Z,{topBorder:!1,disableMobileBorders:!0,title:(0,le.jsx)(a.FormattedMessage,{id:"database.groupMenu.numberGroupSize",defaultMessage:"Group every"}),isTitleUppercase:!1,children:(0,le.jsxs)("div",{style:{paddingLeft:14,paddingRight:14},children:[(0,le.jsx)(Wu,{onChange:this.props.onChange,numberGroupBy:e,inputKey:"size"}),(0,le.jsxs)("span",{style:{color:this.theme.mediumTextColor,fontSize:12},children:[(0,le.jsx)(Pl.Z,{groupBy:e,groupFormat:{property:e.property,value:{type:"number",value:{type:"range",start:e.start,end:e.start+e.size}}},schema:o,currentGroups:[],disabled:!0,isHiddenGroup:!1,style:{display:"inline",paddingRight:0,paddingLeft:0},collectionContextStore:t}),", ",(0,le.jsx)(Pl.Z,{groupBy:e,groupFormat:{property:e.property,value:{type:"number",value:{type:"range",start:e.start+e.size,end:e.start+2*e.size}}},schema:o,currentGroups:[],disabled:!0,isHiddenGroup:!1,style:{display:"inline",paddingRight:0,paddingLeft:0},collectionContextStore:t}),", ..."]})]})})]})}}Nu.displayName="CollectionViewNumberGroupMenu";const Eu=(0,a.injectIntl)(Nu);function Wu(e){let{numberGroupBy:t,inputKey:o,onChange:n}=e;return(0,le.jsx)(Hu,{value:t[o],onChange:e=>{"size"===o&&e<=0&&(e=1),"start"===o&&e>t.end&&(e=t.end),"end"===o&&e<t.start&&(e=t.start),n({newNumberGroupBy:{...t,[o]:e}})}})}const zu=(0,a.injectIntl)((function(e){return(0,le.jsx)(vn.ZP,{...e,title:(0,le.jsx)(Gu,{collectionSettingsStore:e.collectionSettingsStore,collectionContextStore:e.collectionContextStore}),children:(0,le.jsx)(Uu,{groupByKey:e.groupByKey,groupsFormatKey:e.groupsFormatKey,collectionContextStore:e.collectionContextStore})})}));function Gu(e){let{collectionSettingsStore:t,collectionContextStore:o}=e;window.__c={n:"Title"};const n=(0,m.VK)((()=>(0,Lr.n)(t)),[t]);if(!n||"groupByNumber"!==n.type)return null;const i=o.normalizedSchemaStore.state,r=o.normalizedFormatStore.state[n.groupByKey];return r?El({groupBy:r,schema:i})??null:null}function Uu(e){let{groupByKey:t,groupsFormatKey:o,collectionContextStore:n}=e;window.__c={n:"Content"};const i=(0,g.O7)(),r=n.collectionViewStore(),a=(0,m.VK)((()=>n.normalizedSchemaStore.state),[n]),s=(0,m.VK)((()=>function(e,t){return e.normalizedFormatStore.state[t]}(n,t)),[n,t]);if(!s||!r)return null;const l=Gl(s);return l?(0,le.jsx)(Eu,{numberGroupBy:l,disabled:!1,schema:a,onChange:e=>{if("number"===s.type)d.createAndCommit({userAction:"CollectionSettingsViewGroupByNumber.renderContent",environment:i,perform:n=>{c.FH({stores:[r],update:{[t]:e.newNumberGroupBy,[o]:void 0},transaction:n})}});else if("formula"===s.type){const n=$e.CE(e.newNumberGroupBy,"property"),a={...s,groupBy:n};d.createAndCommit({userAction:"CollectionSettingsViewGroupByNumber.renderContent",environment:i,perform:e=>{c.FH({stores:[r],update:{[t]:a,[o]:void 0},transaction:e})}})}Et.wd({environment:i,collectionContextStore:n,action:"group_by_number_update",original_view_type:void 0,property_type:s.type})},collectionContextStore:n}):null}class $u extends i.Z{constructor(){super(...arguments),this.handlePropertyAccept=e=>{const{collectionContextStore:t,collectionSettingsStore:o,groupByKey:n,groupsFormatKey:i}=this.props,r=t.collectionViewStore(),a=t.normalizedSchemaStore.state;if(r){if(e){const o=a[e];if(!o||!(0,kl.LG)(o))return;const s=(0,kl.fw)(e,o,"collectionTypedView"===t.contextType);d.createAndCommit({userAction:"CollectionSettingsViewGroupByProperty.handlePropertyAccept",environment:this.environment,perform:e=>{c.FH({stores:[r],update:{[n]:s,[i]:void 0},transaction:e})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"group_by_property_accept",original_view_type:void 0,property_type:o.type})}else d.createAndCommit({userAction:"CollectionSettingsViewGroupByProperty.handlePropertyAccept",environment:this.environment,perform:e=>{c.FH({stores:[r],update:{[n]:void 0,[i]:void 0},transaction:e})}}),Et.wd({environment:this.environment,collectionContextStore:t,action:"group_by_property_accept"});l.wl({collectionSettingsStore:o,item:{type:"main"}}),l.H4({collectionSettingsStore:o,item:{type:"group",groupByKey:n,groupsFormatKey:i}})}},this.sortBySchemaName=(e,t)=>{var o,n;const i=null==e||null===(o=e[1])||void 0===o?void 0:o.name,r=null==t||null===(n=t[1])||void 0===n?void 0:n.name;return i&&r?i.localeCompare(r,void 0,{sensitivity:"base"}):i?1:r?-1:0}}renderComponent(){const{collectionContextStore:e,collectionSettingsStore:t}=this.props,o=(0,Lr.n)(t),n=e.collectionViewBlockStore(),i=e.collectionViewStore();if(!n||!i||!o||"groupByProperty"!==o.type)return;const r=function(e,t){return e.normalizedFormatStore.state[t]}(this.props.collectionContextStore,this.props.groupByKey);return(0,le.jsx)(vn.ZP,{...this.props,title:Ol(o.groupByKey,Yu(this.props.collectionContextStore)),children:(0,le.jsx)(ka.Z,{schema:e.normalizedSchemaStore.state,format:e.normalizedFormatStore.state,currentProperty:null==r?void 0:r.property,showNoneOption:Xu(this.props.collectionContextStore,this.props.groupByKey),getProperties:()=>this.getGroupableProperties(),onAccept:this.handlePropertyAccept})})}getGroupableProperties(){const{collectionContextStore:e}=this.props,t=e.normalizedSchemaStore.state;return Object.entries(t).sort(this.sortBySchemaName).map((e=>e[0])).filter((e=>{const o=t[e];return o&&(0,kl.LG)(o)}))}}$u.displayName="CollectionSettingsViewGroupByProperty";const qu=(0,a.injectIntl)($u);function Yu(e){var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function Xu(e,t){return(0,Vl._1)({viewType:Yu(e),groupByKey:t})}const Qu=(0,a.injectIntl)((function(e){return(0,le.jsx)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Layout",id:"database.viewSettings.layoutTab.title"}),desktopWidth:290,children:(0,le.jsx)(ol.Z,{...e})})}));var Ju=o(75544),ep=o(75117);class tp extends i.Z{constructor(){super(...arguments),this.handleSortChange=e=>{!function(e,t,o){if(!t.collectionViewStore())return;pu.iU({environment:o,collectionContextStore:t,temporaryState:{...t.temporaryState.state,sorts:{value:e}}})}(e,this.props.collectionContextStore,this.environment)},this.handleDeleteAllSortsClick=()=>{const{collectionSettingsStore:e,context:t}=this.props;t===mr.HV.FilterBar&&l.E3({collectionSettingsStore:e})},this.localStateHasChangesStore=this.createComputedStore((()=>{const{collectionContextStore:e}=this.props;return(0,Li.Mj)(e)}))}renderComponent(){const{collectionContextStore:e,context:t}=this.props,o=e.permissionScopes.state,n=t===mr.HV.ViewSettings&&this.localStateHasChangesStore.state,i=e.collectionViewStore();if(i)return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sort",id:"database.viewSettings.sortTab.title"}),footer:n&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)("div",{style:{paddingTop:24}}),(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(ip,{collectionContextStore:this.props.collectionContextStore})})]}),unconstrainedWidth:!0,children:(0,le.jsx)(ep.Z,{collectionViewStore:e.collectionViewStore(),schema:e.normalizedSchemaStore.state,format:e.normalizedFormatStore.state,sorts:np(this.props.collectionContextStore),disabled:!o.canConfigureBlock,parentStore:i,onChange:this.handleSortChange,showDeleteAll:!0,onDeleteAll:this.handleDeleteAllSortsClick})})}}tp.displayName="CollectionSettingsViewSort";const op=(0,a.injectIntl)(tp);function np(e){return e.currentSortsStore.state}function ip(e){let{collectionContextStore:t}=e;return(0,le.jsx)(Au.ZP,{context:Au.R1.SettingsSort,collectionContextStore:t})}var rp=o(59753),ap=o(47425);var sp=o(75553),lp=o(1436),cp=o(60291),dp=o(69619),up=o(15157),pp=o(32056),gp=o(16402),mp=o(24039);class hp extends i.Z{constructor(e){super(e),this.storeTypes={nextSync:Rt.default.createClass(void 0),uri:Rt.default.createClass(void 0),botId:Rt.default.createClass(void 0)},this.reducer={type:"aggregation",filter:void 0,aggregation:{aggregator:"count",property:"title"}},this.setNextSync=this.setNextSync.bind(this)}didMount(){const e=this.stores.uri.state,t=this.stores.botId.state;if(e&&t){const o=`${t}:${e}`,n=up.Z.get({userId:this.environment.currentUser.id,key:o});this.setNextSync(n)}}renderComponent(){var e;const{collectionContextStore:t}=this.props,o=t.collectionStore(),n=null==o?void 0:o.getFormatStore(),i=null==n?void 0:n.getKeyStore("uri").getValue(),r=null==n?void 0:n.getKeyStore("bot_id").getValue(),s=null==o||null===(e=o.pointer)||void 0===e?void 0:e.spaceId,l=Vo.default.state.currentSpaceStore,c=null==n?void 0:n.getKeyStore("original_url").getValue(),d=(0,Od.wY)(c,s),u=t.collectionViewBlockStore(),p=_n.default.checkGate("free_tier_sync_database")||l&&!(0,ap.QM)(l.getSubscriptionTier());return this.stores.uri.setState(i),this.stores.botId.setState(r),(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Ce.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Source database",id:"database.viewSettings.syncedSourceTab.sourceDatabase"}),children:(0,le.jsx)(re.Z,{placement:re.Z.Placement.Left,alignment:re.Z.Alignment.Center,renderTooltip:()=>u&&(0,le.jsx)(mp.Z,{store:u,compactFormat:!0}),render:e=>(0,le.jsx)(Ll.Z,{...e,title:d,icon:(0,le.jsx)(vi.Z,{disabled:!0,icon:null==o?void 0:o.getIcon(),isEmptyPage:!1,size:20,style:this.styles().menuItemIcon}),style:this.styles().menuItemTitle})}),style:{paddingBottom:0}}),(0,le.jsx)(Ce.Z,{children:this.renderLimitMenuItem()}),(0,le.jsxs)(Ce.Z,{topBorder:!0,children:[p&&i&&r&&this.renderSyncButton({uri:i,botId:r}),(0,le.jsx)(bn.Z,{isGray:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Copy debugging information",id:"database.viewSettings.syncedSourceTab.copyDebugging"}),icon:sp.U,onClick:()=>{const e={uri:i,botId:r,spaceId:s};Zs.RD({environment:this.environment,stringValue:JSON.stringify(e,null,2),copiedMessage:Zs.tq.copiedLinkToClipboard})}}),(0,le.jsx)(wn.Z,{href:`${Kd.default.domainBaseUrl}?target=connected_apps`,children:(0,le.jsx)(bn.Z,{icon:lp.g,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Manage my connections",id:"database.viewSettings.syncedSourceTab.manageConnections"}),isGray:!0})}),(0,le.jsx)(Zl.Z,{href:(0,Al.UY)("guides.syncedDatabases"),title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Learn about synced databases",id:"database.viewSettings.syncedSourceTab.learnMoreButton.title."}),analyticsFrom:"view_settings_source"})]})]})}renderCountRowValue(e){const{collectionContextStore:t}=this.props;return(0,le.jsx)(Il.Z,{id:"table:uncategorized:title:count",collectionContextStore:t,reducer:this.reducer,render:t=>{const o=t.state;if(!o||"aggregation"!==o.type)return;if("number"!==o.aggregationResult.type)return;const n={...o.aggregationResult,value:o.aggregationResult.value&&Math.min(e,o.aggregationResult.value)};return(0,pp.uf)(n.value,"number_with_commas",this.props.intl)}})}renderLimitMenuItem(){const{collectionContextStore:e}=this.props,t=e.collectionStore(),o=null==t?void 0:t.getFormatStore(),n="row_limit_exceeded"===(null==o?void 0:o.getKeyStore("sync_state").getKeyStore("syncing").getValue()),i=Vo.default.state.currentSpaceStore,r=this.createComputedStore((()=>{var e;return function(e){if(!e)return 2e4;const t=rp.kk.fromSpace(e),o=t.getSetting("database_sync_row_limit");return void 0!==o?o:(0,ap.QM)(t.getSubscriptionTier())?100:2e4}(null===(e=Vo.default.state.currentSpaceStore)||void 0===e?void 0:e.getModel())}));return(0,le.jsx)(Ll.Z,{title:(0,le.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[n&&i&&(0,ap.QM)(i.getSubscriptionTier())&&(0,le.jsx)(re.Z,{placement:re.Z.Placement.Left,alignment:re.Z.Alignment.Center,renderTooltip:()=>(0,le.jsx)(a.FormattedMessage,{id:"database.viewSettings.syncedSourceTab.limitFree.toolTip",defaultMessage:"Free Plans are limited to 1 synced database with up to 100 rows."}),render:e=>(0,le.jsx)("div",{...e,children:(0,Bt.t)({fill:(0,se.fi)("orange",this.theme).fill,marginRight:14,width:12,alignSelf:"center"})})}),(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Limit",id:"database.viewSettings.syncedSourceTab.limit"})]}),right:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{value}/{limit} rows",id:"database.viewSettings.syncedSourceTab.limitRows",values:{value:this.renderCountRowValue(r.state),limit:(0,pp.uf)(r.state,"number_with_commas",this.props.intl)}}),style:this.styles().menuItem})}renderSyncButton(e){const{uri:t,botId:o}=e,n=this.stores.nextSync.state,i=!n||n<Date.now();return function(e,t){var o;const n=e.numberChildrenUnfurled.state,i=e.numberChildrenReceived.state,r=n/i,a=!0===(null===(o=e.collectionStore())||void 0===o||null===(o=o.getFormat().sync_state)||void 0===o?void 0:o.syncing),s=t.device.isMobile,l=a&&s;return n&&i&&r<1&&!s||l}(this.props.collectionContextStore,this.environment)?(0,le.jsx)(Ll.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Syncing",id:"database.viewSettings.syncedSourceTab.isSyncing"}),icon:(0,cp.b)(this.styles().menuItemIcon,"sync-spinner"),style:this.styles().menuItem}):i?(0,le.jsx)(bn.Z,{isGray:!0,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"{message}",id:"database.viewSettings.syncedSourceTab.syncNow",values:{message:yp().defaultMessage,description:yp().description}}),icon:cp.b,onClick:async()=>{var e,i;const r=null===(e=this.props.collectionContextStore.collectionStore())||void 0===e?void 0:e.id,a=!0===(null===(i=this.props.collectionContextStore.collectionStore())||void 0===i?void 0:i.getFormat().stale);r&&await l.R0({environment:this.environment,uri:t,botId:o,collectionId:r,nextSync:n,setNextSync:this.setNextSync,isStale:a})}}):(0,le.jsx)(Ll.Z,{title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Sync available in {timeToNextSync}",id:"database.viewSettings.syncedSourceTab.syncNow.disabled",values:{timeToNextSync:(0,gp.hH)(Date.now(),n)}}),icon:(0,dp.T)(this.styles().menuItemIcon),style:this.styles().menuItem})}setNextSync(e){this.stores.nextSync.setState(e)}styles(){const e=this.environment.device.isMobile;return{menuItemTitle:{paddingLeft:e?4:8},menuItem:{color:this.theme.mediumTextColor,paddingLeft:e?4:8},menuItemIcon:{height:16,width:16,marginRight:2}}}}hp.displayName="CollectionSettingsViewSyncedSource";const Sp=(0,a.injectIntl)(hp);function yp(){const e=Vo.default.state.currentSpaceStore,t=e&&(0,ap.QM)(e.getSubscriptionTier());return{defaultMessage:t?"Clear and sync database":"Sync database",description:t?"Clears and refreshes the database ":"Refreshes the synced database."}}class fp extends i.Z{constructor(){super(...arguments),this.searchSessionId="",this.handleSourcePickerAccept=e=>{const{collectionContextStore:t,collectionSettingsStore:o}=this.props;d.createAndCommit({userAction:"CollectionSettingsViewSource.handleSourcePickerAccept",environment:this.environment,perform:o=>{Ma.yc({environment:this.environment,collectionContextStore:t,collectionStore:e,transaction:o})}}),l.z$({collectionSettingsStore:o})}}renderComponent(){var e;const{collectionContextStore:t,collectionSettingsStore:o}=this.props,n=Boolean(null===(e=t.collectionViewBlockStore())||void 0===e?void 0:e.getCollectionViewSourceCollectionStore()),i=t.collectionViewBlockStore();if(!i)return;const r=Rt.default.createValue("");return(0,le.jsx)(vn.ZP,{...this.props,title:(0,le.jsx)(a.FormattedMessage,{defaultMessage:"Source",id:"database.viewSettings.sourceTab.title"}),handleClose:()=>{Et.tW({environment:this.environment,eventName:"abandoned_search",sessionId:this.searchSessionId,source:Xd.S.Source,queryLength:r.state.length}),l.E3({collectionSettingsStore:o})},children:n?(0,le.jsx)(Sp,{collectionContextStore:t}):(0,le.jsx)(Wt.Z,{collectionContextStore:t,parentStore:i,onAccept:this.handleSourcePickerAccept,context:Xd.S.Source,searchSessionId:this.searchSessionId,inputStore:r})})}willMount(){this.searchSessionId=(0,r.ZP)()}}fp.displayName="CollectionSettingsViewSource";const Cp=(0,a.injectIntl)(fp);var xp=o(72897),vp=o(5336),bp=o(69651),wp=o(96711),jp=o(53523),Mp=o(30120),_p=o(53877);function kp(e){return{frequency:"week",interval:e.recurrenceConfig.interval,weekdays:e.recurrenceConfig.weekdays,start_date:Mp.ou.local().set({hour:0,minute:0,second:0,millisecond:0}).toMillis(),timezone:(0,_p.Sv)(),hour:0,minute:0}}function Tp(e){const{collectionContextStore:t}=e,o=(0,g.O7)(),i=(0,m.VK)((()=>t.sprintSettingsContext.state),[t.sprintSettingsContext]),a=(0,m.VK)((()=>{var e,t,o;if(!i)return;const n=(null===(e=i.automationContext)||void 0===e||null===(e=e.automationActionStore.getConfig())||void 0===e?void 0:e.complete_sprint_action)??hc.actionConfig.complete_sprint_action,r="active"===(null===(t=i.automationContext)||void 0===t?void 0:t.automationStore.getStatus()),a=null===(o=i.automationContext)||void 0===o?void 0:o.automationStore.getRecurrence();return{autoCompleteSprints:r,actionConfig:{complete_sprint_action:n},recurrenceConfig:{interval:(null==a?void 0:a.interval)??hc.recurrenceConfig.interval,weekdays:(null==a?void 0:a.weekdays)??hc.recurrenceConfig.weekdays}}}),[i]),s=n.useCallback((e=>{d.createAndCommit({userAction:"useSprintSettings.updateSprintSettingsConfig",environment:o,perform:t=>{if(!i||!i.sprintCollectionStore||!a)return;const n={...a,...e};i.automationContext?function(e){const{automationStore:t,transaction:o,sprintSettingsConfig:n,actionStore:i}=e;Vn.sW({store:i.getConfigStore(),data:{...n.actionConfig},transaction:o}),Vn.sW({store:t,data:{status:n.autoCompleteSprints?"active":"disabled"},transaction:o}),Vn.sW({store:t.getTriggerStore().getKeyStore("recurrence"),data:{...n.recurrenceConfig},transaction:o})}({transaction:t,automationStore:i.automationContext.automationStore,actionStore:i.automationContext.automationActionStore,sprintSettingsConfig:n}):function(e){const{environment:t,sprintSettingsConfig:o,transaction:n,sprintCollectionStore:i,taskCollectionStore:a}=e,s=i.getSpaceId(),l=(0,r.ZP)(),d=(0,r.ZP)();Vn.ae({environment:t,table:kn.cv,inMemoryRecordCache:i.inMemoryRecordCache,value:{id:l,parent_id:i.id,parent_table:i.table,alive:!0,space_id:s,status:"active",trigger:{id:(0,r.ZP)(),type:"recurrence",recurrence:kp(o)},action_ids:[d]},transaction:n}),c.FH({stores:[i],update:{automation_ids:[...i.getFormat().automation_ids??[],l]},transaction:n}),Vn.ae({environment:t,table:yr.Xj,inMemoryRecordCache:i.inMemoryRecordCache,transaction:n,value:{id:d,parent_id:l,parent_table:kn.cv,type:"complete_sprint",alive:!0,space_id:s,config:{sprint_collection:i.getSpaceShardedPointer(),task_collection:a.getSpaceShardedPointer(),complete_sprint_action:o.actionConfig.complete_sprint_action}}})}({environment:o,sprintCollectionStore:i.sprintCollectionStore,taskCollectionStore:i.taskCollectionStore,sprintSettingsConfig:n,transaction:t})}})}),[o,a,i]);return{sprintSettingsConfig:a,handleSprintSettingsConfigChange:s}}function Vp(e){window.__c={n:"SprintSettingsMenu"};const{collectionContextStore:t}=e,{handleSprintSettingsConfigChange:o,sprintSettingsConfig:n}=Tp({collectionContextStore:t});if(!n)return null;const i=[(0,le.jsx)(Ap,{},"turn-off-sprints")];return(0,le.jsx)(vn.ZP,{...e,title:(0,le.jsx)(a.FormattedMessage,{...fc.sprintsMenuTitle}),footer:i,children:(0,le.jsxs)(Ce.Z,{children:[(0,le.jsx)(Pp,{onChange:o,sprintSettingsConfig:n}),(0,le.jsx)(Ip,{onChange:o,sprintSettingsConfig:n}),(0,le.jsx)(Zp,{onChange:o,sprintSettingsConfig:n}),(0,le.jsx)(Fp,{onChange:o,sprintSettingsConfig:n})]})})}function Ap(){window.__c={n:"TurnOffSprintsButton"};const e=Lp();return(0,le.jsx)(Ce.Z,{topBorder:!0,children:(0,le.jsx)(bn.Z,{icon:ge.y,title:(0,le.jsx)(a.FormattedMessage,{...fc.turnOffSprints}),isRed:!0,iconStyle:e.icon})})}function Pp(e){window.__c={n:"AutoCompleteSprintSwitcherMenuItem"};const{onChange:t,sprintSettingsConfig:o}=e,n=Lp();return(0,le.jsx)(_a.Z,{title:(0,le.jsx)(a.FormattedMessage,{...fc.autocompleteToggleTitle}),caption:(0,le.jsx)(a.FormattedMessage,{...fc.autocompleteToggleCaption}),focused:!1,on:o.autoCompleteSprints,onClick:()=>{t({autoCompleteSprints:!o.autoCompleteSprints})},style:{alignItems:void 0},icon:(0,jp.N)(n.icon),shouldWrapCaption:!0})}function Ip(e){const{onChange:t,sprintSettingsConfig:o}=e,n=bc(o.recurrenceConfig.interval),i=[1,2,3,4].map((e=>bc(e)));return(0,le.jsx)(Bp,{title:(0,le.jsx)(a.FormattedMessage,{...fc.duration}),right:(0,le.jsx)(wc,{sprintDurationValue:n.value}),icon:vp.r,getMenuItems:e=>i.map((i=>({key:i.key,render:e=>(0,le.jsx)(Se.Z,{...e,disabled:!1,title:(0,le.jsx)(wc,{sprintDurationValue:i.value}),checkState:i.key===n.key}),action:()=>{t({recurrenceConfig:{...o.recurrenceConfig,interval:i.value}}),e.close()}}))),showChevron:!0})}function Zp(e){const{onChange:t,sprintSettingsConfig:o}=e,n=o.recurrenceConfig.weekdays[0],i=["MO","TU","WE","TH","FR","SA","SU"];return(0,le.jsx)(Bp,{title:(0,le.jsx)(a.FormattedMessage,{...fc.startOn}),icon:bp.C,right:yc[n],getMenuItems:e=>i.map((i=>({key:i,render:e=>(0,le.jsx)(Se.Z,{...e,disabled:!1,title:yc[i],checkState:i===n}),action:()=>{t({recurrenceConfig:{...o.recurrenceConfig,weekdays:[i]}}),e.close()}}))),showChevron:!0})}function Fp(e){const{onChange:t,sprintSettingsConfig:o}=e,n=o.actionConfig.complete_sprint_action,i=["complete_sprint_and_move_incomplete_tasks_to_next_sprint","complete_sprint_and_move_incomplete_tasks_to_backlog","complete_sprint"];return(0,le.jsx)(Bp,{title:(0,le.jsx)(a.FormattedMessage,{...fc.remainingTasks}),right:(0,le.jsx)(vc,{completeSprintAction:n}),icon:wp.V,getMenuItems:e=>i.map((i=>({key:i,render:e=>(0,le.jsx)(Se.Z,{...e,disabled:!1,title:(0,le.jsx)(xc,{completeSprintAction:i}),checkState:i===n}),action:()=>{t({actionConfig:{...o.actionConfig,complete_sprint_action:i}}),e.close()}}))),showChevron:!0})}function Bp(e){window.__c={n:"DropdownButton"};const{getMenuItems:t}=e,o=(0,g.Fy)(),n=Lp(),i=(0,ve.F)({width:250});return(0,le.jsx)(we.ZP,{popupType:o.isMobile?Me.kQ.SlideUp:Me.kQ.Popup,alignmentToOrigin:we.vR.End,placementToOrigin:we.pO.Bottom,renderOrigin:t=>(0,le.jsx)(bn.Z,{...e,iconStyle:n.icon,...t}),render:e=>(0,le.jsx)(ye.Z,{...i,children:(0,le.jsx)(fe.Z,{type:fe.i.Vertical,sections:[{key:0,render:e=>(0,le.jsx)(Ce.Z,{enableActionSheetTitle:!0,...e}),items:t(e)}],initialFocus:0})})})}function Lp(){return(0,h.yK)((e=>({icon:{width:14,height:14}})),[])}class Dp extends i.Z{constructor(){super(...arguments),this.lastTab=void 0,this.renderMainTab=e=>{var t;if("main"!==e.type)return;const{collectionContextStore:o}=this.props;return(0,le.jsx)(_c,{selectViewNameInitial:e.selectViewNameInitial,...this.props},null===(t=o.collectionViewStore())||void 0===t?void 0:t.id)},this.renderPageViewTab=e=>{const{collectionContextStore:t}=this.props,o=t.collectionViewStore();if(o)return(0,le.jsx)(vn.ZP,{...this.props,title:"Select page to display",children:(0,le.jsx)("div",{style:{margin:12},children:(0,le.jsx)(Ru.Z,{showClearButton:!0,placeholder:"Enter page ID",focusInitial:!0,onChange:e=>{Dr.Z.setState({pageId:e.target.value})},onSubmit:e=>{const t=Dr.Z.state.pageId;t&&d.createAndCommit({userAction:"collectionSettings.pageView.selectPage",environment:this.environment,perform:e=>{c.FH({stores:[o],update:{page_pointer:{id:(0,r.Mt)(t),spaceId:e.spaceId,table:"block"}},transaction:e})}})}})})})},this.renderCreateTypedDBTab=()=>(0,le.jsx)(Js,{...this.props}),this.renderSourceTab=()=>(0,le.jsx)(Cp,{...this.props}),this.renderCreateViewSourceTab=()=>(0,le.jsx)(Kc.Z,{...this.props}),this.renderCreateExternalViewSourceTab=e=>{if("createSyncedViewSource"===e.type)return(0,le.jsx)(Es,{...this.props,...e})},this.renderSelectAccountForExternalViewSourceTab=e=>{if("selectAccountForExternalSource"===e.type)return(0,le.jsx)(_s,{...this.props,...e})},this.renderSyncedShareTab=e=>{if("shareSyncedView"===e.type)return(0,le.jsx)(du,{...this.props,...e})},this.renderPropertyTypeTab=e=>{if("propertyType"===e.type)return(0,le.jsx)(Yd,{...this.props,...e})},this.renderPropertyAiAutofillTab=e=>{if("propertyAiAutofill"===e.type)return(0,le.jsx)(Cd,{...this.props,...e})},this.renderCreateViewTab=()=>(0,le.jsx)(Dc,{...this.props}),this.renderDuplicateExistingViewTab=()=>(0,le.jsx)(Hc.Z,{...this.props}),this.renderPropertiesTab=e=>{if("properties"===e.type)return(0,le.jsx)(Ju.Z,{...this.props,timelineViewTab:e.timelineViewTab})},this.renderPropertyTab=e=>{if("property"===e.type)return(0,le.jsx)(Nc.ZP,{...this.props,...e},e.property)},this.renderDeletedPropertiesTab=e=>{if("deletedProperties"===e.type)return(0,le.jsx)(Oc,{...e,...this.props})},this.renderSelectRelationSourceTab=e=>{if("selectRelationSource"===e.type)return(0,le.jsx)(Jd,{...this.props,...e})},this.renderSetupRelationTab=e=>{if("setupRelation"===e.type)return(0,le.jsx)(ou,{...this.props,...e})},this.renderLayoutTab=()=>(0,le.jsx)(Qu,{...this.props}),this.renderGroupTab=e=>{if("group"===e.type)return(0,le.jsx)(Xl,{...this.props,...e})},this.renderGroupByPropertyTab=e=>{if("groupByProperty"===e.type)return(0,le.jsx)(qu,{...this.props,...e})},this.renderGroupByNumberTab=e=>{if("groupByNumber"===e.type)return(0,le.jsx)(zu,{...this.props,...e})},this.renderSubitemTab=e=>{if("subitem"===e.type)return(0,le.jsx)(js,{...this.props,...e,formatSetting:"subitem"})},this.renderSubitemV2Tab=e=>{if("subitemV2"===e.type)return(0,le.jsx)(is,{...this.props,feature:"subitem"})},this.renderArrowsByTab=e=>{if("arrowsBy"===e.type)return(0,le.jsx)(js,{...this.props,...e,formatSetting:"timeline_arrows_by"})},this.renderDependencies=e=>{if("dependencies"===e.type)return(0,le.jsx)(is,{...this.props,feature:"timeline_arrows_by"})},this.renderRelationFeaturesAdvancedSettings=e=>{if("relationFeaturesAdvancedSettings"===e.type)return(0,le.jsx)(fs,{...this.props,feature:e.feature})},this.renderGithubConfigTab=e=>{if("githubConfig"===e.type)return(0,le.jsx)(Kr.Z,{...this.props,property:e.property})},this.renderFiltersTab=()=>(0,le.jsx)(Bu,{...this.props}),this.renderFilterTab=e=>{if("filter"===e.type)return(0,le.jsx)(Vu,{...this.props})},this.renderCreateFilterTab=()=>(0,le.jsx)(hu,{...this.props}),this.renderCreateSortTab=()=>(0,le.jsx)(wu,{...this.props}),this.renderSortTab=()=>(0,le.jsx)(op,{...this.props}),this.renderAutomationSettingsTab=e=>{if("automationSettings"===e.type)return(0,le.jsx)(oi,{...this.props,tabSettings:e})},this.renderAutomationCreateSettingsTab=e=>{if("automationCreateSettings"!==e.type)return;const{collectionContextStore:t,collectionSettingsStore:o}=this.props;return(0,le.jsx)(Ir,{collectionContextStore:t,collectionSettingsStore:o,mode:"create"})},this.renderAutomationEditSettingsTab=e=>{if("automationEditSettings"!==e.type)return;const{collectionContextStore:t,collectionSettingsStore:o}=this.props,{automationId:n}=e;return(0,le.jsx)(Ir,{automationId:n,collectionContextStore:t,collectionSettingsStore:o,mode:"update"})},this.renderSprintSettingsTab=e=>{if("sprintSettings"!==e.type)return;const{collectionContextStore:t,collectionSettingsStore:o}=this.props;return(0,le.jsx)(Vp,{collectionContextStore:t,collectionSettingsStore:o})},this.tabRenderers={main:this.renderMainTab,source:this.renderSourceTab,createViewSource:this.renderCreateViewSourceTab,createSyncedViewSource:this.renderCreateExternalViewSourceTab,selectAccountForExternalSource:this.renderSelectAccountForExternalViewSourceTab,shareSyncedView:this.renderSyncedShareTab,propertyType:this.renderPropertyTypeTab,propertyAiAutofill:this.renderPropertyAiAutofillTab,createView:this.renderCreateViewTab,duplicateExistingView:this.renderDuplicateExistingViewTab,properties:this.renderPropertiesTab,property:this.renderPropertyTab,deletedProperties:this.renderDeletedPropertiesTab,selectRelationSource:this.renderSelectRelationSourceTab,setupRelation:this.renderSetupRelationTab,layout:this.renderLayoutTab,group:this.renderGroupTab,groupByProperty:this.renderGroupByPropertyTab,subitem:this.renderSubitemTab,arrowsBy:this.renderArrowsByTab,githubConfig:this.renderGithubConfigTab,filters:this.renderFiltersTab,groupByNumber:this.renderGroupByNumberTab,filter:this.renderFilterTab,createFilter:this.renderCreateFilterTab,createSort:this.renderCreateSortTab,sort:this.renderSortTab,page:this.renderPageViewTab,createTypedDB:this.renderCreateTypedDBTab,automationSettings:this.renderAutomationSettingsTab,automationCreateSettings:this.renderAutomationCreateSettingsTab,automationEditSettings:this.renderAutomationEditSettingsTab,dependencies:this.renderDependencies,relationFeaturesAdvancedSettings:this.renderRelationFeaturesAdvancedSettings,subitemV2:this.renderSubitemV2Tab,sprintSettings:this.renderSprintSettingsTab},this.handleClose=e=>{(0,Fr.ZP)({event:e,context:Fr.Af.CollectionSettingsClick,callback:()=>{const{collectionSettingsStore:e}=this.props;l.E3({collectionSettingsStore:e})}})}}didMountOrUpdate(){const{collectionSettingsStore:e}=this.props,t=(0,Lr.n)(e),o=this.props.collectionContextStore.getViewType();t&&this.lastTab!==t&&s.r5L(this.environment,{view_type:o,menu:t.type}),this.lastTab=t}renderComponent(){var e,t;const{collectionSettingsStore:o}=this.props,n=(0,Lr.n)(o);if(n)return(0,le.jsx)(xp.Z,{capture:!0,preventType:Br.Z.Y,children:(0,le.jsx)(gr.Z,{capture:!0,onEsc:this.handleClose,children:null===(e=(t=this.tabRenderers)[n.type])||void 0===e?void 0:e.call(t,n)})})}}Dp.displayName="CollectionSettings";const Kp=(0,a.injectIntl)(Dp)},51774:(e,t,o)=>{o.d(t,{P:()=>s});o(67294);var n=o(77907),i=o(13005),r=o(68785),a=o(85893);function s(e){return(0,a.jsx)(n.LazyCollectionSettings,{...e,renderLoading:t=>(0,a.jsx)(i.ZP,{collectionSettingsStore:e.collectionSettingsStore,collectionContextStore:e.collectionContextStore,fullHeight:e.fullHeight,hideDesktopHeader:e.hideDesktopHeader,children:t&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden"},children:(0,a.jsx)(r.Z,{})})})})}},90683:(e,t,o)=>{o.d(t,{a:()=>l});o(67294);var n=o(66897),i=o(97880),r=o(70301),a=o(45653),s=o(85893);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n.YU)(t)?(0,s.jsx)(r.Z,{botValue:t.asActor,...o}):(0,n.$S)(t)?(0,s.jsx)(a.Z,{userValue:t.asActor,...o}):(0,n.Iq)(t)?(0,s.jsx)(a.Z,{userValue:void 0,...o}):void(0,i.t1)(t)}},80025:(e,t,o)=>{o.d(t,{Vn:()=>a,mF:()=>s,qf:()=>c});var n=o(31412),i=o(33929);const r=(0,n.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function a(e){const t=r[e]||r.gray;return i.default.formatMessage(t)}const s=(0,n.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),l={default:{...s.foregroundColorDefault},gray:{...s.foregroundColorGray},brown:{...s.foregroundColorBrown},orange:{...s.foregroundColorOrange},yellow:{...s.foregroundColorYellow},teal:{...s.foregroundColorGreen},blue:{...s.foregroundColorBlue},purple:{...s.foregroundColorPurple},pink:{...s.foregroundColorPink},red:{...s.foregroundColorRed},gray_background:{...s.backgroundColorGray},brown_background:{...s.backgroundColorBrown},orange_background:{...s.backgroundColorOrange},yellow_background:{...s.backgroundColorYellow},teal_background:{...s.backgroundColorGreen},blue_background:{...s.backgroundColorBlue},purple_background:{...s.backgroundColorPurple},pink_background:{...s.backgroundColorPink},red_background:{...s.backgroundColorRed}};function c(e){return l[e]}},18441:(e,t,o)=>{o.d(t,{P9:()=>l,YJ:()=>c,jc:()=>s,jg:()=>a});o(57658);var n=o(77657),i=o(59753),r=o(32161);function a(e){if(e.integration_id!==n.nO)throw"Cannot render account for integration.";const t=/(.+) - (.+)/.exec(e.account_name);if(!t)return{accountName:e.account_name};const[,o,i]=t;return{organizationName:o,accountName:i}}function s(e){return i.kk.fromValue(r.P,e).getSlackWorkspaceId()}function l(e,t){return t?e.filter((e=>{const o=s(e);return!!o&&t(o)})):e}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const o={};for(const n of e){const{accountName:e,organizationName:i}=a(n);d({query:t,accountName:e,organizationName:i})&&(o[e]||(o[e]=[]),o[e].push({externalAuthentication:n,workspaceName:i}))}return o}function d(e){const{accountName:t,organizationName:o,query:n}=e;if(0===n.length)return!0;const i=t.toLocaleLowerCase().indexOf(n.trim().toLocaleLowerCase())>=0,r=!!o&&o.toLocaleLowerCase().indexOf(n.trim().toLocaleLowerCase())>=0;return i||r}},28410:(e,t,o)=>{o.d(t,{Th:()=>n,jQ:()=>a});const n=12e3,i=["openai-1.1","openai-2","openai-4","openai-5","openai-6"];const r=["anthropic-1","anthropic-2","anthropic-qa-alpha","anthropic-3"];function a(e){return r.includes(e)}},64788:(e,t,o)=>{o.d(t,{P:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("addPageCover",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},68074:(e,t,o)=>{o.d(t,{v:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("addPageDiscussion",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M4.095 15.465c.287 0 .499-.137.84-.444l2.523-2.277 4.47.007c2.058 0 3.214-1.19 3.214-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.213h.273v1.983c0 .45.24.738.657.738zM3.958 5.156a.454.454 0 01-.444-.45c0-.24.198-.438.444-.438h7.157c.246 0 .445.198.445.437a.45.45 0 01-.445.451H3.958zm0 2.256a.454.454 0 01-.444-.451c0-.24.198-.444.444-.444h7.157a.448.448 0 010 .895H3.958zm0 2.256a.448.448 0 010-.896h4.669c.246 0 .437.206.437.452a.438.438 0 01-.437.444H3.958z"})})},85397:(e,t,o)=>{o.d(t,{a:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("addPerson",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M9.48242 7.91211C10.8076 7.91211 11.8352 6.77783 11.8352 5.35718C11.8352 4.00391 10.7908 2.84717 9.48242 2.84717C8.17407 2.84717 7.12964 4.00952 7.13525 5.36279C7.14087 6.77783 8.16284 7.91211 9.48242 7.91211ZM9.48242 8.87231C8.7356 8.87231 8.04492 8.99585 7.44409 9.22046C8.23022 9.95044 8.72437 10.9836 8.72437 12.1235C8.72437 12.511 8.66821 12.8872 8.55591 13.2466H12.8684C13.969 13.2466 14.3171 12.8479 14.3171 12.2302C14.3171 10.804 12.3967 8.87231 9.48242 8.87231ZM4.74316 15.1895C6.42212 15.1895 7.80347 13.7969 7.80347 12.1235C7.80347 10.4558 6.42212 9.06885 4.74316 9.06885C3.06982 9.06885 1.68286 10.4558 1.68286 12.1235C1.68286 13.7969 3.06982 15.1895 4.74316 15.1895ZM4.74316 14.1675C4.41187 14.1675 4.18726 13.9429 4.18726 13.6172V12.6907H3.27197C2.94629 12.6907 2.72168 12.4661 2.71606 12.1292C2.71045 11.7979 2.93506 11.5732 3.27197 11.5732H4.18726V10.6636C4.18726 10.3379 4.41187 10.1133 4.74316 10.1077C5.08008 10.1021 5.30469 10.3267 5.30469 10.6636V11.5732H6.22559C6.55127 11.5732 6.77588 11.7979 6.77588 12.1292C6.77588 12.4661 6.55127 12.6907 6.22559 12.6907H5.30469V13.6172C5.30469 13.9429 5.08008 14.1675 4.74316 14.1675Z"})})},15769:(e,t,o)=>{o.d(t,{Q:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("androidShare",{viewBox:"0 0 15 15",svg:(0,i.jsx)("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})})},52867:(e,t,o)=>{o.d(t,{H:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("archive",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M4.083 14.585h7.499c1.347 0 2.064-.697 2.064-2.037V5.739c.664-.11 1.019-.608 1.019-1.34V3.36c0-.834-.458-1.36-1.299-1.36H2.3C1.499 2 1 2.526 1 3.36V4.4c0 .73.355 1.23 1.019 1.34v6.808c0 1.347.717 2.037 2.064 2.037zM2.579 4.728c-.342 0-.478-.144-.478-.486v-.724c0-.342.136-.486.478-.486h10.514c.342 0 .472.144.472.486v.724c0 .342-.13.486-.472.486H2.579zm1.49 8.825c-.615 0-.95-.335-.95-.95V5.76h9.427v6.842c0 .616-.342.95-.95.95H4.069zM5.58 8.515h4.512c.287 0 .492-.199.492-.5v-.218c0-.3-.205-.492-.492-.492H5.58c-.287 0-.485.191-.485.492v.219c0 .3.198.499.485.499z"})})},7189:(e,t,o)=>{o.d(t,{K:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,i.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},32566:(e,t,o)=>{o.d(t,{k:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},81864:(e,t,o)=>{o.d(t,{X:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("authenticatorCode",{viewBox:"0 0 18 15",svg:(0,i.jsx)("path",{d:"M8.65979 0.00292969C5.26917 0.00292969 2.39807 2.45703 1.74182 5.67676H0.777954C0.244751 5.67676 0.108032 6.07324 0.401978 6.47656L2.05627 8.77344C2.2887 9.09473 2.64417 9.08789 2.86975 8.77344L4.52405 6.46973C4.81116 6.08008 4.67444 5.67676 4.14807 5.67676H3.17053C3.77893 3.20898 5.99377 1.39746 8.65979 1.39746C10.4987 1.4043 12.1051 2.25879 13.1373 3.6123C13.4108 3.93359 13.8073 4.03613 14.1422 3.79688C14.4567 3.57812 14.5114 3.13379 14.2174 2.77148C12.9528 1.12402 10.8815 0.00292969 8.65979 0.00292969ZM8.40686 3.09961C8.07874 3.09961 7.81213 3.36621 7.81213 3.69434V7.41309C7.81213 7.57031 7.86682 7.7207 7.98303 7.87793L9.61682 10.0312C9.86292 10.3525 10.2115 10.4072 10.5055 10.1953C10.7858 10.0039 10.8063 9.6416 10.5944 9.34766L9.00159 7.20801V3.69434C9.00159 3.36621 8.73499 3.09961 8.40686 3.09961ZM8.65979 14.126C12.0573 14.126 14.9283 11.6719 15.5778 8.45898H16.5416C17.0817 8.45898 17.2115 8.05566 16.9244 7.65234L15.2633 5.35547C15.0377 5.04102 14.6823 5.04102 14.4567 5.35547L12.8024 7.65918C12.5153 8.04883 12.652 8.45898 13.1783 8.45898H14.1627C13.5475 10.9199 11.3258 12.7383 8.65979 12.7383C6.82776 12.7314 5.22131 11.8701 4.18909 10.5166C3.91565 10.1953 3.51917 10.0928 3.1842 10.332C2.86975 10.5576 2.80823 10.9951 3.10901 11.3574C4.37366 13.0117 6.44495 14.126 8.65979 14.126Z"})})},80988:(e,t,o)=>{o.d(t,{U:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("blockColor",{viewBox:"0 0 30 30",svg:(0,i.jsx)("path",{d:"M25,5c0-2.2-1.8-4-4-4H6C3.8,1,2,2.8,2,5H1v2h1c0,2.2,1.8,4,4,4h15c2.2,0,4-1.8,4-4h2v6H14v4h-2v9c0,1.657,1.344,3,3,3 s3-1.343,3-3v-9h-2v-2h13V5H25z M23,7c0,1.103-0.896,2-2,2H6C4.896,9,4,8.103,4,7V5c0-1.103,0.896-2,2-2h15c1.104,0,2,0.897,2,2V7z M16,26c0,0.552-0.449,1-1,1s-1-0.448-1-1v-7h2V26z"})})},20658:(e,t,o)=>{o.d(t,{$:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("boxedPerson",{viewBox:"0 0 26 25",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M21.719 19.406h-2.004V21.2c0 2.414-1.219 3.633-3.68 3.633H4.27c-2.438 0-3.668-1.219-3.668-3.633V9.34c0-2.413 1.23-3.632 3.668-3.632h2.015V3.914C6.285 1.5 7.515.281 9.953.281H21.72c2.46 0 3.68 1.219 3.68 3.633v11.86c0 2.414-1.22 3.632-3.68 3.632Zm-.024-1.886c1.172 0 1.817-.633 1.817-1.852V4.02c0-1.22-.645-1.852-1.817-1.852H9.988c-1.16 0-1.816.633-1.816 1.852v1.687h7.863c2.461 0 3.68 1.207 3.68 3.633v8.18h1.98Zm-5.683 5.425c1.16 0 1.816-.633 1.816-1.851V9.445c0-1.218-.656-1.851-1.816-1.851H4.305c-1.16 0-1.817.633-1.817 1.851v11.649c0 1.218.657 1.851 1.817 1.851h11.707Z"}),(0,i.jsx)("path",{d:"M10.24 14.855c1.176 0 2.164-1.042 2.164-2.39 0-1.316-1-2.32-2.165-2.32s-2.17 1.02-2.164 2.33c0 1.338.993 2.38 2.164 2.38ZM6.661 19.85h7.15c.6 0 .966-.285.966-.757 0-1.386-1.757-3.287-4.539-3.287-2.787 0-4.538 1.901-4.538 3.287 0 .472.36.757.961.757Z"})]})})},77058:(e,t,o)=>{o.d(t,{$:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("checkmark",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},82855:(e,t,o)=>{o.d(t,{E:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,i.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},72787:(e,t,o)=>{o.d(t,{Y:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("chevronDownThin",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8.004 12a.72.72 0 00.54-.237l6.238-6.487A.735.735 0 0015 4.753c0-.426-.314-.753-.733-.753a.76.76 0 00-.524.213l-5.739 5.955-5.747-5.955A.73.73 0 001.733 4C1.314 4 1 4.327 1 4.753c0 .204.08.384.218.531l6.238 6.479a.751.751 0 00.548.237z"})})},1464:(e,t,o)=>{o.d(t,{k:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("chevronLeftRounded",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M7.1875 11.8594C7.1875 12.0547 7.25781 12.2266 7.40625 12.375L13.6016 18.4297C13.7344 18.5703 13.9062 18.6406 14.1094 18.6406C14.5156 18.6406 14.8281 18.3359 14.8281 17.9297C14.8281 17.7266 14.7422 17.5547 14.6172 17.4219L8.92969 11.8594L14.6172 6.29688C14.7422 6.16406 14.8281 5.98438 14.8281 5.78906C14.8281 5.38281 14.5156 5.07812 14.1094 5.07812C13.9062 5.07812 13.7344 5.14844 13.6016 5.28125L7.40625 11.3438C7.25781 11.4844 7.1875 11.6641 7.1875 11.8594Z"})})},81270:(e,t,o)=>{o.d(t,{z:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("chevronLeftRoundedThin",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M7 11.8594C7 11.9948 7.02344 12.1198 7.07031 12.2344C7.1224 12.349 7.20052 12.4583 7.30469 12.5625L13.3906 18.5156C13.5677 18.6927 13.7812 18.7812 14.0312 18.7812C14.2031 18.7812 14.3568 18.7396 14.4922 18.6562C14.6328 18.5781 14.7448 18.4688 14.8281 18.3281C14.9115 18.1927 14.9531 18.0417 14.9531 17.875C14.9531 17.625 14.8568 17.4036 14.6641 17.2109L9.17969 11.8594L14.6641 6.50781C14.8568 6.3151 14.9531 6.09635 14.9531 5.85156C14.9531 5.67969 14.9115 5.52604 14.8281 5.39062C14.7448 5.25521 14.6328 5.14844 14.4922 5.07031C14.3568 4.98698 14.2031 4.94531 14.0312 4.94531C13.7812 4.94531 13.5677 5.03125 13.3906 5.20312L7.30469 11.1562C7.20052 11.2604 7.1224 11.3698 7.07031 11.4844C7.02344 11.599 7 11.724 7 11.8594Z"})})},10020:(e,t,o)=>{o.d(t,{C:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("chevronRightRoundedThin",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M17.0078 11.8594C17.0078 11.724 16.9818 11.599 16.9297 11.4844C16.8776 11.3698 16.7995 11.2604 16.6953 11.1562L10.6094 5.20312C10.4375 5.03125 10.224 4.94531 9.96875 4.94531C9.80208 4.94531 9.64844 4.98698 9.50781 5.07031C9.36719 5.14844 9.25521 5.25521 9.17188 5.39062C9.09375 5.52604 9.05469 5.67969 9.05469 5.85156C9.05469 6.09635 9.14844 6.3151 9.33594 6.50781L14.8203 11.8594L9.33594 17.2109C9.14844 17.4036 9.05469 17.625 9.05469 17.875C9.05469 18.0417 9.09375 18.1927 9.17188 18.3281C9.25521 18.4688 9.36719 18.5781 9.50781 18.6562C9.64844 18.7396 9.80208 18.7812 9.96875 18.7812C10.224 18.7812 10.4375 18.6927 10.6094 18.5156L16.6953 12.5625C16.7995 12.4583 16.8776 12.349 16.9297 12.2344C16.9818 12.1198 17.0078 11.9948 17.0078 11.8594Z"})})},3338:(e,t,o)=>{o.d(t,{p:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("circleCheck",{viewBox:"0 0 12 12",svg:(0,i.jsx)("path",{d:"M6.09277 11.1855C8.88574 11.1855 11.1855 8.88574 11.1855 6.09277C11.1855 3.30469 8.88086 1 6.08789 1C3.2998 1 1 3.30469 1 6.09277C1 8.88574 3.2998 11.1855 6.09277 11.1855ZM6.09277 10.0674C3.89062 10.0674 2.12305 8.29492 2.12305 6.09277C2.12305 3.89062 3.88574 2.11816 6.08789 2.11816C8.29492 2.11816 10.0625 3.89062 10.0674 6.09277C10.0723 8.29492 8.29492 10.0674 6.09277 10.0674ZM5.57031 8.41699C5.75586 8.41699 5.92188 8.31934 6.0293 8.15332L8.17773 4.81836C8.24609 4.71094 8.2998 4.58887 8.2998 4.47656C8.2998 4.21289 8.07031 4.03711 7.82129 4.03711C7.66016 4.03711 7.51855 4.125 7.41113 4.30078L5.55566 7.2793L4.68652 6.19043C4.56934 6.03906 4.44727 5.98047 4.2959 5.98047C4.03711 5.98047 3.82715 6.18555 3.82715 6.44922C3.82715 6.57129 3.87598 6.68359 3.96387 6.7959L5.0918 8.1582C5.22852 8.3291 5.37988 8.41699 5.57031 8.41699Z"})})},91315:(e,t,o)=>{o.d(t,{r:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},89968:(e,t,o)=>{o.d(t,{Y:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},89767:(e,t,o)=>{o.d(t,{R:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},96451:(e,t,o)=>{o.d(t,{k:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("collectionNumberType",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M1.73457,9.90096 L1.73457,4.54339 L1.65064,4.54339 L0,5.68112 L0,4.37087 L1.73923,3.17252 L3.14274,3.17252 L3.14274,9.90096 L1.73457,9.90096 Z M3.59633,5.22882 C3.59633,3.90925 4.62215,3 6.0956,3 C7.52242,3 8.43633,3.82532 8.43633,4.96304 C8.43633,5.75106 8.09128,6.29195 6.97221,7.34108 L5.57337,8.64667 L5.57337,8.7306 L8.52959,8.7306 L8.52959,9.90096 L3.6756,9.90096 L3.6756,8.91711 L6.03498,6.66031 C6.87429,5.85364 7.05614,5.5459 7.05614,5.0936 C7.05614,4.55738 6.67379,4.13306 6.01633,4.13306 C5.3309,4.13306 4.90192,4.58536 4.90192,5.22882 L3.59633,5.22882 Z M10.4889,6.96805 L10.4889,5.93757 L11.3282,5.93757 C11.967,5.93757 12.4007,5.55988 12.4007,5.00967 C12.4007,4.50609 12.0043,4.12374 11.3469,4.12374 C10.6661,4.12374 10.2464,4.47345 10.1998,5.07495 L8.89888,5.07495 C8.94551,3.83464 9.90139,3 11.4168,3 C12.9089,3 13.7389,3.82532 13.7342,4.80917 C13.7296,5.62516 13.2166,6.16139 12.4939,6.33857 L12.4939,6.42717 C13.4311,6.56239 14,7.15923 14,8.05915 C14,9.23884 12.8903,10.0735 11.3702,10.0735 C9.8501,10.0735 8.81495,9.24351 8.75434,7.97056 L10.1019,7.97056 C10.1439,8.53942 10.6288,8.90312 11.3515,8.90312 C12.0649,8.90312 12.5639,8.51611 12.5639,7.93326 C12.5639,7.33642 12.0976,6.96805 11.3422,6.96805 L10.4889,6.96805 Z"})})},94491:(e,t,o)=>{o.d(t,{h:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("editPage",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM5.97656 7.44922C6.40723 7.44922 6.79004 7.05957 6.79004 6.51953C6.79004 5.97949 6.41406 5.58984 5.97656 5.58984C5.55273 5.58984 5.18359 5.97949 5.18359 6.51953C5.18359 7.05957 5.55273 7.44922 5.97656 7.44922ZM10.0098 7.44922C10.4404 7.44922 10.8232 7.05957 10.8232 6.51953C10.8232 5.97949 10.4404 5.58984 10.0098 5.58984C9.5791 5.58984 9.2168 5.97949 9.2168 6.51953C9.2168 7.05957 9.58594 7.44922 10.0098 7.44922ZM7.99316 11.4277C9.42871 11.4277 10.3926 10.4775 10.3926 10.0195C10.3926 9.85547 10.2285 9.78027 10.0713 9.84863C9.57227 10.1084 8.99121 10.416 7.99316 10.416C7.00195 10.416 6.41406 10.1084 5.91504 9.84863C5.76465 9.77344 5.60059 9.85547 5.60059 10.0195C5.60059 10.4775 6.56445 11.4277 7.99316 11.4277Z"})})},90334:(e,t,o)=>{o.d(t,{O:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("ellipsis",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.887 9.014c.273 0 .52-.064.738-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.41 1.41 0 00-1.04-.417c-.264 0-.505.066-.724.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.307.394.526.526.219.128.46.192.725.192zm5.113 0a1.412 1.412 0 001.244-.718c.132-.219.198-.46.198-.725 0-.405-.14-.747-.423-1.025A1.386 1.386 0 008 6.129c-.264 0-.506.066-.725.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.308.394.526.526.22.128.46.192.725.192zm5.106 0c.265 0 .506-.064.725-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.394 1.394 0 00-1.026-.417 1.474 1.474 0 00-1.265.718c-.127.218-.19.46-.19.724 0 .265.063.506.19.725.133.219.308.394.527.526.223.128.47.192.738.192z"})})},30134:(e,t,o)=>{o.d(t,{c:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("export",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.0625 15.8174C2.32422 15.8174 1.76595 15.6305 1.3877 15.2568C1.00944 14.8831 0.820312 14.3294 0.820312 13.5957V6.86914C0.820312 6.13997 1.00944 5.58854 1.3877 5.21484C1.76595 4.83659 2.32422 4.64746 3.0625 4.64746H4.92871V5.99414H3.14453C2.82552 5.99414 2.58171 6.07845 2.41309 6.24707C2.24902 6.41113 2.16699 6.65951 2.16699 6.99219V13.4795C2.16699 13.8122 2.24902 14.0605 2.41309 14.2246C2.58171 14.3932 2.82552 14.4775 3.14453 14.4775H10.8486C11.1631 14.4775 11.4046 14.3932 11.5732 14.2246C11.7464 14.0605 11.833 13.8122 11.833 13.4795V6.99219C11.833 6.65951 11.7464 6.41113 11.5732 6.24707C11.4046 6.07845 11.1631 5.99414 10.8486 5.99414H9.07812V4.64746H10.9375C11.6758 4.64746 12.234 4.83659 12.6123 5.21484C12.9906 5.58854 13.1797 6.13997 13.1797 6.86914V13.5957C13.1797 14.3249 12.9906 14.8763 12.6123 15.25C12.234 15.6283 11.6758 15.8174 10.9375 15.8174H3.0625ZM7 11.3877C6.91797 11.3877 6.83822 11.374 6.76074 11.3467C6.68327 11.3148 6.60124 11.2578 6.51465 11.1758L4.21777 8.96094C4.10384 8.84245 4.04688 8.70801 4.04688 8.55762C4.04688 8.39811 4.09928 8.26823 4.2041 8.16797C4.31348 8.06771 4.44792 8.01758 4.60742 8.01758C4.7806 8.01758 4.92188 8.0791 5.03125 8.20215L5.98828 9.2207L6.43262 9.71973L6.36426 8.70117V1.61914C6.36426 1.45052 6.42578 1.30469 6.54883 1.18164C6.67643 1.05859 6.82682 0.99707 7 0.99707C7.17318 0.99707 7.32129 1.05859 7.44434 1.18164C7.57194 1.30469 7.63574 1.45052 7.63574 1.61914V8.70117L7.56738 9.71973L8.00488 9.2207L8.96191 8.20215C9.07585 8.0791 9.21712 8.01758 9.38574 8.01758C9.54069 8.01758 9.67285 8.06771 9.78223 8.16797C9.89616 8.26823 9.95312 8.39811 9.95312 8.55762C9.95312 8.70801 9.89388 8.84245 9.77539 8.96094L7.47852 11.1758C7.39648 11.2578 7.31673 11.3148 7.23926 11.3467C7.16178 11.374 7.08203 11.3877 7 11.3877Z"})})},4970:(e,t,o)=>{o.d(t,{A:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("fullscreen",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M1.25293 6.82031C1.25293 9.88965 3.74805 12.3848 6.81738 12.3848C7.95898 12.3848 9.00488 12.0361 9.87988 11.4414L13.0244 14.5859C13.2158 14.7842 13.4824 14.873 13.749 14.873C14.3301 14.873 14.7471 14.4355 14.7471 13.8682C14.7471 13.5947 14.6514 13.3418 14.4668 13.1504L11.3428 10.0195C11.9922 9.12402 12.3818 8.0166 12.3818 6.82031C12.3818 3.75098 9.88672 1.25586 6.81738 1.25586C3.74805 1.25586 1.25293 3.75098 1.25293 6.82031ZM2.70215 6.82031C2.70215 4.55078 4.54102 2.70508 6.81738 2.70508C9.08691 2.70508 10.9326 4.55078 10.9326 6.82031C10.9326 9.08984 9.08691 10.9355 6.81738 10.9355C4.54102 10.9355 2.70215 9.08984 2.70215 6.82031ZM4.52051 6.82031C4.52051 7.12109 4.75293 7.35352 5.05371 7.35352H6.27734V8.58398C6.27734 8.88477 6.5166 9.11719 6.81738 9.11719C7.11816 9.11719 7.35059 8.87793 7.35059 8.58398V7.35352H8.58105C8.875 7.35352 9.11426 7.12109 9.11426 6.82031C9.11426 6.51953 8.875 6.28711 8.58105 6.28711H7.35059V5.05664C7.35059 4.7627 7.11133 4.52344 6.81738 4.52344C6.5166 4.52344 6.27734 4.7627 6.27734 5.05664V6.28711H5.05371C4.75293 6.28711 4.52051 6.51953 4.52051 6.82031Z"})})},40462:(e,t,o)=>{o.d(t,{o:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("globe2",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},76781:(e,t,o)=>{o.d(t,{x:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("group",{viewBox:"0 0 30 30",svg:(0,i.jsx)("path",{d:"M15.011 14.795c1.678 0 3.096-1.502 3.096-3.444C18.107 9.455 16.682 8 15.012 8c-1.67 0-3.096 1.478-3.088 3.367 0 1.926 1.41 3.428 3.088 3.428zm-8.872.178c1.464 0 2.697-1.316 2.697-3.003 0-1.656-1.241-2.917-2.697-2.917-1.448 0-2.697 1.284-2.69 2.933 0 1.671 1.234 2.987 2.69 2.987zm17.722 0c1.456 0 2.69-1.316 2.69-2.987.007-1.649-1.242-2.933-2.69-2.933s-2.697 1.261-2.697 2.917c0 1.687 1.241 3.003 2.697 3.003zM1.917 22h5.747c-.82-1.184.069-3.521 1.8-4.899-.842-.55-1.946-.952-3.325-.952C2.714 16.15.5 18.695.5 20.793.5 21.559.883 22 1.917 22zm26.166 0c1.034 0 1.417-.441 1.417-1.207 0-2.098-2.214-4.644-5.64-4.644-1.378 0-2.474.403-3.317.952 1.732 1.378 2.62 3.715 1.8 4.899h5.74zm-17.852-.008h9.554c1.264 0 1.7-.387 1.7-1.099 0-1.989-2.505-4.728-6.473-4.728-3.977 0-6.475 2.74-6.475 4.728 0 .712.437 1.1 1.693 1.1z"})})},63261:(e,t,o)=>{o.d(t,{_:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},19981:(e,t,o)=>{o.d(t,{V:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("handWave",{viewBox:"0 0 14 15",svg:(0,i.jsx)("path",{d:"M12.223 12.396c.888-.893 1.406-1.886 1.551-2.98.15-1.098-.08-2.288-.69-3.568l-1.552-3.275a2.264 2.264 0 00-.417-.594 1.28 1.28 0 00-.95-.404c-.36 0-.677.135-.95.404a1.211 1.211 0 00-.335.628c-.05.247-.023.502.082.766l.383.91c.013.031.011.056-.007.074-.023.019-.048.016-.075-.006L5.537.625C5.232.32 4.897.167 4.532.167c-.36-.005-.688.144-.984.444a1.115 1.115 0 00-.219.308 1.13 1.13 0 00-.096.349c-.291-.2-.59-.288-.895-.26-.3.023-.574.157-.82.403a1.278 1.278 0 00-.397.827c-.023.306.057.6.24.882a.876.876 0 00-.602.287c-.278.274-.415.584-.41.93.004.346.148.66.43.943l.458.458a.877.877 0 00-.348.09 1.115 1.115 0 00-.308.218 1.32 1.32 0 00-.37.615 1.29 1.29 0 00.021.684 1.6 1.6 0 00.397.635l4.231 4.232c.78.775 1.6 1.294 2.461 1.559.866.264 1.72.28 2.564.047.843-.232 1.622-.706 2.338-1.421zm-.841-.793c-.579.58-1.197.957-1.853 1.135-.651.178-1.317.15-1.996-.082-.674-.228-1.335-.663-1.982-1.305L1.497 7.297a.452.452 0 01-.143-.308.38.38 0 01.13-.3.403.403 0 01.3-.137c.119 0 .223.045.315.136l2.495 2.489a.45.45 0 00.355.15.476.476 0 00.342-.15.478.478 0 00.164-.349.461.461 0 00-.15-.362l-3.733-3.74a.446.446 0 01-.143-.3.38.38 0 01.13-.301.425.425 0 01.307-.137.45.45 0 01.315.137l3.48 3.486c.104.1.225.148.361.144a.476.476 0 00.342-.15c.1-.1.153-.22.157-.356a.47.47 0 00-.143-.362L2.283 2.799a.477.477 0 01-.143-.315.41.41 0 01.136-.307.39.39 0 01.301-.123c.119.004.223.05.315.136l4.04 4.034a.434.434 0 00.348.15.5.5 0 00.349-.15c.1-.1.153-.22.157-.356a.46.46 0 00-.137-.355L4.218 2.08a.425.425 0 01-.137-.308c0-.113.041-.216.123-.307a.41.41 0 01.308-.123c.114 0 .218.045.314.136L9.64 6.292c.136.141.282.212.437.212a.577.577 0 00.403-.178.71.71 0 00.192-.342c.032-.136.011-.298-.062-.485L9.748 3.25a.52.52 0 01-.014-.37.42.42 0 01.22-.232.362.362 0 01.32 0c.1.05.185.149.253.294l1.586 3.377c.52 1.121.702 2.108.547 2.96-.155.853-.58 1.627-1.278 2.325z"})})},13530:(e,t,o)=>{o.d(t,{s:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("historyForward",{viewBox:"0 0 14 14",svg:(0,i.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})},43876:(e,t,o)=>{o.d(t,{s:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("iOSShare",{viewBox:"0 0 27 27",svg:(0,i.jsx)("path",{d:"M13.4902 15.6055C13.9102 15.6055 14.2715 15.2539 14.2715 14.8438V4.81445L14.2129 3.34961L14.8672 4.04297L16.3516 5.625C16.4883 5.78125 16.6836 5.85938 16.8789 5.85938C17.2793 5.85938 17.5918 5.56641 17.5918 5.16602C17.5918 4.96094 17.5039 4.80469 17.3574 4.6582L14.0566 1.47461C13.8613 1.2793 13.6953 1.21094 13.4902 1.21094C13.2949 1.21094 13.1289 1.2793 12.9238 1.47461L9.62305 4.6582C9.47656 4.80469 9.39844 4.96094 9.39844 5.16602C9.39844 5.56641 9.69141 5.85938 10.1016 5.85938C10.2871 5.85938 10.502 5.78125 10.6387 5.625L12.1133 4.04297L12.7773 3.34961L12.7188 4.81445V14.8438C12.7188 15.2539 13.0703 15.6055 13.4902 15.6055ZM7.89453 23.252H19.0957C21.1367 23.252 22.1621 22.2363 22.1621 20.2246V10.4785C22.1621 8.4668 21.1367 7.45117 19.0957 7.45117H16.3711V9.02344H19.0664C20.0332 9.02344 20.5898 9.55078 20.5898 10.5664V20.1367C20.5898 21.1523 20.0332 21.6797 19.0664 21.6797H7.91406C6.9375 21.6797 6.40039 21.1523 6.40039 20.1367V10.5664C6.40039 9.55078 6.9375 9.02344 7.91406 9.02344H10.6191V7.45117H7.89453C5.85352 7.45117 4.82812 8.4668 4.82812 10.4785V20.2246C4.82812 22.2363 5.85352 23.252 7.89453 23.252Z"})})},82356:(e,t,o)=>{o.d(t,{l:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("import",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},47409:(e,t,o)=>{o.d(t,{N:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("ledger",{viewBox:"0 0 16 16",svg:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M.706 4.113c0 .41.273.677.697.677h1.778v8.388c0 1.435.704 2.146 2.14 2.146h7.813c1.299 0 2.153-.889 2.153-2.235v-1.86c0-.41-.273-.676-.697-.676h-.567V2.95c0-1.429-.711-2.146-2.12-2.146H2.497c-1.066 0-1.79.724-1.79 1.866v1.442Zm3.575 9.072V2.67c0-.28-.027-.54-.082-.766h7.643c.71 0 1.08.376 1.08 1.06v7.588H7.05c-.424 0-.704.266-.704.676v1.956c0 .622-.431 1.039-1.026 1.039-.608 0-1.039-.438-1.039-1.04ZM1.807 3.689V2.671c0-.479.294-.766.69-.766.41 0 .684.287.684.766v1.018H1.807ZM6.25 4.797h4.703a.413.413 0 0 0 .424-.424.412.412 0 0 0-.424-.417H6.25a.418.418 0 0 0-.43.417c0 .24.184.424.43.424Zm0 2.386h2.454a.406.406 0 0 0 .424-.41c0-.24-.178-.431-.424-.431H6.25a.425.425 0 0 0-.43.43c0 .233.184.41.43.41Zm.93 7.04c.17-.3.266-.67.266-1.114v-1.456h6.74v1.436c0 .677-.423 1.135-1.052 1.135H7.18Z"})})})},27714:(e,t,o)=>{o.d(t,{N:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("link",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M7.69922 10.8945L8.73828 9.84863C7.91797 9.77344 7.34375 9.51367 6.91992 9.08984C5.76465 7.93457 5.76465 6.29395 6.91309 5.14551L9.18262 2.87598C10.3379 1.7207 11.9717 1.7207 13.127 2.87598C14.2891 4.04492 14.2822 5.67188 13.1338 6.82031L11.958 7.99609C12.1768 8.49512 12.2451 9.10352 12.1289 9.62988L14.0908 7.6748C15.7725 6 15.7793 3.62109 14.084 1.92578C12.3887 0.223633 10.0098 0.237305 8.33496 1.91211L5.95605 4.29785C4.28125 5.97266 4.26758 8.35156 5.96289 10.0469C6.36621 10.4434 6.90625 10.7441 7.69922 10.8945ZM8.30078 5.13184L7.26855 6.17773C8.08203 6.25293 8.66309 6.51953 9.08008 6.93652C10.2422 8.09863 10.2422 9.73242 9.08691 10.8809L6.81738 13.1504C5.66211 14.3057 4.03516 14.3057 2.87305 13.1504C1.71094 11.9883 1.71777 10.3545 2.87305 9.20605L4.04199 8.03027C3.83008 7.53125 3.75488 6.92969 3.87109 6.39648L1.91602 8.35156C0.234375 10.0264 0.227539 12.4121 1.92285 14.1074C3.61816 15.8027 5.99707 15.7891 7.67188 14.1143L10.0439 11.7354C11.7256 10.0537 11.7324 7.6748 10.0371 5.98633C9.64062 5.58301 9.10059 5.28223 8.30078 5.13184Z"})})},33679:(e,t,o)=>{o.d(t,{j:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("lockShield",{viewBox:"0 0 21 25",svg:(0,i.jsx)("path",{d:"M10.418 24.75C10.6289 24.75 10.9453 24.668 11.25 24.5039C17.9766 20.8359 20.3203 19.1484 20.3203 14.8828V6.01172C20.3203 4.62891 19.7812 4.13672 18.6211 3.64453C17.3203 3.09375 12.9258 1.54688 11.6367 1.125C11.2617 0.996094 10.8164 0.914062 10.418 0.914062C10.0312 0.914062 9.58594 1.01953 9.19922 1.125C7.92188 1.47656 3.52734 3.10547 2.22656 3.64453C1.06641 4.125 0.527344 4.62891 0.527344 6.01172V14.8828C0.527344 19.1484 2.87109 20.8242 9.59766 24.5039C9.90234 24.668 10.2188 24.75 10.418 24.75ZM10.418 22.2891C10.2539 22.2891 10.0781 22.2305 9.75 22.0195C4.38281 18.7617 2.71875 17.8711 2.71875 14.4375V6.38672C2.71875 5.97656 2.8125 5.8125 3.12891 5.68359C4.86328 4.98047 8.23828 3.86719 9.80859 3.24609C10.0664 3.15234 10.2539 3.11719 10.418 3.11719C10.5938 3.11719 10.7695 3.15234 11.0273 3.24609C12.6094 3.86719 15.9492 5.05078 17.707 5.68359C18.0352 5.80078 18.1172 5.97656 18.1172 6.38672V14.4375C18.1172 17.8945 16.3945 18.832 11.0977 22.0195C10.7578 22.2305 10.5938 22.2891 10.418 22.2891ZM6.22266 16.7695C6.22266 17.6602 6.62109 18.0703 7.44141 18.0703H13.4062C14.2266 18.0703 14.625 17.6602 14.625 16.7695V12.1992C14.625 11.3906 14.2969 10.9805 13.6406 10.9219V9.58594C13.6406 7.44141 12.3398 5.98828 10.4297 5.98828C8.50781 5.98828 7.21875 7.44141 7.21875 9.58594V10.9102C6.55078 10.9805 6.22266 11.3906 6.22266 12.1992V16.7695ZM8.57812 10.8984V9.46875C8.57812 8.17969 9.31641 7.32422 10.4297 7.32422C11.5312 7.32422 12.2695 8.17969 12.2695 9.46875V10.8984H8.57812Z"})})},97567:(e,t,o)=>{o.d(t,{y:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("lockedFilledRedOutlinedWhite",{viewBox:"0 0 11 15",svg:(0,i.jsx)("path",{d:"M2.48352 14.5H8.51649C9.08993 14.5 9.61159 14.3415 9.98454 13.9481C10.3531 13.5594 10.5 13.0215 10.5 12.423V7.8578C10.5 7.33161 10.3876 6.85321 10.1075 6.47956C9.90863 6.21422 9.64758 6.03138 9.34616 5.92009V4.70387C9.34616 3.34493 8.90074 2.28402 8.17081 1.56217C7.44518 0.844569 6.47639 0.5 5.49671 0.5C4.51986 0.5 3.55273 0.844872 2.82813 1.5624C2.09925 2.28417 1.65385 3.34494 1.65385 4.70387V5.9209C1.35431 6.03229 1.09426 6.21478 0.895574 6.47875C0.614816 6.85174 0.5 7.32992 0.5 7.8578V12.423C0.5 13.0215 0.646934 13.5594 1.01546 13.9481C1.38841 14.3415 1.91008 14.5 2.48352 14.5ZM3.7022 4.5581C3.7022 3.8322 3.93059 3.32509 4.24526 3.00203C4.56164 2.67723 5.00162 2.50051 5.49671 2.50051C5.99216 2.50051 6.43618 2.67753 6.75611 3.00343C7.07385 3.3271 7.30439 3.83398 7.30439 4.5581V5.78746H3.7022V4.5581Z",fill:"#E12D2D",stroke:"white"})})},5686:(e,t,o)=>{o.d(t,{J:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mailOpen",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.88965 15.9277C2.17415 15.9277 1.63639 15.75 1.27637 15.3945C0.920898 15.0436 0.743164 14.515 0.743164 13.8086V7.00684C0.743164 6.76074 0.756836 6.54427 0.78418 6.35742C0.816081 6.17057 0.863932 6.00423 0.927734 5.8584C0.996094 5.71257 1.08496 5.57812 1.19434 5.45508C1.30371 5.32747 1.43815 5.19987 1.59766 5.07227L6.88184 0.916016C7.12793 0.715495 7.36035 0.558268 7.5791 0.444336C7.80241 0.325846 8.03939 0.266602 8.29004 0.266602C8.54069 0.266602 8.77539 0.325846 8.99414 0.444336C9.21745 0.558268 9.45215 0.715495 9.69824 0.916016L14.9824 5.07227C15.1419 5.19987 15.2764 5.32747 15.3857 5.45508C15.4951 5.57812 15.5817 5.71257 15.6455 5.8584C15.7139 6.00423 15.7617 6.17057 15.7891 6.35742C15.821 6.54427 15.8369 6.76074 15.8369 7.00684V13.8086C15.8369 14.515 15.6569 15.0436 15.2969 15.3945C14.9414 15.75 14.4059 15.9277 13.6904 15.9277H2.88965ZM2.84863 14.8818H13.7314C14.0687 14.8818 14.3285 14.7907 14.5107 14.6084C14.6976 14.4307 14.791 14.1641 14.791 13.8086V6.82227C14.791 6.6582 14.7751 6.51921 14.7432 6.40527C14.7113 6.29134 14.6611 6.19108 14.5928 6.10449C14.529 6.01335 14.4424 5.92448 14.333 5.83789L9.11035 1.76367C8.94173 1.63607 8.80046 1.53809 8.68652 1.46973C8.57259 1.39681 8.44043 1.36035 8.29004 1.36035C8.13965 1.36035 8.00749 1.39681 7.89355 1.46973C7.77962 1.53809 7.63835 1.63607 7.46973 1.76367L2.24707 5.83789C2.1377 5.92448 2.04883 6.01335 1.98047 6.10449C1.91667 6.19108 1.86882 6.29134 1.83691 6.40527C1.80501 6.51921 1.78906 6.6582 1.78906 6.82227V13.8086C1.78906 14.1641 1.88021 14.4307 2.0625 14.6084C2.24479 14.7907 2.50684 14.8818 2.84863 14.8818ZM1.51562 14.6357L6.88184 9.37207C7.11882 9.13509 7.35352 8.96419 7.58594 8.85938C7.82292 8.75456 8.06217 8.70215 8.30371 8.70215C8.54525 8.70215 8.78223 8.75456 9.01465 8.85938C9.24707 8.96419 9.48405 9.13509 9.72559 9.37207L15.085 14.6357L14.374 15.3467L9.13086 10.1787C8.98047 10.0283 8.83691 9.92122 8.7002 9.85742C8.56803 9.78906 8.43587 9.75488 8.30371 9.75488C8.16699 9.75488 8.03027 9.78906 7.89355 9.85742C7.76139 9.92122 7.6224 10.0283 7.47656 10.1787L2.2334 15.3467L1.51562 14.6357ZM5.81543 10.6094L1.5498 6.3916L2.26074 5.68066L6.5332 9.90527L5.81543 10.6094ZM10.0742 9.90527L14.3398 5.68066L15.0508 6.3916L10.7852 10.6094L10.0742 9.90527Z"})})},8843:(e,t,o)=>{o.d(t,{h:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mailRound",{viewBox:"0 0 17 12",svg:(0,i.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},46392:(e,t,o)=>{o.d(t,{C:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("membersFilled",{viewBox:"0 0 30 30",svg:(0,i.jsx)("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})})},42107:(e,t,o)=>{o.d(t,{d:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mobileBottomBarAddPage",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M22.5713 3.95215L23.3447 3.15722C23.71 2.78125 23.7207 2.25488 23.3555 1.90039L23.1084 1.64258C22.7754 1.30957 22.2383 1.35254 21.8945 1.69629L21.1104 2.46972L22.5713 3.95215ZM10.207 15.124L12.3018 14.2109L21.7764 4.73633L20.3047 3.28613L10.8408 12.7607L9.87402 14.7803C9.78809 14.9629 10.0029 15.21 10.207 15.124ZM5.74902 23.1162H18.3604C20.2832 23.1162 21.4111 21.999 21.4111 19.7861V7.83008L19.6816 9.55957V19.7002C19.6816 20.8174 19.0693 21.3867 18.3281 21.3867H5.77051C4.69629 21.3867 4.10547 20.8174 4.10547 19.7002V7.50781C4.10547 6.39062 4.69629 5.81054 5.77051 5.81054H15.0625L16.792 4.08105H5.74902C3.50391 4.08105 2.37598 5.19824 2.37598 7.41113V19.7861C2.37598 22.0098 3.50391 23.1162 5.74902 23.1162Z"})})},81846:(e,t,o)=>{o.d(t,{Y:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mobileBottomBarRedo",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M2.84863 17.498C2.84863 21.6123 5.54492 24.3516 10.3574 24.3516H12.8389C13.4297 24.3516 13.8164 23.9219 13.8164 23.3955C13.8164 22.8691 13.4297 22.4395 12.8389 22.4395H10.3682C6.70508 22.4395 4.76074 20.291 4.76074 17.3906C4.76074 14.501 6.70508 12.4814 10.3682 12.4814H17.7373L20.2617 12.374L18.2207 14.1143L15.127 17.1328C14.9551 17.3047 14.8691 17.5088 14.8691 17.7881C14.8691 18.3467 15.2451 18.7334 15.8145 18.7334C16.0508 18.7334 16.3301 18.626 16.5127 18.4326L22.8291 12.2344C23.0439 12.0303 23.1514 11.7832 23.1514 11.5254C23.1514 11.2568 23.0439 11.0098 22.8291 10.8057L16.5127 4.60742C16.3301 4.4248 16.0508 4.30664 15.8145 4.30664C15.2451 4.30664 14.8691 4.69336 14.8691 5.25195C14.8691 5.53125 14.9551 5.73535 15.127 5.90723L18.2207 8.93652L20.2617 10.6768L17.7373 10.5586H10.5293C5.62012 10.5586 2.84863 13.3945 2.84863 17.498Z"})})},57037:(e,t,o)=>{o.d(t,{w:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mobileBottomBarSearch",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M11.1416 19.3779C12.9355 19.3779 14.5898 18.7979 15.9434 17.8311L21.0352 22.9229C21.2715 23.1592 21.583 23.2773 21.916 23.2773C22.6143 23.2773 23.1084 22.7402 23.1084 22.0527C23.1084 21.7305 23.001 21.4297 22.7646 21.1934L17.7051 16.123C18.7686 14.7266 19.4023 12.9971 19.4023 11.1172C19.4023 6.57324 15.6855 2.85645 11.1416 2.85645C6.59766 2.85645 2.88086 6.57324 2.88086 11.1172C2.88086 15.6611 6.59766 19.3779 11.1416 19.3779ZM11.1416 17.5947C7.59668 17.5947 4.66406 14.6621 4.66406 11.1172C4.66406 7.57227 7.59668 4.63965 11.1416 4.63965C14.6865 4.63965 17.6191 7.57227 17.6191 11.1172C17.6191 14.6621 14.6865 17.5947 11.1416 17.5947Z"})})},20162:(e,t,o)=>{o.d(t,{O:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mobileBottomBarUndo",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M23.1514 17.498C23.1514 13.3945 20.3691 10.5586 15.4707 10.5586H8.25195L5.73828 10.6768L7.76855 8.93652L10.873 5.90723C11.0342 5.73535 11.1309 5.53125 11.1309 5.25195C11.1309 4.69336 10.7549 4.30664 10.1748 4.30664C9.94922 4.30664 9.66992 4.4248 9.4873 4.60742L3.1709 10.8057C2.95605 11.0098 2.84863 11.2568 2.84863 11.5254C2.84863 11.7832 2.95605 12.0303 3.1709 12.2344L9.4873 18.4326C9.66992 18.626 9.94922 18.7334 10.1748 18.7334C10.7549 18.7334 11.1309 18.3467 11.1309 17.7881C11.1309 17.5088 11.0342 17.3047 10.873 17.1328L7.76855 14.1143L5.73828 12.374L8.25195 12.4814H15.6318C19.2949 12.4814 21.2285 14.501 21.2285 17.3906C21.2285 20.291 19.2949 22.4395 15.6318 22.4395H13.1611C12.5703 22.4395 12.1836 22.8691 12.1836 23.3955C12.1836 23.9219 12.5703 24.3516 13.1611 24.3516H15.6426C20.4443 24.3516 23.1514 21.6123 23.1514 17.498Z"})})},9555:(e,t,o)=>{o.d(t,{Y:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mobileBottomBarUpdates",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M4.48145 20.4092H15.2988C15.2129 21.8594 14.2891 22.7832 12.9893 22.7832C11.7002 22.7832 10.7656 21.8594 10.6904 20.4092H9.01465C9.10059 22.4717 10.7227 24.2871 12.9893 24.2871C15.2666 24.2871 16.8887 22.4824 16.9746 20.4092H21.5078C22.5176 20.4092 23.1299 19.8828 23.1299 19.1094C23.1299 18.0352 22.0342 17.0684 21.1104 16.1123C20.4014 15.3711 20.208 13.8457 20.1221 12.6104C20.0469 8.37793 18.9512 5.63867 16.0938 4.60742C15.7285 3.21094 14.5791 2.09375 12.9893 2.09375C11.4102 2.09375 10.25 3.21094 9.89551 4.60742C7.03809 5.63867 5.94238 8.37793 5.86719 12.6104C5.78125 13.8457 5.58789 15.3711 4.87891 16.1123C3.94434 17.0684 2.85938 18.0352 2.85938 19.1094C2.85938 19.8828 3.46094 20.4092 4.48145 20.4092ZM4.94336 18.7871V18.6582C5.13672 18.3359 5.78125 17.7129 6.33984 17.0791C7.11328 16.2197 7.47852 14.8447 7.5752 12.7393C7.66113 8.05566 9.05762 6.55176 10.8945 6.05762C11.1631 5.99316 11.3135 5.85352 11.3242 5.58496C11.3564 4.45703 12.001 3.67285 12.9893 3.67285C13.9883 3.67285 14.6221 4.45703 14.665 5.58496C14.6758 5.85352 14.8154 5.99316 15.084 6.05762C16.9316 6.55176 18.3281 8.05566 18.4141 12.7393C18.5107 14.8447 18.876 16.2197 19.6387 17.0791C20.208 17.7129 20.8418 18.3359 21.0352 18.6582V18.7871H4.94336Z"})})},30681:(e,t,o)=>{o.d(t,{I:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("mobileTopbarMore",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M7.19922 13.2549C7.19922 12.0625 6.23242 11.1064 5.01855 11.1064C3.83691 11.1064 2.87012 12.0625 2.87012 13.2549C2.87012 14.4473 3.83691 15.4033 5.01855 15.4033C6.23242 15.4033 7.19922 14.4473 7.19922 13.2549ZM15.1484 13.2549C15.1484 12.0625 14.1924 11.1064 13 11.1064C11.8184 11.1064 10.8623 12.0625 10.8623 13.2549C10.8623 14.4473 11.8184 15.4033 13 15.4033C14.1924 15.4033 15.1484 14.4473 15.1484 13.2549ZM23.1299 13.2549C23.1299 12.0625 22.1738 11.1064 20.9814 11.1064C19.7676 11.1064 18.8115 12.0625 18.8115 13.2549C18.8115 14.4473 19.7676 15.4033 20.9814 15.4033C22.1738 15.4033 23.1299 14.4473 23.1299 13.2549Z"})})},21566:(e,t,o)=>{o.d(t,{q:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("moveTo",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.34668 13.5469C2.78418 13.5469 3.07812 13.2393 3.07812 12.8018C3.07812 12.542 3.05762 12.2754 3.05762 11.8994C3.05762 9.60254 3.86426 8.67285 6.14062 8.67285H10.5771L12.2109 8.57031L10.1738 10.4297L8.64941 11.9678C8.5127 12.1045 8.43066 12.2891 8.43066 12.501C8.43066 12.9111 8.73828 13.2188 9.16895 13.2188C9.35352 13.2188 9.53809 13.1436 9.70215 12.9863L14.207 8.48145C14.3711 8.33105 14.4531 8.12598 14.4531 7.9209C14.4531 7.71582 14.3711 7.51758 14.207 7.36035L9.71582 2.86914C9.53809 2.70508 9.35352 2.62305 9.16895 2.62305C8.73828 2.62305 8.43066 2.93066 8.43066 3.34082C8.43066 3.55273 8.5127 3.7373 8.64941 3.87402L10.1738 5.41895L12.2041 7.27148L10.5771 7.17578H6.04492C2.87988 7.17578 1.54688 8.63184 1.54688 11.8516C1.54688 12.2549 1.56055 12.6035 1.61523 12.877C1.67676 13.2051 1.88184 13.5469 2.34668 13.5469Z"})})},70753:(e,t,o)=>{o.d(t,{F:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("notificationRead",{viewBox:"0 0 18 18",svg:(0,i.jsx)("path",{d:"M3.066 17.998h11.846c2.05 0 3.066-1.016 3.066-3.027V3.047c0-2.012-1.015-3.027-3.066-3.027H3.066C1.026.02 0 1.025 0 3.047V14.97c0 2.021 1.025 3.027 3.066 3.027Zm.02-1.572c-.977 0-1.514-.518-1.514-1.533V3.125c0-1.016.537-1.533 1.514-1.533h11.807c.966 0 1.513.517 1.513 1.533v11.768c0 1.015-.547 1.533-1.513 1.533Zm4.844-2.793c.322 0 .595-.156.79-.46l4.464-7.02c.117-.196.234-.41.234-.626 0-.44-.39-.722-.791-.722-.254 0-.498.156-.684.44l-4.052 6.503-1.924-2.49c-.235-.313-.45-.39-.713-.39a.759.759 0 0 0-.762.77c0 .216.088.42.225.606l2.383 2.93c.244.322.507.459.83.459Z"})})},61248:(e,t,o)=>{o.d(t,{F:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("notificationUnread",{viewBox:"0 0 20 21.5",svg:(0,i.jsx)("path",{d:"M0 14.521c0 1.67.146 3.057 1.143 4.053.996.996 2.402 1.153 4.062 1.153h7.588c1.67 0 3.076-.157 4.072-1.153s1.143-2.383 1.143-4.053v-6.65c-.43.147-.899.225-1.387.205-.068.02-.117.02-.185.03v6.68c0 1.015-.127 2.05-.723 2.646-.586.586-1.64.722-2.647.722H4.941c-1.005 0-2.06-.136-2.656-.722-.586-.596-.713-1.631-.713-2.647V6.768c0-1.026.127-2.08.713-2.666.596-.596 1.66-.723 2.686-.723h6.738c0-.068.01-.127.02-.186-.02-.488.058-.957.205-1.386H5.186c-1.641 0-3.047.156-4.043 1.152C.146 3.955 0 5.352 0 6.982Zm16.426-7.744c1.846 0 3.379-1.533 3.379-3.388C19.805 1.533 18.27 0 16.425 0a3.403 3.403 0 0 0-3.388 3.389 3.403 3.403 0 0 0 3.389 3.388Z"})})},60651:(e,t,o)=>{o.d(t,{h:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("notionLogo",{viewBox:"0 0 120 126",svg:(0,i.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},70954:(e,t,o)=>{o.d(t,{C:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},21158:(e,t,o)=>{o.d(t,{h:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("openAsPage",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.22605 12.855C3.36623 12.9952 3.55957 13.0822 3.77226 13.0725L8.83802 13.0338C9.04103 13.0338 9.24405 12.9468 9.36973 12.8212C9.67425 12.5166 9.65975 12.1058 9.36973 11.8157C9.21988 11.6659 9.05553 11.6079 8.86702 11.6127L6.79818 11.6417L5.26105 11.7577L6.39215 10.7136L10.7087 6.39712L11.7528 5.26603L11.6319 6.80799L11.6029 8.87683C11.6029 9.06051 11.6561 9.22969 11.8059 9.37954C12.096 9.66956 12.5117 9.67923 12.8162 9.3747C12.9419 9.24902 13.0289 9.04601 13.024 8.84782L13.0675 3.77723C13.0724 3.56938 12.9902 3.3712 12.85 3.23102C12.7098 3.09084 12.5165 3.0135 12.3038 3.0135L7.23805 3.06184C7.03987 3.05701 6.83685 3.14401 6.71117 3.26969C6.40665 3.57422 6.41631 3.98992 6.70634 4.27994C6.85618 4.42979 7.02536 4.48296 7.20905 4.48296L9.27789 4.45396L10.8198 4.33311L9.68392 5.37237L5.36739 9.6889L4.32814 10.8248L4.44415 9.28769L4.47315 7.21886C4.47799 7.03034 4.41998 6.86599 4.27013 6.71615C3.98011 6.42612 3.56924 6.41162 3.26472 6.71615C3.13904 6.84182 3.05203 7.04484 3.05203 7.24786L3.00853 12.3088C3.0037 12.5263 3.08587 12.7148 3.22605 12.855Z"})})},88507:(e,t,o)=>{o.d(t,{I:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})})},26939:(e,t,o)=>{o.d(t,{c:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("pageErrorUnsafe",{viewBox:"0 0 72 72",svg:(0,i.jsx)("path",{d:"M36 68C36.5 68 37.2812 67.8125 38.0625 67.4062C55.8438 58.0938 61.5625 53.4375 61.5625 42.2188V18.6562C61.5625 15.4375 60.1875 14.4062 57.5625 13.3125C53.9062 11.8125 42.2188 7.5625 38.5938 6.3125C37.75 6.03125 36.875 5.875 36 5.875C35.125 5.875 34.25 6.0625 33.4375 6.3125C29.7812 7.5 18.0938 11.8438 14.4375 13.3125C11.8438 14.375 10.4375 15.4375 10.4375 18.6562V42.2188C10.4375 53.4375 16.4688 57.5625 33.9375 67.4062C34.75 67.8438 35.5 68 36 68ZM36 41.5938C34.375 41.5938 33.5 40.6875 33.4688 39.0312L33.0312 22C33 20.3438 34.2188 19.1562 35.9688 19.1562C37.6875 19.1562 38.9688 20.375 38.9375 22.0312L38.5 39.0312C38.4688 40.7188 37.5625 41.5938 36 41.5938ZM36 52.0625C34.125 52.0625 32.5 50.5625 32.5 48.7188C32.5 46.875 34.0938 45.3438 36 45.3438C37.9062 45.3438 39.5 46.8438 39.5 48.7188C39.5 50.5938 37.875 52.0625 36 52.0625Z"})})},63874:(e,t,o)=>{o.d(t,{L:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("paperAirplane",{viewBox:"0 0 34 34",svg:(0,i.jsx)("path",{d:"M19.6719 32.7188C20.6406 32.7188 21.3125 31.9375 21.8281 30.625L32.2188 3.45312C32.4375 2.875 32.5625 2.375 32.5625 1.9375C32.5625 1.07812 32.0312 0.546875 31.1719 0.546875C30.7344 0.546875 30.2344 0.671875 29.6562 0.890625L2.39062 11.3281C1.20312 11.7812 0.390625 12.4688 0.390625 13.4375C0.390625 14.625 1.26562 15.0781 2.64062 15.4844L14.2344 18.875L17.5938 30.375C18.0156 31.7969 18.4688 32.7188 19.6719 32.7188ZM14.7812 17.0469L3.51562 13.6719C3.0625 13.5469 2.95312 13.4375 2.95312 13.2812C2.95312 13.125 3.0625 13 3.4375 12.8594L26.6562 4.03125C27.6094 3.67188 28.5469 3.20312 29.375 2.82812C28.6094 3.4375 27.5156 4.29688 26.9062 4.90625L14.7812 17.0469ZM19.8281 30.1719C19.6719 30.1719 19.5625 30.0469 19.4375 29.6094L16.0625 18.3438L28.2031 6.20312C28.8125 5.60938 29.6875 4.5 30.3125 3.70312C29.9219 4.54688 29.4531 5.48438 29.0781 6.45312L20.25 29.6719C20.1094 30.0469 20 30.1719 19.8281 30.1719Z"})})},28495:(e,t,o)=>{o.d(t,{v:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("personCircle",{viewBox:"0 0 18 17",svg:(0,i.jsx)("path",{d:"M8.99219 16.6797C10.0964 16.6797 11.1354 16.4688 12.1094 16.0469C13.0833 15.6302 13.9427 15.0495 14.6875 14.3047C15.4323 13.5599 16.0156 12.7005 16.4375 11.7266C16.8594 10.7526 17.0703 9.71354 17.0703 8.60938C17.0703 7.50521 16.8594 6.46615 16.4375 5.49219C16.0156 4.51823 15.4323 3.66146 14.6875 2.92188C13.9427 2.17708 13.0833 1.59375 12.1094 1.17188C11.1354 0.75 10.0938 0.539062 8.98438 0.539062C7.88021 0.539062 6.84115 0.75 5.86719 1.17188C4.89844 1.59375 4.04167 2.17708 3.29688 2.92188C2.55729 3.66146 1.97656 4.51823 1.55469 5.49219C1.13281 6.46615 0.921875 7.50521 0.921875 8.60938C0.921875 9.71354 1.13281 10.7526 1.55469 11.7266C1.97656 12.7005 2.55729 13.5599 3.29688 14.3047C4.04167 15.0495 4.90104 15.6302 5.875 16.0469C6.84896 16.4688 7.88802 16.6797 8.99219 16.6797ZM8.99219 15.0859C8.09635 15.0859 7.25521 14.9193 6.46875 14.5859C5.6875 14.2526 5 13.7891 4.40625 13.1953C3.81771 12.6016 3.35677 11.9141 3.02344 11.1328C2.6901 10.3516 2.52344 9.51042 2.52344 8.60938C2.52344 7.71354 2.6901 6.875 3.02344 6.09375C3.35677 5.30729 3.81771 4.61719 4.40625 4.02344C4.99479 3.42969 5.67969 2.96615 6.46094 2.63281C7.2474 2.29948 8.08854 2.13281 8.98438 2.13281C9.88542 2.13281 10.7266 2.29948 11.5078 2.63281C12.2943 2.96615 12.9844 3.42969 13.5781 4.02344C14.1719 4.61719 14.6354 5.30729 14.9688 6.09375C15.3021 6.875 15.4688 7.71354 15.4688 8.60938C15.4688 9.51042 15.3021 10.3516 14.9688 11.1328C14.6354 11.9141 14.1719 12.6016 13.5781 13.1953C12.9844 13.7891 12.2969 14.2526 11.5156 14.5859C10.7344 14.9193 9.89323 15.0859 8.99219 15.0859ZM14.2031 13.7656L14.1719 13.6328C14.0052 13.2474 13.6849 12.8776 13.2109 12.5234C12.7422 12.1641 12.1484 11.8724 11.4297 11.6484C10.7161 11.4193 9.90365 11.3047 8.99219 11.3047C8.09115 11.3047 7.28125 11.4193 6.5625 11.6484C5.84375 11.8724 5.2474 12.1641 4.77344 12.5234C4.30469 12.8776 3.98698 13.2448 3.82031 13.625L3.78906 13.7656C4.27865 14.2188 4.83333 14.599 5.45312 14.9062C6.07292 15.2188 6.69271 15.4557 7.3125 15.6172C7.9375 15.7786 8.4974 15.8594 8.99219 15.8594C9.49219 15.8594 10.0521 15.7786 10.6719 15.6172C11.2917 15.4557 11.9115 15.2188 12.5312 14.9062C13.151 14.599 13.7083 14.2188 14.2031 13.7656ZM8.99219 10.0156C9.4974 10.0208 9.95312 9.89583 10.3594 9.64062C10.7656 9.38021 11.0885 9.02604 11.3281 8.57812C11.5677 8.125 11.6875 7.61979 11.6875 7.0625C11.6875 6.54167 11.5651 6.0625 11.3203 5.625C11.0807 5.18229 10.7578 4.82812 10.3516 4.5625C9.95052 4.29688 9.4974 4.16406 8.99219 4.16406C8.49219 4.16406 8.03646 4.29688 7.625 4.5625C7.21875 4.82812 6.89583 5.18229 6.65625 5.625C6.41667 6.0625 6.29948 6.54167 6.30469 7.0625C6.3099 7.61979 6.42969 8.1224 6.66406 8.57031C6.90365 9.01302 7.22656 9.36458 7.63281 9.625C8.03906 9.88021 8.49219 10.0104 8.99219 10.0156Z"})})},73361:(e,t,o)=>{o.d(t,{K:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("plusRounded",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M5.46094 11.8594C5.46094 12.1042 5.54688 12.3125 5.71875 12.4844C5.89062 12.651 6.09635 12.7344 6.33594 12.7344H11.125V17.5312C11.125 17.7656 11.2109 17.9688 11.3828 18.1406C11.5547 18.3125 11.7604 18.3984 12 18.3984C12.2448 18.3984 12.4531 18.3125 12.625 18.1406C12.7969 17.9688 12.8828 17.7656 12.8828 17.5312V12.7344H17.6641C17.9036 12.7344 18.1094 12.651 18.2812 12.4844C18.4531 12.3125 18.5391 12.1042 18.5391 11.8594C18.5391 11.6198 18.4531 11.4141 18.2812 11.2422C18.1094 11.0651 17.9036 10.9766 17.6641 10.9766H12.8828V6.19531C12.8828 5.95573 12.7969 5.75 12.625 5.57812C12.4531 5.40625 12.2448 5.32031 12 5.32031C11.7604 5.32031 11.5547 5.40625 11.3828 5.57812C11.2109 5.75 11.125 5.95573 11.125 6.19531V10.9766H6.33594C6.09635 10.9766 5.89062 11.0651 5.71875 11.2422C5.54688 11.4141 5.46094 11.6198 5.46094 11.8594Z"})})},75071:(e,t,o)=>{o.d(t,{f:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("plusThick",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},84199:(e,t,o)=>{o.d(t,{N:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("properties",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"})})},35582:(e,t,o)=>{o.d(t,{O:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("quote",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M9.061 9.12c.987 0 1.79-.675 1.79-1.7 0-.973-.662-1.626-1.56-1.626-.438 0-.802.163-1.04.498.23-.995 1.003-1.656 2.065-1.708.304-.022.527-.238.527-.527 0-.35-.29-.557-.683-.557-1.67 0-3.163 1.425-3.163 3.334 0 1.388.891 2.286 2.064 2.286zm-4.648 0c.988 0 1.79-.675 1.79-1.7 0-.973-.661-1.626-1.56-1.626-.445 0-.801.163-1.039.498.23-.995 1.002-1.649 2.072-1.708.296-.022.512-.238.512-.527 0-.35-.29-.557-.676-.557-1.678 0-3.163 1.425-3.163 3.334 0 1.388.891 2.286 2.064 2.286zM12.84 4.83h4.165a.66.66 0 00.668-.66.664.664 0 00-.668-.662H12.84a.664.664 0 00-.668.661c0 .371.297.66.668.66zm0 3.89h4.165a.66.66 0 00.668-.66.66.66 0 00-.668-.661H12.84a.66.66 0 00-.668.66c0 .372.297.661.668.661zm-9.852 3.89h14.017a.66.66 0 00.668-.66.66.66 0 00-.668-.66H2.988c-.371 0-.66.289-.66.66 0 .371.289.66.66.66zm0 3.891h14.017a.664.664 0 00.668-.66.66.66 0 00-.668-.662H2.988c-.371 0-.66.29-.66.661 0 .364.289.661.66.661z"})})},44295:(e,t,o)=>{o.d(t,{I:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("random",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M9.45002,6.2999567 C8.87013,6.2999567 8.40002,5.8298565 8.40002,5.24995625 C8.40002,4.670056 8.87013,4.1999558 9.45002,4.1999558 C10.0299,4.1999558 10.5,4.670056 10.5,5.24995625 C10.5,5.8298565 10.0299,6.2999567 9.45002,6.2999567 Z M4.55,6.2999567 C3.9701,6.2999567 3.5,5.8298565 3.5,5.24995625 C3.5,4.670056 3.9701,4.1999558 4.55,4.1999558 C5.1299,4.1999558 5.6,4.670056 5.6,5.24995625 C5.6,5.8298565 5.1299,6.2999567 4.55,6.2999567 Z M6.993,0 C10.864,0 14,3.13600534 14,7.000007 C14,10.8639987 10.864,14 6.993,14 C3.129,14 0,10.8639987 0,7.000007 C0,3.13600534 3.129,0 6.993,0 Z M7,12.5999994 C10.094,12.5999994 12.6,10.0939983 12.6,7.000007 C12.6,3.90600567 10.094,1.4000046 7,1.4000046 C3.906,1.4000046 1.4,3.90600567 1.4,7.000007 C1.4,10.0939983 3.906,12.5999994 7,12.5999994 Z M7,10.8499986 C5.369,10.8499986 3.976,9.83499821 3.416,8.4000076 L4.585,8.4000076 C5.075,9.23299796 5.964,9.7999982 7,9.7999982 C8.036,9.7999982 8.932,9.23299796 9.415,8.4000076 L10.584,8.4000076 C10.024,9.83499821 8.631,10.8499986 7,10.8499986 Z"})})},38491:(e,t,o)=>{o.d(t,{N:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("redo",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M1.45117 10.6826C1.45117 13.4102 3.24219 15.208 6.29785 15.208H7.93848C8.38281 15.208 8.69727 14.873 8.69727 14.4629C8.69727 14.0459 8.38281 13.7109 7.93848 13.7109H6.3457C4.14453 13.7109 2.92773 12.4053 2.92773 10.6211C2.92773 8.84375 4.14453 7.59277 6.3457 7.59277H10.7002L12.2793 7.52441L11.0762 8.53613L9.31934 10.252C9.18262 10.3887 9.10059 10.5527 9.10059 10.7715C9.10059 11.1953 9.39453 11.5029 9.83203 11.5029C10.0234 11.5029 10.2285 11.4141 10.3721 11.2705L14.3027 7.40137C14.46 7.25098 14.542 7.05273 14.542 6.84766C14.542 6.64258 14.46 6.4375 14.3027 6.29395L10.3721 2.4248C10.2285 2.28125 10.0234 2.19238 9.83203 2.19238C9.39453 2.19238 9.10059 2.5 9.10059 2.91699C9.10059 3.14258 9.18262 3.30664 9.31934 3.43652L11.0762 5.15234L12.2793 6.1709L10.7002 6.10254H6.38672C3.2832 6.10254 1.45117 7.96875 1.45117 10.6826Z"})})},29851:(e,t,o)=>{o.d(t,{z:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("setPassword",{viewBox:"0 0 31 21",svg:(0,i.jsx)("path",{d:"M29.4746 3.43945L30.1777 2.7168C30.5684 2.32617 30.5781 1.7793 30.1973 1.39844L29.9336 1.14453C29.6016 0.802734 29.0352 0.851562 28.6641 1.22266L27.9609 1.91602L29.4746 3.43945ZM18.2441 13.4883L20.3047 12.5996L28.7227 4.18164L27.209 2.6875L18.8008 11.0957L17.8633 13.0977C17.7656 13.3223 18.0195 13.5859 18.2441 13.4883ZM3.40039 20.0508H23.6543C25.5 20.0508 26.5254 19.0547 26.5254 17.2188V8.88867L24.5918 10.8223V17.0625C24.5918 17.8242 24.1621 18.2637 23.3906 18.2637H3.6543C2.88281 18.2637 2.45312 17.8242 2.45312 17.0625V8.91797C2.45312 8.14648 2.88281 7.7168 3.6543 7.7168H19.6504L21.4375 5.93945H3.40039C1.54492 5.93945 0.519531 6.92578 0.519531 8.77148V17.2188C0.519531 19.0547 1.54492 20.0508 3.40039 20.0508ZM6.06641 14.4453C6.85742 14.4453 7.51172 13.791 7.51172 12.9902C7.51172 12.1895 6.85742 11.5449 6.06641 11.5449C5.25586 11.5449 4.61133 12.1895 4.61133 12.9902C4.61133 13.791 5.25586 14.4453 6.06641 14.4453ZM10.373 14.4453C11.1738 14.4453 11.8184 13.791 11.8184 12.9902C11.8184 12.1895 11.1738 11.5449 10.373 11.5449C9.57227 11.5449 8.91797 12.1895 8.91797 12.9902C8.91797 13.791 9.57227 14.4453 10.373 14.4453ZM14.6797 14.4453C15.4805 14.4453 16.1348 13.791 16.1348 12.9902C16.1348 12.1895 15.4805 11.5449 14.6797 11.5449C13.8789 11.5449 13.2344 12.1895 13.2344 12.9902C13.2344 13.791 13.8789 14.4453 14.6797 14.4453Z"})})},15967:(e,t,o)=>{o.d(t,{J:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("settingsBilling",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M3.24219 17.5625H16.7578C18.3984 17.5625 19.2109 16.75 19.2109 15.1406V5.60156C19.2109 3.99219 18.3984 3.17969 16.7578 3.17969H3.24219C1.60938 3.17969 0.789062 3.98438 0.789062 5.60156V15.1406C0.789062 16.7578 1.60938 17.5625 3.24219 17.5625ZM2.04688 5.66406C2.04688 4.85156 2.47656 4.4375 3.25781 4.4375H16.7422C17.5156 4.4375 17.9531 4.85156 17.9531 5.66406V6.84375H2.04688V5.66406ZM3.25781 16.3047C2.47656 16.3047 2.04688 15.8906 2.04688 15.0781V8.61719H17.9531V15.0781C17.9531 15.8906 17.5156 16.3047 16.7422 16.3047H3.25781ZM4.5 14.625H6.41406C6.86719 14.625 7.17969 14.3125 7.17969 13.875V12.4297C7.17969 11.9844 6.86719 11.6797 6.41406 11.6797H4.5C4.03906 11.6797 3.72656 11.9844 3.72656 12.4297V13.875C3.72656 14.3125 4.03906 14.625 4.5 14.625Z"})})},83690:(e,t,o)=>{o.d(t,{_:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("settingsCredit",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M5.89062 18.1094H14.1016C15.5703 18.1094 16.3828 17.3359 16.3828 15.8594V11.0625H16.4375C17.125 10.9141 17.5078 10.3594 17.5078 9.5625V7.50781C17.5078 6.55469 16.9766 5.95312 16.0234 5.95312H14.4453C14.8594 5.53906 15.1016 4.97656 15.1016 4.32812C15.1016 2.8125 13.9062 1.73438 12.3906 1.73438C11.2969 1.73438 10.3906 2.33594 9.99219 3.38281C9.59375 2.33594 8.69531 1.73438 7.59375 1.73438C6.08594 1.73438 4.88281 2.8125 4.88281 4.32812C4.88281 4.97656 5.125 5.53906 5.54688 5.95312H3.96875C3.05469 5.95312 2.48438 6.55469 2.48438 7.50781V9.5625C2.48438 10.3594 2.85938 10.9141 3.54688 11.0625H3.60156V15.8594C3.60156 17.3359 4.41406 18.1094 5.89062 18.1094ZM9.35156 5.95312H8.13281C6.90625 5.95312 6.1875 5.25781 6.1875 4.39844C6.1875 3.53906 6.8125 3.03906 7.67188 3.03906C8.60156 3.03906 9.35156 3.74219 9.35156 4.89844V5.95312ZM10.6328 5.95312V4.89844C10.6328 3.74219 11.3828 3.03906 12.3125 3.03906C13.1719 3.03906 13.7969 3.53906 13.7969 4.39844C13.7969 5.25781 13.0859 5.95312 11.8516 5.95312H10.6328ZM9.29688 9.9375H4.28906C3.89844 9.9375 3.74219 9.77344 3.74219 9.38281V7.67969C3.74219 7.28906 3.89844 7.13281 4.28906 7.13281H9.29688V9.9375ZM10.6875 9.9375V7.13281H15.7109C16.1016 7.13281 16.25 7.28906 16.25 7.67969V9.38281C16.25 9.77344 16.1016 9.9375 15.7109 9.9375H10.6875ZM9.29688 16.9375H5.875C5.22656 16.9375 4.85938 16.5703 4.85938 15.9219V11.1172H9.29688V16.9375ZM10.6875 16.9375V11.1172H15.125V15.9219C15.125 16.5703 14.7578 16.9375 14.1094 16.9375H10.6875Z"})})},36312:(e,t,o)=>{o.d(t,{o:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("settingsIdentityProvisioning",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10 18.4609C10.125 18.4609 10.3281 18.4141 10.5234 18.3047C14.9688 15.8125 16.4922 14.7578 16.4922 11.9062V5.92969C16.4922 5.10938 16.1406 4.85156 15.4766 4.57031C14.5547 4.1875 11.5781 3.11719 10.6562 2.79688C10.4453 2.72656 10.2188 2.67969 10 2.67969C9.78125 2.67969 9.55469 2.74219 9.35156 2.79688C8.42969 3.0625 5.44531 4.19531 4.52344 4.57031C3.86719 4.84375 3.50781 5.10938 3.50781 5.92969V11.9062C3.50781 14.7578 5.03906 15.8047 9.47656 18.3047C9.67969 18.4141 9.875 18.4609 10 18.4609ZM10 17.0469C9.875 17.0469 9.75 17 9.51562 16.8594C5.90625 14.6719 4.75 14.0312 4.75 11.6172V6.17188C4.75 5.90625 4.79688 5.80469 5.01562 5.71875C6.20312 5.25 8.50781 4.47656 9.6875 4.00781C9.8125 3.95312 9.91406 3.9375 10 3.9375C10.0859 3.9375 10.1875 3.96094 10.3125 4.00781C11.4922 4.47656 13.7812 5.30469 14.9922 5.71875C15.2031 5.79688 15.25 5.90625 15.25 6.17188V11.6172C15.25 14.0312 14.0938 14.6641 10.4844 16.8594C10.2578 17 10.125 17.0469 10 17.0469ZM9.14844 13.8984C9.40625 13.8984 9.625 13.7734 9.78125 13.5391L13.3516 7.91406C13.4375 7.76562 13.5391 7.59375 13.5391 7.41406C13.5391 7.07031 13.2266 6.84375 12.9062 6.84375C12.7031 6.84375 12.5078 6.96094 12.3594 7.19531L9.11719 12.3984L7.57812 10.4062C7.39062 10.1562 7.21875 10.0859 7.00781 10.0859C6.66406 10.0859 6.39844 10.3594 6.39844 10.7109C6.39844 10.875 6.46875 11.0469 6.57812 11.1953L8.48438 13.5391C8.67969 13.7969 8.89062 13.8984 9.14844 13.8984Z"})})},5517:(e,t,o)=>{o.d(t,{q:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("settingsPlans",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M2.75781 17.7656C2.95312 17.7656 3.15625 17.6953 3.40625 17.5547L7.38281 15.4141L11.7031 17.8359C11.9844 17.9922 12.2891 18.0703 12.5781 18.0703C12.8516 18.0703 13.125 18 13.3594 17.8672L17.4453 15.5469C17.9141 15.2891 18.125 14.9141 18.125 14.3906V3.86719C18.125 3.28906 17.8047 2.96875 17.2422 2.96875C17.0469 2.96875 16.8438 3.03125 16.5859 3.17188L12.4453 5.47656L8.20312 2.875C7.96094 2.73438 7.6875 2.65625 7.41406 2.65625C7.13281 2.65625 6.85156 2.73438 6.60938 2.875L2.54688 5.1875C2.08594 5.45312 1.875 5.82812 1.875 6.35156V16.8594C1.875 17.4375 2.19531 17.7656 2.75781 17.7656ZM6.875 14.1719L3.35156 16.1094C3.3125 16.125 3.27344 16.1484 3.23438 16.1484C3.17188 16.1484 3.13281 16.1016 3.13281 16.0234V6.65625C3.13281 6.46875 3.20312 6.33594 3.39062 6.22656L6.59375 4.35156C6.69531 4.29688 6.78125 4.25 6.875 4.19531V14.1719ZM8.13281 14.2969V4.35938C8.21094 4.40625 8.30469 4.45312 8.38281 4.5L11.8672 6.625V16.3906C11.7578 16.3281 11.6406 16.2734 11.5234 16.2109L8.13281 14.2969ZM13.125 16.5312V6.54688L16.6484 4.625C16.6875 4.60156 16.7266 4.58594 16.7578 4.58594C16.8281 4.58594 16.8672 4.63281 16.8672 4.71094V14.0781C16.8672 14.2734 16.7891 14.4062 16.6094 14.5156L13.4766 16.3359C13.3594 16.4062 13.2422 16.4766 13.125 16.5312Z"})})},72263:(e,t,o)=>{o.d(t,{_:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})},16001:(e,t,o)=>{o.d(t,{r:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("sidebarSettings",{viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 11.15C10.6352 11.15 11.15 10.6352 11.15 10C11.15 9.3649 10.6352 8.85002 10 8.85002C9.3649 8.85002 8.85002 9.3649 8.85002 10C8.85002 10.6352 9.3649 11.15 10 11.15ZM10 12.35C11.2979 12.35 12.35 11.2979 12.35 10C12.35 8.70216 11.2979 7.65002 10 7.65002C8.70216 7.65002 7.65002 8.70216 7.65002 10C7.65002 11.2979 8.70216 12.35 10 12.35Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66313 13.92L9.29337 15.7942C9.30705 15.835 9.3452 15.8624 9.38815 15.8624H10.6119C10.6548 15.8624 10.693 15.835 10.7066 15.7942L11.3369 13.92L11.8486 13.6609C11.9847 13.592 12.1165 13.5157 12.2435 13.4325L12.7244 13.1173L14.6647 13.509C14.7068 13.5175 14.7496 13.4982 14.7711 13.461L15.3829 12.4012C15.4044 12.364 15.3997 12.3173 15.3713 12.2851L14.0625 10.8013L14.0938 10.2287C14.0979 10.1531 14.1 10.0769 14.1 10C14.1 9.92309 14.0979 9.8468 14.0938 9.77119L14.0625 9.19865L15.3713 7.71477C15.3997 7.68257 15.4044 7.63582 15.3829 7.59862L14.7711 6.53886C14.7496 6.50166 14.7068 6.48233 14.6647 6.49083L12.7243 6.8826L12.2434 6.56746C12.1164 6.48424 11.9847 6.40796 11.8487 6.33909L11.3369 6.07998L10.7066 4.20568C10.693 4.16497 10.6548 4.13755 10.6119 4.13755L9.38815 4.13755C9.3452 4.13755 9.30705 4.16497 9.29337 4.20568L8.6631 6.08L8.15134 6.33911C8.01535 6.40796 7.88361 6.48424 7.75665 6.56744L7.27577 6.88258L5.33531 6.4908C5.29321 6.4823 5.25039 6.50162 5.22891 6.53882L4.61706 7.59858C4.59558 7.63578 4.60026 7.68253 4.62867 7.71473L5.93757 9.19866L5.90625 9.77121C5.90211 9.84681 5.90001 9.92309 5.90001 10C5.90001 10.0769 5.90211 10.1531 5.90625 10.2287L5.93756 10.8012L4.62867 12.2851C4.60026 12.3173 4.59559 12.3641 4.61706 12.4013L5.22892 13.461C5.25039 13.4982 5.29322 13.5176 5.33531 13.5091L7.27565 13.1173L7.75654 13.4325C7.88354 13.5157 8.01533 13.592 8.15137 13.6609L8.66313 13.92ZM6.98912 14.6034C7.15941 14.715 7.33626 14.8174 7.51897 14.9099L7.96638 16.2405C8.1717 16.8511 8.74396 17.2624 9.38815 17.2624H10.6119C11.2561 17.2624 11.8283 16.8511 12.0336 16.2405L12.481 14.91C12.6638 14.8174 12.8406 14.715 13.0109 14.6034L14.3876 14.8813C15.0191 15.0088 15.6614 14.7189 15.9835 14.161L16.5953 13.1012C16.9174 12.5433 16.8474 11.8421 16.4212 11.359L15.4917 10.3052C15.4972 10.2041 15.5 10.1024 15.5 10C15.5 9.89756 15.4972 9.79578 15.4917 9.69472L16.4212 8.64087C16.8474 8.15776 16.9174 7.45651 16.5954 6.89862L15.9835 5.83886C15.6614 5.28097 15.0191 4.99103 14.3876 5.11852L13.0108 5.3965C12.8405 5.28493 12.6637 5.18255 12.4811 5.09007L12.0336 3.75947C11.8283 3.14887 11.2561 2.73755 10.6119 2.73755H9.38815C8.74396 2.73755 8.1717 3.14886 7.96638 3.75946L7.51894 5.09008C7.33629 5.18256 7.1595 5.28493 6.98928 5.39648L5.61238 5.11849C4.98092 4.991 4.33858 5.28093 4.01648 5.83882L3.40462 6.89858C3.08253 7.45647 3.15261 8.15772 3.57874 8.64083L4.50834 9.69474C4.50281 9.79579 4.50001 9.89757 4.50001 10C4.50001 10.1024 4.50281 10.2041 4.50833 10.3052L3.57875 11.359C3.15261 11.8421 3.08253 12.5434 3.40463 13.1013L4.01648 14.161C4.33858 14.7189 4.98092 15.0089 5.61237 14.8814L6.98912 14.6034Z"})]})})},97107:(e,t,o)=>{o.d(t,{w:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("sidebarTrash",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M13.5000308,3.23952 C13.5000308,4.55848168 11.9230308,12.0493 11.9230308,12.0782 C11.9230308,12.6571 9.73825083,14 7.04165083,14 C4.34504083,14 2.16025083,12.6571 2.16025083,12.0782 C2.16025083,12.0541 0.5,4.55799105 0.5,3.23952 C0.5,1.91780104 3.02713083,0 7.03525083,0 C11.0433308,0 13.5000308,1.9178004 13.5000308,3.23952 Z M7,2 C3.625,2 2.5,3.25 2.5,4 C2.5,4.75 3.625,6 7,6 C10.375,6 11.5,4.75 11.5,4 C11.5,3.25 10.375,2 7,2 Z"})})},79102:(e,t,o)=>{o.d(t,{Y:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("sidebarUpdates",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M6.87695 10.8601C6.72038 10.8601 6.58708 10.8072 6.47705 10.7014C6.37126 10.5956 6.31836 10.4644 6.31836 10.3079C6.31836 10.1555 6.37126 10.0264 6.47705 9.92065C6.58708 9.81486 6.72038 9.76196 6.87695 9.76196H9.44775V6.24536C9.44775 6.08879 9.50065 5.9576 9.60645 5.85181C9.71224 5.74601 9.84131 5.69312 9.99365 5.69312C10.1502 5.69312 10.2814 5.74601 10.3872 5.85181C10.493 5.9576 10.5459 6.08879 10.5459 6.24536V10.3079C10.5459 10.4644 10.493 10.5956 10.3872 10.7014C10.2814 10.8072 10.1502 10.8601 9.99365 10.8601H6.87695ZM10 16.6174C9.0944 16.6174 8.2417 16.4439 7.44189 16.0969C6.64209 15.7542 5.9375 15.2781 5.32812 14.6687C4.71875 14.0593 4.24056 13.3569 3.89355 12.5613C3.55078 11.7615 3.37939 10.9067 3.37939 9.99683C3.37939 9.09123 3.55078 8.24064 3.89355 7.44507C4.24056 6.64526 4.71663 5.94067 5.32178 5.3313C5.93115 4.72192 6.63574 4.24585 7.43555 3.90308C8.23535 3.55607 9.08805 3.38257 9.99365 3.38257C10.8993 3.38257 11.752 3.55607 12.5518 3.90308C13.3558 4.24585 14.0604 4.72192 14.6655 5.3313C15.2749 5.94067 15.7531 6.64526 16.1001 7.44507C16.4471 8.24064 16.6206 9.09123 16.6206 9.99683C16.6206 10.9067 16.4471 11.7615 16.1001 12.5613C15.7531 13.3569 15.2749 14.0593 14.6655 14.6687C14.0604 15.2781 13.3579 15.7542 12.5581 16.0969C11.7583 16.4439 10.9056 16.6174 10 16.6174ZM10 15.1638C10.7152 15.1638 11.3838 15.0305 12.0059 14.7639C12.6322 14.4973 13.1823 14.1292 13.6562 13.6594C14.1302 13.1855 14.5005 12.6375 14.7671 12.0154C15.0337 11.3891 15.167 10.7162 15.167 9.99683C15.167 9.28166 15.0316 8.61304 14.7607 7.99097C14.4941 7.36466 14.1239 6.81453 13.6499 6.34058C13.1802 5.86662 12.6322 5.49634 12.0059 5.22974C11.3838 4.96313 10.7131 4.82983 9.99365 4.82983C9.27848 4.82983 8.60775 4.96313 7.98145 5.22974C7.35938 5.49634 6.81136 5.86662 6.3374 6.34058C5.86768 6.81453 5.49951 7.36466 5.23291 7.99097C4.97054 8.61304 4.83936 9.28166 4.83936 9.99683C4.83936 10.7162 4.97054 11.3891 5.23291 12.0154C5.49951 12.6375 5.86979 13.1855 6.34375 13.6594C6.81771 14.1292 7.36572 14.4973 7.98779 14.7639C8.6141 15.0305 9.28483 15.1638 10 15.1638Z"})})},45137:(e,t,o)=>{o.d(t,{o:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("speechBubbleThin",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M4.73926 15.6797C5.12207 15.6797 5.40918 15.4951 5.87402 15.085L8.21875 13.0068H12.3545C14.4121 13.0068 15.5674 11.8311 15.5674 9.80078V4.49609C15.5674 2.46582 14.4121 1.29004 12.3545 1.29004H3.63867C1.58105 1.29004 0.425781 2.46582 0.425781 4.49609V9.80078C0.425781 11.8311 1.6084 13.0068 3.59082 13.0068H3.87109V14.6953C3.87109 15.3037 4.19238 15.6797 4.73926 15.6797ZM5.07422 14.1758V12.2275C5.07422 11.8242 4.90332 11.667 4.51367 11.667H3.67285C2.38086 11.667 1.76562 11.0176 1.76562 9.75977V4.53711C1.76562 3.2793 2.38086 2.62988 3.67285 2.62988H12.3135C13.6055 2.62988 14.2275 3.2793 14.2275 4.53711V9.75977C14.2275 11.0176 13.6055 11.667 12.3135 11.667H8.14355C7.7334 11.667 7.52832 11.7354 7.24121 12.0361L5.07422 14.1758ZM4.51367 5.35059H11.4043C11.6367 5.35059 11.8281 5.15918 11.8281 4.91992C11.8281 4.69434 11.6367 4.50293 11.4043 4.50293H4.51367C4.28125 4.50293 4.09668 4.69434 4.09668 4.91992C4.09668 5.15918 4.28125 5.35059 4.51367 5.35059ZM4.51367 7.53125H11.4043C11.6367 7.53125 11.8281 7.33301 11.8281 7.10059C11.8281 6.86816 11.6367 6.67676 11.4043 6.67676H4.51367C4.28125 6.67676 4.09668 6.86816 4.09668 7.10059C4.09668 7.33301 4.28125 7.53125 4.51367 7.53125ZM4.51367 9.70508H9.00488C9.2373 9.70508 9.42188 9.51367 9.42188 9.28125C9.42188 9.04199 9.2373 8.85742 9.00488 8.85742H4.51367C4.28125 8.85742 4.09668 9.04199 4.09668 9.28125C4.09668 9.51367 4.28125 9.70508 4.51367 9.70508Z"})})},91427:(e,t,o)=>{o.d(t,{e:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("star",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.2627 14.7637C3.58398 15.0098 3.98047 14.9277 4.44531 14.5928L8 11.9814L11.5547 14.5928C12.0195 14.9277 12.4229 15.0098 12.7441 14.7637C13.0586 14.5244 13.127 14.1279 12.9424 13.5879L11.541 9.41113L15.1299 6.83398C15.5879 6.50586 15.7861 6.14355 15.6562 5.76074C15.5264 5.38477 15.1641 5.2002 14.5967 5.20703L10.1943 5.23438L8.85449 1.03711C8.68359 0.490234 8.40332 0.196289 8 0.196289C7.60352 0.196289 7.32324 0.490234 7.14551 1.03711L5.80566 5.23438L1.40332 5.20703C0.835938 5.2002 0.480469 5.38477 0.350586 5.76074C0.220703 6.14355 0.412109 6.50586 0.876953 6.83398L4.46582 9.41113L3.05762 13.5879C2.87305 14.1279 2.94141 14.5244 3.2627 14.7637ZM4.45898 13.1162C4.45215 13.1025 4.45215 13.0957 4.45898 13.0615L5.75781 9.39062C5.87402 9.05566 5.83301 8.84375 5.52539 8.63867L2.3125 6.4375C2.28516 6.42383 2.27148 6.41016 2.27832 6.38965C2.29199 6.37598 2.30566 6.36914 2.33984 6.36914L6.22949 6.45801C6.58496 6.47168 6.7627 6.35547 6.86523 6.01367L7.96582 2.28125C7.97266 2.24023 7.98633 2.2334 8 2.2334C8.02051 2.2334 8.02734 2.24023 8.04102 2.28125L9.13477 6.01367C9.2373 6.35547 9.42188 6.47168 9.77051 6.45801L13.6602 6.36914C13.7012 6.36914 13.7148 6.37598 13.7217 6.38965C13.7285 6.41016 13.7217 6.41699 13.6875 6.4375L10.4814 8.63867C10.167 8.85059 10.126 9.05566 10.2422 9.39062L11.541 13.0615C11.5547 13.0957 11.5547 13.1025 11.541 13.1162C11.5273 13.1367 11.5137 13.123 11.4863 13.1094L8.40332 10.7305C8.12305 10.5117 7.87695 10.5117 7.60352 10.7305L4.52051 13.1094C4.49316 13.123 4.47266 13.1367 4.45898 13.1162Z"})})},78197:(e,t,o)=>{o.d(t,{S:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("teamSize",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M7.333 14.667a4.667 4.667 0 1 0 0-9.334 4.667 4.667 0 0 0 0 9.334zm4.356-.548A5.977 5.977 0 0 1 7.333 16a5.977 5.977 0 0 1-4.355-1.881A7.295 7.295 0 0 0 0 20h14.667a7.296 7.296 0 0 0-2.978-5.881zm1.599-4.832a4.664 4.664 0 1 0-5.242-5.241 6.01 6.01 0 0 1 5.242 5.241zm.003 1.347a6.024 6.024 0 0 1-.794 2.414 8.571 8.571 0 0 1 1.656 1.619H20a7.296 7.296 0 0 0-2.978-5.882 5.983 5.983 0 0 1-3.731 1.849z"})})},58178:(e,t,o)=>{o.d(t,{s:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},25729:(e,t,o)=>{o.d(t,{U:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281Z",fill:"#0984CF"}),(0,i.jsx)("path",{d:"M6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25Z 6.2373 6.7998Z",fill:"#F9A501"}),(0,i.jsx)("path",{d:"M14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z",fill:"#EA4F44"})]})})},46783:(e,t,o)=>{o.d(t,{w:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("templates",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,i.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,i.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},94900:(e,t,o)=>{o.d(t,{u:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("textMessage",{viewBox:"0 0 16 14",svg:(0,i.jsx)("path",{d:"M4.97217 13.4883C5.32764 13.4883 5.59424 13.3169 6.02588 12.936L8.20312 11.0063H12.0435C13.9541 11.0063 15.0269 9.91455 15.0269 8.0293V3.10352C15.0269 1.21826 13.9541 0.126465 12.0435 0.126465H3.9502C2.03955 0.126465 0.966797 1.21826 0.966797 3.10352V8.0293C0.966797 9.91455 2.06494 11.0063 3.90576 11.0063H4.16602V12.5742C4.16602 13.1392 4.46436 13.4883 4.97217 13.4883ZM5.2832 12.0918V10.2827C5.2832 9.9082 5.12451 9.76221 4.7627 9.76221H3.98193C2.78223 9.76221 2.21094 9.15918 2.21094 7.99121V3.1416C2.21094 1.97363 2.78223 1.37061 3.98193 1.37061H12.0054C13.2051 1.37061 13.7827 1.97363 13.7827 3.1416V7.99121C13.7827 9.15918 13.2051 9.76221 12.0054 9.76221H8.1333C7.75244 9.76221 7.56201 9.82568 7.29541 10.105L5.2832 12.0918ZM6.47656 7.04541C7.94922 8.51807 9.81543 9.45117 10.9199 8.34668C10.9644 8.30225 10.9961 8.26416 11.0342 8.21973C11.3071 7.896 11.396 7.47705 11.0215 7.19775C10.7168 6.97559 10.4058 6.75342 9.91064 6.41064C9.52979 6.15039 9.29492 6.22021 9.01562 6.49316L8.76807 6.74072C8.69189 6.81055 8.57129 6.8042 8.48877 6.75342C8.2666 6.62012 7.89844 6.32178 7.54297 5.97266C7.2002 5.62988 6.88916 5.24268 6.76855 5.0332C6.72412 4.96338 6.69238 4.84912 6.78125 4.7666L7.02246 4.50635C7.30811 4.20801 7.37158 3.98584 7.10498 3.61133L6.33057 2.51318C6.07031 2.14502 5.68945 2.2085 5.25781 2.52588C5.22607 2.55127 5.20068 2.57666 5.17529 2.5957C4.06445 3.70654 5.00391 5.57275 6.47656 7.04541Z"})})},82825:(e,t,o)=>{o.d(t,{S:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("timeBy",{viewBox:"0 0 30 30",svg:(0,i.jsx)("path",{d:"M14 25H16V15H14C13.919 15.164 13.209 15.698 12 15.909V17.94C12.743 17.85 13.416 17.652 14 17.388V25ZM25 4C25 2.343 23.657 1 22 1C20.343 1 19 2.343 19 4H11C11 2.343 9.657 1 8 1C6.343 1 5 2.343 5 4H1V29H29V4H25ZM21 4C21 3.449 21.448 3 22 3C22.552 3 23 3.449 23 4V6C23 6.551 22.552 7 22 7C21.448 7 21 6.551 21 6V4ZM7 4C7 3.449 7.448 3 8 3C8.552 3 9 3.449 9 4V6C9 6.551 8.552 7 8 7C7.448 7 7 6.551 7 6V4ZM27 27H3V13H27V27ZM27 11H3V6H5C5 7.657 6.343 9 8 9C9.657 9 11 7.657 11 6H19C19 7.657 20.343 9 22 9C23.657 9 25 7.657 25 6H27V11Z"})})},47560:(e,t,o)=>{o.d(t,{o:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344ZM5.67969 6.82812H13.5469C13.8125 6.82812 14.0312 6.60156 14.0312 6.32812C14.0312 6.07031 13.8125 5.85156 13.5469 5.85156H5.67969C5.41406 5.85156 5.20312 6.07031 5.20312 6.32812C5.20312 6.60156 5.41406 6.82812 5.67969 6.82812ZM5.67969 9.30469H13.5469C13.8125 9.30469 14.0312 9.08594 14.0312 8.8125C14.0312 8.55469 13.8125 8.32812 13.5469 8.32812H5.67969C5.41406 8.32812 5.20312 8.55469 5.20312 8.8125C5.20312 9.08594 5.41406 9.30469 5.67969 9.30469ZM5.67969 11.7891H10.8047C11.0781 11.7891 11.2891 11.5703 11.2891 11.3047C11.2891 11.0312 11.0781 10.8125 10.8047 10.8125H5.67969C5.41406 10.8125 5.20312 11.0312 5.20312 11.3047C5.20312 11.5703 5.41406 11.7891 5.67969 11.7891Z"})})},18387:(e,t,o)=>{o.d(t,{A:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("topbarStar",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M4.77321 18.0645C5.14821 18.3457 5.60915 18.252 6.1404 17.8691L10.2029 14.8848L14.2576 17.8691C14.7888 18.252 15.2498 18.3457 15.6248 18.0645C15.992 17.7832 16.0701 17.3223 15.8591 16.7051L14.2576 11.9395L18.3513 9.00195C18.8826 8.62695 19.1013 8.20508 18.9529 7.76758C18.8045 7.33008 18.3904 7.11133 17.7341 7.11914L12.7185 7.1582L11.1873 2.36133C10.9841 1.73633 10.6638 1.40039 10.2029 1.40039C9.73415 1.40039 9.41383 1.73633 9.21071 2.36133L7.68727 7.1582L2.66383 7.11914C2.00758 7.11133 1.59352 7.33008 1.44508 7.75977C1.29665 8.20508 1.52321 8.62695 2.04665 9.00195L6.1404 11.9395L4.53883 16.7051C4.3279 17.3223 4.40602 17.7832 4.77321 18.0645ZM6.17165 16.1504C6.15602 16.1348 6.15602 16.127 6.17165 16.0801L7.64821 11.916C7.78102 11.5254 7.74196 11.291 7.37477 11.0488L3.72633 8.54883C3.69508 8.52539 3.67946 8.50977 3.69508 8.49414C3.7029 8.4707 3.71852 8.4707 3.75758 8.4707L8.17946 8.57227C8.58571 8.58789 8.79665 8.45508 8.91383 8.05664L10.156 3.82227C10.1716 3.77539 10.1795 3.75977 10.2029 3.75977C10.2185 3.75977 10.2341 3.77539 10.242 3.82227L11.4841 8.05664C11.6013 8.45508 11.8123 8.58789 12.2263 8.57227L16.6404 8.4707C16.6873 8.4707 16.7029 8.4707 16.7107 8.49414C16.7185 8.50977 16.7029 8.52539 16.6716 8.54883L13.0232 11.0488C12.6638 11.291 12.617 11.5254 12.7576 11.916L14.2263 16.0801C14.242 16.127 14.242 16.1348 14.2263 16.1504C14.2185 16.166 14.1951 16.1582 14.1638 16.1348L10.6638 13.4316C10.3357 13.1816 10.0623 13.1816 9.73415 13.4316L6.23415 16.1348C6.2029 16.1582 6.18727 16.166 6.17165 16.1504Z"})})},52926:(e,t,o)=>{o.d(t,{b:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("topbarStarFilled",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M4.77321 18.0645C5.14821 18.3457 5.60915 18.252 6.1404 17.8691L10.2029 14.8848L14.2576 17.8691C14.7888 18.252 15.2498 18.3457 15.6248 18.0645C15.992 17.7832 16.0701 17.3223 15.8591 16.7051L14.2576 11.9395L18.3513 9.00195C18.8826 8.62695 19.1013 8.20508 18.9529 7.76758C18.8045 7.33008 18.3904 7.11133 17.7341 7.11914L12.7185 7.1582L11.1873 2.36133C10.9841 1.73633 10.6638 1.40039 10.2029 1.40039C9.73415 1.40039 9.41383 1.73633 9.21071 2.36133L7.68727 7.1582L2.66383 7.11914C2.00758 7.11133 1.59352 7.33008 1.44508 7.75977C1.29665 8.20508 1.52321 8.62695 2.04665 9.00195L6.1404 11.9395L4.53883 16.7051C4.3279 17.3223 4.40602 17.7832 4.77321 18.0645Z"})})},44292:(e,t,o)=>{o.d(t,{d:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("topbarUpdate",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10.0781 18.1562C14.5078 18.1562 18.1641 14.5 18.1641 10.0781C18.1641 5.65625 14.5 2 10.0703 2C5.64844 2 2 5.65625 2 10.0781C2 14.5 5.65625 18.1562 10.0781 18.1562ZM10.0781 16.5469C6.49219 16.5469 3.625 13.6641 3.625 10.0781C3.625 6.49219 6.49219 3.61719 10.0703 3.61719C13.6562 3.61719 16.5391 6.49219 16.5469 10.0781C16.5547 13.6641 13.6641 16.5469 10.0781 16.5469ZM6.14062 11.0625H10.0703C10.4297 11.0625 10.7031 10.7891 10.7031 10.4375V5.32812C10.7031 4.97656 10.4297 4.70312 10.0703 4.70312C9.72656 4.70312 9.45312 4.97656 9.45312 5.32812V9.8125H6.14062C5.78906 9.8125 5.51562 10.0859 5.51562 10.4375C5.51562 10.7891 5.78906 11.0625 6.14062 11.0625Z"})})},70406:(e,t,o)=>{o.d(t,{p:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("transcript",{viewBox:"0 0 16 16",svg:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M3.99805 5.92188C3.85352 5.92188 3.72656 5.86719 3.61719 5.75781C3.50781 5.64844 3.45312 5.52148 3.45312 5.37695C3.45312 5.22852 3.50781 5.09961 3.61719 4.99023C3.72656 4.88086 3.85352 4.82617 3.99805 4.82617C4.15039 4.82617 4.2793 4.88086 4.38477 4.99023C4.49023 5.0957 4.54297 5.22461 4.54297 5.37695C4.54297 5.52539 4.49023 5.6543 4.38477 5.76367C4.2793 5.86914 4.15039 5.92188 3.99805 5.92188ZM3.99805 7.65625C3.85352 7.65625 3.72656 7.60352 3.61719 7.49805C3.50781 7.38867 3.45312 7.25977 3.45312 7.11133C3.45312 6.96289 3.50781 6.83594 3.61719 6.73047C3.72656 6.62109 3.85352 6.56641 3.99805 6.56641C4.15039 6.56641 4.2793 6.61914 4.38477 6.72461C4.49023 6.83008 4.54297 6.95898 4.54297 7.11133C4.54297 7.26367 4.49023 7.39258 4.38477 7.49805C4.2793 7.60352 4.15039 7.65625 3.99805 7.65625ZM3.99805 9.38477C3.84961 9.38477 3.7207 9.33203 3.61133 9.22656C3.50586 9.12109 3.45312 8.99219 3.45312 8.83984C3.45312 8.69141 3.50586 8.56445 3.61133 8.45898C3.7207 8.35352 3.84961 8.30078 3.99805 8.30078C4.15039 8.30078 4.2793 8.35352 4.38477 8.45898C4.49023 8.56445 4.54297 8.69141 4.54297 8.83984C4.54297 8.99219 4.49023 9.12109 4.38477 9.22656C4.2793 9.33203 4.15039 9.38477 3.99805 9.38477ZM3.99805 11.2129C3.85352 11.2129 3.72656 11.1582 3.61719 11.0488C3.50781 10.9395 3.45312 10.8105 3.45312 10.6621C3.45312 10.5137 3.50781 10.3848 3.61719 10.2754C3.72656 10.166 3.85352 10.1113 3.99805 10.1113C4.15039 10.1113 4.2793 10.166 4.38477 10.2754C4.49023 10.3809 4.54297 10.5098 4.54297 10.6621C4.54297 10.8145 4.49023 10.9453 4.38477 11.0547C4.2793 11.1602 4.15039 11.2129 3.99805 11.2129ZM5.67383 5.75195C5.56836 5.75195 5.47852 5.71484 5.4043 5.64062C5.33008 5.56641 5.29297 5.47852 5.29297 5.37695C5.29297 5.27148 5.33008 5.18164 5.4043 5.10742C5.48242 5.0293 5.57227 4.99023 5.67383 4.99023H12.1836C12.2891 4.99023 12.3789 5.0293 12.4531 5.10742C12.5312 5.18164 12.5703 5.27148 12.5703 5.37695C12.5703 5.47852 12.5332 5.56641 12.459 5.64062C12.3848 5.71484 12.293 5.75195 12.1836 5.75195H5.67383ZM5.67383 7.49219C5.57227 7.49219 5.48242 7.45508 5.4043 7.38086C5.33008 7.30664 5.29297 7.2168 5.29297 7.11133C5.29297 7.00586 5.33008 6.91602 5.4043 6.8418C5.47852 6.76367 5.56836 6.72461 5.67383 6.72461H9.31836C9.42383 6.72461 9.51367 6.76367 9.58789 6.8418C9.66211 6.91602 9.69922 7.00586 9.69922 7.11133C9.69922 7.2168 9.66211 7.30664 9.58789 7.38086C9.51367 7.45508 9.42383 7.49219 9.31836 7.49219H5.67383ZM5.67383 9.22656C5.56836 9.22656 5.47852 9.18945 5.4043 9.11523C5.33008 9.04102 5.29297 8.94922 5.29297 8.83984C5.29297 8.73828 5.33008 8.65039 5.4043 8.57617C5.47852 8.50195 5.56836 8.46484 5.67383 8.46484H12.1836C12.293 8.46484 12.3848 8.50195 12.459 8.57617C12.5332 8.65039 12.5703 8.73828 12.5703 8.83984C12.5703 8.94922 12.5332 9.04102 12.459 9.11523C12.3848 9.18945 12.293 9.22656 12.1836 9.22656H5.67383ZM5.67383 11.043C5.57227 11.043 5.48242 11.0059 5.4043 10.9316C5.33008 10.8535 5.29297 10.7637 5.29297 10.6621C5.29297 10.5566 5.33008 10.4668 5.4043 10.3926C5.47852 10.3184 5.56836 10.2812 5.67383 10.2812H9.31836C9.42383 10.2812 9.51367 10.3184 9.58789 10.3926C9.66211 10.4668 9.69922 10.5566 9.69922 10.6621C9.69922 10.7637 9.66211 10.8535 9.58789 10.9316C9.51367 11.0059 9.42383 11.043 9.31836 11.043H5.67383ZM2.97852 13.4922C2.3457 13.4922 1.86719 13.332 1.54297 13.0117C1.21875 12.6914 1.05664 12.2188 1.05664 11.5938V4.45703C1.05664 3.83203 1.21875 3.35938 1.54297 3.03906C1.86719 2.71484 2.3457 2.55273 2.97852 2.55273H13.0098C13.6465 2.55273 14.127 2.71484 14.4512 3.03906C14.7754 3.35938 14.9375 3.83203 14.9375 4.45703V11.5938C14.9375 12.2188 14.7754 12.6914 14.4512 13.0117C14.127 13.332 13.6465 13.4922 13.0098 13.4922H2.97852ZM3.04883 12.3438H12.9453C13.2148 12.3438 13.4219 12.2734 13.5664 12.1328C13.7109 11.9883 13.7832 11.7754 13.7832 11.4941V4.55664C13.7832 4.27539 13.7109 4.06445 13.5664 3.92383C13.4219 3.7793 13.2148 3.70703 12.9453 3.70703H3.04883C2.77539 3.70703 2.56641 3.7793 2.42188 3.92383C2.28125 4.06445 2.21094 4.27539 2.21094 4.55664V11.4941C2.21094 11.7754 2.28125 11.9883 2.42188 12.1328C2.56641 12.2734 2.77539 12.3438 3.04883 12.3438Z"})})})},37888:(e,t,o)=>{o.d(t,{U:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("unlocked",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.49023 14.7227H8.89551C9.94824 14.7227 10.4746 14.1963 10.4746 13.0479V8.20801C10.4746 7.22363 10.085 6.69727 9.29883 6.57422V4.83105C9.29883 3.22461 10.3174 2.35645 11.541 2.35645C12.7646 2.35645 13.79 3.22461 13.79 4.83105V6.28711C13.79 6.76562 14.0703 7.01855 14.4395 7.01855C14.8018 7.01855 15.082 6.7793 15.082 6.28711V4.96094C15.082 2.36328 13.3525 1.1123 11.541 1.1123C9.72949 1.1123 8 2.36328 8 4.96094V6.54004H2.49023C1.43066 6.54004 0.911133 7.06641 0.911133 8.20801V13.0479C0.911133 14.1963 1.43066 14.7227 2.49023 14.7227ZM2.68848 13.5059C2.3877 13.5059 2.2373 13.3623 2.2373 13V8.25586C2.2373 7.89355 2.3877 7.76367 2.68848 7.76367H8.7041C9.00488 7.76367 9.14844 7.89355 9.14844 8.25586V13C9.14844 13.3623 9.00488 13.5059 8.7041 13.5059H2.68848ZM7.99316 21.1123C6.5918 21.1123 5.2793 21.8779 4.75293 23.375L5.78516 24.4141C5.94922 23.0811 6.87891 22.3564 7.99316 22.3564C9.2168 22.3564 10.2422 23.2246 10.2422 24.8311V26.54H7.9248L9.1416 27.7637H11.0078C11.3086 27.7637 11.4521 27.8936 11.4521 28.2559V30.0742L12.7783 31.4072V28.208C12.7783 27.2031 12.3682 26.6768 11.541 26.5674V24.9609C11.541 22.3633 9.81152 21.1123 7.99316 21.1123ZM13.749 35.126C13.9609 35.3379 14.3164 35.3379 14.5215 35.126C14.7266 34.9072 14.7334 34.5723 14.5215 34.3535L2.46973 22.3154C2.25781 22.1035 1.90918 22.0967 1.69043 22.3154C1.48535 22.5205 1.48535 22.876 1.69043 23.0811L13.749 35.126ZM4.79395 34.7227H11.1992C11.5 34.7227 11.7598 34.6816 11.9785 34.5928L10.8711 33.4922C10.8096 33.499 10.7549 33.5059 10.6865 33.5059H4.99219C4.69141 33.5059 4.54102 33.3623 4.54102 33V28.2559C4.54102 27.9004 4.68457 27.7637 4.97852 27.7637H5.14258L4.04883 26.6631C3.48828 26.8818 3.21484 27.3809 3.21484 28.208V33.0479C3.21484 34.1963 3.73438 34.7227 4.79395 34.7227Z"})})},69619:(e,t,o)=>{o.d(t,{T:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("unsync",{viewBox:"0 0 30 30",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.768 23.295l1.353 1.351a11.298 11.298 0 01-6.118 1.81c-5.862 0-10.781-4.538-11.387-10.254h-1.55c-.809 0-1.011-.55-.573-1.168l2.516-3.572c.37-.527.91-.516 1.269 0l2.515 3.583c.427.606.225 1.157-.572 1.157H5.536a9.496 9.496 0 009.467 8.344c1.74 0 3.366-.454 4.765-1.251zM10.233 6.723l-1.361-1.36a11.26 11.26 0 016.131-1.818c5.851 0 10.782 4.548 11.388 10.265h1.539c.808 0 1.021.539.572 1.167l-2.504 3.572c-.37.528-.91.516-1.27 0l-2.515-3.583c-.427-.617-.224-1.156.573-1.156h1.673a9.503 9.503 0 00-9.456-8.356 9.55 9.55 0 00-4.77 1.27z"}),(0,i.jsx)("path",{d:"M27.067 28.551c.41.41 1.094.41 1.49 0 .41-.41.41-1.08 0-1.49L2.937 1.454a1.06 1.06 0 00-1.505 0c-.396.396-.396 1.08 0 1.49l25.635 25.607z"})]})})},76994:(e,t,o)=>{o.d(t,{w:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("versionHistory",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M0.788086 6.67676C0.254883 6.67676 0.118164 7.07324 0.412109 7.47656L2.06641 9.77344C2.29883 10.0947 2.6543 10.0879 2.87988 9.77344L4.53418 7.46973C4.81445 7.08008 4.68457 6.67676 4.1582 6.67676H3.16699C3.78223 4.20898 6.00391 2.39746 8.66992 2.39746C11.8145 2.39746 14.3438 4.91992 14.3438 8.06445C14.3438 11.209 11.8145 13.7451 8.66992 13.7383C6.83105 13.7314 5.22461 12.8701 4.19922 11.5166C3.92578 11.1953 3.52246 11.0928 3.19434 11.332C2.87988 11.5576 2.81836 11.9951 3.11914 12.3574C4.38379 14.0117 6.45508 15.126 8.66992 15.126C12.5391 15.126 15.7314 11.9336 15.7314 8.06445C15.7314 4.20215 12.5391 1.00293 8.66992 1.00293C5.2793 1.00293 2.40137 3.45703 1.75195 6.67676H0.788086ZM8.41699 4.09961C8.08203 4.09961 7.82227 4.36621 7.82227 4.69434V8.41309C7.82227 8.57031 7.87695 8.7207 7.99316 8.87793L9.62695 11.0312C9.86621 11.3525 10.2217 11.4072 10.5156 11.1953C10.7959 11.0039 10.8164 10.6416 10.5977 10.3477L9.01172 8.20801V4.69434C9.01172 4.36621 8.74512 4.09961 8.41699 4.09961Z"})})},8504:(e,t,o)=>{o.d(t,{J:()=>r});o(67294);var n=o(45238),i=o(85893);const r=(0,n.I)("versionHistoryThick",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M0 7C0 3.136 3.129 0 6.993 0C10.864 0 14 3.136 14 7C14 10.864 10.864 14 6.993 14C3.129 14 0 10.864 0 7ZM1.4 7C1.4 10.094 3.906 12.6 7 12.6C10.094 12.6 12.6 10.094 12.6 7C12.6 3.906 10.094 1.4 7 1.4C3.906 1.4 1.4 3.906 1.4 7ZM6.3 3.5H7.35V7.175L10.5 9.044L9.975 9.905L6.3 7.7V3.5Z"})})}}]);