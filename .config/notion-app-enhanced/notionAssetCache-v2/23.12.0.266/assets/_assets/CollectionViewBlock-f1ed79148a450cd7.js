"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3190],{54281:(e,t,r)=>{r.d(t,{$o:()=>E,Fv:()=>j,IL:()=>Y,J4:()=>H,KA:()=>G,Nf:()=>D,_p:()=>N,cQ:()=>U,f$:()=>Z,fX:()=>W,j2:()=>z,k2:()=>X,mg:()=>Q,mz:()=>A,oP:()=>V,tF:()=>$,td:()=>O,x:()=>q});r(57658);var o=r(30120),n=r(1302),i=r(15145),s=r(45433),a=r(40652),l=r(53877),c=r(42875),d=r(15157),p=r(72126),u=r(97880),m=r(75079),g=r(65742),h=r(78316),f=r(88632),y=r(77080),v=r(26350),S=r(27724),C=r(34583),b=r(50906),k=r(8406),x=r(49865),w=r(75134),P=r(5149),_=r(58023),F=r(96802),L=r(9953),I=r(79978),T=r(75018),M=r(24677),B=r(98104),R=r(39699);function z(e){const{collectionViewStore:t,collectionContextStore:r,timelineState:o,environment:n}=e,i=n.currentUser.id,s=(0,g.B8)(t.id),a=(0,g.pQ)(t,n),l=r.permissionScopes.state,c=p.Ds((()=>{if(o.destroyed)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,g.al)(o)};d.Z.set({userId:i,key:s,value:e})}),1e3),u=p.Ds((()=>{if(o.destroyed||!f.Z.state.online||!n.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,g.al)(o)},r=t.getFormat().timeline_preference;p.Xy(r,e)||R.createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:n,perform:r=>{F.FH({stores:[t],update:{timeline_preference:e},transaction:r})}})}),5e3);o.savePreference=()=>{c(),u()},D({timelineState:o,environment:n,...a})}function D(e){const{timelineState:t,zoomLevel:r,centerTimestamp:o,environment:i}=e,{savePreference:s}=t,a=i.WindowSizeStore.state.width+2*g.Ge,l=(0,g.x2)(r,a),c=o-l/2,d=o+l/2;t.zoomLevel.setState(r),t.currentRange.setState({startTimestamp:c,endTimestamp:d}),n.default.afterNextFlush((()=>{G({timelineState:t,centerTimestamp:o}),s&&s()}))}function G(e){const{timelineState:t,centerTimestamp:r}=e,{horizontalScroller:o,outerSizeObserver:n}=t;if(!o)return;const i=t.zoomLevel.state,{startTimestamp:s,endTimestamp:a}=t.currentRange.state,l=n.rect.state.width;if(l===(0,g.e$)(i,a-s))return;const c=(0,g.e$)(i,r-s)-l/2;o.scrollLeft=c,t.scrollLeft.setState(c)}function V(e){const{environment:t,store:r,query:o,date:n,schema:i,transaction:s}=e,{timeline_by:a}=o;if(!a)return;const l=(0,g.TW)({store:r,dateValue:n,query:o,schema:i}),c=r.getPropertyValue(a),d=o.timeline_by_end?r.getPropertyValue(o.timeline_by_end):void 0;return L.sW({store:r.getPropertiesStore(),data:l,transaction:s}),w.H({environment:t,store:r,dateProperty:{id:a,newValue:(null==l?void 0:l[a])??[],oldValue:c},otherDateProperty:o.timeline_by_end?{id:o.timeline_by_end,newValue:(null==l?void 0:l[o.timeline_by_end])??[],oldValue:d}:void 0}),r}function j(e){var t;const{environment:r,timelineState:n,collectionStore:i,collectionContextStore:s,store:a,query:d,groupFormat:p,transaction:u}=e,m=n.zoomLevel.state,h=(0,g.al)(n),{snapUnit:f,getDateRangePlaceholderDuration:y}=g.BJ[m],{timeline_by:v}=d;if(!v)return;const S=null===(t=s.groupsStore.getGroupState(p))||void 0===t?void 0:t.resultsStore.state;if(!S)return;const C=o.ou.fromMillis(h),b=(0,g.DS)(C,f),k=(0,g.DS)(y(C),f),w=(0,g.AZ)({startValue:(0,l.Lg)((0,c.r)()),snapUnit:f,desiredStart:b,desiredEnd:k});return V({environment:r,store:a,query:d,schema:i.getSchema(),date:w,transaction:u}),x.$T({environment:r,collectionStore:i,before:!0,store:S[0],insertStores:[a],collectionContextStore:s,groupsPointer:p?[p]:[],transaction:u}),a}function Z(e){const{type:t,timelineState:r,store:o,startX:n,query:i,schema:s,intl:a,environment:l}=e,{horizontalScroller:c}=r,{startTimestamp:d}=r.currentRange.state;if(!c)return;M.Ys({environment:l,store:o});const u=c.scrollLeft,{stores:m}=S.default.state,h=p.oA(m.map((e=>{const t=(0,g.bk)({store:e,query:i,schema:s,userId:l.currentUser.id,intl:a});if(t)return{startValue:t,store:e}})));r.dragState.setState({type:t,startStore:o,stores:h.map((e=>{let{store:t}=e;return t})),startValues:h.map((e=>{let{startValue:t}=e;return t})),temporaryValues:h.map((e=>{let{startValue:t}=e;return t})),startX:n,startStartTimestamp:d,startScrollLeft:u})}function H(e){const{timelineState:t,store:r,startX:o,startY:n,schema:i,collectionContextStore:s,verticalScroller:a}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRange.state;if(!l||!a)return;const d=l.scrollLeft,p=a.scrollTop,u=(0,g.YE)(s,r,i);t.drawState.setState({startStore:r,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:[...u],startX:o,startY:n,startScrollLeft:d,startScrollTop:p,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function O(e){const{timelineState:t,currentX:r}=e,{horizontalScroller:o}=t,n=t.zoomLevel.state,i=t.dragState.state,{startTimestamp:s}=t.currentRange.state;if(!i||!o)return;const{type:a,startStartTimestamp:c,startValues:d,startScrollLeft:m,startX:h,startStore:f,stores:y}=i,v=g.BJ[n],{snapUnit:S}=v,C=o.scrollLeft-m+(r-h)+(0,g.e$)(n,s-c),b=(0,g.x2)(n,C),k=d[y.indexOf(f)];let x;if(a===g.px.LeftResizer){const{start:e}=(0,g.XO)(k,S),t=e.plus(b);x=d.map((e=>{const r=(0,g.AZ)({startValue:e,snapUnit:S,desiredStart:t});return(0,l.gW)(r)}))}else if(a===g.px.RightResizer){const{end:e}=(0,g.XO)(k,S),t=e.plus(b);x=d.map((e=>{const r=(0,g.AZ)({startValue:e,snapUnit:S,desiredEnd:t});return(0,l.Qq)(r)}))}else a===g.px.ItemDrag?x=d.map((e=>{const{start:t,end:r}=(0,g.XO)(e,S),o=t.plus(b),n=o.plus(r.valueOf()-t.valueOf());return(0,g.AZ)({startValue:e,snapUnit:S,desiredStart:o,desiredEnd:n})})):(0,u.t1)(a);p.Xy(i.temporaryValues,x)||t.dragState.setState({...i,temporaryValues:x})}function A(e){const{timelineState:t,currentX:r,currentY:o,verticalScroller:n}=e,i=t.drawState.state,s=t.zoomLevel.state,{startTimestamp:a}=t.currentRange.state,{horizontalScroller:l}=t;if(!i||!l||!n)return;const{startDependencyRelationPointers:c,startStore:d,startX:u,startY:m,startScrollLeft:h,startScrollTop:f,startStartTimestamp:y}=i,v=l.scrollLeft,S=n.scrollTop,C=v-h+(r-u)+(0,g.e$)(s,a-y),b=S-f+(o-m),k=t.hoveredItem.state;if(k&&k!==d&&!c.some((e=>e.id===k.id))){const e=[...c,{table:"block",id:k.id,spaceId:k.getSpaceId()}];p.Xy(i.temporaryDependencyRelationPointers,e)||t.drawState.setState({...i,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawState.setState({...i,temporaryDependencyRelationPointers:[...c],xOffsetPx:C,yOffsetPx:b})}function W(e){const{environment:t,timelineState:r,query:o,schema:n,transaction:i}=e,s=r.dragState.state,{timeline_by:a}=o;if(!s||!a)return;const{temporaryValues:l,stores:c}=s;l.forEach(((e,r)=>{const s=c[r];V({environment:t,store:s,query:o,schema:n,transaction:i,date:e})})),r.dragState.setState(void 0)}function E(e){var t;const{timelineState:r,environment:o,transaction:n,collectionContextStore:i,isFullScreen:s,isRootChild:a}=e,l=r.drawState.state,c=r.dateRangePlaceholder.state;if(!l)return;const{startStore:d,startDependencyRelationPointers:p,temporaryDependencyRelationPointers:u}=l;if(!d)return void r.drawState.setState(void 0);let h;if(c.active){const{date:e,store:t,parentStore:s,groupFormat:a,newTimelineItemProps:l,existingTimelineItemProps:p}=c;if(t&&p){const{query:r,schema:i}=p;V({environment:o,store:t,query:r,schema:i,date:e,transaction:n}),h={table:"block",id:t.id,spaceId:d.getSpaceId()}}else if(l){const{query:r,schema:c,isFullScreen:p,canEditTimelineItems:u,subitemPath:m}=l,g=Q({environment:o,date:e,store:t,parentStore:s,query:r,schema:c,isFullScreen:p,groupFormat:a,canEditTimelineItems:u,collectionContextStore:i,subitemPath:m,transaction:n,from:"timeline_complete_draw"});g&&(h={table:"block",id:g.id,spaceId:d.getSpaceId()})}r.dateRangePlaceholder.setState({active:!1})}else h=u.find((e=>!p.includes(e)));const f=(0,g._e)(i);if(f){const{property:e}=f;h&&(I.hE({environment:o,propertyWithInverse:f,sourceStore:d,destStore:v.G.createChildStore(d,h),position:{type:"after"},transaction:n}),k.rv({environment:o,collectionContextStore:i,block_id:d.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),r.drawState.setState(void 0)}else P.wl({item:{type:y.default.checkGate("dependency_date_shifting_by_space")?"dependencies":"arrowsBy"},collectionSettingsStore:i.settingsStore}),r.drawState.setState({...l,tryToCompleteDrawnArrow:!0});const S=null===(t=h)||void 0===t?void 0:t.id;S&&b.LEn(o,{...(0,m.Pn)(i),...(0,g.Ii)({environment:o,collectionContextStore:i,timelineState:r,isFullScreen:s,isRootChild:a}),dependenciesPropertyID:null==f?void 0:f.property,blockedByStoreID:d.id,blockingStoreID:S})}function U(e){const{timelineState:t,environment:r}=e;t.dragState.state&&(t.dragState.setState(void 0),M.ZH(r))}function q(e){const{timelineState:t,environment:r}=e;t.drawState.state&&(t.drawState.setState(void 0),M.ZH(r))}function X(e){const{stores:t,collectionViewStore:r,schema:o,transaction:n}=e,i=r.getType(),s=r.getQuery(o),a=[];s&&("calendar"===i?s.calendar_by&&a.push(s.calendar_by):"timeline"===i&&(s.timeline_by&&a.push(s.timeline_by),s.timeline_by_end&&a.push(s.timeline_by_end)));for(const l of t)for(const e of a)L.sO({store:l.getPropertyStore(e),value:void 0,transaction:n})}function Y(e){const{dependency:t,collectionContextStore:r,environment:o,timelineState:n,isFullScreen:i,isRootChild:s}=e,a=(0,g._e)(r),l=r.collectionStore();if(!a||!l)return;const{property:c}=a,{store:d,relationPointer:p}=t,u=d.getSchema()[c];u&&"relation"===u.type&&(R.createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:o,perform:e=>{I.Bl({environment:o,propertyWithInverse:a,sourceStore:d,destStore:v.G.createChildStore(d,p),transaction:e}),k.rv({environment:o,block_id:p.id,property:c,property_type:u.type,from:"timeline",collectionContextStore:r,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),b.lfq(o,{...(0,m.Pn)(r),...(0,g.Ii)({environment:o,collectionContextStore:r,timelineState:n,isFullScreen:i,isRootChild:s}),dependenciesPropertyID:c,blockedByStoreID:d.id,blockingStoreID:p.id}))}function $(e){const{collectionViewStore:t,newProperty:r,transaction:o}=e;F.FH({stores:[t],update:{timeline_arrows_by:{property:r}},transaction:o})}function N(e){var t;const{collectionContextStore:r,relationPropertyId:o,transaction:n}=e,i=r.collectionStore();if(!i)return;const l=o?i.getSchema()[o]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=i.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;F.FH({stores:[i],update:{collection_default_arrows_by:o,...i.getFormat().app_config_uri===a.iS?{app_uri_map:{...i.getFormat().app_uri_map?i.getFormat().app_uri_map:{},[s.Es.BlockingRelation]:o,[s.Es.BlockedRelation]:c}}:{}},transaction:n})}function Q(e){const{environment:t,transaction:r,date:o,parentStore:n,query:s,schema:a,isFullScreen:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:p,from:u}=e;if(!C.M_(t))return;const m=c?[c]:[],g=p.groupsStore.getGroupState(m);if(!g)return;if(n)return function(e){const{environment:t,transaction:r,date:o,store:n,parentStore:s,query:a,schema:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:p,subitemPath:u}=e;if(!n||!s)return;const m=c?[c]:[],g=x.yk({environment:t,collectionContextStore:p,groupsPointer:m,store:n,before:!1,collectionStore:s,transaction:r,subitemPath:u,subitemInsertDirection:"into"});if(g){if(V({environment:t,store:g,query:a,schema:l,date:o,transaction:r}),t.device.isMobile)T.navigateToBlock({environment:t,store:g,pageVisitSource:i.tY.Create});else if(g&&d){const e=g.getBlockTitleStore();B.N_({store:e})}return g}}(e);p.searchQuery.state&&_.Ug({searchQuery:"",collectionContextStore:p,isFullScreen:l});const f=x.IW({environment:t,collectionContextStore:p,groupsPointer:m,coerce:!0,initializeDefaultTemplate:!0,transaction:r,from:u});if(!f)return;const y=f.coercionSucceeded,v=f.newStore;if(V({environment:t,store:v,query:s,schema:a,date:o,transaction:r}),t.device.isMobile)T.navigateToBlock({environment:t,store:v,pageVisitSource:i.tY.Create});else if(y&&d){const e=v.getBlockTitleStore();B.NX({store:e})}else T.peekBlock({environment:t,store:v,peekMode:(0,h.kr)(p.collectionViewStore()),resultsStore:null==g?void 0:g.resultsStore,collectionContextStore:p,pageVisitSource:i.tY.Create});return v}},10912:(e,t,r)=>{r.d(t,{Z:()=>x});r(57658),r(67294);var o=r(83355),n=r(27531),i=r(41432),s=r(80951),a=r(95538),l=r(21202),c=r(97880),d=r(78316),p=r(17311),u=r(35328),m=r(26350),g=r(3490),h=r(12981),f=r(43568),y=r(81865),v=r(33411),S=r(35541),C=r(85893);function b(e){return"number"==typeof e}class k extends o.Z{constructor(){super(...arguments),this.renderContentBlock=e=>{const{store:t,renderAdditionalBlocks:r,rendererBlockStyle:o}=this.props,i=m.G.createChildStore(t,{table:l.iU,id:e}),s=i.getType(),a=r&&void 0!==s?(0,S.u)(i):(0,g.h)(i);if(a)return(0,C.jsx)(n.D,{value:this.restrictedContentStore,children:(0,C.jsx)(a,{store:i,disabled:!0,disableCommentMenu:!0,disableHoverMenu:!0,hideContent:(0,u.BX)(i),style:{fontSize:12,opacity:.8,pointerEvents:"none",...o},isQuickFind:!0,numberedListCounterStore:this.createComputedStore((()=>({depth:0,numberedListBlockIdsWithFormat:this.createNumberedListCounterStore(e)})))})},e)},this.coverStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:t=!1}=this.props,r=(0,d.NU)(e,t);return r.image?r.image:!(this.props.showLoadingShimmer&&0===r.blockIds.length&&!r.isDefined)&&r.blockIds})),this.restrictedContentStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:t=!1}=this.props,r=(0,d.wK)(e,t);return r.image?void 0:r.blockIds})),this.numberedLists=this.createComputedStore((()=>{const{store:e}=this.props,t=this.coverStore.state,r=[];if(Array.isArray(t)){let o=0;for(;o<t.length;){let n=t[o],s=m.G.createChildStore(e,{table:l.iU,id:n});if(s.getType()===i.Ti.numberedList){const a=[{blockId:n,idx:1}],c=[{id:n,format:void 0,depth:a.length-1,index:a[0].idx}];for(o+=1;o<t.length&&(n=t[o],s=m.G.createChildStore(e,{table:l.iU,id:n}),s.getType()===i.Ti.numberedList);){{const e=s.getParentId();if(s.getParentId()===a[a.length-1].blockId)a.push({blockId:n,idx:1});else{let t=a[a.length-1].idx;for(;a.length>0&&a[a.length-1].blockId!==e;)t=a[a.length-1].idx,a.pop();a.push({blockId:n,idx:t+1})}c.push({id:n,format:void 0,depth:a.length-1,index:a[a.length-1].idx})}o+=1}r.push(c)}else o+=1}}return r}))}didUpdate(e){this.props.coverFormat.type!==e.coverFormat.type&&this.props.onLoadProxiedImage()}renderComponent(){const{coverFormat:e}=this.props;return"page_cover"===e.type?this.renderPageCover():"page_content"===e.type?this.renderPageContent():"property"===e.type?this.renderProperty(e.property):void 0}renderPageCover(){var e;const{store:t}=this.props,r=null===(e=t.getCover())||void 0===e?void 0:e.cover;return r?(0,C.jsxs)("div",{style:I(this.props.coverHeight,this.props.coverSizeFormat,this.props.imageCoverWrapStyle),children:[(0,C.jsx)(y.Z,{url:r,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:F(this.props.coverWidth,this.props.coverSizeFormat),onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),render:(e,t)=>{if(t)return(0,C.jsx)(h.Z,{style:{...P(this.props.style),...this.getCoverStyle(),...L(this.props.coverAspectFormat),objectPosition:`center ${100*(1-w(this.props.store,this.props.coverPosition))}%`},src:t})}}),this.renderImageBorder()]}):this.props.showEmptyGalleryCover?(0,C.jsx)(T,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle}):void 0}renderPageContent(){const e=this.coverStore.state,t=this.restrictedContentStore.state;if(!1===e)return(0,C.jsx)(M,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,loadingShimmerStyle:this.props.loadingShimmerStyle});if(e){if(!Array.isArray(e))return(0,C.jsxs)("div",{style:I(this.props.coverHeight,this.props.coverSizeFormat,this.props.imageCoverWrapStyle),children:[(0,C.jsx)(y.Z,{url:e.url,onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),isAuthenticated:!0,permissionRecord:e.pointer,width:F(this.props.coverWidth,this.props.coverSizeFormat),render:(e,t)=>{if(t)return(0,C.jsx)(h.Z,{style:{...P(this.props.style),...this.getPageContentImageStyle(),...L(this.props.coverAspectFormat),objectPosition:`center ${100*(1-w(this.props.store,this.props.coverPosition))}%`},src:t})}}),this.renderImageBorder()]});if(e.length>0)return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{style:this.getContentWrapStyle(),children:[t?e.filter((e=>t.indexOf(e)>=0)).map(this.renderContentBlock):e.map(this.renderContentBlock),this.props.coverContentFadedOverlay&&(0,C.jsx)("div",{style:this.getContentFadedOverlayStyle()})]})});if(this.props.showEmptyGalleryCover)return(0,C.jsx)(T,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle})}else if(this.props.showEmptyGalleryCover)return(0,C.jsx)(T,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle})}renderProperty(e){const{store:t}=this.props,r=(0,s.g)(t.getPropertyValue(e)).find((e=>(0,a.SR)({url:e.url})));return r?(0,C.jsxs)("div",{style:I(this.props.coverHeight,this.props.coverSizeFormat,this.props.imageCoverWrapStyle),children:[(0,C.jsx)(y.Z,{onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),url:r.url,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:F(this.props.coverWidth,this.props.coverSizeFormat),render:(e,t)=>{if(t)return(0,C.jsx)(h.Z,{style:{...P(this.props.style),...this.getCoverStyle(),...L(this.props.coverAspectFormat),objectPosition:`center ${100*(1-w(this.props.store,this.props.coverPosition))}%`},src:t})}}),this.renderImageBorder()]}):this.props.showEmptyGalleryCover?(0,C.jsx)(T,{coverHeight:this.props.coverHeight,coverSizeFormat:this.props.coverSizeFormat,emptyGalleryCoverStyle:this.props.emptyGalleryCoverStyle}):void 0}renderImageBorder(){switch(this.props.variant){case"default":return null;case"gallery":return(0,C.jsx)("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:`1px solid ${this.theme.regularDividerColor}`}});default:(0,c.t1)(this.props.variant)}}createNumberedListCounterStore(e){const t=this.numberedLists.state;for(const r of t)if(r.find((t=>t.id===e)))return r;return[]}getContentWrapVariantStyle(){const{ThemeStore:e}=this.environment,t="dark"===e.state.mode;switch(this.props.variant){case"default":return{};case"gallery":return{background:this.theme.collectionGalleryPreviewCardCover,padding:"8px 8px 0",boxShadow:t?"transparent":`inset 0 -1px 0 0 ${this.theme.regularDividerColor}`,...this.props.contentWrapStyle};default:(0,c.t1)(this.props.variant)}}getContentWrapStyle(){return{height:_(this.props.coverHeight,this.props.coverSizeFormat),pointerEvents:"none",overflow:"hidden",position:this.props.coverContentFadedOverlay?"relative":"static",...this.getContentWrapVariantStyle(),...this.props.contentWrapStyle}}getContentFadedOverlayStyle(){return{width:"100%",height:40,position:"absolute",bottom:0,left:0,background:`linear-gradient(to bottom, transparent, ${this.theme.accentColors.gray[30]} 100%)`,...this.props.coverContentFadedOverlayStyle}}getCoverVariantStyle(){switch(this.props.variant){case"default":return{border:`1px solid ${this.theme.stroke.regular}`,borderRadius:4};case"gallery":return{borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1};default:(0,c.t1)(this.props.variant)}}getCoverStyle(){return{width:"100%",height:_(this.props.coverHeight,this.props.coverSizeFormat),...this.getCoverVariantStyle(),objectPosition:"center"}}getPageContentImageStyle(){return{...this.getCoverStyle(),objectPosition:"center center"}}}k.displayName="CollectionItemCover";const x=k;function w(e,t){if(b(t))return t;if(e.getFormatStore().isDefined()){const{page_cover_position:t,card_cover_position:r}=e.getFormat();if(b(r))return r;if(b(t))return t}return.5}function P(e){return e||{}}function _(e,t){if(e)return e;switch(t){case"large":return p.Z.card.desktop.large.height;case"small":return p.Z.card.desktop.small.height;case"medium":default:return p.Z.card.desktop.medium.height}}function F(e,t){return e||(0,d.rD)(t)}function L(e){return{objectFit:void 0===e?"cover":e}}function I(e,t,r){return{height:_(e,t),position:"relative",pointerEvents:"none",overflow:"hidden",...r}}function T(e){let{coverHeight:t,coverSizeFormat:r,emptyGalleryCoverStyle:o}=e;return(0,C.jsx)("div",{style:{height:_(t,r),...o}})}function M(e){let{coverHeight:t,coverSizeFormat:r,loadingShimmerStyle:o}=e;return(0,C.jsx)("div",{style:{height:_(t,r),...o},children:(0,C.jsx)(v.Z,{show:!0,showDelay:100,showHold:0,render:e=>e?(0,C.jsx)(f.Z,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]}):void 0})})}},69872:(e,t,r)=>{r.d(t,{L:()=>d,Z:()=>u});r(67294);var o=r(83355),n=r(39068),i=r(52821),s=r(87279),a=r(52275),l=r(28992),c=r(85893);let d=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});class p extends o.Z{renderComponent(){const{name:e,type:t,icon:r}=this.props.propertySchema,o=this.props.format===d.Name?e:i.SO[t],{theme:s}=this;return this.props.locked?(0,c.jsx)(l.Z,{title:o,icon:(0,c.jsx)(n.ZP,{icon:r,type:t,size:this.environment.device.isMobile?18:16,theme:s,style:{fill:s.regularIconColor}}),...this.props}):(0,c.jsx)(a.Z,{title:o,icon:(0,c.jsx)(n.ZP,{icon:r,type:t,size:this.environment.device.isMobile?18:16,theme:s,style:{fill:s.regularIconColor,marginLeft:6,marginRight:2}}),...this.props})}}p.displayName="PropertyMenuItem",p.DisplayFormat=d,p.contextTypes={...s.mw,...o.w};const u=p},80025:(e,t,r)=>{r.d(t,{Vn:()=>s,mF:()=>a,qf:()=>c});var o=r(31412),n=r(33929);const i=(0,o.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function s(e){const t=i[e]||i.gray;return n.default.formatMessage(t)}const a=(0,o.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),l={default:{...a.foregroundColorDefault},gray:{...a.foregroundColorGray},brown:{...a.foregroundColorBrown},orange:{...a.foregroundColorOrange},yellow:{...a.foregroundColorYellow},teal:{...a.foregroundColorGreen},blue:{...a.foregroundColorBlue},purple:{...a.foregroundColorPurple},pink:{...a.foregroundColorPink},red:{...a.foregroundColorRed},gray_background:{...a.backgroundColorGray},brown_background:{...a.backgroundColorBrown},orange_background:{...a.backgroundColorOrange},yellow_background:{...a.backgroundColorYellow},teal_background:{...a.backgroundColorGreen},blue_background:{...a.backgroundColorBlue},purple_background:{...a.backgroundColorPurple},pink_background:{...a.backgroundColorPink},red_background:{...a.backgroundColorRed}};function c(e){return l[e]}},56638:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(49085);class n extends o.default{getInitialState(){return{open:!1}}}const i=new n},40745:(e,t,r)=>{r.d(t,{M:()=>i});r(67294);var o=r(45238),n=r(85893);const i=(0,o.I)("arrowDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},53470:(e,t,r)=>{r.d(t,{H:()=>i});r(67294);var o=r(45238),n=r(85893);const i=(0,o.I)("rename",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M14.7881 2.5752L15.3008 2.04199C15.5605 1.76855 15.5742 1.39941 15.3213 1.13965L15.1436 0.955078C14.9111 0.722656 14.5283 0.763672 14.2754 1.00977L13.749 1.5293L14.7881 2.5752ZM6.68066 9.87598L8.0752 9.28809L14.2891 3.06738L13.25 2.03516L7.03613 8.25586L6.4209 9.60254C6.35254 9.75977 6.52344 9.9375 6.68066 9.87598ZM4.09668 14.4355H12.0674C13.373 14.4355 14.1387 13.6768 14.1387 12.2207V4.99512L12.7988 6.33496V12.1045C12.7988 12.7676 12.4434 13.1025 11.9854 13.1025H4.17871C3.54297 13.1025 3.19434 12.7676 3.19434 12.1045V4.49609C3.19434 3.83301 3.54297 3.49805 4.17871 3.49805H10.0234L11.3633 2.1582H4.09668C2.62695 2.1582 1.85449 2.91699 1.85449 4.37988V12.2207C1.85449 13.6836 2.62695 14.4355 4.09668 14.4355Z"})})}}]);