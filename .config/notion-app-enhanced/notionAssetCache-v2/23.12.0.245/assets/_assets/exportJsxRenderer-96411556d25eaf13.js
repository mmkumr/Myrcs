"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9293],{15499:(e,r,t)=>{t.r(r),t.d(r,{DiscussionRenderer:()=>Me,DiscussionWrapper:()=>Te,PageIcon:()=>fe,asyncBlockRenderers:()=>Ie,blockRenderers:()=>ye,default:()=>Ne,getDiscussionProps:()=>Ve,jsxToStaticMarkup:()=>we,propertyRenderers:()=>le,renderImageBlock:()=>ve,renderJSXTextValue:()=>O});t(57658);var o=t(67294),s=t(5366),n=t(66897),i=t(15145),l=t(41432),c=t(15070),a=t(90559),d=t(35011),u=t(99036),m=t(80951),p=t(34299),x=t(56373),h=t(8848),f=t(98923),k=t(39068),g=t(1800),b=t(40506),v=t(7057),j=t(53877),_=t(95538),y=t(7406),I=t(61075),A=t(6695),w=t(86678),N=t(76490),P=t(64572),B=t(22808),R=t(72126),$=t(59753),V=t(32056),M=t(63306),T=t(4615),F=t(6746),S=t(21202),C=t(77420),G=t(6287),U=t(19889),K=t(85031),E=t(70203),D=t(44805),H=t(97880),Z=t(7928),q=t(63143),z=t(4308),Q=t(85893);const J=1e3,Y=(0,s.defineMessages)({metadata:{id:"exports.collections.metadata",defaultMessage:"Metadata: Filters & Sorts"},metadataMessage:{id:"exports.collections.metadata.message",defaultMessage:"The following filters and sorts are applied to the database"},ascendingOrder:{id:"exports.collections.ascending",defaultMessage:"Ascending"},descendingOrder:{id:"exports.collections.descending",defaultMessage:"Descending"},footNote:{id:"exports.collections.footnote",defaultMessage:"*Limited to {limit} items. For the full list, refer to:"},propertyName:{id:"exports.collections.propertyName",defaultMessage:"Property name"},propertyType:{id:"exports.collections.propertyType",defaultMessage:"Type"},condition:{id:"exports.collections.condition",defaultMessage:"Condition"},filter:{id:"exports.collections.filter",defaultMessage:"Filter"},sort:{id:"exports.collections.sort",defaultMessage:"Sort"},pageComments:{id:"exports.pageComments",defaultMessage:"Page comments"},blockComments:{id:"exports.blockComments",defaultMessage:"Block comments"},discussionStatus:{id:"exports.discussion.status",defaultMessage:"Status"},discussionResolved:{id:"exports.discussion.resolved",defaultMessage:"Resolved"},discussionUnResolved:{id:"exports.discussion.unresolved",defaultMessage:"Unresolved"},discussionContext:{id:"exports.discussion.context",defaultMessage:"Block text"}});function W(e){if(void 0!==e&&0!==e.length)return e.map(((e,r)=>(0,Q.jsx)(o.Fragment,{children:e},r)))}function O(e){return W((0,I.hJ)({...e,fromString:e=>e}))}const L=(0,Q.jsx)("div",{className:"checkbox checkbox-on"}),X=(0,Q.jsx)("div",{className:"checkbox checkbox-off"});const ee={[E.GKr.Bold]:e=>{let{children:r}=e;return(0,Q.jsx)("strong",{children:r})},[E.GKr.Underline]:e=>{let{children:r}=e;return(0,Q.jsx)("span",{style:{borderBottom:"0.05em solid"},children:r})},[E.GKr.Italic]:e=>{let{children:r}=e;return(0,Q.jsx)("em",{children:r})},[E.GKr.Strike]:e=>{let{children:r}=e;return(0,Q.jsx)("del",{children:r})},[E.GKr.Code]:e=>{let{children:r}=e;return(0,Q.jsx)("code",{children:r})},[E.GKr.Highlight]:e=>{let{children:r,annotation:t}=e;const o=E.zIN(t);return(0,Q.jsx)("mark",{className:`highlight-${o}`,children:r})},[E.GKr.Link]:e=>{let{annotation:r,children:t,exportArgs:o}=e;const{getExportedPathToFile:s,getExportedPathToPage:n,blockId:i,baseUrl:l,publicDomainName:c}=o,a=E.zW$(r),d=(0,P.A5)({url:a,baseUrl:l,publicDomainName:c}),u=d?n({toPageId:d}):s({fromBlockId:i,toFileURI:a});return(0,Q.jsx)("a",{href:u,children:t})},[E.GKr.Group]:e=>{let{annotation:r,exportArgs:t}=e;const o=(0,I.kF)({annotation:r,exportArgs:t});if(o)return function(e){return(0,Q.jsx)("span",{className:"group",children:e})}(o)},[E.GKr.ExternalObjectInstance]:e=>{var r;let{annotation:t,exportArgs:o}=e;const s=E.frW(t),n=o.getRecordValue({table:S.iU,id:s,spaceId:o.root.spaceId}),i=null==n||null===(r=n.format)||void 0===r?void 0:r.original_url;if(i)return(0,Q.jsx)("a",{href:i,children:i})},[E.GKr.User]:e=>{let{annotation:r,exportArgs:t}=e;const o=E.zEN(r),s=t.getRecordValue({table:U.KJ,id:o});if(s)return n=t.intl,i=s,(0,Q.jsxs)("span",{className:"user",children:["@",(0,Z.Nz)(n,i)]});var n,i},[E.GKr.Bot]:e=>{let{annotation:r,exportArgs:t}=e;const o=E._Rq(r),s=t.getRecordValue({table:C.cZ,id:o});if(s)return n=s,(0,Q.jsxs)("span",{className:"bot",children:["@",(0,c.Mh)(n)]});var n},[E.GKr.Page]:e=>{const{annotation:r,exportArgs:t}=e,{getRecordValue:o,getExportedPathToPage:s}=t,n=E.TOT(r),i=o({table:S.iU,id:n});if(i){if("page"===i.type||"collection_view_page"===i.type){const e=(0,I.Ho)({intl:t.intl,blockId:n,getRecordValue:t.getRecordValue,userTimeZone:t.userTimeZone}),r=s({toPageId:n}),o=(0,Q.jsx)(fe,{block:i,exportArgs:t});return(0,Q.jsxs)("a",{href:r,children:[o,e||t.intl.formatMessage({id:"export.linkToPage.untitledPagePlaceholder",defaultMessage:"Untitled"})]})}if("external_object_instance_page"===i.type){var l;const e=null===(l=i.format)||void 0===l?void 0:l.uri,r=E.QaF(m.wS(i,"title"));if(e)return(0,Q.jsx)("a",{href:e,children:r||e})}}},[E.GKr.Comment]:e=>{let{annotation:r,exportArgs:t}=e;const{getRecordValue:o,baseUrl:s}=t,n=$.om.fromGetRecordValueFn(o),l=E.$WM(r);if(!l)return;const c=n(l);if(!c)return;const a=c.getParentId(),d=c.getParentPointer(),u=(0,M.el)((0,M.DW)(d,o));if(!u)return;const m=n(d);let p;if(m){const e=n(m.getParentPointer());p=e&&"table_row"===e.getType()?e.getParentId():m.getParentId()}const x=(0,g.Z)({pageId:u.id,scrollToBlockId:p,pageValue:u,baseUrl:s,discussionId:a,pageVisitSource:i.tY.Export});return(0,Q.jsx)("a",{href:x,children:x})},[E.GKr.Date]:e=>{let{annotation:r,exportArgs:t}=e;const{date_format:o,time_format:s,...n}=E.zyO(r);return ie({allowRelativeDates:!1,value:n,date_format:o,time_format:s,userTimeZone:t.userTimeZone,intl:t.intl})},[E.GKr.Equation]:function(e){let{annotation:r,exportArgs:t}=e;const s=E.xey(r),{katex:n}=t;return(0,Q.jsxs)(o.Fragment,{children:[(0,Q.jsx)(f.k7,{}),D.CY({katex:n,equation:s,index:0,intl:t.intl,isTemporary:!1,theme:(0,h.gh)({theme:"light"})})]})},[E.GKr.Discussion]:I.Hf,[E.GKr.Inserted]:I.Hf,[E.GKr.Deleted]:I.Hf,[E.GKr.TemporaryComment]:I.Hf,[E.GKr.TemporaryEquation]:I.Hf,[E.GKr.TemporaryPage]:I.Hf,[E.GKr.TemporaryInput]:I.Hf,[E.GKr.TemporarySelection]:I.Hf,[E.GKr.TemporaryFindHighlight]:I.Hf,[E.GKr.TemplateVariable]:I.Hf,[E.GKr.FormulaPageProperty]:I.Hf,[E.GKr.FormulaContextValue]:I.Hf,[E.GKr.FormulaError]:I.Hf,[E.GKr.Citation]:I.Hf};function re(e,r,t){if(!e)return;let o=e.icon;return e.icon&&(e.icon.startsWith("/icons/")||e.icon.startsWith("/images/"))&&(o=t.getExportedRenderAsset({fromBlockId:r.id,toFileURI:e.icon})),(0,Q.jsx)("span",{className:"icon property-icon",children:(0,Q.jsx)(k.ZP,{type:e.type,icon:o,size:14,theme:(0,h.gh)({theme:"light"})})})}function te(e){const{user:r,exportArgs:t}=e,o=(0,Z.Nz)(t.intl,r)[0];let s=(0,Q.jsx)("span",{className:"icon text-icon user-icon",children:(0,Q.jsx)("span",{className:"user-icon-inner",children:o})});if(r.profile_photo){const e=t.getExportedRenderAsset({fromBlockId:t.blockId,toFileURI:r.profile_photo});s=(0,Q.jsx)("img",{src:e,className:"icon user-icon"})}return(0,Q.jsxs)("span",{className:"user",children:[s,(0,Z.Nz)(t.intl,r)]})}function oe(e){const r=$.kk.fromBot(e.bot),t=(0,c.Mh)(r)[0],o=(0,Q.jsx)("span",{className:"icon text-icon user-icon",children:(0,Q.jsx)("span",{className:"user-icon-inner",children:t})});return(0,Q.jsxs)("span",{className:"user",children:[o,(0,c.Mh)(r)]})}function se(e,r){const t=R.oA(["selected-value",r&&r.color&&`select-value-color-${r.color}`]).join(" ");return(0,Q.jsx)("span",{className:t,children:e},e)}function ne(e){if(e)return(0,Q.jsx)("a",{href:e,className:"url-value",children:e})}function ie(e){const r=(0,v.ZV)(e);return(0,Q.jsxs)("time",{children:["@",r]})}const le={title:e=>{const{exportArgs:r,renderers:t}=e,{getRecordValue:o}=r;if(r.blockId!==r.navigableBlockId){const e=o({table:S.iU,id:r.blockId});return(0,I.cN)({renderers:t,exportArgs:r,annotation:E.$0A(r.blockId,null==e?void 0:e.space_id),children:""})}return O(e)},text:O,select:e=>{const{textValue:r,propertySchema:t}=e,o=t.options||[],s=m.Sj(r,o),n=o.find((e=>e.value===s));return s&&se(s,n)},multi_select:e=>{const{textValue:r,propertySchema:t}=e,o=t.options||[],s=m.uP(r,o);return s.sort(),s.map((e=>{const r=o.find((r=>r.value===e));return se(e,r)}))},status:e=>{const{textValue:r,propertySchema:t}=e,o=t,s=o.options||[],n=m.Sj(r,s)??o.defaultOption,i=s.find((e=>e.value===n));return n&&function(e,r){const t=R.oA(["status-value",r&&r.color&&`select-value-color-${r.color}`]).join(" "),o=R.oA(["status-dot",r&&r.color&&`status-dot-color-${r.color}`]).join(" ");return(0,Q.jsxs)("span",{className:t,children:[(0,Q.jsx)("div",{className:o}),e]},e)}(n,i)},relation:e=>{const{textValue:r,propertySchema:t,exportArgs:o}=e;if("relation"!==t.type)return;const s=m.j$({relationValue:m.rq(r),getRecordModel:$.om.fromGetRecordValueFn(o.getRecordValue),propertySchema:t}),n=m.ow(s);return function(e){const{textValue:r}=e;if(r){const t=[];for(let o=0;o<r.length;o++){const s=r[o];E.QJH(s)||(t.push(O({...e,textValue:[s]})),o<r.length-1&&t.push(", "))}return W(t)}}({...e,textValue:n})},rollup:e=>{const r=e.exportArgs.getRecordValue,t=$.kk.fromValue(S.iU,e.block),o=$.om.fromGetRecordValueFn(r);return p.kJ({...e,block:t,getRecordModel:o,collectionRequestContext:{userId:void 0,userTimeZone:e.exportArgs.userTimeZone,depth:0,intl:e.exportArgs.intl,visitedProperties:new Set,resultCache:{}}})},url:e=>{let{textValue:r}=e;return ne(m.zB(r))},email:e=>{let{textValue:r}=e;return ne(m.zB(r))},phone_number:e=>{let{textValue:r}=e;return ne(m.zB(r))},checkbox:e=>{let{textValue:r}=e;return m.Ml(r)?L:X},person:e=>{let{textValue:r,exportArgs:t,propertySchema:o,block:s}=e;const n=$.kk.fromBlock(s),i=m.DW({textValue:r,propertySchema:o,blockCreatorPointer:n.getCreatedByPointer()});return W(R.oA(i.map((e=>$e({actorPointer:e,exportArgs:t})))))},number:e=>{let{textValue:r,propertySchema:t,exportArgs:o}=e;const s=m.VY(r);if(void 0!==s)return"number"===t.type?V.uf(s,t.number_format,o.intl):s.toString()},date:e=>{let{textValue:r,propertySchema:t,...o}=e;const s=o.exportArgs.userTimeZone,n=m.Gl(r),{date_format:i,time_format:l}=t;if(n)return ie({allowRelativeDates:!1,value:n,date_format:i,time_format:l,userTimeZone:s,intl:o.exportArgs.intl})},file:e=>{let{textValue:r,exportArgs:t,renderers:o}=e;return W(m.g(r).map(((e,r)=>{let{url:s,name:n}=e;let i=n;if(_.SR({url:s})){const e=t.getExportedRenderAsset({fromBlockId:t.blockId,toFileURI:s});i=(0,Q.jsx)("img",{style:{width:20,maxHeight:24},src:e,alt:n})}const l=o.annotationRenderers.a({annotation:E.edl(s),exportArgs:t,renderers:o,children:i});return(0,Q.jsx)("span",{style:{marginRight:6},children:l},r)})))},formula:e=>{const{property:r,schema:t,block:o,exportArgs:s}=e,{userTimeZone:n,getRecordValue:i,intl:l}=s,c=(0,d.py)(t,r,$.kk.fromBlock(o),$.om.fromGetRecordValueFn(i),l,n,0);return"boolean"==typeof c?c?L:X:(0,q.hj)(c)?c.toString():(0,b.U3)(c)?ie({allowRelativeDates:!1,value:c,userTimeZone:n,intl:s.intl}):c},created_time:e=>{const{block:r,exportArgs:t}=e,{userTimeZone:o}=t;if(r.created_time)return ie({allowRelativeDates:!1,value:(0,j.CQ)(r.created_time,o),userTimeZone:o,intl:t.intl})},last_edited_time:e=>{const{block:r,exportArgs:t}=e,{userTimeZone:o}=t;if(r.last_edited_time)return ie({allowRelativeDates:!1,value:(0,j.CQ)(r.last_edited_time,o),userTimeZone:o,intl:t.intl})},created_by:e=>{const{block:r,exportArgs:t}=e;return $e({actorPointer:$.kk.fromBlock(r).getCreatedByPointer(),exportArgs:t})},last_edited_by:e=>{const{block:r,exportArgs:t}=e;return $e({actorPointer:$.kk.fromBlock(r).getLastEditedByPointer(),exportArgs:t})},button:()=>"",auto_increment_id:e=>{let{textValue:r,block:t,exportArgs:o}=e;const{getRecordValue:s}=o,n=m.ah(r);if(void 0!==n){const e=$.kk.fromBlock(t),r=e.getParentTable();if(r!==G.v)return;const o=s((0,x.We)({spaceId:e.getSpaceId(),parentTable:r,parentId:e.getParentId()}));return(0,a.wf)(null==o?void 0:o.record_key,n)}},location:()=>"",last_visited_time:()=>"",verification:e=>{let{textValue:r,exportArgs:t}=e;const o=m._w(r);if(!o)return"";const s=z.WN(o);return t.intl.formatMessage(z.A3(s.type))}};function ce(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];if($.kk.fromBlock(e).isType(l.Zj)){const r=e.format?e.format.block_color:void 0;if(r)return{className:[`block-color-${r}`,...t].join(" ")}}return{className:t.join(" ")}}function ae(e){const{block:r,exportArgs:t,renderers:o}=e;return O({textValue:$.kk.fromBlock(r).getProperties().title,exportArgs:t,renderers:o})}function de(e){const{block:r,exportArgs:t,renderers:o}=e;return O({textValue:$.kk.fromBlock(r).getProperties().caption,exportArgs:t,renderers:o})}function ue(e){const{block:r,exportArgs:t,renderers:o}=e,s=r.content;if(!s)return;return W(R.oA(s.filter((e=>!(t.visitedBlockIds||new Set).has(e)&&r.id!==e)).map((e=>(0,I._2)({exportArgs:{...t,blockId:e,renderParentBlockId:r.id,visitedBlockIds:(t.visitedBlockIds||new Set).add(r.id)},renderers:o})))))}async function me(e){const{block:r,exportArgs:t,renderers:o,ticker:s}=e,n=r.content;if(!n)return;const i=n.filter((e=>!(t.visitedBlockIds||new Set).has(e)&&r.id!==e)),l=await Promise.all(i.map((async e=>{const n=await(0,I._f)({exportArgs:{...t,blockId:e,renderParentBlockId:r.id,visitedBlockIds:(t.visitedBlockIds||new Set).add(r.id)},renderers:o,ticker:s});return await s.maybeYield(),n})));return Promise.resolve(W(R.oA(l)))}function pe(e){const{block:r,exportArgs:t}=e,o=(0,w.ky)({getRecordValue:t.getRecordValue,block:r});if(!o)return null;const s=(0,u.oC)(o);let n=[];if(o.format){var i;const e=(0,A.iB)(o.format,s,void 0,A.j5.Page);null!=e&&null!==(i=e.collection_page_properties)&&void 0!==i&&i.length&&e.collection_page_properties.forEach((r=>{if("space"===t.root.table)n.push(r.property);else if("block"===t.root.table){var o;if(null!=e&&null!==(o=e.property_visibility)&&void 0!==o&&o.length){const t=e.property_visibility.find((e=>e.property===r.property));t&&"hide"!==t.visibility&&n.push(r.property)}}}))}else{const e=Object.keys(s);n=R.MR(e,(e=>{const r=s[e];return r&&r.name||""}))}const l=[];n.forEach((o=>{const n=s[o];if("title"===o)return null;if(!n)return null;const i=(0,I.Wy)({...e,property:o,schema:s,block:r});i&&l.push((0,Q.jsxs)("tr",{className:`property-row property-row-${n.type}`,children:[(0,Q.jsxs)("th",{children:[re(n,r,t),n.name]}),(0,Q.jsx)("td",{children:i})]},o))}));const c=R.oA(l);return(0,Q.jsx)("table",{className:"properties",children:(0,Q.jsx)("tbody",{children:c})})}function xe(e){const{title:r,children:t,block:o,exportArgs:s,description:n}=e,i=$.kk.fromBlock(o),l=$.om.fromGetRecordValueFn(s.getRecordValue);let c;const a=i.getRenderIcon({getRecordModel:l}),d=o.format&&o.format.page_font;let u;const{cover:m,cover_position:p}=function(e,r){let t,o;if("page"===e.type&&e.format&&(t=e.format.page_cover,o=e.format.page_cover_position),"collection_view"===e.type||"collection_view_page"===e.type){const s=$.kk.fromBlock(e).getCollectionPointer();if(s){const e=r(s);e&&(t=e.cover,o=e.format&&e.format.collection_cover_position)}}return{cover:t,cover_position:o}}(o,s.getRecordValue);if(m){const e=m&&s.getExportedRenderAsset({fromBlockId:o.id,toFileURI:m}),r="number"==typeof p?`center ${100*(1-p||0)}%`:"center 50%";e&&(u=(0,Q.jsx)("img",{className:"page-cover-image",src:e,style:{objectPosition:r}}))}return a&&a.icon&&(c=(0,Q.jsx)("div",{className:`page-header-icon ${m&&"page-header-icon-with-cover"}`,children:(0,Q.jsx)(fe,{block:o,exportArgs:s})})),(0,Q.jsxs)("article",{id:o.id,className:`page ${d||"sans"}`,children:[(0,Q.jsxs)("header",{children:[u,c,(0,Q.jsx)("h1",{className:"page-title",children:r}),(0,Q.jsx)("p",{className:"page-description",children:n}),(0,Q.jsx)(pe,{...e})]}),(0,Q.jsx)("div",{className:"page-body",children:t})]})}function he(e){const{exportArgs:r,renderers:t,block:o}=e,{getRecordValue:s}=r,n=s({table:S.iU,id:r.blockId}),i=(0,I.cN)({children:"",annotation:E.$0A(r.blockId,null==n?void 0:n.space_id),exportArgs:r,renderers:t});return(0,Q.jsx)("figure",{id:r.blockId,...ce(o,"link-to-page"),children:i})}function fe(e){const{block:r,exportArgs:t}=e,{getRecordValue:o,getExportedRenderAsset:s}=t,n=$.kk.fromBlock(r),i=$.om.fromGetRecordValueFn(o),l=n.getRenderIcon({getRecordModel:i});if(l&&l.icon){const e=l.icon;if((0,B.Z)(e))return(0,Q.jsx)("span",{className:"icon",children:e});const r=s({fromBlockId:t.blockId,toFileURI:e});return(0,Q.jsx)("img",{className:"icon",src:r})}return null}function ke(e){const{block:r,exportArgs:t,renderers:o}=e,{source:s}=$.kk.fromBlock(r).getProperties(),n=E.QaF(s);let i,c;(0,l.XD)(r.type)&&(i=ae({block:r,exportArgs:t,renderers:o}));const a=$.kk.fromBlock(r);a.isType(l.oe)&&(c=function(e){const{block:r,exportArgs:t,renderers:o}=e;return O({textValue:r.getProperties().caption,exportArgs:t,renderers:o})}({block:a,exportArgs:t,renderers:o}));const d=(0,I.cN)({annotation:E.edl(n),children:i||n,renderers:o,exportArgs:t});return(0,Q.jsxs)("figure",{id:r.id,children:[(0,Q.jsx)("div",{...ce(r,"source"),children:d}),c&&(0,Q.jsx)("figcaption",{children:c})]})}async function ge(e){return await e.ticker.maybeYield(),ke(e)}function be(e){var r;const{block:t}=e,o=null===(r=t.format)||void 0===r?void 0:r.original_url;if(o)return(0,Q.jsx)("figure",{id:t.id,children:(0,Q.jsx)("div",{...ce(t,"source"),children:o})})}function ve(e){const{block:r,exportArgs:t,linkToImage:o}=e,s=de(e),n=E.QaF($.kk.fromBlock(r).getProperties().source),i=t.getExportedRenderAsset({fromBlockId:r.id,toFileURI:n}),l={},c={};return r.format&&(r.format.block_full_width?l.width="100%":r.format.block_width&&(l.width=r.format.block_width),r.format.block_alignment&&(c.textAlign=r.format.block_alignment)),(0,Q.jsxs)("figure",{id:e.block.id,...ce(r,"image"),style:c,children:[o?(0,Q.jsx)("a",{href:i,children:(0,Q.jsx)("img",{style:l,src:i})}):(0,Q.jsx)("img",{style:l,src:i}),s&&(0,Q.jsx)("figcaption",{children:s})]})}function je(e){var r;const{block:t,exportArgs:o,renderers:s}=e,n=$.kk.fromBlock(t);if(!n.isCollectionView())return;const i=(0,I.J6)({...e,blockModel:n});if(!i)return;if(Boolean(null===(r=t.content)||void 0===r?void 0:r.length)&&i.collectionModel.isPageTreeCollection())return(0,Q.jsx)(xe,{title:i.collectionModel.getName(),...e,children:ue(e)});const l=(0,I.LK)({...e,blockModel:n});if(!l)return;const{schema:c,sortedBlocks:a,columnIds:d,columnIdToName:u,collectionDescription:m,collectionTitle:p,sortingInfo:x,filteringInfo:h}=l,f=(o.exportCollectionsV1Enabled?a.slice(0,J):a).map((e=>{const r=d.map((r=>{const t=(0,I.Wy)({exportArgs:{...o,blockId:e.id},renderers:s,schema:c,property:r,block:e});return(0,Q.jsx)("td",{className:`cell-${r}`,children:t},r)}));return(0,Q.jsx)("tr",{id:e.id,children:r},e.id)})),k=o.exportCollectionsV1Enabled&&(null!=x&&x.length||null!=h&&h.length)&&a.length>J?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)("div",{style:{fontSize:"0.7em"},children:[(0,Q.jsx)("b",{children:o.intl.formatMessage(Y.metadata)}),(0,Q.jsx)("br",{}),o.intl.formatMessage(Y.metadataMessage),(0,Q.jsx)("table",{children:(0,Q.jsxs)("tbody",{style:{fontSize:"0.7em"},children:[(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("th",{children:o.intl.formatMessage(Y.propertyName)}),(0,Q.jsx)("th",{children:o.intl.formatMessage(Y.propertyType)}),(0,Q.jsx)("th",{children:o.intl.formatMessage(Y.condition)})]}),h&&h.map((e=>{const r=e.filter;return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:u[r.property]}),(0,Q.jsx)("td",{children:o.intl.formatMessage(Y.filter)}),(0,Q.jsx)("td",{children:Pe(r.filter,o.intl)})]},`filter-${r.property}`)})),x&&x.map((e=>(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:u[e.property]}),(0,Q.jsx)("td",{children:o.intl.formatMessage(Y.sort)}),(0,Q.jsx)("td",{children:"ascending"===e.direction?o.intl.formatMessage(Y.ascendingOrder):o.intl.formatMessage(Y.descendingOrder)})]},`sort-${e.property}`)))]})}),(0,Q.jsx)("br",{})]})}):(0,Q.jsx)(Q.Fragment,{}),g=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("table",{className:"collection-content",children:[(0,Q.jsx)("thead",{children:(0,Q.jsx)("tr",{children:d.map(((e,r)=>{const s=c[e];return(0,Q.jsxs)("th",{children:[re(s,t,o),u[e]]},r)}))})}),(0,Q.jsx)("tbody",{children:f})]}),(0,Q.jsx)("br",{}),(()=>{if(o.exportCollectionsV1Enabled&&a.length>J){const e=o.getExportedPathToPage({toPageId:i.collectionModel.getParentId(),exportFileExt:".csv",toCollectionCSV:!0});return(0,Q.jsxs)("div",{children:[(0,Q.jsx)("div",{style:{fontSize:"0.7em"},children:o.intl.formatMessage(Y.footNote,{limit:J})}),(0,Q.jsx)("code",{children:decodeURI(e)})]})}})(),(0,Q.jsx)("br",{}),k]});return(0,I.Qx)(o)?(0,Q.jsx)(xe,{...e,title:p,description:m,children:g}):(0,Q.jsxs)("div",{id:t.id,...ce(t,"collection-content"),children:[(0,Q.jsx)("h4",{className:"collection-title",children:p}),g]})}function _e(e){return e.list_format?e.list_format:e.depth%3==0?"disc":e.depth%3==1?"circle":"square"}const ye={text:e=>{const r=e.block.id,t=ae(e),o=ue(e);return(0,Q.jsxs)("p",{id:r,...ce(e.block),children:[t||o?t:"\n",o&&(0,Q.jsx)("div",{className:"indented",children:o})]})},header:e=>{const r=e.block.id,t=ae(e);if((0,l.eJ)(e.block.type,e.block.format)){const r=ue(e);return(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{style:N.DK({}),children:t}),r&&(0,Q.jsx)("div",{className:"indented",children:r})]})}return(0,Q.jsx)("h1",{id:r,...ce(e.block),children:t})},sub_header:e=>{const r=e.block.id,t=ae(e);if((0,l.eJ)(e.block.type,e.block.format)){const r=ue(e);return(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{style:N.HV({}),children:t}),r&&(0,Q.jsx)("div",{className:"indented",children:r})]})}return(0,Q.jsx)("h2",{id:r,...ce(e.block),children:t})},sub_sub_header:e=>{const r=e.block.id,t=ae(e);if((0,l.eJ)(e.block.type,e.block.format)){const r=ue(e);return(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{style:N.Jr({}),children:t}),r&&(0,Q.jsx)("div",{className:"indented",children:r})]})}return(0,Q.jsx)("h3",{id:r,...ce(e.block),children:t})},quote:e=>{const r=e.block.id,t=ae(e),o=ue(e);return(0,Q.jsxs)("blockquote",{id:r,...ce(e.block),children:[t,o]})},bulleted_list:e=>{const r=e.block.id,t=ae(e),o=ue(e),s=(0,I.ZW)(e);return(0,Q.jsx)("ul",{id:r,...ce(e.block,"bulleted-list"),children:(0,Q.jsxs)("li",{style:{listStyleType:_e(s)},children:[t,o]})})},toggle:e=>{const r=e.block.id,t=ae(e),o=ue(e);return(0,Q.jsx)("ul",{id:r,...ce(e.block,"toggle"),children:(0,Q.jsx)("li",{children:(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{children:t}),o]})})})},to_do:e=>{const{block:r}=e,t=m.Ml($.kk.fromBlock(r).getProperties().checked),o=t?L:X,s=t?"checked":"unchecked";return(0,Q.jsx)("ul",{id:r.id,...ce(r,"to-do-list"),children:(0,Q.jsxs)("li",{children:[o," ",(0,Q.jsx)("span",{className:`to-do-children-${s}`,children:ae(e)}),(0,Q.jsx)("div",{className:"indented",children:ue(e)})]})})},numbered_list:e=>{const r=(0,I.K9)(e);return(0,Q.jsx)("ol",{type:r.format,id:e.block.id,...ce(e.block,"numbered-list"),start:r.index+1,children:(0,Q.jsxs)("li",{children:[ae(e),ue(e)]})})},code:e=>{let{block:r}=e;const t=$.kk.fromBlock(r).getProperties(),s=E.QaF(t.title),n=r.format||{},{code_wrap:i}=n,l=["code"];return i&&l.push("code-wrap"),(0,Q.jsx)(o.Fragment,{children:(0,Q.jsx)("pre",{id:r.id,...ce(r,...l),children:(0,Q.jsx)("code",{children:s})})})},page:e=>{const{exportArgs:r}=e,t=ae(e);return(0,I.Qx)(r)?(0,Q.jsx)(xe,{title:t,...e,children:ue(e)}):(0,Q.jsx)(he,{...e})},image:e=>ve({...e,linkToImage:!0}),video:ke,embed:ke,external_object_instance:be,bookmark:e=>{const{block:r,exportArgs:t}=e,{link:o,description:s}=$.kk.fromBlock(r).getProperties(),n=r.format||{},{bookmark_icon:i,bookmark_cover:l}=n,c=m.zB(o),a=ae(e),d=de(e),u=E.Jcv(s),p=l&&t.getExportedRenderAsset({fromBlockId:r.id,toFileURI:l}),x=i&&t.getExportedRenderAsset({fromBlockId:r.id,toFileURI:i});return(0,Q.jsxs)("figure",{id:r.id,children:[(0,Q.jsxs)("a",{href:c,...ce(r,"bookmark","source"),children:[(0,Q.jsxs)("div",{className:"bookmark-info",children:[(0,Q.jsxs)("div",{className:"bookmark-text",children:[(0,Q.jsx)("div",{className:"bookmark-title",children:a}),u&&(0,Q.jsx)("div",{className:"bookmark-description",children:u})]}),(0,Q.jsxs)("div",{className:"bookmark-href",children:[x&&(0,Q.jsx)("img",{src:x,className:"icon bookmark-icon"}),c]})]}),p&&(0,Q.jsx)("img",{src:p,className:"bookmark-image"})]}),d&&(0,Q.jsx)("figcaption",{children:d})]})},drive:e=>{const{block:r}=e;if(r.format&&r.format.drive_properties){const{url:e,title:t,icon:o}=r.format.drive_properties;return(0,Q.jsx)("figure",{id:r.id,children:(0,Q.jsxs)("div",{className:"bookmark source",children:[o&&(0,Q.jsx)("img",{style:{width:"1em",height:"1em",marginRight:"0.5em",verticalAlign:"text-bottom"},src:o}),(0,Q.jsx)("a",{href:e,children:t}),(0,Q.jsx)("br",{}),(0,Q.jsx)("a",{className:"bookmark-href",href:e,children:e})]})})}return ke(e)},file:ke,tweet:ke,maps:ke,gist:ke,framer:ke,whimsical:ke,miro:ke,abstract:ke,sketch:ke,excalidraw:ke,replit:ke,invision:ke,figma:ke,loom:ke,pdf:ke,typeform:ke,codepen:ke,audio:ke,mixpanel:ke,hex:ke,deepnote:ke,divider:e=>{let{block:r}=e;return(0,Q.jsx)("hr",{id:r.id})},equation:e=>{let{block:r,exportArgs:t}=e;const{title:o}=$.kk.fromBlock(r).getProperties();if(!o)return;const{katex:s}=t,n=E.QaF(o);let i;try{const e=s?s.renderToString(n,{displayMode:!0}):n;i=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(f.k7,{}),(0,Q.jsx)("div",{className:"equation-container",dangerouslySetInnerHTML:{__html:e}},"value")]})}catch(l){i=(0,Q.jsx)("div",{className:"equation-error",children:(0,y.tg)(l).message},"error")}return(0,Q.jsx)("figure",{id:r.id,...ce(r,"equation"),children:i})},collection_view:je,collection_view_page:e=>{const{exportArgs:r}=e;return(0,I.Qx)(r)?je(e):(0,Q.jsx)(he,{...e})},column_list:e=>{const r=ue(e);return(0,Q.jsx)("div",{id:e.block.id,...ce(e.block,"column-list"),children:r})},column:e=>{const r=100*(e.block.format&&e.block.format.column_ratio||1)+"%",t=ue(e);return(0,Q.jsx)("div",{id:e.block.id,style:{width:r},...ce(e.block,"column"),children:t})},personal_home_page:()=>{},factory:()=>{},copy_indicator:()=>{},breadcrumb:()=>{},link_to_collection:()=>{},link_to_page:()=>{},table_of_contents:e=>{const{exportArgs:r,block:t}=e,{getRecordValue:o}=r,s=(0,I.Gb)(r);if(!s)return;const n=K.Q(s.id,$.om.fromGetRecordValueFn(o));return(0,Q.jsx)("nav",{id:t.id,...ce(t,"table_of_contents"),children:W(n.map(((s,i)=>{const l=K.y({headerBlockId:s,headerBlockIds:n,index:i,getRecordModel:$.om.fromGetRecordValueFn(o)}),c=o({table:S.iU,id:s});if(c){const o=ae({...e,block:c,exportArgs:{...r,blockId:s,renderParentBlockId:t.id}});return(0,Q.jsx)("div",{className:`table_of_contents-item table_of_contents-indent-${l}`,children:(0,Q.jsx)("a",{className:"table_of_contents-link",href:`#${s}`,children:o})},i)}})))})},callout:e=>{const{block:r,exportArgs:t}=e,o=ae(e),s=ue(e);if(o)return(0,Q.jsxs)("figure",{...ce(r,"callout"),style:{whiteSpace:"pre-wrap",display:"flex"},id:r.id,children:[(0,Q.jsx)("div",{style:{fontSize:"1.5em"},children:(0,Q.jsx)(fe,{block:r,exportArgs:t})}),(0,Q.jsxs)("div",{style:{width:"100%"},children:[o,s]})]})},alias:e=>{const{block:r,exportArgs:t}=e;if(r.format&&r.format.alias_pointer)return(0,I._2)({exportArgs:{...t,blockId:r.format.alias_pointer.id,renderParentBlockId:r.id,visitedBlockIds:(t.visitedBlockIds||new Set).add(r.id)},renderers:Ae})},transclusion_container:e=>{const r=ue(e);return(0,Q.jsx)("div",{children:r})},transclusion_reference:e=>{const{block:r,exportArgs:t}=e;if(r.format&&r.format.transclusion_reference_pointer)return(0,I._2)({exportArgs:{...t,blockId:r.format.transclusion_reference_pointer.id,renderParentBlockId:r.id,visitedBlockIds:(t.visitedBlockIds||new Set).add(r.id)},renderers:Ae})},table:e=>{var r,t,o;const{block:s,exportArgs:n}=e,i=null===(r=s.format)||void 0===r?void 0:r.table_block_column_order,l=null===(t=s.format)||void 0===t?void 0:t.table_block_column_header,c=s.content,a=(null===(o=n.table)||void 0===o||null===(o=o[s.id])||void 0===o?void 0:o.renderRows)??c;if(i&&a&&c){const e=l&&a[0]===c[0];return(0,Q.jsxs)("table",{id:s.id,...ce(s,"simple-table"),children:[e&&(0,Q.jsx)("thead",{className:"simple-table-header",children:(0,I._2)({exportArgs:{...n,blockId:a[0],renderParentBlockId:s.id,visitedBlockIds:(n.visitedBlockIds||new Set).add(s.id)},renderers:Ae})}),(0,Q.jsx)("tbody",{children:(e?a.slice(1):a).map((e=>(0,I._2)({exportArgs:{...n,blockId:e,renderParentBlockId:s.id,visitedBlockIds:(n.visitedBlockIds||new Set).add(s.id)},renderers:Ae})))})]})}},table_row:e=>{var r,t,o,s;const{block:n,exportArgs:i}=e,{getRecordValue:l,renderParentBlockId:c}=i;if(!c)return;const a=l({table:S.iU,id:c}),d=(null==a||null===(r=a.format)||void 0===r?void 0:r.table_block_column_header)&&(null==a?void 0:a.content)&&a.content[0]===n.id,u=null==a||null===(t=a.format)||void 0===t?void 0:t.table_block_column_format,m=(e,r,t)=>{var o;return u&&u[r]&&u[r].color?`block-color-${u[r].color}`:null!==(o=e.format)&&void 0!==o&&o.block_color?`block-color-${e.format.block_color}`:t?"simple-table-header-color":""},p=null==a||null===(o=a.format)||void 0===o?void 0:o.table_block_column_order,x=a?(null===(s=i.table)||void 0===s?void 0:s[a.id].renderColumns)??p:p;return p&&x?(0,Q.jsx)("tr",{id:n.id,children:x.map((e=>{var r;const t=O({textValue:n.properties&&e in n.properties?n.properties[e]:void 0,exportArgs:i,renderers:Ae}),o=(null==a||null===(r=a.format)||void 0===r?void 0:r.table_block_row_header)&&e===p[0],s=(e=>{if(u&&u[e]&&u[e].width)return u[e].width})(e);return d||o?(0,Q.jsx)("th",{id:e,className:`${m(n,e,!0)} simple-table-header`,style:s?{width:`${s}px`}:{},children:t},e):(0,Q.jsx)("td",{id:e,className:m(n,e,!1),style:s?{width:`${s}px`}:{},children:t},e)}))},n.id):void 0},tab:e=>{var r;const{block:t,exportArgs:s}=e,{getRecordValue:n}=s;return(0,Q.jsx)("div",{id:e.block.id,...ce(e.block,"tab"),children:null===(r=t.content)||void 0===r?void 0:r.map((r=>{const t=n({table:S.iU,id:r});if(t)return(0,Q.jsxs)(o.Fragment,{children:[(0,Q.jsx)("div",{style:{borderBottom:"0.05em solid",borderBottomColor:(0,h.gh)({theme:"light"}).lightDividerColor},children:ae({...e,block:t,exportArgs:{...s,blockId:r,renderParentBlockId:e.block.id}})}),ue({...e,block:t})]},r)}))})},external_object_instance_page:()=>{},button:()=>{},ai_block:e=>{const r=ue(e);return(0,Q.jsx)("div",{children:r})},drawing:()=>{}},Ie={text:async e=>{const r=e.block.id,t=ae(e),o=await me(e);return(0,Q.jsxs)("p",{id:r,...ce(e.block),children:[t||o?t:"\n",o&&(0,Q.jsx)("div",{className:"indented",children:o})]})},header:async e=>{const r=e.block.id,t=ae(e);if((0,l.eJ)(e.block.type,e.block.format)){const r=await me(e);return(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{style:N.DK({}),children:t}),r&&(0,Q.jsx)("div",{className:"indented",children:r})]})}return(0,Q.jsx)("h1",{id:r,...ce(e.block),children:t})},sub_header:async e=>{const r=e.block.id,t=ae(e);if((0,l.eJ)(e.block.type,e.block.format)){const r=await me(e);return(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{style:N.HV({}),children:t}),r&&(0,Q.jsx)("div",{className:"indented",children:r})]})}return(0,Q.jsx)("h2",{id:r,...ce(e.block),children:t})},sub_sub_header:async e=>{const r=e.block.id,t=ae(e);if((0,l.eJ)(e.block.type,e.block.format)){const r=await me(e);return(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{style:N.Jr({}),children:t}),r&&(0,Q.jsx)("div",{className:"indented",children:r})]})}return(0,Q.jsx)("h3",{id:r,...ce(e.block),children:t})},quote:async e=>{const r=e.block.id,t=ae(e),o=await me(e);return(0,Q.jsxs)("blockquote",{id:r,...ce(e.block),children:[t,o]})},bulleted_list:async e=>{const r=e.block.id,t=ae(e),o=await me(e),s=(0,I.ZW)(e);return(0,Q.jsx)("ul",{id:r,...ce(e.block,"bulleted-list"),children:(0,Q.jsxs)("li",{style:{listStyleType:_e(s)},children:[t,o]})})},toggle:async e=>{const r=e.block.id,t=ae(e),o=await me(e);return(0,Q.jsx)("ul",{id:r,...ce(e.block,"toggle"),children:(0,Q.jsx)("li",{children:(0,Q.jsxs)("details",{open:!0,children:[(0,Q.jsx)("summary",{children:t}),o]})})})},to_do:async e=>{const{block:r}=e,t=m.Ml($.kk.fromBlock(r).getProperties().checked),o=t?L:X,s=t?"checked":"unchecked";return(0,Q.jsx)("ul",{id:r.id,...ce(r,"to-do-list"),children:(0,Q.jsxs)("li",{children:[o," ",(0,Q.jsx)("span",{className:`to-do-children-${s}`,children:ae(e)}),(0,Q.jsx)("div",{className:"indented",children:await me(e)})]})})},numbered_list:async e=>{const r=(0,I.K9)(e);return(0,Q.jsx)("ol",{type:r.format,id:e.block.id,...ce(e.block,"numbered-list"),start:r.index+1,children:(0,Q.jsxs)("li",{children:[ae(e),await me(e)]})})},code:async e=>{let{block:r,ticker:t}=e;const s=$.kk.fromBlock(r).getProperties(),n=E.QaF(s.title),i=r.format||{},{code_wrap:l}=i,c=["code"];return l&&c.push("code-wrap"),await t.maybeYield(),(0,Q.jsx)(o.Fragment,{children:(0,Q.jsx)("pre",{id:r.id,...ce(r,...c),children:(0,Q.jsx)("code",{children:n})})})},page:async e=>{const{exportArgs:r}=e,t=ae(e);return(0,I.Qx)(r)?(0,Q.jsx)(xe,{title:t,...e,children:await me(e)}):(0,Q.jsx)(he,{...e})},image:async e=>(await e.ticker.maybeYield(),ve({...e,linkToImage:!0})),video:ge,embed:ge,external_object_instance:async e=>(await e.ticker.maybeYield(),be(e)),bookmark:async e=>{const{block:r,exportArgs:t}=e,{link:o,description:s}=$.kk.fromBlock(r).getProperties(),n=r.format||{},{bookmark_icon:i,bookmark_cover:l}=n,c=m.zB(o),a=ae(e),d=de(e),u=E.Jcv(s),p=l&&t.getExportedRenderAsset({fromBlockId:r.id,toFileURI:l}),x=i&&t.getExportedRenderAsset({fromBlockId:r.id,toFileURI:i});return await e.ticker.maybeYield(),(0,Q.jsxs)("figure",{id:r.id,children:[(0,Q.jsxs)("a",{href:c,...ce(r,"bookmark","source"),children:[(0,Q.jsxs)("div",{className:"bookmark-info",children:[(0,Q.jsxs)("div",{className:"bookmark-text",children:[(0,Q.jsx)("div",{className:"bookmark-title",children:a}),u&&(0,Q.jsx)("div",{className:"bookmark-description",children:u})]}),(0,Q.jsxs)("div",{className:"bookmark-href",children:[x&&(0,Q.jsx)("img",{src:x,className:"icon bookmark-icon"}),c]})]}),p&&(0,Q.jsx)("img",{src:p,className:"bookmark-image"})]}),d&&(0,Q.jsx)("figcaption",{children:d})]})},drive:async e=>{const{block:r}=e;if(r.format&&r.format.drive_properties){const{url:e,title:t,icon:o}=r.format.drive_properties;return(0,Q.jsx)("figure",{id:r.id,children:(0,Q.jsxs)("div",{className:"bookmark source",children:[o&&(0,Q.jsx)("img",{style:{width:"1em",height:"1em",marginRight:"0.5em",verticalAlign:"text-bottom"},src:o}),(0,Q.jsx)("a",{href:e,children:t}),(0,Q.jsx)("br",{}),(0,Q.jsx)("a",{className:"bookmark-href",href:e,children:e})]})})}return ge(e)},file:ge,tweet:ge,maps:ge,gist:ge,framer:ge,whimsical:ge,miro:ge,abstract:ge,sketch:ge,excalidraw:ge,replit:ge,invision:ge,figma:ge,loom:ge,pdf:ge,typeform:ge,codepen:ge,audio:ge,mixpanel:ge,hex:ge,deepnote:ge,divider:async e=>{let{block:r,ticker:t}=e;return await t.maybeYield(),(0,Q.jsx)("hr",{id:r.id})},equation:async e=>{let{block:r,exportArgs:t,ticker:o}=e;const{title:s}=$.kk.fromBlock(r).getProperties();if(!s)return;const{katex:n}=t,i=E.QaF(s);let l;try{const e=n?n.renderToString(i,{displayMode:!0}):i;l=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(f.k7,{}),(0,Q.jsx)("div",{className:"equation-container",dangerouslySetInnerHTML:{__html:e}},"value")]})}catch(c){l=(0,Q.jsx)("div",{className:"equation-error",children:(0,y.tg)(c).message},"error")}return await o.maybeYield(),(0,Q.jsx)("figure",{id:r.id,...ce(r,"equation"),children:l})},collection_view:async function(e){return await e.ticker.maybeYield(),je(e)},collection_view_page:async e=>{const{exportArgs:r}=e;return await e.ticker.maybeYield(),(0,I.Qx)(r)?je(e):(0,Q.jsx)(he,{...e})},column_list:async e=>{const r=await me(e);return(0,Q.jsx)("div",{id:e.block.id,...ce(e.block,"column-list"),children:r})},column:async e=>{const r=100*(e.block.format&&e.block.format.column_ratio||1)+"%",t=await me(e);return(0,Q.jsx)("div",{id:e.block.id,style:{width:r},...ce(e.block,"column"),children:t})},personal_home_page:()=>Promise.resolve(void 0),factory:()=>Promise.resolve(void 0),copy_indicator:()=>Promise.resolve(void 0),breadcrumb:()=>Promise.resolve(void 0),link_to_collection:()=>Promise.resolve(void 0),link_to_page:()=>Promise.resolve(void 0),table_of_contents:async e=>{const{exportArgs:r,block:t}=e,{getRecordValue:o}=r,s=(0,I.Gb)(r);if(!s)return;const n=K.Q(s.id,$.om.fromGetRecordValueFn(o));return await e.ticker.maybeYield(),(0,Q.jsx)("nav",{id:t.id,...ce(t,"table_of_contents"),children:W(n.map(((s,i)=>{const l=K.y({headerBlockId:s,headerBlockIds:n,index:i,getRecordModel:$.om.fromGetRecordValueFn(o)}),c=o({table:S.iU,id:s});if(c){const o=ae({...e,block:c,exportArgs:{...r,blockId:s,renderParentBlockId:t.id}});return(0,Q.jsx)("div",{className:`table_of_contents-item table_of_contents-indent-${l}`,children:(0,Q.jsx)("a",{className:"table_of_contents-link",href:`#${s}`,children:o})},i)}})))})},callout:async e=>{const{block:r,exportArgs:t}=e,o=ae(e),s=await me(e);if(o)return(0,Q.jsxs)("figure",{...ce(r,"callout"),style:{whiteSpace:"pre-wrap",display:"flex"},id:r.id,children:[(0,Q.jsx)("div",{style:{fontSize:"1.5em"},children:(0,Q.jsx)(fe,{block:r,exportArgs:t})}),(0,Q.jsxs)("div",{style:{width:"100%"},children:[o,s]})]})},alias:async e=>{const{block:r,exportArgs:t,ticker:o}=e;if(r.format&&r.format.alias_pointer)return(0,I._f)({exportArgs:{...t,blockId:r.format.alias_pointer.id,renderParentBlockId:r.id,visitedBlockIds:(t.visitedBlockIds||new Set).add(r.id)},renderers:Ae,ticker:o})},transclusion_container:async e=>{const r=await me(e);return(0,Q.jsx)("div",{children:r})},transclusion_reference:async e=>{const{block:r,exportArgs:t,ticker:o}=e;if(r.format&&r.format.transclusion_reference_pointer)return(0,I._f)({exportArgs:{...t,blockId:r.format.transclusion_reference_pointer.id,renderParentBlockId:r.id,visitedBlockIds:(t.visitedBlockIds||new Set).add(r.id)},renderers:Ae,ticker:o})},table:async e=>{var r,t,o;const{block:s,exportArgs:n,ticker:i}=e,l=null===(r=s.format)||void 0===r?void 0:r.table_block_column_order,c=null===(t=s.format)||void 0===t?void 0:t.table_block_column_header,a=s.content,d=(null===(o=n.table)||void 0===o||null===(o=o[s.id])||void 0===o?void 0:o.renderRows)??a;if(l&&d&&a){const e=c&&d[0]===a[0];return(0,Q.jsxs)("table",{id:s.id,...ce(s,"simple-table"),children:[e&&(0,Q.jsx)("thead",{className:"simple-table-header",children:(0,I._2)({exportArgs:{...n,blockId:d[0],renderParentBlockId:s.id,visitedBlockIds:(n.visitedBlockIds||new Set).add(s.id)},renderers:Ae})}),(0,Q.jsx)("tbody",{children:await Promise.all((e?d.slice(1):d).map((async e=>(0,I._f)({exportArgs:{...n,blockId:e,renderParentBlockId:s.id,visitedBlockIds:(n.visitedBlockIds||new Set).add(s.id)},renderers:Ae,ticker:i}))))})]})}},table_row:async e=>{var r,t,o,s;const{block:n,exportArgs:i}=e,{getRecordValue:l,renderParentBlockId:c}=i;if(!c)return;const a=l({table:S.iU,id:c}),d=(null==a||null===(r=a.format)||void 0===r?void 0:r.table_block_column_header)&&(null==a?void 0:a.content)&&a.content[0]===n.id,u=null==a||null===(t=a.format)||void 0===t?void 0:t.table_block_column_format,m=(e,r,t)=>{var o;return u&&u[r]&&u[r].color?`block-color-${u[r].color}`:null!==(o=e.format)&&void 0!==o&&o.block_color?`block-color-${e.format.block_color}`:t?"simple-table-header-color":""},p=null==a||null===(o=a.format)||void 0===o?void 0:o.table_block_column_order,x=a?(null===(s=i.table)||void 0===s?void 0:s[a.id].renderColumns)??p:p;return p&&x?(await e.ticker.maybeYield(),(0,Q.jsx)("tr",{id:n.id,children:x.map((e=>{var r;const t=O({textValue:n.properties&&e in n.properties?n.properties[e]:void 0,exportArgs:i,renderers:Ae}),o=(null==a||null===(r=a.format)||void 0===r?void 0:r.table_block_row_header)&&e===p[0],s=(e=>{if(u&&u[e]&&u[e].width)return u[e].width})(e);return d||o?(0,Q.jsx)("th",{id:e,className:`${m(n,e,!0)} simple-table-header`,style:s?{width:`${s}px`}:{},children:t},e):(0,Q.jsx)("td",{id:e,className:m(n,e,!1),style:s?{width:`${s}px`}:{},children:t},e)}))},n.id)):void 0},tab:async e=>{var r;const{block:t,exportArgs:s}=e,{getRecordValue:n}=s,i=null===(r=t.content)||void 0===r?void 0:r.map((async r=>{const t=n({table:S.iU,id:r});if(t)return(0,Q.jsxs)(o.Fragment,{children:[(0,Q.jsx)("div",{style:{borderBottom:"0.05em solid",borderBottomColor:(0,h.gh)({theme:"light"}).lightDividerColor},children:ae({...e,block:t,exportArgs:{...s,blockId:r,renderParentBlockId:e.block.id}})}),await me({...e,block:t})]},r)}));return(0,Q.jsx)("div",{id:e.block.id,...ce(e.block,"tab"),children:i?await Promise.all(i):void 0})},external_object_instance_page:async()=>Promise.resolve(void 0),button:async()=>Promise.resolve(void 0),ai_block:async e=>{const r=await me(e);return(0,Q.jsx)("div",{children:r})},drawing:()=>Promise.resolve(void 0)},Ae={annotationRenderers:ee,propertyRenderers:le,blockRenderers:ye,asyncBlockRenderers:Ie};function we(e){return F.Z.renderToStaticMarkup((0,Q.jsx)(o.Fragment,{children:e}))}const Ne=Ae;function Pe(e,r){switch(e.operator){case"is_empty":return Be(e.operator,r,"Is empty");case"is_not_empty":return Be(e.operator,r,"Is not empty");case"string_has_no_alphabet_prefix":return Be(e.operator,r,"(Not used)");case"string_is":return`${Be(e.operator,r,"Is")} ${e.value.value}`;case"string_is_not":return`${Be(e.operator,r,"Is not")} ${e.value.value}`;case"string_contains":return`${Be(e.operator,r,"Contains")} ${e.value.value}`;case"string_does_not_contain":return`${Be(e.operator,r,"Does not contain")} ${e.value.value}`;case"string_starts_with":return`${Be(e.operator,r,"Starts with")} ${e.value.value}`;case"string_ends_with":return`${Be(e.operator,r,"Ends with")} ${e.value.value}`;case"number_equals":return`${Be(e.operator,r,"=")} ${e.value.value}`;case"number_does_not_equal":return`${Be(e.operator,r,"≠")} ${e.value.value}`;case"number_greater_than":return`${Be(e.operator,r,">")} ${e.value.value}`;case"number_less_than":return`${Be(e.operator,r,"<")} ${e.value.value}`;case"number_greater_than_or_equal_to":return`${Be(e.operator,r,"≥")} ${e.value.value}`;case"number_less_than_or_equal_to":return`${Be(e.operator,r,"≤")} ${e.value.value}`;case"checkbox_is":return`${Be(e.operator,r,"Is")} ${e.value.value}`;case"checkbox_is_not":return`${Be(e.operator,r,"Is not")} ${e.value.value}`;case"enum_is":return`${Be(e.operator,r,"Is")} ${e.value}`;case"enum_is_not":return`${Be(e.operator,r,"Is not")} ${e.value}`;case"verification_is":return`${Be("verification_status_is",r,"Is")} ${e.value}`;case"verification_is_not":return`${Be("verification_status_is_not",r,"Is not")} ${e.value}`;case"enum_contains":return`${Be(e.operator,r,"Contains")} ${Re(e)}`;case"enum_does_not_contain":return`${Be(e.operator,r,"Does not contain")} ${Re(e)}`;case"status_is":return`${Be(e.operator,r,"Is")} ${Re(e)}`;case"status_is_not":return`${Be(e.operator,r,"Is not")} ${Re(e)}`;case"relation_contains":return`${Be(e.operator,r,"Contains")} ${Re(e)}`;case"relation_does_not_contain":return`${Be(e.operator,r,"Does not contain")} ${Re(e)}`;case"location_is":return`${Be(e.operator,r,"Is")} ${Re(e)}`;case"location_is_not":return`${Be(e.operator,r,"Is not")} ${Re(e)}`;case"date_is":return`${Be(e.operator,r,"Is")} ${e.value.value}`;case"date_is_before":return`${Be(e.operator,r,"Is before")} ${e.value.value}`;case"date_is_after":return`${Be(e.operator,r,"Is after")} ${e.value.value}`;case"date_is_on_or_before":return`${Be(e.operator,r,"Is on or before")} ${e.value.value}`;case"date_is_on_or_after":return`${Be(e.operator,r,"Is on or after")} ${e.value.value}`}}function Be(e,r,t){if(e){const o=R.eV(e);return r.formatMessage({id:`collectionFilterMenuHelpers.operator.${o}`,defaultMessage:t})}return""}function Re(e){const r=e.value;if(Array.isArray(r)){return r.map((e=>e.value)).join(",")}return r.value}function $e(e){const{actorPointer:r,exportArgs:t}=e;if(!r)return null;const o=(0,n.LU)((0,n.Hl)({getRecordValue:t.getRecordValue,pointer:r}));if(o.asActor){if(o.isUser())return(0,Q.jsx)(te,{user:o,exportArgs:t});if(o.isBot())return(0,Q.jsx)(oe,{bot:o,exportArgs:t});o.isAgent()||(0,H.t1)(o)}return null}function Ve(e){const{discussionInfo:r,exportArgs:t,intl:o,userTimeZone:s,getRecordValue:n}=e,i=$.om.fromGetRecordValueFn(n),l=O({textValue:r.discussion.getContext(),exportArgs:t,renderers:Ae}),c={discussion:{id:r.discussion.id,context:l,resolved:r.discussion.resolved},comments:[]};return r.comments.forEach((e=>{const r=e.commentModel,n=O({textValue:r.getText(),exportArgs:t,renderers:Ae});if(n){const l=(0,j.kT)({date:e.commentModel.getLastEditedTime(),timezone:s}).toString(),a=e.authorModel.getDisplayName(o),d=e.authorModel.getIcon(),u={id:r.id,content:n,authorName:a,lastEditedAt:l,authorIcon:d,files:[]};if(r.getContent()){const e=r.getContentPointers(),o=[];e.forEach((e=>{const r=i(e);if(r){const e=E.QaF(r.getProperties().source),s=E.QaF(r.getProperties().title),n=t.getExportedPathToFile({fromBlockId:r.id,toFileURI:e});o.push({fileName:s,exportedFileUri:n})}})),u.files=o}c.comments.push(u)}})),c}function Me(e){const r=e.discussionProps.discussion.context,t=e.discussionProps.discussion.resolved,o=e.discussionProps.comments;return(0,Q.jsxs)("div",{className:"indented",children:[(0,Q.jsxs)("div",{children:[(0,Q.jsxs)("p",{style:{padding:"0.2em"},children:[(0,Q.jsx)("b",{children:e.intl.formatMessage(Y.discussionStatus)}),":"," ",t?e.intl.formatMessage(Y.discussionResolved):e.intl.formatMessage(Y.discussionUnResolved)]}),r?(0,Q.jsxs)("p",{style:{padding:"0.2em"},children:[(0,Q.jsx)("b",{children:e.intl.formatMessage(Y.discussionContext)}),":"," ",(0,Q.jsx)("mark",{className:"highlight-yellow_background",children:r})]},(0,T.ZP)()):null,(0,Q.jsx)("ul",{className:"toggle",children:o.map((e=>e.content?(0,Q.jsxs)("li",{children:[(0,Q.jsx)("div",{children:(0,Q.jsxs)("span",{className:"user",style:{padding:"0.2em"},children:[e.authorIcon?(0,Q.jsx)("img",{src:e.authorIcon,className:"icon user-icon"}):(0,Q.jsx)("span",{className:"icon text-icon user-icon",children:(0,Q.jsx)("span",{className:"user-icon-inner",children:e.authorName[0]})}),(0,Q.jsxs)("span",{children:[(0,Q.jsx)("b",{children:e.authorName})," ",(0,Q.jsx)("time",{children:e.lastEditedAt})]})]})}),(0,Q.jsx)("div",{style:{padding:"0.2em"},children:e.content}),(0,Q.jsx)("div",{style:{padding:"0.3em"},children:e.files?e.files.map(((e,r)=>(0,Q.jsx)("a",{href:e.exportedFileUri,className:"url-value",children:e.fileName},r))):null})]},e.id):null))})]}),(0,Q.jsx)("hr",{})]},e.discussionProps.discussion.id)}function Te(e){return(0,Q.jsxs)("span",{className:"sans",style:{fontSize:"14px",paddingTop:"2em"},children:[e.pageDiscussionProps.length||e.contentDiscussionProps.length?(0,Q.jsx)("hr",{}):null,e.pageDiscussionProps.length?(0,Q.jsxs)("details",{open:!0,style:{paddingTop:"1em"},children:[(0,Q.jsx)("summary",{style:N.Jr({}),children:e.intl.formatMessage(Y.pageComments)}),e.pageDiscussionProps.map(((r,t)=>(0,Q.jsx)(Me,{discussionProps:r,intl:e.intl},t)))]}):null,e.contentDiscussionProps.length?(0,Q.jsxs)("details",{open:!0,style:{paddingTop:"1em"},children:[(0,Q.jsx)("summary",{style:N.Jr({}),children:e.intl.formatMessage(Y.blockComments)}),e.contentDiscussionProps.map(((r,t)=>(0,Q.jsx)(Me,{discussionProps:r,intl:e.intl},t)))]}):null]})}}}]);