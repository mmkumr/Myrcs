"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6914],{13005:(e,t,n)=>{n.d(t,{ZP:()=>D,j9:()=>j,nJ:()=>b});var o=n(67294),r=n(480),i=n(86628),l=n(24405),s=n(80721),c=n(64275),d=n(12392),a=n(82990),u=n(5149),h=n(12534),p=n(87279),f=n(13273),v=n(25130),w=n(58421),g=n(64921),x=n(73063),m=n(36488),y=n(3386),S=n(78140),k=n(40721),C=n(85893);const b=290,j=400;function Z(e){let{children:t,title:n,settingsStackLength:o,handleClose:r,handleBackArrowClick:i,hideDesktopHeader:d}=e;window.__c={n:"CollectionSettingsMenuHeader"};const u=(0,l.yK)((e=>({hiddenDesktopHeaderDiv:{height:6},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:"center",padding:"14px 16px 6px 16px",height:42},arrowButon:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:a.Z.fontWeight.semibold,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.mediumTextColor}})),[]);return(0,C.jsxs)(C.Fragment,{children:[d&&(0,C.jsx)("div",{style:u.hiddenDesktopHeaderDiv}),!d&&(0,C.jsxs)("div",{style:u.nonHiddenDesktopHeaderDiv,children:[o>1&&(0,C.jsx)(x.Z,{icon:s.W,style:u.arrowButon,iconStyle:u.arrowIcon,onClick:i}),(0,C.jsx)("span",{style:u.title,children:n}),(0,C.jsx)(g.Z,{onClick:r,style:u.closeButton,hoveredStyle:u.closeButtonHover,children:(0,c.D)(u.closeIcon)})]}),t]})}const D=function(e){let{children:t,footer:n,header:l,unconstrainedWidth:s,desktopWidth:c,title:a,collectionSettingsStore:g,fullHeight:j,hideDesktopHeader:D,menuScrollerStyle:B,handleBackArrowClick:R,handleClose:A}=e;window.__c={n:"CollectionSettingsMenu"};const I=(0,r.Fy)(),{currentTab:L,settingsStackLength:H}=(0,i.VK)((()=>{const e=g.state;return{currentTab:(0,w.n)(g),settingsStackLength:e.stack.length}}),[g]),T=(0,o.useCallback)((()=>{R?R():u.z$({collectionSettingsStore:g})}),[R,g]),M=(0,o.useCallback)((e=>{A?A(e):(0,h.ZP)({event:e,context:h.Af.CollectionSettingsClick,callback:()=>{u.E3({collectionSettingsStore:g})}})}),[A,g]),P=(0,o.useCallback)((e=>{(0,f.jM)(e.target)||(0,f.al)(e.target)||M(e)}),[M]),{MenuArrowKeysProvider:z,context:E}=(0,v.ZP)();if(!L)return null;let K;if(I.isMobile)K={menuType:p.og.Modal,title:a,left:H>1&&(0,C.jsx)(x.Z,{icon:d.S,onClick:T}),right:(0,C.jsx)(k.DoneMenuText,{}),onClickRight:M,scrollerStyle:{...B}};else{const e=s||c?void 0:b;K={menuType:p.og.Popup,minWidth:b,width:c,maxHeight:j?"calc(100% - 16px)":"50vh",...e&&{maxWidth:e},onClickOutside:P,scrollerStyle:{flexGrow:0,...B},header:(0,C.jsx)(Z,{settingsStackLength:H,handleClose:M,handleBackArrowClick:T,hideDesktopHeader:D,title:a,children:l}),footer:n}}const _=(0,C.jsxs)(C.Fragment,{children:[I.isMobile&&l,t,I.isMobile&&n]});return j?(0,C.jsx)(z,{value:E,children:(0,C.jsx)(y.Z,{capture:!0,onUp:E.onKeyDown,onDown:E.onKeyDown,children:(0,C.jsx)(S.Z,{...K,children:_})})}):(0,C.jsx)(m.Z,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,allowMenuList:!0,render:e=>(0,C.jsx)(z,{value:E,children:(0,C.jsx)(y.Z,{capture:!0,onUp:E.onKeyDown,onDown:E.onKeyDown,children:(0,C.jsx)(S.Z,{...K,...e,children:_})})})})}},97820:(e,t,n)=>{n.d(t,{Z:()=>p});n(67294);var o=n(83355),r=n(99036),i=n(39068),l=n(82990),s=n(19124),c=n(61766),d=n(33846),a=n(76836),u=n(85893);class h extends o.Z{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:c.Z,nameInputStore:d.Z}}renderComponent(){const{device:e}=this.environment,{propertySchema:t,showIcon:n,hideName:o,showBadge:r,style:i}=this.props,s=e.isMobile?16:14;return(0,u.jsxs)("div",{style:{...h.baseStyle,fontSize:s,...i},children:[n&&(0,u.jsx)("div",{style:this.getIconStyle(),children:this.renderIcon()}),!o&&(0,u.jsx)("div",{style:{...l.Z.textOverflowStyle},children:t.name}),r&&this.renderBadge()]})}renderIcon(){const{device:e}=this.environment,{propertySchema:t}=this.props,{theme:n}=this,o=e.isMobile?18:16;return(0,u.jsx)(i.ZP,{type:t.type,icon:t.icon,size:this.props.iconSize||o,theme:n,style:this.props.iconStyle})}renderBadge(){const{propertySchema:e}=this.props;if((0,s.Zt)(this.environment)&&r.qQ(e)&&r.q3(e)&&("text"===e.type||(0,s.KZ)()))return(0,u.jsx)(a.Z,{})}getIconStyle(){const{hideName:e,iconStyle:t}=this.props;return{marginRight:e?void 0:6,...t}}}h.displayName="Property",h.baseStyle={display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0};const p=h},68641:(e,t,n)=>{n.d(t,{HV:()=>r,WY:()=>l,jI:()=>i,vw:()=>s});n(21703);var o=n(6695);let r=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.ViewBlock=4]="ViewBlock",e}({});function i(e){const{timelineViewTab:t,collectionContextStore:n}=e,r=l({collectionContextStore:n}),i=s({collectionContextStore:n});return"timeline"===r?"timeline"===t?"timeline_properties":i?"timeline_table_properties":void 0:(0,o.oz)(l({collectionContextStore:n}))}function l(e){var t;const{collectionContextStore:n}=e,o=null===(t=n.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function s(e){const{collectionContextStore:t}=e,n=t.normalizedFormatStore.state;return Boolean(n.timeline_show_table)}},25130:(e,t,n)=>{n.d(t,{ZP:()=>a,nq:()=>d,o$:()=>c});var o=n(67294),r=n(55010);const i=(0,o.createContext)({menuItemRefs:{current:new Set},activeRef:void 0,setActiveRef:()=>{},onKeyDown:()=>{}});function l(e){const t=new Map(Array.from(e).filter((e=>e.current)).map((e=>[e.current,e])));return{sortedElements:Array.from(t.keys()).sort(r.Z),nodeToRef:t}}function s(){return(0,o.useContext)(i)}function c(){const{menuItemRefs:e,activeRef:t,setActiveRef:n}=s(),r=(0,o.useRef)(null),i=(0,o.useCallback)((o=>{var i,l;function s(){t||n(r),null==o||o.removeEventListener("focus",s)}(r.current&&(null==o||o.removeEventListener("focus",s)),o)&&(0===(null===(l=e.current)||void 0===l?void 0:l.size)&&o.addEventListener("focus",s));r.current=o,null===(i=e.current)||void 0===i||i.add(r)}),[e,r,t,n]);return(0,o.useEffect)((()=>{const t=e.current;return()=>{null==t||t.delete(r)}}),[e]),(0,o.useEffect)((()=>{const o=e.current;return()=>{if(null===(null==t?void 0:t.current)&&t===r&&o){const{sortedElements:e,nodeToRef:t}=l(o),r=e[0];r&&t.has(r)&&n(t.get(r))}}}),[t,n,e]),[i,r]}function d(e){const{activeRef:t}=s();return t===e||void 0===t}const a=function(){let{direction:e="vertical"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,o.useRef)(new Set),[n,r]=(0,o.useState)(void 0),s=(0,o.useCallback)((o=>{let{code:i}=o;if("vertical"===e&&!["ArrowUp","ArrowDown"].includes(i)||"horizontal"===e&&!["ArrowLeft","ArrowRight"].includes(i))return;const{nodeToRef:s,sortedElements:c}=l(t.current),d=c.findIndex((e=>e===(null==n?void 0:n.current)));let a;if("vertical"===e&&"ArrowDown"===i||"horizontal"===e&&"ArrowRight"===i?a=d+1>=t.current.size?0:d+1:("vertical"===e&&"ArrowUp"===i||"horizontal"===e&&"ArrowLeft"===i)&&(a=d-1<0?t.current.size-1:d-1),void 0!==a){const e=c[a];e&&(r(s.get(e)),e.focus())}}),[n,e]);return{MenuArrowKeysProvider:i.Provider,context:{menuItemRefs:t,activeRef:n,setActiveRef:r,onKeyDown:s}}}},80721:(e,t,n)=>{n.d(t,{W:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},12392:(e,t,n)=>{n.d(t,{S:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("historyBack",{viewBox:"0 0 14 14",svg:(0,r.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})}}]);