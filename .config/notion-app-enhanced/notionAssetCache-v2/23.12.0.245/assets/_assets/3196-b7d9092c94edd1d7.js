"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3196],{28040:(e,t,i)=>{i.d(t,{i:()=>c});var n=i(26263),o=i(21202),r=i(80444),s=i(77080),a=i(35661),l=i(35057),d=i(54642);async function c(e){const{environment:t,sudoModeStore:i,pageBlockId:c}=e,u=i.state.privatePageStore&&i.state.privatePageStore.id===c;if(t.device.isMobile||u||i.state.loading||i.state.error)return;if(!s.default.checkGate("enable_get_private_page_info_endpoint"))return;const{currentSpaceStore:h}=r.default.state,p=null==h?void 0:h.canAdmin();if(!(c&&p&&h&&(0,l.wP)()))return;i.setState({...i.state,loading:!0});const g=h.id,m=await d.getPrivatePageInfo(t,{id:c});if("failed"===m.type)return void i.setState({...i.state,loading:!1,error:m.error});const v=m.data,b=new n.Z({name:"sudoModeActions.privatePageRecordCache"});for(const n of v)switch(n.table){case"block":case"collection":b.setRecord({pointer:{spaceId:g,table:n.table,id:n.value.id},userId:t.currentUser.id},{role:"editor",value:n.value});break;case"team":b.setRecord({pointer:{spaceId:g,table:n.table,id:n.value.id},userId:t.currentUser.id},{role:"editor",value:n.value})}const f=new a.G(t,{table:o.iU,id:c},{inMemoryRecordCache:b});f.inMemoryRecordCache.addCacheFallback(t.defaultRecordCache.inMemoryRecordCache),i.setState({...i.state,privatePageStore:f,loading:!1,error:void 0})}},7476:(e,t,i)=>{i.d(t,{t:()=>s});var n=i(80444),o=i(56681),r=i(34047);function s(e){var t;let{discussionStore:i,commentStore:s}=e;if(!s.isDefined())return!1;const a=null===(t=n.default.state.currentUserStore)||void 0===t?void 0:t.id;const l=o.Z.state[i.id];if(s.getCreatedById()===a)return!1;const d=function(){if(!i.isDefined()||!a)return 0;const{pageVisitStore:e}=n.default.state,{lastViewTime:t,lastExitTime:o}=e.state;return o||t}();if(void 0===d)return!1;const c=(0,r.NI)(i).filter((e=>e.getCreatedById()===a)).reverse()[0],u=s.getCreatedTime();return!u||!(c&&u<c.getCreatedTime())&&(!(l&&u<l)&&u>d)}},53834:(e,t,i)=>{i.d(t,{Z:()=>d});i(67294);var n=i(83355),o=i(8848),r=i(82990),s=i(64921),a=i(85893);class l extends n.Z{renderComponent(){return(0,a.jsx)(s.Z,{onClick:this.props.onClick,style:{...l.getButtonStyle(this.props.variant),...this.props.style,...this.props.isFullWidth&&l.fullWidthStyle},hoveredStyle:this.getButtonHoveredStyle(this.props.variant),pressedStyle:this.getButtonPressedStyle(this.props.variant),isLoading:this.props.isLoading,disabledFeedback:this.props.disabledFeedback,children:this.props.children})}static getButtonStyle(e){const t={display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:36,borderRadius:4,color:["primary","quaternary"].includes(e)?"white":o.ZP.red,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,fontWeight:r.Z.fontWeight.medium};return"primary"===e?{...t,background:o.ZP.frontPrimaryButtonBackground,border:`1px solid ${o.ZP.frontPrimaryButtonBorder}`,boxShadow:"0 1px 2px rgba(15, 15, 15, 0.1)"}:"secondary"===e?{...t,background:o.ZP.frontSecondaryButtonBackground,boxShadow:`\n\t\t\t\t0 1px 2px rgba(15, 15, 15, 0.1),\n\t\t\t\tinset 0 0 0 1px ${o.ZP.redWithAlpha(.3)}\n\t\t\t`}:"tertiary"===e||"aiTertiary"===e?{...t,background:o.ZP.white,color:o.ZP.frontTextDark,border:"1px solid rgba(15, 15, 15, 0.15)",width:"100%",boxShadow:"0 1px 2px rgba(15, 15, 15, 0.05)"}:"quaternary"===e?{...t,background:o.ZP.frontQuaternaryButtonBackground,border:`1px solid ${o.ZP.frontQuaternaryButtonBorder}`,boxShadow:"0 1px 2px rgba(15, 15, 15, 0.1)"}:"aiPrimary"===e?{...t,background:"#CA59FF",color:"white"}:{...t,border:`1px solid ${o.ZP.frontBorder}`,color:o.ZP.frontTextMedium,background:o.ZP.frontTertiaryButtonBackground}}getButtonHoveredStyle(e){return"primary"===e?{background:o.ZP.frontPrimaryButtonBackgroundHovered}:"secondary"===e?{background:o.ZP.frontSecondaryButtonBackgroundHovered}:"quaternary"===e?{background:o.ZP.frontQuaternaryButtonBackgroundHovered}:"aiTertiary"===e||"aiPrimary"===e?{background:"#C592DD"}:{background:"light"===this.theme.mode?this.theme.buttonHoveredBackground:o.ZP.whiteWithAlpha(.8)}}getButtonPressedStyle(e){return"primary"===e?{background:o.ZP.frontPrimaryButtonBackgroundPressed}:"secondary"===e?{background:this.theme.buttonPressedBackground}:"quaternary"===e?{background:o.ZP.frontQuaternaryButtonBackgroundPressed}:"aiTertiary"===e||"aiPrimary"===e?{background:"#946EA6"}:{background:"light"===this.theme.mode?this.theme.buttonPressedBackground:o.ZP.whiteWithAlpha(.85)}}}l.displayName="FrontButton",l.fullWidthStyle={width:"100%",justifyContent:"center"};const d=l},39849:(e,t,i)=>{i.d(t,{Z:()=>d});i(67294);var n=i(83355),o=i(8848),r=i(82990),s=i(85893);let a=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});class l extends n.Z{renderComponent(){const{count:e}=this.props,t=this.props.color===a.Red;if(e&&!(e<=0))return(0,s.jsx)("div",{style:{...l.style,...this.props.style,...e>99&&{width:void 0,padding:2},background:t?this.theme.redBadgeBackground:this.theme.lightIconColor},children:this.renderNumber()})}renderNumber(){const{count:e}=this.props;if(e)return 1===e?(0,s.jsx)("span",{style:{marginLeft:-.5,...this.props.numberStyle},children:"1"}):e>99?(0,s.jsx)("span",{style:{letterSpacing:-.5,...this.props.numberStyle},children:"99+"}):e>9?(0,s.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...this.props.numberStyle},children:e}):(0,s.jsx)("span",{style:{...this.props.numberStyle},children:e})}}l.displayName="MentionsBadge",l.Color=a,l.style={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:r.Z.fontWeight.semibold,borderRadius:3,color:o.ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};const d=l},13612:(e,t,i)=>{i.d(t,{Z:()=>p});i(67294);var n=i(83355),o=i(56666),r=i(5366),s=i(50906),a=i(24677),l=i(77907),d=i(64921),c=i(31945),u=i(85893);class h extends n.Z{constructor(){super(...arguments),this.renderOrigin=e=>{const{device:t}=this.environment;return(0,u.jsx)(d.Z,{ariaLabel:this.props.intl.formatMessage({id:"publicTopbarMoreButton.ariaLabel",defaultMessage:"More actions"}),style:this.getButtonStyle(),mobileFeedback:t.isMobile,...e,children:(0,o.o)({width:18,height:18})})},this.handleClick=()=>{a.ZH(this.environment),s.FjP(this.environment)},this.handleDismiss=()=>{this.props.buttonPopupStore.setState({...this.props.buttonPopupStore.state,open:!1})}}renderComponent(){const{device:e}=this.environment;return(0,u.jsx)(c.ZP,{popupType:e.isMobile?c.Z4.SlideUp:c.Z4.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:()=>(0,u.jsx)(l.LazyPublicTopbarMoreMenu,{block:this.props.store,onDismiss:this.handleClick}),originGap:8})}getButtonStyle(){const{device:e}=this.environment;return e.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}}}h.displayName="PublicTopbarMoreButton";const p=(0,r.injectIntl)(h)},96234:(e,t,i)=>{i.d(t,{Z:()=>st});var n=i(67294),o=i(73935),r=i(83355),s=i(6740),a=i(15145),l=i(60651),d=i(25651),c=i(35840),u=i(45137),h=i(89101),p=i(19889),g=i(80503),m=i(51454),v=i(5366),b=i(50906),f=i(47307),S=i(47839),x=i(3297),C=i(18957),y=i(40277),M=i(75018),w=i(87531),k=i(98104),j=i(3043),T=i(95477),Z=i(28020),P=i(43250),B=i(12955),I=i(34700),L=i(84210),_=i(12534),F=i(67669),E=i(17504),R=i(65598),U=i(18514),V=i(77907),D=i(480),A=i(86628),O=i(24405),H=i(17223),N=i(5257),G=i(56666),K=i(55964),W=i(30681),z=i(54851),q=i(72126),Y=i(21202),X=i(64921),Q=i(52275),$=i(31945),J=i(96525),ee=i(78140),te=i(32163),ie=i(72495),ne=i(87279),oe=i(98742),re=i(4023),se=i(80444),ae=i(35661),le=i(30806),de=i(36591),ce=i(97880),ue=i(58188),he=i(95697),pe=i(77080),ge=i(85893);const me={tasks:{key:"tasks",label:(0,ge.jsx)(v.FormattedMessage,{id:"HomeFeaturesMenu.tasks.label",defaultMessage:"Assigned to me"})},tips:{key:"tips",label:(0,ge.jsx)(v.FormattedMessage,{id:"HomeFeaturesMenu.tips.label",defaultMessage:"Tips"}),shouldShow:()=>pe.default.checkGate("home_show_tips")}},ve={notes:{key:"notes",label:(0,ge.jsx)(v.FormattedMessage,{id:"HomeFeaturesMenu.notes.label",defaultMessage:"Notes"}),shouldShow:()=>(0,he.BC)()}},be=["tasks","tips"],fe=["notes"];function Se(e){let{parent:t}=e;window.__c={n:"HomeFeaturesMenu"};const i=(0,D.O7)(),{options:o,experimentalOptions:r}=(0,A.VK)((()=>({options:be.map((e=>me[e])).filter((e=>{var t;return(null===(t=e.shouldShow)||void 0===t?void 0:t.call(e))??!0})),experimentalOptions:fe.map((e=>ve[e])).filter((e=>{var t;return(null===(t=e.shouldShow)||void 0===t?void 0:t.call(e))??!0}))})),[]),{isMobile:s}=(0,D.Fy)(),a=(0,A.VK)((()=>se.default.state.currentSpaceViewStore),[]),l=(0,A.VK)((()=>(null==a?void 0:a.getHomeEnabledFeatures())??{}),[a]),d=(0,he.v1)(),c=(0,n.useCallback)((e=>{a&&ue.aG({environment:i,currentSpaceViewStore:a,feature:e,from:"home_more_menu"})}),[a,i]),u=(0,O.yK)((e=>({selectedOptionCheck:{width:s?16:14},icon:{width:20,height:20}})),[s]);let h;h=s?{menuType:ne.og.Modal,title:(0,ge.jsx)(v.FormattedMessage,{id:"HomeFeaturesMenu.title",defaultMessage:"Experimental features"}),right:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:t.close}:{menuType:ne.og.Popup,width:200};const p=[{key:"settings-item-section",render:e=>(0,ge.jsx)(ie.Z,{...e}),items:[...o,...d?r:[]].map((e=>{let{key:t,label:i}=e;return{key:t,action:()=>c(t),render:e=>(0,ge.jsx)(Q.Z,{...e,title:i,shouldWrapCaption:!0,right:Boolean(l[t])?(0,ge.jsx)("div",{style:u.selectedOptionCheck,children:(0,de.e)()}):void 0})}}))}];return(0,ge.jsx)(ee.Z,{...h,children:(0,ge.jsx)(te.Z,{type:te.i.Vertical,sections:p.filter(ce.$K),initialFocus:void 0})})}const xe=n.memo(Se);var Ce=i(34980);function ye(e){let{parent:t}=e;window.__c={n:"OpenOnStartMenu"};const i=(0,D.O7)(),o=(0,A.VK)((()=>(0,Ce.o)()),[]),{isMobile:r}=(0,D.Fy)(),s=(0,A.VK)((()=>{var e;return null===(e=se.default.state.currentSpaceViewStore)||void 0===e?void 0:e.getOnAppStartStore().getValue()}),[]),a=(0,n.useCallback)((e=>{ue.N({userAction:"userHomeActions.setPersonalHomeAsLandingPage",environment:i,option:e,from:"home_more_menu"}),t.close()}),[i,t]),l=(0,O.yK)((e=>({selectedOptionCheck:{width:r?16:14},icon:{width:20,height:20}})),[r]);let d;d=r?{menuType:ne.og.Modal,title:(0,ge.jsx)(v.FormattedMessage,{id:"openOnStartMenuSetting.title",defaultMessage:"Open on start"}),right:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:t.close}:{menuType:ne.og.Popup,width:250};const c=[{key:"settings-item-section",render:e=>(0,ge.jsx)(ie.Z,{...e}),items:o.map((e=>{let{key:i,label:n,renderIcon:o}=e;return{key:i,action:()=>{a(i),t.close()},render:e=>(0,ge.jsx)(Q.Z,{...e,title:n,icon:o(l.icon),shouldWrapCaption:!0,right:s===i?(0,ge.jsx)("div",{style:l.selectedOptionCheck,children:(0,de.e)()}):void 0})}}))}];return(0,ge.jsx)(ee.Z,{...d,children:(0,ge.jsx)(te.Z,{type:te.i.Vertical,sections:c,initialFocus:void 0})})}const Me=n.memo(ye),we="d624d83e-601c-417d-beae-4c8d6f904251";we.replaceAll("-","");function ke(e){window.__c={n:"HomeTopbarActionButtons"};const t=(0,D.O7)(),i=(0,A.VK)((()=>se.default.state.currentSpaceStore),[]),{device:o}=t,{isMobile:r}=o,s=!1,l=(0,A.VK)((()=>{se.default.state.currentSpaceStore;return!1}),[s]),c=(0,O.yK)((e=>({actionButtonsWrapStyle:{flexGrow:0,flexShrink:0,display:"flex",alignItems:"center",paddingRight:o.isMobile?4:0,paddingLeft:o.isMobile?4:12,width:void 0,justifyContent:"space-between",zIndex:m.A_,height:g.R6(t.device.isElectronMac),transition:`\n\t\t\t\t\topacity ${st.transitionDuration}ms,\n\t\t\t\t\tcolor ${st.transitionDuration}ms\n\t\t\t\t`},rightButtonsContainer:{display:"flex"},dotsIcon:{width:18,height:18,fill:e.regularIconColor},pencilIcon:{width:20,height:20,padding:2},pageIcon:{width:20,height:20,padding:2},chevronRightIcon:{width:14,height:14,fill:e.lightIconColor},starIcon:{width:20,height:20},button:o.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2}:{...(0,I.X)({noDrag:o.isElectronMac}),display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}})),[o,t]),u=[{key:"all",render:e=>(0,ge.jsx)(ie.Z,{...e}),items:q.oA([{key:"changeDefaultPage",render:e=>(0,ge.jsx)(J.Z,{...e,stopClickPropagation:!0,popupType:r?$.Z4.SlideUp:$.Z4.Popup,render:e=>(0,ge.jsx)(Me,{parent:e}),placementToOrigin:re.u.Left,renderOrigin:t=>(0,ge.jsx)(Q.Z,{...(0,oe.Z)(e,t),icon:(0,z.S)(c.pageIcon),right:(0,N.o)(c.chevronRightIcon),title:(0,ge.jsx)(v.FormattedMessage,{id:"HomeTopbarActionButtons.changeStartPage",defaultMessage:"Change default start page"})})}),action:()=>{}},l?{key:"showHideTiles",render:e=>(0,ge.jsx)(J.Z,{...e,stopClickPropagation:!0,popupType:r?$.Z4.SlideUp:$.Z4.Popup,render:e=>(0,ge.jsx)(xe,{parent:e}),placementToOrigin:re.u.Left,renderOrigin:t=>(0,ge.jsx)(Q.Z,{...(0,oe.Z)(e,t),icon:(0,K.N)(c.starIcon),right:(0,N.o)(c.chevronRightIcon),title:(0,ge.jsx)(v.FormattedMessage,{id:"HomeTopbarActionButtons.showHideTiles",defaultMessage:"Show/hide tiles"})})}),action:()=>{}}:void 0,l?{key:"writeFeedback",render:e=>(0,ge.jsx)(Q.Z,{...e,icon:(0,d.R)(c.pencilIcon),title:(0,ge.jsx)(v.FormattedMessage,{id:"HomeTopbarActionButtons.writeFeedback",defaultMessage:"Write feedback"})}),action:()=>{i&&M.navigateToBlock({environment:t,pageVisitSource:a.tY.Direct,store:ae.G.createChildStore(i,{table:Y.iU,id:we,spaceId:H.Y})})}}:void 0])}],h=(0,n.useCallback)((()=>(0,le.lj)({environment:t})),[t]);return e.isInvalidPage?null:(0,ge.jsx)("div",{style:c.actionButtonsWrapStyle,children:(0,ge.jsx)("div",{style:c.rightButtonsContainer,children:(0,ge.jsx)($.ZP,{popupType:o.isMobile?$.Z4.SlideUp:$.Z4.Popup,renderOrigin:e=>(0,ge.jsx)(X.Z,{style:c.button,mobileFeedback:o.isMobile,...(0,oe.Z)(e,{onClick:h}),children:o.isMobile?(0,W.I)({width:26}):(0,G.o)(c.dotsIcon)}),render:()=>(0,ge.jsx)(ee.Z,{menuType:ne.og.Popup,children:(0,ge.jsx)(te.Z,{type:te.i.Vertical,sections:u,initialFocus:void 0})}),originGap:8,trapFocus:!0,forceInitialInbound:!0,style:o.isMobile?{}:{width:250,maxHeight:"80vh"}})})})}var je=i(94841),Te=i(24646),Ze=i(51),Pe=i(61436),Be=i(24042),Ie=i(96071),Le=i(85974),_e=i(83212),Fe=i(16194),Ee=i(52258),Re=i(66708),Ue=i(83941),Ve=i(63296),De=i(89728),Ae=i(53834),Oe=i(46457),He=i(9045),Ne=i(22789),Ge=i(13612),Ke=i(3553),We=i(58178),ze=i(25729),qe=i(4708),Ye=i(38676),Xe=i(42922),Qe=i(16354),$e=i(63437),Je=i(75272);function et(e){window.__c={n:"TemplateGalleryPublicPageTopbar"};const{blockStore:t,style:i,onDoubleClick:o,onClickDuplicate:r}=e,s=(0,D.O7)(),{publicPageData:a}=(0,A.VK)((()=>Ze.Z.state),[]),d=(0,A.VK)((()=>(0,F.S4)(t)),[t]),[c,u]=(0,n.useState)(!1),p=(0,O.yK)((e=>({topbarContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:g.TT,paddingLeft:12,paddingRight:10},topbarContents:{display:"flex",alignItems:"center"},notionLogoStyle:{width:20,height:20},templatesIcon:{width:20,height:20,marginRight:4,marginTop:2},templateGalleryButton:{display:"flex",alignItems:"center",fontSize:15,fontWeight:600},centerText:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden",textWrap:"nowrap"},templateNameText:{fontSize:13.5,fontWeight:600},templateCreatorText:{fontSize:12,color:e.lightTextColor},templateCreatorLink:{fontSize:12,color:e.lightTextColor,cursor:"pointer"},publicTopbarMoreButton:{marginRight:8}})),[]),m=(0,A.VK)((()=>{const e=(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(De.Z,{onClick:async()=>{b.T3Y(s,{variant:"open_notion"}),b.ebp(s,{target:"open_notion"}),await M.publicPageTopBarAction(s,{utmContent:"topbar_cta",nextRoute:h._j.root})},children:(0,l.h)(p.notionLogoStyle)}),(0,ge.jsx)($e.Z,{})]});return(0,qe.GH)()?Ye.gV.state?null:(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(Je.Z,{}),e]}):e}),[s,p.notionLogoStyle]);if(!a||!a.template)return(0,ge.jsx)(ge.Fragment,{});const f=(0,ge.jsx)("a",{href:`${T.default.domainBaseUrl}/@${a.template.creator.username}`,target:"_blank",style:p.templateCreatorLink,onClick:()=>{var e;b.ebp(s,{target:"creator",slug:null===(e=a.template)||void 0===e?void 0:e.creator.username})},children:a.template.creator.name});return(0,ge.jsxs)("div",{style:i??p.topbarContainer,onDoubleClick:o,children:[(0,ge.jsxs)("div",{style:p.topbarContents,children:[m,(0,ge.jsx)(Qe.Z,{href:(0,U.UY)("templateGallery"),external:!0,children:(0,ge.jsxs)(De.Z,{style:p.templateGalleryButton,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>{b.ebp(s,{target:"gallery"})},children:[c?(0,ze.U)(p.templatesIcon):(0,We.s)(p.templatesIcon),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Templates",id:"templateGalleryPublicPageTopbar.templatesButton.label"})]})})]}),(0,ge.jsxs)("div",{style:p.centerText,children:[(0,ge.jsx)(Qe.Z,{href:`${(0,U.UY)("templateGallery")}/${a.template.slug}`,style:p.templateNameText,external:!0,onClick:()=>{var e;b.ebp(s,{target:"template",slug:null===(e=a.template)||void 0===e?void 0:e.slug})},children:a.template.name}),(0,ge.jsx)("div",{style:p.templateCreatorText,children:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Template by {templateCreatorNameWithLink}",id:"templateGalleryPublicPageTopbar.templateName.subtitle",values:{templateCreatorNameWithLink:f}})})]}),(0,ge.jsxs)("div",{style:p.topbarContents,children:[(0,ge.jsx)("div",{style:p.publicTopbarMoreButton,children:(0,ge.jsx)(Ge.Z,{store:t,buttonPopupStore:Ee.Z})}),d&&(0,ge.jsx)(Xe.Z,{onClick:r,children:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Start with this template",id:"templateGalleryPublicPageTopbar.duplicateButton.label"})})]})]})}var tt=i(60526),it=i(94686),nt=i(17169),ot=i(12253);class rt extends r.Z{constructor(){super(...arguments),this.startedInitialPublicPageEdit=!1,this.storeTypes={loginModalStore:Ie.Z,loginStore:Le.Z},this.screenXAtLastMouseDown=0,this.screenYAtLastMouseDown=0,this.handleMouseDown=()=>{this.screenXAtLastMouseDown=window.screenX,this.screenYAtLastMouseDown=window.screenY},this.handleClickTopbar=e=>{const t=window.screenX,i=window.screenY;this.screenXAtLastMouseDown===t&&this.screenYAtLastMouseDown===i&&(e.target===e.currentTarget&&k.ZH(this.environment),(0,_.ZP)({event:e,context:_.Af.EditorClick,callback:()=>{C.E5(this.environment)}}))},this.handleDoubleClickTopbar=e=>{e.target!==e.currentTarget||Be.Z.state.isShowingTabBar||(0,_.ZP)({event:e,context:_.Af.EditorDoubleClick,callback:S.toggleMaximized})},this.handleFocus=e=>{const t=e.target;t instanceof HTMLElement&&(0,s.E)(t)&&Fe.Z.setState(!0)},this.handleBlur=()=>{Fe.Z.setState(!1)},this.maybeOpenOnBaseUrl=()=>{var e;const{RouterStore:t}=this.environment,i=t.state.route,n=null===(e=this.pageContext)||void 0===e?void 0:e.pageStore;if("page"===i.name&&i.requestedOnPublicDomain&&n){const e=(0,L.ZP)({store:n,preferPublicLink:!1,pageVisitSource:a.tY.EditPublicPage});return M.navigateOnBaseUrl({environment:this.environment,url:e}),!0}return!1},this.handleStartPublicEdit=()=>{this.maybeOpenOnBaseUrl()||(this.environment.currentUser.isLoggedIn()?f.showDialog({showCancel:!0,keepFocus:!1,message:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){_e.Z.setState({editing:!0,commenting:!0})}}]}):(y.Hr({currentUserId:this.environment.currentUser.id,blockId:this.props.store.id}),M.navigateOnBaseUrl({environment:this.environment,url:h._j.login})))},this.handleAttemptPublicComment=()=>{y.Hr({currentUserId:this.environment.currentUser.id,blockId:this.props.store.id}),this.maybeOpenOnBaseUrl()||M.navigateOnBaseUrl({environment:this.environment,url:h._j.login})},this.forkPageRef=null,this.handleForkPageRef=e=>{this.forkPageRef=e},this.handleOpenQuickFind=()=>{w.UT({environment:this.environment,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})},this.handleOpenForkPage=()=>{x.S({environment:this.environment,store:this.props.store,originRect:this.getDuplicateClientRect()})},this.handleClickOpenNotion=async()=>{b.T3Y(this.environment,{variant:"open_notion"}),await M.publicPageTopBarAction(this.environment,{utmContent:"topbar_cta",nextRoute:h._j.root})},this.handleClickTryNotion=async()=>{b.T3Y(this.environment,{variant:"try_notion"}),await M.publicPageTopBarAction(this.environment,{utmContent:"topbar_cta",nextRoute:h._j.signup})},this.shouldRenderTemplateGalleryTopbar=this.createComputedStore((()=>"on"===this.templateGalleryTopbarExpGroup.state||"variant_2"===this.templateGalleryTopbarExpGroup.state)),this.templateGalleryTopbarExpGroup=this.createComputedStore((()=>{const{device:e}=this.environment;if(e.isMobile||!(0,U.Sr)())return"control";if(!this.shouldRenderPublicPageTopbar())return"control";const{publicPageData:t}=Ze.Z.state;return null!=t&&t.template?(0,Ue.V)():"control"})),this.appRenderState=this.createComputedStore((()=>Z.h1(this.environment)))}didUpdate(){const{store:e}=this.props,{RouterStore:t}=this.environment,i=t.state.route,{publicPageData:n}=Ze.Z.state;this.isReady()&&e.canComment()&&!e.canEdit()&&"page"===i.name&&!i.requestedOnPublicDomain&&this.shouldRenderPublicPageTopbar()&&null!=n&&n.requireLogin?_e.Z.setState({commenting:!0,editing:!1}):this.isReady()&&e.canEdit()&&!_e.Z.state.editing&&!_e.Z.state.commenting&&"page"===i.name&&!i.requestedOnPublicDomain&&this.shouldRenderPublicPageTopbar()&&!this.startedInitialPublicPageEdit&&null!=n&&n.requireLogin&&(this.startedInitialPublicPageEdit=!0,this.handleStartPublicEdit())}renderComponent(){return(0,E.Z)((e=>(0,ge.jsxs)("header",{style:this.getWrapStyle(),...e,children:[(0,ge.jsx)("div",{style:this.getStyle(),className:P.lIT,onFocus:this.handleFocus,onBlur:this.handleBlur,children:this.isReady()&&(this.shouldRenderPublicPageTopbar()?this.renderPublicPageTopbar():this.renderDefaultTopbar())}),(0,ge.jsx)(V.LazyBannersRenderer,{banners:this.props.banners,isMobile:!1,isInPeekRenderer:!1})]})))}renderPublicPageTopbar(){if(this.shouldRenderTemplateGalleryTopbar.state)return this.renderTemplateGalleryPublicPageTopbar();const{device:e,currentUser:t}=this.environment,{store:i,isInvalidPage:n,isElectron:o}=this.props,r=Boolean(t.isLoggedIn()||(0,B.getPublicDomainUserId)(this.environment)),s=r?"control":pe.default.getEligibleGroup({experimentId:"try_notion_cta",defaultGroup:"control"}),{isShowingTabBar:a}=Be.Z.state;return(0,ge.jsxs)("div",{style:this.getContainerStyle(a),onDoubleClick:this.handleDoubleClickTopbar,children:[(0,ge.jsx)(Oe._,{loginModalStore:this.stores.loginModalStore,loginStore:this.stores.loginStore,title:(0,ge.jsx)(He.Z,{}),isSignup:!0}),o&&!a&&(0,ge.jsx)(it.Z,{}),!n&&(0,ge.jsx)(j.l2,{store:i,style:this.getBreadcrumbStyle(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,ge.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),i.canEdit()&&!_e.Z.state.editing&&(0,ge.jsxs)(Ve.Z,{onClick:this.handleStartPublicEdit,style:{marginRight:8,padding:"0 8px"},children:[(0,d.R)(rt.topbarIconStyle),(0,ge.jsx)(v.FormattedMessage,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})]}),!this.environment.currentUser.isLoggedIn()&&i.canComment()&&!i.canEdit()&&(0,ge.jsxs)(Ve.Z,{onClick:this.handleAttemptPublicComment,style:{marginRight:8,padding:"0 8px"},children:[(0,u.o)(rt.topbarIconStyle),(0,ge.jsx)(v.FormattedMessage,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})]}),(0,ge.jsxs)(De.Z,{onClick:this.handleOpenQuickFind,children:[(0,c.R)(rt.topbarIconStyle),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]}),(0,F.S4)(this.props.store)&&(0,ge.jsx)(De.Z,{onClick:this.handleOpenForkPage,ref:this.handleForkPageRef,children:(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}),!e.isMobile&&!n&&(0,ge.jsx)(Ge.Z,{store:i,buttonPopupStore:Ee.Z}),(0,ge.jsx)("div",{style:this.getPublicPageTopbarDividerStyle()}),r?(0,ge.jsxs)(De.Z,{onClick:this.handleClickOpenNotion,children:[(0,l.h)(rt.notionLogoStyle),this.renderOpenNotionMessage()]}):"control"===s?(0,ge.jsxs)(De.Z,{onClick:this.handleClickTryNotion,children:[(0,l.h)(rt.notionLogoStyle),this.renderTryNotionMessage()]}):this.renderTryNotionCTAExperiment(s)]})}renderTemplateGalleryPublicPageTopbar(){const e="variant_2"===this.templateGalleryTopbarExpGroup.state,{store:t,isInvalidPage:i}=this.props;return(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(et,{blockStore:t,style:{...this.getContainerStyle(!1),borderBottom:e?`1px solid ${this.theme.lightDividerColor}`:void 0},onDoubleClick:this.handleDoubleClickTopbar,onClickDuplicate:this.handleOpenForkPage}),e&&(0,ge.jsxs)("div",{style:this.getContainerStyle(!1),onDoubleClick:this.handleDoubleClickTopbar,children:[!i&&(0,ge.jsx)(j.l2,{store:t,style:this.getBreadcrumbStyle(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,ge.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,ge.jsxs)(De.Z,{onClick:this.handleOpenQuickFind,children:[(0,c.R)(rt.topbarIconStyle),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})]})]})}renderDefaultTopbar(){const{store:e,isInvalidPage:t,isElectron:i,showSidebarButton:n,collectionViewStore:o,hideActionButtons:r}=this.props,{isMobile:s}=this.environment.device,{pageVisitStore:a,presenceStore:l,currentSpaceStore:d,currentSpaceViewStore:c}=se.default.state,u=(0,F.IJ)(this.environment,this.props.store),h=(0,je.q0)(),{isShowingTabBar:p}=Be.Z.state;return(0,ge.jsx)(Ke.Z,{store:e,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,ge.jsxs)("div",{style:this.getContainerStyle(p),onClick:this.handleClickTopbar,onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClickTopbar,children:[n&&(0,ge.jsx)(Je.Z,{}),i&&!p&&(0,ge.jsx)(it.Z,{}),!t&&(0,ge.jsx)(j.l2,{store:e,style:this.getBreadcrumbStyle(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),e.canEditCollection()&&(0,ge.jsx)(Ne.Z,{store:e,isMobile:!1},e.id),e.isRestricted()&&(0,ge.jsx)(ot.Z,{style:{...(0,I.X)({noDrag:this.environment.device.isElectronMac}),marginRight:10},onClick:()=>{Re.Z.setState({open:!0})}}),!t&&(0,ge.jsx)(nt.Z,{}),(0,ge.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),!s&&!u&&!r&&(h?(0,ge.jsx)(ke,{isInvalidPage:t}):(0,ge.jsx)(tt.iY,{store:e,collectionViewStore:o,spaceStore:d,spaceViewStore:c,pageVisitStore:a,presenceStore:l,isInvalidPage:t}))]})})}renderOpenNotionMessage(){return(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Open Notion",id:"topbar.publicPage.cta.label.open"})}renderTryNotionMessage(){return(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try"})}renderTryNotionCTAExperiment(e){switch(e){case"V1":return(0,ge.jsxs)(De.Z,{onClick:this.handleClickTryNotion,children:[(0,l.h)(rt.notionLogoStyle),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Try Notion free",id:"topbar.publicPage.cta.label.try.V1"})]});case"V2":return(0,ge.jsxs)(De.Z,{onClick:this.handleClickTryNotion,children:[(0,l.h)(rt.notionLogoStyle),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Sign up for Notion",id:"topbar.publicPage.cta.label.try.V2"})]});case"V3":return(0,ge.jsx)(ge.Fragment,{children:(0,ge.jsxs)(Ae.Z,{onClick:this.handleClickTryNotion,variant:"primary",style:{height:"32px"},children:[(0,l.h)({...rt.notionLogoStyle,fill:"#ffffff"}),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try.V3"})]})});case"V4":return(0,ge.jsxs)(Ae.Z,{onClick:this.handleClickTryNotion,variant:"primary",style:{height:"32px"},children:[(0,l.h)({...rt.notionLogoStyle,fill:"#ffffff"}),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Try Notion free",id:"topbar.publicPage.cta.label.try.V4"})]});case"V5":return(0,ge.jsxs)(Ae.Z,{onClick:this.handleClickTryNotion,variant:"primary",style:{height:"32px"},children:[(0,l.h)({...rt.notionLogoStyle,fill:"#ffffff"}),(0,ge.jsx)(v.FormattedMessage,{defaultMessage:"Sign up for Notion",id:"topbar.publicPage.cta.label.try.V5"})]});default:return null}}getDuplicateClientRect(){if(this.forkPageRef){const e=o.findDOMNode(this.forkPageRef);if(e instanceof Element)return e.getBoundingClientRect()}}isReady(){const e=(0,R.Oh)(this.props.store),{id:t}=this.environment.currentUser,i=t?ae.U6.createChildStore(this.props.store,{table:p.KJ,id:t}):void 0,n=!i||i.isReady();return e&&n}shouldRenderPublicPageTopbar(){return!T.default.isAdminMode&&(0,F.IJ)(this.environment,this.props.store)}getWrapStyle(){const e=(0,je.q0)();return{maxWidth:"100vw",zIndex:m.lI,background:e?this.theme.personalHomeBackground:this.theme.contentBackground,WebkitUserSelect:"none",userSelect:"none"}}getStyle(){const e=g.R6(this.environment.device.isElectronMac,this.shouldRenderTemplateGalleryTopbar.state),t=2*g.TT;return{width:"100%",maxWidth:"100vw",height:"variant_2"===this.templateGalleryTopbarExpGroup.state?t:e,opacity:Z.tu.state?0:1,transition:`\n\t\t\t\topacity ${rt.transitionDuration}ms,\n\t\t\t\tcolor ${rt.transitionDuration}ms\n\t\t\t`,position:"relative"}}getContainerStyle(e){const{device:t}=this.environment,i=t.isElectronMac&&(!this.appRenderState.state.shouldShowSidebar||!(0,Te.in)(this.environment))&&!Pe.Z.state.isFullScreen&&!e;return{...(0,I.X)({drag:this.environment.device.isElectronMac&&!e}),display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:g.R6(this.environment.device.isElectronMac,this.shouldRenderTemplateGalleryTopbar.state),paddingLeft:i?rt.paddingLeftWhenDesktopSidebarClose:t.isMobile?4:12,paddingRight:t.isMobile?4:10}}getBreadcrumbStyle(){return{...(0,I.X)({noDrag:this.environment.device.isElectronMac}),height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0}}getPublicPageTopbarDividerStyle(){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:this.theme.darkDividerColor}}}rt.displayName="Topbar",rt.paddingLeftWhenDesktopSidebarClose=73,rt.transitionDuration=700,rt.topbarIconStyle={width:14,height:14,marginRight:6},rt.notionLogoStyle={width:18,height:18,marginRight:6};const st=rt},60526:(e,t,i)=>{i.d(t,{iY:()=>V,UP:()=>D,W2:()=>A});var n=i(67294),o=i(480),r=i(86628),s=i(24405),a=i(7525),l=i(80503),d=i(51454),c=i(5366),u=i(92650),h=i(95477),p=i(28020),g=i(43250),m=i(73742),v=i(74948),b=i(24646),f=i(36391),S=i(31792);const x=new(i(61766).Z);var C=i(52258),y=i(66708),M=i(77503),w=i(34700),k=i(16402),j=i(24039),T=i(26388),Z=i(85893);function P(e){window.__c={n:"PageFreshnessMetadata"};const{store:t,isExpanded:i,isWindowSmall:o,isElectronMac:a}=e,l=(0,s.Fg)(),d=(0,r.VK)((()=>t.getLastEditedTime()),[t]),[u,h]=(0,n.useState)("flex"),[p,g]=(0,n.useState)(1);(0,n.useEffect)((()=>{let e;return i||o?i?(g(0),h("none")):(g(0),e=setTimeout((()=>h("none")),150)):(h("flex"),e=setTimeout((()=>g(1)),150)),()=>clearTimeout(e)}),[i,o]);const m=d?(0,k.IS)(d,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):"";return m?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("span",{style:{opacity:p,transition:"opacity 150ms linear",display:u,alignItems:"center",fontSize:14,color:l.lightTextColor,height:28,whiteSpace:"nowrap",lineHeight:1.2},children:(0,Z.jsx)("div",{style:{display:"flex",flexFlow:"wrap"},children:(0,Z.jsx)(T.Z,{placement:T.Z.Placement.Bottom,alignment:T.Z.Alignment.Start,renderTooltip:()=>(0,Z.jsx)(j.Z,{store:t,compactFormat:!0}),render:e=>{return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{...e,style:{...(0,w.X)({noDrag:a})},children:(t=m,(0,Z.jsx)(c.FormattedMessage,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:t}}))})});var t}})})})}):null}var B=i(96234),I=i(79075),L=i(96677),_=i(10137),F=i(67485),E=i(19368),R=i(29538),U=i(23727);function V(e){window.__c={n:"TopbarActionButtons"};const t=(0,o.O7)(),{device:i}=t,h=(0,c.useIntl)(),{store:w,spaceStore:k,pageVisitStore:j,presenceStore:T,collectionViewStore:V,spaceViewStore:O}=e,H=(0,r.VK)((()=>w.canEdit()),[w]),[N,G]=(0,r.AF)(void 0,S.Z),[K,W]=(0,n.useState)(!1),[z]=(0,r.AF)(f.ZP),q=(0,r.VK)((()=>p.qG(w.id)),[w]),Y=(0,r.VK)((()=>A({canEditPage:H,device:i})&&!q),[H,i,q]),X=(0,r.VK)((()=>Boolean(k&&!k.canEdit())),[k]),Q=(0,r.VK)((()=>(0,b.Sx)(t)),[t]),$=(0,r.VK)((()=>(0,u.ui)(t,!1)<1150),[t]),J=(0,r.VK)((()=>D({isSpaceGuest:X,canEditPage:H})&&!q),[H,q,X]);(0,n.useEffect)((()=>{W(!Q)}),[Q]);const{canShowUpdateSidebarUnexpander:ee,shouldShowUpdateSidebarUnexpander:te}=(0,r.VK)((()=>{const e=!K&&Q&&!(0,b._c)(t);return{canShowUpdateSidebarUnexpander:e,shouldShowUpdateSidebarUnexpander:e&&(z.mouseEntered||N.mouseEntered)}}),[K,Q,t,N,z]),[ie]=(0,r.AF)(f.ZP),ne=(0,r.Kw)(p.tu),oe=(0,r.VK)((()=>!i.isMobile&&!q&&(!w.isCollectionView()||w.isCollectionViewPageWithContent())),[i.isMobile,q,w]),re=(0,r.VK)((()=>!i.isMobile&&!q),[i.isMobile,q]),se=(0,s.yK)((()=>({actionButtonsWrapStyle:{flexGrow:0,flexShrink:0,display:"flex",alignItems:"center",paddingRight:i.isMobile?4:0,paddingLeft:i.isMobile?4:12,width:ee?ie.width:void 0,justifyContent:"space-between",zIndex:d.A_,height:l.R6(t.device.isElectronMac),opacity:ne?0:1,transition:`\n\t\t\t\t\topacity ${B.Z.transitionDuration}ms,\n\t\t\t\t\tcolor ${B.Z.transitionDuration}ms\n\t\t\t\t`},rightButtonsContainer:{display:"flex"}})),[ee,i,ie,t,ne]);if(e.isInvalidPage)return null;const ae=i.isElectronMac&&ne||!ee||!i.isElectron&&!te||z.isAnimating;return(0,Z.jsxs)("div",{style:se.actionButtonsWrapStyle,onMouseMove:()=>{G({...N,mouseEntered:!0})},onMouseLeave:()=>{G({...N,mouseEntered:!1})},className:g.A_D,children:[ae?(0,Z.jsx)("div",{}):(0,Z.jsx)("div",{className:g.JiD,children:(0,Z.jsx)(R.C,{shouldHide:ae,icon:a.t,caption:h.formatMessage({defaultMessage:"Close sidebar",id:"updateSidebarUnexpandButton.closeSidebar.tooltip"}),onClick:()=>{W(!0),v.setUpdateExpand({environment:t,isExpanded:!1,from:"close_for_space"})},keyboardShortcutName:"toggleUpdateSidebar",isElectron:i.isElectron})}),(0,Z.jsxs)("div",{style:se.rightButtonsContainer,children:[(0,Z.jsx)(P,{store:w,isExpanded:Q,isWindowSmall:$,isElectronMac:i.isElectronMac}),H&&j&&T&&(0,Z.jsx)(F.Z,{rootStore:w,pageVisitStore:j,presenceStore:T,maxUsers:z.expanded?3:void 0}),J&&(0,Z.jsx)(E.Z,{store:w,buttonPopupStore:y.Z}),oe&&(0,Z.jsx)(I.Z,{blockStore:w,spaceStore:k,buttonPopupStore:x}),Y&&(0,Z.jsx)(U.Z,{blockStore:w,spaceStore:k,buttonPopupStore:M.Z}),(0,Z.jsx)(L.Z,{store:w,spaceViewStore:O}),q&&(0,Z.jsx)(m.Z,{}),re&&(0,Z.jsx)(_.Z,{store:w,collectionViewStore:V,buttonPopupStore:C.Z})]})]})}function D(e){const{canEditPage:t,isSpaceGuest:i}=e;return!!h.default.isAdminMode||(!i||t)}function A(e){const{canEditPage:t,device:i}=e;return!!h.default.isAdminMode||!!t&&!i.isPhone}},94686:(e,t,i)=>{i.d(t,{Z:()=>j});i(67294);var n=i(83355),o=i(1464),r=i(81270),s=i(10020),a=i(12392),l=i(13530),d=i(73361),c=i(5366),u=i(50906),h=i(47839),p=i(75018),g=i(34700),m=i(18514),v=i(24042),b=i(88923),f=i(64921),S=i(73063),x=i(21199),C=i(58261),y=i(53437),M=i(26388),w=i(85893);class k extends n.Z{constructor(){super(...arguments),this.renderDesktopButtons=()=>(0,w.jsx)(x.Z,{capture:!0,render:e=>(0,w.jsxs)("div",{style:{display:"flex",flexShrink:0},...e,children:[this.renderBackButton(),this.renderForwardButton(),this.renderNewTabButton()]})}),this.handleBackClick=()=>{const{supportsNativeHomeTabPhone:e}=this.props,{mobileNative:t}=this.environment;u.MEX(this.environment,{type:"back"}),m.__(this.environment)?p.back(this.environment):e&&!m.NW(this.environment)?null==t||t.showNativeHomeTab():p.back(this.environment)},this.handleForwardClick=()=>{u.MEX(this.environment,{type:"forward"}),p.forward()},this.handeNewTabClick=()=>{h.openInNewTab({url:"",makeTabActive:!0,position:"start"})}}renderComponent(){return this.environment.device.isMobile?this.renderMobile():this.renderDesktop()}renderDesktop(){return(0,w.jsx)(y.ZP,{style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:this.renderDesktopButtons(),render:this.renderDesktopButtons,placementToOrigin:y.ZP.Placement.Center,alignmentToOrigin:y.ZP.Alignment.Center,open:b.default.isMiniOrCenterPeekOpen(),disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:y.ZP.PopupType.Popup})}renderBackButton(){const e=e=>(0,r.z)({...e,width:"24px",height:"24px"}),t=e=>(0,a.S)(e);return(0,w.jsx)(M.Z,{renderTooltip:()=>(0,w.jsxs)("div",{style:{display:"flex"},children:[(0,w.jsx)(c.FormattedMessage,{id:"topbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"}),(0,w.jsx)(C.Z,{name:"goBack",style:{opacity:.5,marginLeft:4}})]}),placement:M.Z.Placement.Bottom,alignment:M.Z.Alignment.Center,originGap:6,render:i=>(0,w.jsx)(S.Z,{icon:v.Z.state.isTabsFeatureEnabled?e:t,isDarkIconColor:!0,className:"notion-history-back-button",disabled:!m.NW(this.environment),style:{position:"relative",...(0,g.X)({noDrag:this.environment.device.isElectronMac})},onClick:this.handleBackClick,...i})})}renderForwardButton(){const e=e=>(0,s.C)({...e,width:"24px",height:"24px"}),t=e=>(0,l.s)(e);return(0,w.jsx)(M.Z,{renderTooltip:()=>(0,w.jsxs)("div",{style:{display:"flex"},children:[(0,w.jsx)(c.FormattedMessage,{id:"topbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}),(0,w.jsx)(C.Z,{name:"goForward",style:{opacity:.5,marginLeft:4}})]}),placement:M.Z.Placement.Bottom,alignment:M.Z.Alignment.Center,originGap:6,render:i=>(0,w.jsx)(S.Z,{icon:v.Z.state.isTabsFeatureEnabled?e:t,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:!m.vy(this.environment),style:{position:"relative",...(0,g.X)({noDrag:this.environment.device.isElectronMac})},onClick:this.handleForwardClick,...i})})}renderNewTabButton(){return v.Z.state.isTabsFeatureEnabled?(0,w.jsx)(M.Z,{renderTooltip:()=>(0,w.jsxs)("div",{style:{display:"flex"},children:[(0,w.jsx)(c.FormattedMessage,{id:"topbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"}),(0,w.jsx)(C.Z,{name:"newTab",style:{opacity:.5,marginLeft:4}})]}),placement:M.Z.Placement.Bottom,alignment:M.Z.Alignment.Center,originGap:6,render:e=>(0,w.jsx)(S.Z,{icon:e=>(0,d.K)({...e,width:"24px",height:"24px"}),isDarkIconColor:!0,className:"notion-new-tab-button",style:{position:"relative",...(0,g.X)({noDrag:this.environment.device.isElectronMac})},onClick:this.handeNewTabClick,...e})}):null}renderMobile(){const{supportsNativeHomeTabPhone:e}=this.props;if(e||this.environment.device.isTablet)return(0,w.jsx)(x.Z,{capture:!0,render:t=>(0,w.jsxs)("div",{style:{display:"flex",flexShrink:0,height:"100%",paddingLeft:4,paddingRight:e?0:4},...t,children:[this.renderMobileBackButton(),!e&&this.renderMobileForwardButton()]})})}renderMobileBackButton(){const{RouterStore:e}=this.environment,{supportsNativeHomeTabPhone:t}=this.props,i=!t&&!e.canGoBack();return(0,w.jsx)(f.Z,{onClick:this.handleBackClick,className:"notion-history-back-button",disabled:i,disabledFeedback:!0,mobileFeedback:!0,style:k.mobileButtonStyle,children:t?(0,o.k)():(0,a.S)({width:16,height:16})})}renderMobileForwardButton(){const e=!m.vy(this.environment);return(0,w.jsx)(f.Z,{onClick:this.handleForwardClick,className:"notion-history-forward-button",disabled:e,mobileFeedback:!0,disabledFeedback:!0,style:k.mobileButtonStyle,children:(0,l.s)({width:16,height:16})})}}k.displayName="TopbarBrowserButtons",k.mobileButtonStyle={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:32};const j=k},79075:(e,t,i)=>{i.d(t,{Z:()=>C});i(67294);var n=i(83355),o=i(8848),r=i(47560),s=i(5366),a=i(7476),l=i(34047),d=i(43250),c=i(34700),u=i(33929),h=i(74948),p=i(24646),g=i(36391),m=i(88923),v=i(73063),b=i(26388),f=i(85893);const S=(0,s.defineMessages)({updates:{id:"topbar.commentsButton.title",defaultMessage:"Comments"}});class x extends n.Z{constructor(){super(...arguments),this.hasUnreadCommentsStore=this.createComputedStore((()=>(0,l.DF)({blockStore:this.props.blockStore,ignoreAfterTime:Date.now()}).some((e=>!e.getResolved()&&(0,l.NI)(e).some((t=>a.t({discussionStore:e,commentStore:t})))))),!1),this.handleClickSidebar=()=>{h.handleSidebarButtonClick(this.environment,this.props.blockStore,g.gY.Comments,"topbar")}}renderComponent(){const e=u.default.getIntl(),t=p.vK(this.environment)?(0,f.jsx)("div",{style:{textAlign:"center"},children:(0,f.jsx)(s.FormattedMessage,{defaultMessage:"Close all comments",id:"topbar.commentsButton.closeSidebartTooltip"})}):(0,f.jsx)("div",{style:{textAlign:"center"},children:(0,f.jsx)(s.FormattedMessage,{defaultMessage:"View all comments",id:"topbar.commentsButton.openSidebartTooltip"})});return(0,f.jsx)(b.Z,{placement:b.Z.Placement.Bottom,renderTooltip:()=>t,render:t=>(0,f.jsxs)("div",{style:{...(0,c.X)({noDrag:this.environment.device.isElectronMac}),position:"relative"},children:[(0,f.jsx)(v.Z,{...t,icon:r.o,iconStyle:{height:20,width:20,fill:this.theme.regularIconColor},onClick:this.handleClickSidebar,style:{width:33,height:28,marginRight:2},ariaLabel:e.formatMessage(S.updates),hovered:p.vK(this.environment)&&!m.default.state.open,className:d.p0b}),this.hasUnreadCommentsStore.state&&(0,f.jsx)("div",{style:{position:"absolute",top:1.8,right:5.5,height:11,width:11,border:`2px solid ${this.theme.whiteButtonBackground}`,borderRadius:12,background:o.ZP.red,pointerEvents:"none"}})]}),children:t})}}x.displayName="TopbarCommentsButton";const C=x},17169:(e,t,i)=>{i.d(t,{Z:()=>V});var n=i(67294),o=i(12183),r=i(480),s=i(86628),a=i(24405),l=i(27961),d=i(32056),c=i(5366),u=i(50906),h=i(47307),p=i(53323),g=i(34700),m=i(45023),v=i(87279),b=i(15517),f=i(88632),S=i(99757),x=i(38335),C=i(8848),y=i(80750),M=i(16402),w=i(85893);function k(e){window.__c={n:"ConnectionErrorIndicatorLabel"};const t=(0,x.f)(500);if(e.device.isMobile)return(0,y.l)({width:24,height:"100%"});if(void 0===e.error.approximateBackoffDelayEndTime)return(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Something's not right.",id:"connectionErrorIndicator.label.shortMessage"});const i=Math.floor((e.error.approximateBackoffDelayEndTime-t)/1e3);return i>0?(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Something's not right. Retrying in {numberOfSeconds}s…",values:{numberOfSeconds:i},id:"connectionErrorIndicator.label.retryingInSeconds"}):(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Something's not right. Retrying…",id:"connectionErrorIndicator.label.retrying"})}function j(e){window.__c={n:"ConnectionErrorIndicatorDetails"},(0,x.f)(1e4);const{startTime:t}=e,i=(0,M.IS)(t),o=(0,r.O7)();return(0,n.useEffect)((()=>{u.apd(o,{errorSinceMs:Date.now()-t})}),[o,t]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.FormattedMessage,{defaultMessage:"{sinceSomeTimeAgo}, an error occurred saving your changes. We'll try again soon.",values:{sinceSomeTimeAgo:i},id:"connectionErrorIndicator.details.message"}),e.retryReason?(0,w.jsx)("div",{style:{marginTop:8,fontSize:12,color:C.ZP.whiteWithAlpha(.7),fontStyle:"italic"},children:(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Debug info: {debugInfo}",values:{debugInfo:e.retryReason},id:"connectionErrorIndicator.details.debugInfo"})}):void 0]})}var T=i(31945),Z=i(68785),P=i(78140),B=i(89728),I=i(26388);const L=e=>(0,w.jsx)(c.FormattedMessage,{defaultMessage:"You can no longer make edits: {errorMessage} {usageInfoMessage}",id:"connectionState.errorIndicator.cannotMakeEdits.detailedMessage",values:{errorMessage:e.errorMessage,usageInfoMessage:e.usageInfoMessage}}),_=e=>{window.__c={n:"ErrorIndicator"};const t=(0,a.Fg)(),i=(0,r.O7)(),o=(0,l.z)({marginLeft:6,width:14,height:14,fill:e.errorStateStyle.color}),s="transactionQueue"===e.type?e.message:void 0,d="lowStorage"===e.type?e.estimate:void 0;return(0,n.useEffect)((()=>{"transactionQueue"===e.type?u.sIE(i,{message:s}):"connection"===e.type?u.SLv(i):"lowStorage"===e.type&&u.zQ6(i,{estimate:d})}),[e.type,s,d,i]),(0,n.useEffect)((()=>{s&&h.showThrottledErrorMessage((0,w.jsx)(L,{errorMessage:s}))}),[s]),i.device.isMobile?(0,w.jsx)(T.ZP,{popupType:T.Z4.SlideUp,renderOrigin:t=>(0,w.jsx)(B.Z,{style:e.errorStateStyle,...t,children:e.indicatorText||o}),render:i=>{let{close:n}=i;return(0,w.jsx)(P.Z,{menuType:v.og.ActionSheet,children:(0,w.jsx)("div",{style:{padding:15,background:t.errorText,color:"white"},onClick:n,children:e.detailsText})})}}):(0,w.jsx)(I.Z,{renderTooltip:()=>(0,w.jsx)("div",{style:{width:320,whiteSpace:"normal"},children:e.detailsText}),render:t=>(0,w.jsxs)("div",{style:e.errorStateStyle,...t,children:[e.indicatorText,o]})})};function F(e){let{showLoadingSpinner:t}=e;window.__c={n:"MobileLoadingSpinner"};const i=(0,r.O7)(),n=(0,s.VK)((()=>{var e;return null===(e=i.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[i]);return(0,w.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",paddingLeft:!n||t?4:0,paddingRight:!n||t?8:0,visibility:t?"visible":"hidden"},children:(!n||t)&&(0,w.jsx)(Z.Z,{style:{height:18,width:18}})})}function E(e){return{display:"flex",alignItems:"center",marginRight:e?0:18,fontSize:e?12:14}}function R(e){let{isOnline:t,showLoadingSpinner:i}=e;window.__c={n:"DesktopIndicators"};const n=(0,c.useIntl)(),o=(0,r.Fy)(),s=(0,a.yK)((e=>({offlineBadge:{...(0,g.X)({noDrag:o.isElectronMac}),display:"flex",alignItems:"center",padding:"0px 6px",height:o.isMobile?20:24,borderRadius:3,marginRight:o.isMobile?4:18,whiteSpace:"nowrap",fontSize:o.isMobile?12:14,color:e.mediumTextColor,border:`1px solid ${e.darkDividerColor}`},loadingState:{...(0,g.X)({noDrag:o.isElectronMac}),...E(o.isMobile),color:e.lightTextColor}})),[o]);return t?i?(0,w.jsx)(I.Z,{renderTooltip:()=>(0,w.jsx)(c.FormattedMessage,{defaultMessage:"{percent} complete.",id:"connectionState.savePercentangeIndicator.tooltip",values:{percent:S.Z.percentComplete(n)}}),render:e=>(0,w.jsxs)("div",{style:s.loadingState,...e,children:[(0,w.jsx)(Z.Z,{style:{margin:4,marginRight:8}}),(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Saving…",id:"connectionState.saving.message"})]})}):null:(0,w.jsx)(I.Z,{renderTooltip:()=>(0,w.jsx)("div",{style:{width:200},children:(0,w.jsx)(c.FormattedMessage,{defaultMessage:"{numberOfEdits, plural, one {You have {numberOfEdits} edit that will be synced next time you are online.} other {You have {numberOfEdits} edits that will be synced next time you are online.}}",id:"connectionState.offlineBadge.tooltip",values:{numberOfEdits:S.Z.state.totalPending}})}),textWrap:!0,render:e=>(0,w.jsx)("div",{style:s.offlineBadge,...e,children:(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Offline",id:"connectionState.offlineBadge.label"})})})}function U(){window.__c={n:"ErrorMessages"};const e=(0,r.Fy)(),t=(0,s.VK)((()=>S.Z.state.transactionQueueError),[]),i=(0,s.VK)((()=>S.Z.state.storageUsageEstimate),[]),o=(0,c.useIntl)(),l=(0,a.yK)((t=>({errorState:{...(0,g.X)({noDrag:e.isElectronMac}),...E(e.isMobile),whiteSpace:"nowrap",color:t.errorText}})),[e]),u=(0,s.VK)((()=>(0,p.L)()),[]),h=()=>{if(i){const e=i.usage/i.quota;return(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Notion is using {percentageOfStorageBytesUsed} of its available storage on your device ({usedNumberOfBytes} of {totalNumberOfBytes}).",id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart1",values:{usedNumberOfBytes:(0,d.uf)(i.usage,"bytes",o),totalNumberOfBytes:(0,d.uf)(i.quota,"bytes",o),percentageOfStorageBytesUsed:o.formatNumber(e,{style:"percent",maximumFractionDigits:2})}})}};if(t){const e=(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Cannot save changes",id:"connectionState.errorIndicator.cannotSaveChanges.message"}),i=(0,w.jsx)(L,{errorMessage:t.message,usageInfoMessage:h()});return(0,w.jsx)(_,{type:"transactionQueue",message:t.message,indicatorText:e,detailsText:i,errorStateStyle:l.errorState})}if(void 0!==i&&!(0,b.mn)(i)){const t=e.isBrowser?(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Low browser storage",id:"connectionState.errorIndicator.lowStorageOnWebApp.message"}):e.isMobileNative?(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Low app storage",id:"connectionState.errorIndicator.lowStorageOnMobileApp.message"}):(0,w.jsx)(c.FormattedMessage,{defaultMessage:"Low disk space",id:"connectionState.errorIndicator.lowStorageOnDesktopApp.message"});return(0,w.jsx)(_,{type:"lowStorage",estimate:i,indicatorText:t,detailsText:(0,w.jsxs)(n.Fragment,{children:[h()," ",(0,w.jsx)(c.FormattedMessage,{id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart2",defaultMessage:"You may lose changes made while offline. Try closing and re-opening your app, and contact support if that doesn’t fix the issue."})]}),errorStateStyle:l.errorState})}return u?(0,w.jsx)(_,{type:"connection",indicatorText:(0,w.jsx)(k,{error:u,device:e}),detailsText:(0,w.jsx)(j,{...u}),errorStateStyle:l.errorState}):null}const V=function(){window.__c={n:"TopbarConnectionIndicator"};const e=(0,s.VK)((()=>f.Z.state.online),[]),t=(0,s.VK)((()=>!S.n.state),[]),i=function(){const e=(0,n.useRef)(!1),[t,i]=(0,n.useState)(!1),r=(0,o.v)((()=>{f.Z.state.syncing&&!e.current&&(e.current=!0,i(!0))}),8e3),s=(0,o.v)((()=>{e.current&&!f.Z.state.syncing&&(e.current=!1,i(!1))}),200);return(0,n.useEffect)((()=>(f.Z.addListener(r),f.Z.addListener(s),()=>{f.Z.removeListener(r),f.Z.removeListener(s)})),[r,s]),e.current}(),a=function(e,t){const i=(0,r.O7)(),[o,s]=(0,n.useState)(!1),a=(0,n.useCallback)((n=>{(0,m.Z)(i,n,"command+s")&&(n.preventDefault(),e&&!o&&t&&(s(!0),setTimeout((()=>{s(!1)}),500)))}),[i,o,t,e]);return(0,n.useEffect)((()=>(window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)})),[a]),o}(e,t),l=(0,r.Fy)(),d=(0,s.VK)((()=>!(0,p.n)()),[]),c=(a||i)&&t&&d;return(0,w.jsxs)(w.Fragment,{children:[l.isMobile?(0,w.jsx)(F,{showLoadingSpinner:c}):(0,w.jsx)(R,{isOnline:e,showLoadingSpinner:c}),(0,w.jsx)(U,{})]})}},96677:(e,t,i)=>{i.d(t,{Z:()=>C});i(67294);var n=i(83355),o=i(18387),r=i(52926),s=i(5366),a=i(50906),l=i(24677),d=i(39699),c=i(43250),u=i(34700),h=i(92783),p=i(33929),g=i(74948),m=i(73063),v=i(58261),b=i(26388),f=i(85893);const S=(0,s.defineMessages)({isBookmarkedMessage:{defaultMessage:"Favorited",id:"topbar.favoriteButton.activeTitle"},isNotBookmarkedMessage:{defaultMessage:"Favorite",id:"topbar.favoriteButton.title"},isBookmarkedTooltip:{defaultMessage:"Remove from your favorites",id:"topbar.favoriteButton.activeTooltip1"},isNotBookmarkedTooltip:{defaultMessage:"Add to your favorites",id:"topbar.favoriteButton.tooltip1"}});class x extends n.Z{constructor(){super(...arguments),this.renderTooltipMessage=e=>(0,f.jsxs)("div",{style:{textAlign:"center"},children:[(0,f.jsx)("div",{children:(0,f.jsx)(s.FormattedMessage,{...e?S.isBookmarkedTooltip:S.isNotBookmarkedTooltip})}),(0,f.jsx)(v.Z,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleFavorite"})]}),this.handleBookmarkClick=()=>{const{spaceViewStore:e}=this.props;e&&(l.ZH(this.environment),a.V0c(this.environment,{from:"topbar"}),d.createAndCommit({userAction:"TopbarFavoriteButton.handleBookmarkClick",environment:this.environment,perform:t=>{g.bookmarkPage({spaceViewStore:e,store:this.props.store,transaction:t})}}))},this.handleUnbookmarkClick=()=>{const{spaceViewStore:e}=this.props;e&&(l.ZH(this.environment),a.P9p(this.environment,{from:"topbar"}),d.createAndCommit({userAction:"TopbarFavoriteButton.handleUnbookmarkClick",environment:this.environment,perform:t=>{g.unbookmarkPage({spaceViewStore:e,store:this.props.store,transaction:t})}}))}}renderComponent(){const e=p.default.getIntl(),{spaceViewStore:t}=this.props,i=!!t&&(0,h.Z)({spaceViewStore:t,pageId:this.props.store.id}),n=i?r.b:o.A,s=i?this.handleUnbookmarkClick:this.handleBookmarkClick;return(0,f.jsx)(b.Z,{placement:b.Z.Placement.Bottom,renderTooltip:()=>this.renderTooltipMessage(i),render:t=>(0,f.jsx)(m.Z,{...t,className:c.GbT,icon:n,style:{...(0,u.X)({noDrag:this.environment.device.isElectronMac}),width:33,height:28,marginRight:2},iconStyle:{height:20,width:20,fill:i?this.theme.topbarFavorite:this.theme.regularIconColor},onClick:s,ariaLabel:e.formatMessage(i?S.isBookmarkedMessage:S.isNotBookmarkedMessage)})})}}x.displayName="TopbarFavoriteButton";const C=x},10137:(e,t,i)=>{i.d(t,{Z:()=>j});i(67294);var n=i(73935),o=i(83355),r=i(56666),s=i(30681),a=i(5366),l=i(50906),d=i(24677),c=i(43250),u=i(34700),h=i(98742),p=i(35328),g=i(77907),m=i(80444),v=i(21884),b=i(64921),f=i(31945),S=i(26388),x=i(28451),C=i(81415),y=i(71424),M=i(85893);function w(e){return(0,M.jsx)(x.P,{calloutId:"wiki_promo",children:(0,M.jsx)(C.U,{origin:()=>e.origin,placementToOrigin:"bottom",header:"Upgrade your existing wikis",content:"Look for the Turn into wiki action here",onCloseClick:()=>{v.E.setState({showConvertTooltip:!1,forceShow:!1})},pointerPosition:"98%",pointerLength:24,pointerOffset:-3,style:{width:y.G5}})})}class k extends o.Z{constructor(){super(...arguments),this.originEl=null,this.onClickOriginRect=void 0,this.renderOrigin=e=>{const{device:t}=this.environment;return(0,M.jsx)(S.Z,{renderTooltip:()=>this.environment.currentUser.isLoggedIn()?(0,M.jsx)(a.FormattedMessage,{defaultMessage:"Style, export, and more…",id:"topbarMoreButton.tooltip"}):(0,M.jsx)(a.FormattedMessage,{defaultMessage:"More…",id:"topbarMoreButton.loggedOut.tooltip"}),placement:S.Z.Placement.Bottom,delayThreshold:400,render:i=>(0,M.jsx)(b.Z,{ref:this.handleButtonMount,style:this.getButtonStyle(),mobileFeedback:t.isMobile,className:c.mSZ,...(0,h.Z)(e,i),children:t.isMobile?(0,s.I)({width:26}):(0,r.o)({width:18,height:18,fill:this.theme.regularIconColor})})})},this.handleButtonMount=e=>{e&&(this.originEl=n.findDOMNode(e))},this.handleClick=()=>{v.E.setState({showConvertTooltip:!1,forceShow:!1}),d.ZH(this.environment),this.originEl&&(this.onClickOriginRect=this.originEl.getBoundingClientRect()),l.kq7(this.environment)},this.handleDismiss=()=>{this.props.buttonPopupStore.setState({...this.props.buttonPopupStore.state,open:!1})},this.handleAccept=e=>{const{mainEditorCurrentBlockStore:t}=m.default.state;if(t){const i=t.getType();i&&l.dhV(this.environment,{analyticsName:e.analyticsName,action_type:e.analyticsActionType,from:"topbar_more_menu",block_id:t.id,block_type:i,is_toggleable:(0,p._A)(i,t.getFormat())})}e.closeParentMenu&&this.handleDismiss()}}renderComponent(){const{device:e}=this.environment,t=v.E.state.showConvertTooltip;return(0,M.jsxs)(M.Fragment,{children:[t?(0,M.jsx)(w,{origin:this.originEl}):null,(0,M.jsx)(f.ZP,{popupType:e.isMobile?f.Z4.SlideUp:f.Z4.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:()=>(0,M.jsx)(g.LazyTopbarMoreMenu,{blockStore:this.props.store,onClickOriginRect:this.onClickOriginRect,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss}),originGap:8,trapFocus:!0,forceInitialInbound:!0,style:e.isMobile?{}:{width:240,maxHeight:"80vh"}})]})}getButtonStyle(){const{device:e}=this.environment;return e.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2}:{...(0,u.X)({noDrag:this.environment.device.isElectronMac}),display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}}}k.displayName="TopbarMoreButton";const j=k},63437:(e,t,i)=>{i.d(t,{Z:()=>r});i(67294);var n=i(24405),o=i(85893);const r=function(){window.__c={n:"TopbarPeekControlsSeparator"};const e=(0,n.yK)((e=>({separator:{height:14,width:1,marginLeft:6,marginRight:6,background:e.darkDividerColor}})),[]);return(0,o.jsx)("div",{style:e.separator})}},67485:(e,t,i)=>{i.d(t,{Z:()=>Z});i(57658),i(67294);var n=i(83355),o=i(13991),r=i(7057),s=i(72126),a=i(19889),l=i(7928),d=i(5366),c=i(61045),u=i(34700),h=i(33929),p=i(20095),g=i(35661),m=i(64921),v=i(26388),b=i(64369),f=i(29302),S=i(45653),x=i(44615),C=i(25320),y=i(2688),M=i(89087);class w extends n.Z{constructor(){super(...arguments),this.messageStoreListenerReference=void 0}willMount(){this.startMessageStoreListener()}willUnmount(){this.stopMessageStoreListener()}didUpdate(){this.stopMessageStoreListener(),this.startMessageStoreListener()}async startMessageStoreListener(){const{block:e}=this.props;if(await M.transactionQueue.awaitRecordTransaction(e.pointer),!this.componentIsMounted)return;const t=(0,x.pb)(e.id);this.messageStoreListenerReference=y.Z.addListener(t,s.P2((()=>C.Ri(this.environment,{block:this.props.block,pageVisitStore:this.props.pageVisitStore,incremental:!0,limit:this.props.limit})),1e3),void 0,this.environment)}stopMessageStoreListener(){this.messageStoreListenerReference&&(y.Z.removeListener(this.messageStoreListenerReference,this.environment),this.messageStoreListenerReference=void 0)}}w.displayName="PageVisitListener";const k=w;var j=i(85893);class T extends n.Z{constructor(){super(...arguments),this.renderAvatar=e=>{const{userId:t}=e,i=(0,p.MR)(this.environment,e),n=this.createUserStore(t);if(n.isDefined()&&!n.getIsSuspended())return(0,j.jsx)(v.Z,{textWrap:!0,renderTooltip:()=>this.renderAvatarTooltip(e,i),render:t=>{const o=(0,j.jsx)(S.Z,{userStore:n,style:this.getUserAvatarStyle(),isOffline:!i,size:T.avatarSize,avatarShouldShowShadow:!0});if(i&&e.blockId){const i=e.blockId;return(0,j.jsx)(m.Z,{...t,onClick:()=>c.hl([i],!0),style:T.avatarButtonStyle,hoveredStyle:T.avatarButtonHoveredStyle,pressedStyle:T.avatarButtonPressedStyle,children:o})}return(0,j.jsx)("div",{...t,children:o})}},t)},this.renderHiddenUsersTooltipItem=(e,t)=>{const i=(0,p.MR)(this.environment,e),n=this.createUserStore(e.userId);if(!n.isDefined)return;let s;!i&&e.activityTimestampNearestMinuteMs&&(s=(0,r.tv)(e.activityTimestampNearestMinuteMs,o.SP));const a=(0,j.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},children:[(0,j.jsx)(f.Z,{userStore:n,avatarSize:18,style:{flexGrow:1}}),(0,j.jsx)("div",{style:{marginLeft:"auto",paddingLeft:12,textAlign:"right",flexShrink:1,color:this.theme.mediumInvertedTextColor},children:s})]});if(i&&e.blockId){const i=e.blockId;return(0,j.jsx)(m.Z,{onClick:()=>c.hl([i],!0),style:{display:"flex",alignItems:"center"},children:a},t)}return(0,j.jsx)("div",{style:{display:"flex",alignItems:"center"},children:a},t)},this.renderStateStore=this.createComputedStore((()=>{const{pageVisitStore:e,presenceStore:t}=this.props,i=(0,p.AQ)(e,t),n=this.environment.currentUser.id;if(!n)return;const o=this.createUserStore(n),r=i.find((e=>e.userId===n));if(!r||!o.isDefined())return;let a=i.filter((e=>e.userId!==n&&(0,p.MR)(this.environment,e)));a=this.orderPresenceData(a).reverse();const l=this.orderPresenceData(s.e5(i,a,[r])).reverse(),d=[...a,...l],c=this.getMaxUsers()-1;return{visibleUsers:d.slice(0,c),hiddenUsers:d.slice(c)}}),!0)}renderComponent(){return(0,j.jsxs)(j.Fragment,{children:[this.renderPresence(),(0,j.jsx)(k,{block:this.props.rootStore,pageVisitStore:this.props.pageVisitStore,limit:1+this.getMaxUsers()+25})]})}getMaxUsers(){return this.props.maxUsers??5}renderPresence(){const e=this.environment.currentUser.id;if(!e)return;const t=this.renderStateStore.state;if(!t)return;const{visibleUsers:i,hiddenUsers:n}=t;if([e,...i.map((e=>e.userId)),...n.map((e=>e.userId))].map((e=>this.createUserStore(e))).every((e=>e.isReady()))&&(i.length>0||n.length>0)){const t=[...i];return t.reverse(),(0,j.jsxs)("div",{style:this.getStyle(),children:[n.length>0&&this.renderHiddenUsers(n),t.map(this.renderAvatar),this.renderAvatar({userId:e,present:!0})]})}}renderAvatarTooltip(e,t){const i=this.environment.currentUser.id,n=this.createUserStore(e.userId);if(!n.isDefined())return;let s;t?i!==n.id&&(s=e.blockId?(0,j.jsx)(d.FormattedMessage,{defaultMessage:"Viewing now. Click to see where they are.",id:"topbar.presenceIndicator.viewingNowWithLocation.tooltip"}):(0,j.jsx)(d.FormattedMessage,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.viewingNow.tooltip"})):i!==n.id&&e.activityTimestampNearestMinuteMs&&(s=(0,j.jsx)(d.FormattedMessage,{defaultMessage:"Last viewed {timeFromNow}",id:"topbar.presenceIndicator.lastViewedTime.tooltip",values:{timeFromNow:(0,r.tv)(Math.min(e.activityTimestampNearestMinuteMs,Date.now()),o.SP)}}));const a=h.default.getIntl();return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"notranslate",children:(0,l.Nz)(a,n.getModel())}),(0,j.jsx)("div",{style:{fontWeight:400},children:n.getEmail()}),s&&(0,j.jsx)("div",{style:{color:this.theme.mediumInvertedTextColor,minWidth:150,paddingTop:2,paddingBottom:2,lineHeight:1.3},children:s})]})}renderHiddenUsers(e){return(0,j.jsx)(v.Z,{allowHover:!0,originGap:7,renderTooltip:t=>{const i=[],n=[];for(const r of e)(0,p.MR)(this.environment,r)?i.push(r):n.push(r);const o=n.slice(0,25-i.length);return(0,j.jsxs)("div",{...t,children:[i.length>0&&(0,j.jsxs)("div",{style:{marginBottom:4},children:[(0,j.jsx)(b.Z,{style:this.getTooltipSectionLabelStyle(),children:(0,j.jsx)(d.FormattedMessage,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.hiddenUsers.viewingNow.tooltip"})}),i.map(this.renderHiddenUsersTooltipItem)]}),o.length>0&&(0,j.jsxs)("div",{style:{marginBottom:4},children:[(0,j.jsx)(b.Z,{style:{...this.getTooltipSectionLabelStyle()},children:(0,j.jsx)(d.FormattedMessage,{defaultMessage:"Last viewed by",id:"topbar.presenceIndicator.hiddenUsers.lastViewedBy.tooltip"})}),o.map(this.renderHiddenUsersTooltipItem)]}),n.length>o.length&&(0,j.jsx)("div",{style:{marginLeft:2,marginTop:2,color:this.theme.mediumInvertedTextColor},children:(0,j.jsx)(d.FormattedMessage,{defaultMessage:"{notViewingMoreUsersCount} more…",id:"topbarPresence.presenceIndicator.hiddenUsers.moreUsersNotViewing.tooltip",values:{notViewingMoreUsersCount:n.length-o.length}})})]})},render:t=>(0,j.jsx)("div",{style:{color:this.theme.mediumTextColor,fontSize:14,marginLeft:2*T.avatarOverlap,marginRight:-T.avatarOverlap,whiteSpace:"nowrap"},...t,children:(0,j.jsx)(d.FormattedMessage,{defaultMessage:"{hiddenUsersCount, plural, one {+{hiddenUsersCount}} other {+{hiddenUsersCount}}}",id:"topbar.presenceIndicator.hiddenUsers.otherCount.message",values:{hiddenUsersCount:e.length}})})})}orderPresenceData(e){return s.MR(e,(e=>e.activityTimestampNearestMinuteMs))}createUserStore(e){const{rootStore:t}=this.props;return g.U6.createChildStore(t,{table:a.KJ,id:e})}getStyle(){return{...(0,u.X)({noDrag:this.environment.device.isElectronMac}),display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginLeft:4+T.avatarOverlap,marginTop:-2,transform:"translateZ(0)"}}getUserAvatarStyle(){return{width:T.avatarSize,height:T.avatarSize,borderRadius:T.avatarSize,marginRight:-T.avatarOverlap,position:"relative"}}getTooltipSectionLabelStyle(){return{color:this.theme.mediumInvertedTextColor,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"}}}T.displayName="TopbarPresence",T.avatarSize=23,T.avatarOverlap=5,T.avatarButtonStyle={transition:"all 0.2s ease",transform:"scale(1)"},T.avatarButtonHoveredStyle={transform:"scale(1.15)",background:"none"},T.avatarButtonPressedStyle={transform:"scale(0.9)",background:"none"};const Z=T},12253:(e,t,i)=>{i.d(t,{Z:()=>u});i(67294);var n=i(480),o=i(24405),r=i(61061),s=i(5366),a=i(34700),l=i(89728),d=i(26388),c=i(85893);const u=function(e){window.__c={n:"TopbarRestrictedBadge"};const t=(0,o.Fg)(),i=(0,n.O7)(),{device:u}=i;return(0,c.jsx)(d.Z,{placement:d.Z.Placement.Bottom,renderTooltip:()=>(0,c.jsxs)("div",{style:{...(0,a.X)({noDrag:i.device.isElectronMac}),textAlign:"center"},children:[(0,c.jsx)(s.FormattedMessage,{defaultMessage:"Access restricted from parent page",id:"blockAuthorInfo.restrictedBadge.infoText"}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{style:{color:t.mediumInvertedTextColor},children:(0,c.jsx)(s.FormattedMessage,{defaultMessage:"Click to view access",id:"blockAuthorInfo.restrictedBadge.clickText"})})]}),render:i=>(0,c.jsxs)(l.Z,{onClick:e.onClick,style:{marginRight:u.isMobile?4:2,color:t.lightTextColor,fill:t.lightIconColor},...i,children:[(0,r.B)({width:20,marginRight:4,fill:t.lightIconColor}),(0,c.jsx)("div",{style:{color:t.lightTextColor,fontSize:u.isMobile?16:14,lineHeight:u.isAndroid?1.5:1,whiteSpace:"nowrap"},children:(0,c.jsx)(s.FormattedMessage,{id:"blockAuthorInfo.restrictedBadge",defaultMessage:"Restricted"})})]})})}},19368:(e,t,i)=>{i.d(t,{Z:()=>H});var n=i(67294),o=i(83355),r=i(15769),s=i(43876),a=i(63143),l=i(5366),d=i(24677),c=i(28040),u=i(37181),h=i(43250),p=i(34700),g=i(98742),m=i(45101),v=i(77907),b=i(57345),f=i(2194),S=i(4023),x=i(80444),C=i(77080),y=i(55899),M=i(78291),w=i(8675),k=i(52878),j=i(34583),T=i(88893),Z=i(31945),P=i(58261),B=i(89728),I=i(53437),L=i(26388),_=i(24405),F=i(8848),E=i(13148),R=i(23063),U=i(73063),V=i(28451),D=i(85893);function A(e){window.__c={n:"ShareButtonIntroTooltip"};const{visible:t,onDismiss:i}=e,n=(0,_.yK)((e=>({overlayContainer:{position:"relative",width:240,height:140,paddingTop:0,paddingBottom:20,paddingLeft:20,paddingRight:20},container:{fontSize:12,color:F.ZP.white,position:"absolute",top:13,background:F.ZP.blue,borderRadius:6,padding:"8px 12px 12px 12px",width:200,boxShadow:e.largeLightBoxShadow,zIndex:9999},circle:{position:"absolute",top:-12,left:"calc(50% - 2.5px)",background:F.ZP.blue,width:5,height:5,borderRadius:5,boxShadow:`0 0 0 1.5px ${e.contentBackground}`},verticalLine:{position:"absolute",top:-12,left:"calc(50% - 1px)",background:F.ZP.blue,width:2,height:12},textContainer:{width:"90%",fontWeight:500},iconButton:{position:"absolute",top:4,right:4,opacity:.8},iconStyle:{width:12,fill:F.ZP.white}})),[]);return(0,D.jsx)("div",{style:n.overlayContainer,children:(0,D.jsx)(R.Z,{isVisible:t,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:function(){return(0,D.jsx)(V.P,{calloutId:"share_button_tooltip",children:(0,D.jsxs)("div",{style:n.container,children:[(0,D.jsx)("div",{style:n.circle}),(0,D.jsx)("div",{style:n.verticalLine}),(0,D.jsx)("div",{style:n.textContainer,children:(0,D.jsx)(l.FormattedMessage,{defaultMessage:"You can share your content with your teammates here",id:"shareButtonIntroTooltip.title"})}),(0,D.jsx)(U.Z,{icon:E.U,style:n.iconButton,iconStyle:n.iconStyle,onClick:()=>i()})]})})}})})}class O extends o.Z{constructor(){super(...arguments),this.storeTypes={universalMemberInviteStore:k.Z,sudoModeStore:w.Z,inviteTargetsStore:y.ZP},this.showShareButtonTooltip=this.createComputedStore((()=>this.shouldShowShareTooltip())),this.buttonPopupStyle=this.createComputedStore((()=>{const{device:e}=this.environment;return e.isMobile?{width:460}:{width:500,overflow:"hidden"}})),this.shareButtonStyle=this.createComputedStore((()=>{const{device:e}=this.environment;return e.isMobile?{display:"flex",alignItems:"center",height:"100%",paddingLeft:8,paddingRight:8}:{...(0,p.X)({noDrag:e.isElectronMac}),marginRight:2,marginLeft:12}})),this.shareButtonRef=n.createRef(),this.renderShareButtonOrigin=e=>{const{device:t}=this.environment;return(0,D.jsx)(L.Z,{disableTooltip:t.isMobile,renderTooltip:()=>(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:(0,D.jsx)(l.FormattedMessage,{defaultMessage:"Share or publish to the web",id:"topbar.shareButton.tooltip"})}),(0,D.jsx)(P.Z,{style:{color:this.theme.mediumInvertedTextColor},name:"openShareMenu"})]}),placement:L.Z.Placement.Bottom,delayThreshold:400,render:t=>this.renderShareButton((0,g.Z)(e,t))})},this.renderShareButton=e=>{const{device:t}=this.environment,i=this.showShareButtonTooltip.state,n=t.isMobile?t.isAndroid?(0,r.Q)({width:16,height:16}):(0,s.s)({width:26}):(0,D.jsx)(l.FormattedMessage,{defaultMessage:"Share",id:"topbar.shareButton.title"}),o=(0,D.jsxs)("div",{ref:this.shareButtonRef,children:[(0,D.jsx)(B.Z,{className:h.MD7,...(0,g.Z)(e,{onClick:i?()=>u.Qm(this.environment):()=>{}}),mobileFeedback:t.isMobile,style:this.shareButtonStyle.state,children:n}),(0,D.jsx)(f.cb,{originRef:this.shareButtonRef})]});return i?(0,D.jsx)(I.ZP,{popupType:I.kQ.Popup,open:!0,origin:o,placementToOrigin:S.u.Bottom,alignmentToOrigin:I.ZP.Alignment.Center,preventScaleTransition:!0,preventOpacityTransition:!0,viewportPadding:4,preventCaptureEsc:!0,preventPointerEvents:!1,disableMouseCapture:!0,render:()=>this.showShareButtonTooltip.state?(0,D.jsx)(A,{visible:this.showShareButtonTooltip.state,onDismiss:()=>u.Qm(this.environment)}):null,style:{boxShadow:"none",backgroundColor:"rgba(0, 0, 0, 0)"}}):o},this.getBlockStoreForPermissionsSettings=()=>this.stores.sudoModeStore.shouldUserHaveAccessToPrivatePageBlock()&&this.stores.sudoModeStore.state.changePermissionsEnabled&&this.stores.sudoModeStore.state.privatePageStore?this.stores.sudoModeStore.state.privatePageStore:this.props.store,this.handleClick=()=>{this.resetStores(),d.ZH(this.environment),b.lG(this.environment),j.bi(this.environment)},this.handleClose=async()=>{if(this.stores.inviteTargetsStore.state.inviteTargets.length>0){return void(await b.zd({environment:this.environment,inviteTargetsStore:this.stores.inviteTargetsStore})&&(b.a6(this.environment),this.resetStores()))}const{permissionsInviteStore:e}=this.stores.universalMemberInviteStore.state;"invitee"===e.state.inputFocus&&e.setState({...e.state,inputFocus:"none"});await(0,m.Aw)({environment:this.environment,permissionsInviteStoreState:e.state,from:"share_menu"})||(b.a6(this.environment),this.resetStores())},this.resetStores=()=>{this.props.buttonPopupStore.reset(),this.stores.universalMemberInviteStore.reset(),this.stores.inviteTargetsStore.reset()},this.hasInviteTargets=()=>{const{universalMemberInviteStore:e,inviteTargetsStore:t}=this.stores,{permissionsInviteStore:i}=e.state;return i.state.inviteTargets.length>0||t.state.inviteTargets.length>0}}didMountOrUpdate(){this.props.store.canAdmin()?this.stores.sudoModeStore.reset():c.i({environment:this.environment,sudoModeStore:this.stores.sudoModeStore,pageBlockId:this.props.store.id})}renderComponent(){const{device:e}=this.environment;return(0,D.jsx)(Z.ZP,{popupType:e.isMobile?Z.Z4.SlideUp:Z.Z4.Popup,forceInitialInbound:!0,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderShareButtonOrigin,originGap:e.isMobile?void 0:8,style:this.buttonPopupStyle.state,onClick:this.handleClick,render:()=>(0,D.jsx)(v.LazyShareMenuContainer,{buttonPopupStore:this.props.buttonPopupStore,sudoModeStore:this.stores.sudoModeStore,store:this.getBlockStoreForPermissionsSettings(),inviteTargetsStore:this.stores.inviteTargetsStore,onUpgradeButtonClick:()=>{this.props.buttonPopupStore.reset()},location:e.isMobile?"topbar_mobile":"topbar_share_button",onClose:this.handleClose}),persistOnClose:!e.isMobile&&this.hasInviteTargets(),onDismiss:this.handleClose,onClose:this.handleClose})}shouldShowShareTooltip(){const{currentUserSettingsStore:e,mainEditorCurrentBlockStore:t,inAppCalloutStore:i}=x.default.state;if(null!=t&&t.isTypedCollectionViewBlock())return!1;if(!e)return!1;if(e.id!==this.environment.currentUser.id)return!1;const n=e.getKeyStore("settings").getKeyStore("seen_share_button_tooltip_at").getValue();if(Boolean(n))return!1;const o=e.getKeyStore("settings").getKeyStore("signup_time").getValue();if(!o)return!1;if(!i.canShow("share_button_tooltip"))return!1;const r=Date.now()-o;if(r<=30*a.A0){switch(C.default.getEligibleGroup({experimentId:"intro_share_tooltip_condition",defaultGroup:"control"})){case"b200":const{data:e}=M.default.state;if(e){return(0,T.Lz)(this.environment,e)>=200}return!1;case"d3":return r>=3*a.A0;case"control":return r>=10*a.A0}}return!1}}O.displayName="TopbarShareButton";const H=O},75272:(e,t,i)=>{i.d(t,{Z:()=>C});i(67294);var n=i(480),o=i(86628),r=i(24405),s=i(7525),a=i(63261),l=i(5366),d=i(43250),c=i(34700),u=i(12534),h=i(74948),p=i(38676),g=i(23063),m=i(73063),v=i(58261),b=i(26388),f=i(39849),S=i(92955),x=i(85893);function C(){window.__c={n:"TopbarSidebarButton"};const e=(0,n.O7)(),t=(0,n.Fy)(),i=(0,l.useIntl)(),C=(0,o.VK)((()=>p.TC.state),[]),y=(0,r.yK)((e=>({root:{...(0,c.X)({noDrag:t.isElectronMac}),flexShrink:0,width:48,height:48,margin:-12,padding:12,marginRight:-6},button:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:3},buttonWrapper:{position:"absolute",top:0,left:0,willChange:"opacity"},svg:{width:16,height:16,fill:e.regularIconColor},keyboardShortcut:{color:e.mediumInvertedTextColor}})),[t.isElectronMac]),M=e=>{(0,u.ZP)({event:e,context:u.Af.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();p.Ic.setState(t.right),h.open()}})},w=i.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return(0,x.jsx)("div",{style:y.root,onMouseEnter:M,onMouseMove:M,children:(0,x.jsxs)("div",{style:{position:"relative"},children:[(0,x.jsx)(g.Z,{isVisible:!0,animationStyle:{opacity:C?0:1},render:()=>(0,x.jsx)("div",{style:y.buttonWrapper,children:(0,x.jsxs)("div",{style:y.button,children:[(0,a._)(y.svg),(0,x.jsx)(S.Z,{type:"allSpaces",color:f.Z.Color.Red,style:{position:"absolute",top:-1,right:-4}})]})})}),(0,x.jsx)(g.Z,{isVisible:!0,animationStyle:{opacity:C?1:0},render:()=>(0,x.jsx)("div",{style:y.buttonWrapper,children:(0,x.jsx)(b.Z,{renderTooltip:()=>(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:w}),(0,x.jsx)(v.Z,{style:y.keyboardShortcut,name:"toggleSidebar"})]}),placement:b.Z.Placement.Right,alignment:b.Z.Alignment.Start,delayThreshold:0,originGap:6,render:t=>(0,x.jsx)(m.Z,{ariaLabel:w,icon:s.t,style:{position:"relative"},iconStyle:{width:16,height:16},isDarkIconColor:!0,onClick:()=>h.setExpand({environment:e,isExpanded:!0,from:"topbar_sidebar_button"}),className:d.exn,...t})})})})]})})}},29538:(e,t,i)=>{i.d(t,{C:()=>C,V:()=>x});i(67294);var n=i(480),o=i(86628),r=i(24405),s=i(97439),a=i(5366),l=i(28020),d=i(43250),c=i(34700),u=i(74948),h=i(38676),p=i(24042),g=i(45325),m=i(23063),v=i(73063),b=i(58261),f=i(26388),S=i(85893);function x(e){let{}=e;window.__c={n:"TopbarSidebarUnexpandButton"};const t=(0,n.O7)(),i=(0,n.Fy)(),r=(0,a.useIntl)(),d=(0,o.VK)((()=>!h.xH.state),[]),c=(0,o.VK)((()=>p.Z.state.isShowingTabBar||!1),[]),m=(0,o.VK)((()=>l.tu.state),[]),v=r.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"});return(0,S.jsx)(C,{shouldHide:i.isElectronMac&&m||c||d,icon:s.D,caption:v,onClick:()=>{u.setExpand({environment:t,isExpanded:!1,from:"topbar_sidebar_unexpand_button"}),g.ZP.isOpen()&&u.close()},keyboardShortcutName:"toggleSidebar",isElectron:i.isElectron})}function C(e){window.__c={n:"TopbarUnexpandButton"};const t=(0,n.Fy)(),i=(0,r.yK)((e=>({keyboardShortcut:{color:e.mediumInvertedTextColor}})),[]),o=e.isElectron&&!e.shouldHide?1:0,s=e.shouldHide?0:1;return(0,S.jsx)(f.Z,{disableTooltip:e.shouldHide,renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),(0,S.jsx)(b.Z,{style:i.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,render:i=>(0,S.jsx)(m.Z,{isVisible:!0,animationStyle:{opacity:s},enterAnimationStyle:{opacity:o},render:()=>(0,S.jsx)(v.Z,{ariaLabel:e.caption,disabled:e.shouldHide,icon:e.icon,style:{...(0,c.X)({noDrag:t.isElectronMac}),position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...e.style},iconStyle:{width:16,height:16},mobileFeedback:t.isMobile,onClick:e.onClick,className:d.Mfh,...i})})})}},23727:(e,t,i)=>{i.d(t,{Z:()=>Z,l:()=>T});i(67294);var n=i(83355),o=i(480),r=i(24405),s=i(44292),a=i(5366),l=i(50906),d=i(19719),c=i(24677),u=i(43250),h=i(34700),p=i(98742),g=i(48451),m=i(57538),v=i(74948),b=i(24646),f=i(36391),S=i(64970),x=i(88923),C=i(31945),y=i(73063),M=i(26388),w=i(85893);const k=(0,a.defineMessages)({updates:{id:"topbar.updatesButton.title",defaultMessage:"Updates"}});class j extends n.Z{constructor(){super(...arguments),this.peekStoreTarget=this.createComputedStore((()=>x.default.state.open&&x.default.state.target)),this.renderOrigin=e=>{const{device:t}=this.environment,i=(0,w.jsx)(a.FormattedMessage,{defaultMessage:"View past changes to this page",id:"topbar.updatesButton.tooltip"});if(!t.isMobile)return(0,w.jsx)(M.Z,{placement:M.Z.Placement.Bottom,renderTooltip:()=>i,render:t=>(0,w.jsx)(T,{...(0,p.Z)(e,t)})})},this.handleClick=()=>{c.ZH(this.environment),l.gMH(this.environment)},this.handleClickSidebar=()=>{v.handleSidebarButtonClick(this.environment,this.props.blockStore,f.gY.Updates,"topbar")}}renderComponent(){const{spaceStore:e,buttonPopupStore:t,blockStore:i}=this.props,{device:n}=this.environment;if(this.peekStoreTarget.state!==i){const e=b.J5(this.environment)?(0,w.jsx)("div",{style:{textAlign:"center"},children:(0,w.jsx)(a.FormattedMessage,{defaultMessage:"Close all updates",id:"topbar.updatesButton.closeSidebartTooltip"})}):(0,w.jsx)("div",{style:{textAlign:"center"},children:(0,w.jsx)(a.FormattedMessage,{defaultMessage:"View all updates",id:"topbar.updatesButton.openSidebartTooltip"})});return S.m.state&&(this.handleClickSidebar(),S.m.setState(!1),d.Z8({environment:this.environment,pageId:i.pointer.id,isCurrentlyFollowing:(0,m.Z)(i.getFollowSettingsKey()).following,from:"email"})),(0,w.jsx)(M.Z,{placement:M.Z.Placement.Bottom,renderTooltip:()=>e,render:e=>(0,w.jsx)(T,{...e,onClick:this.handleClickSidebar,hovered:b.J5(this.environment)&&!x.default.state.open}),children:e})}return(0,w.jsx)(C.ZP,{onClick:this.handleClick,disabled:!e,popupType:n.isMobile?C.Z4.SlideUp:C.Z4.Popup,buttonPopupStore:t,renderOrigin:this.renderOrigin,originGap:8,render:()=>(0,w.jsx)(g.tY,{blockStore:this.props.blockStore,spaceStore:this.props.spaceStore}),style:{width:440,overflow:"hidden"}})}}function T(e){window.__c={n:"TopbarUpdatesIcon"};const{isElectronMac:t}=(0,o.O7)().device,i=(0,a.useIntl)(),n=(0,r.yK)((e=>({icon:{height:20,width:20,fill:e.regularIconColor},button:{...(0,h.X)({noDrag:t}),width:33,height:28,marginRight:2}})),[t]);return(0,w.jsx)(y.Z,{icon:s.d,iconStyle:n.icon,style:n.button,ariaLabel:i.formatMessage(k.updates),className:u.K3y,...e})}j.displayName="TopbarUpdatesButton";const Z=j},46457:(e,t,i)=>{i.d(t,{_:()=>g});var n=i(67294),o=i(480),r=i(86628),s=i(24405),a=i(5366),l=i(87279),d=i(77907),c=i(78140),u=i(40721),h=i(50506),p=i(85893);function g(e){let{loginModalStore:t,loginStore:i,title:s,description:a,isSignup:g,disableLoginLink:b,redirectURL:f,className:S,onDismiss:x}=e;window.__c={n:"LoginModal"};const C=(0,o.O7)(),y=(0,r.VK)((()=>t.state.open),[t]),M=(0,n.useId)(),w=(0,n.useId)(),k={loginStore:i,title:s,description:a,isSignup:g,redirectURL:f,disableLoginLink:b,titleAriaId:M,descriptionAriaId:w};if(C.device.isMobile){const e=()=>v({loginModalStore:t,loginStore:i,onDismiss:x});return(0,p.jsx)(c.Z,{menuType:l.og.Modal,left:(0,p.jsx)(u.CancelMenuText,{}),onClickLeft:e,onCancel:e,whiteBackground:!0,title:s,children:(0,p.jsx)(d.LazyLoginModalContent,{...k})})}return(0,p.jsx)(h.Z,{ariaLabelledBy:M,ariaDescribedBy:w,open:y,className:S,innerStyle:{width:480,height:590,maxWidth:"calc(100vw - 100px)",borderRadius:3},onDismiss:()=>{v({loginModalStore:t,loginStore:i,onDismiss:x})},render:()=>(0,p.jsxs)("div",{style:{height:"100%"},children:[!C.device.isMobile&&(0,p.jsx)(m,{loginModalStore:t,loginStore:i,onDismiss:x}),(0,p.jsx)(d.LazyLoginModalContent,{...k})]})})}function m(e){let{loginModalStore:t,loginStore:i,onDismiss:n}=e;window.__c={n:"CancelButton"};const o=(0,s.Fg)();return(0,p.jsx)("div",{style:{fontSize:14,color:o.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer"},onClick:()=>{v({loginModalStore:t,loginStore:i,onDismiss:n})},children:(0,p.jsx)(a.FormattedMessage,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function v(e){const{loginModalStore:t,loginStore:i,onDismiss:n}=e;i.reset(),t.setState({open:!1}),n&&n()}},9045:(e,t,i)=>{i.d(t,{Z:()=>r});i(67294);var n=i(5366),o=i(85893);function r(){return(0,o.jsx)(n.FormattedMessage,{id:"signupPage.title",defaultMessage:"Sign up"})}},92955:(e,t,i)=>{i.d(t,{Z:()=>l});i(67294);var n=i(86628),o=i(97880),r=i(19034),s=i(39849),a=i(85893);function l(e){window.__c={n:"UnreadMentionsBadge"};const{type:t,...i}=e,l=(0,n.VK)((()=>{switch(t){case"currentSpace":return r.Z.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return r.Z.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return r.Z.getTotalUnreadMentionsCount();default:(0,o.t1)(t)}}),[t]);return(0,a.jsx)(s.Z,{count:l,...i})}},90683:(e,t,i)=>{i.d(t,{a:()=>l});i(67294);var n=i(66897),o=i(97880),r=i(70301),s=i(45653),a=i(85893);function l(e){const{actor:t}=e,i={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n.YU)(t)?(0,a.jsx)(r.Z,{botValue:t.asActor,...i}):(0,n.$S)(t)?(0,a.jsx)(s.Z,{userValue:t.asActor,...i}):(0,n.Iq)(t)?(0,a.jsx)(s.Z,{userValue:void 0,...i}):void(0,o.t1)(t)}},26907:(e,t,i)=>{i.d(t,{B:()=>r,H:()=>n});const n=e=>{const{target:t,inviteTargetsStore:i}=e;return i.state.inviteTargets.some((e=>"newUser"===t.type?e.type===t.type&&t.value.email===e.value.email:"invalidUser"===t.type?e.type===t.type&&t.value.text===e.value.text:e.type===t.type&&e.value.id===t.value.id))};function o(e){return"invalidUser"!==e.type}const r=e=>{const{inviteTargetsStore:t}=e,{inviteTargets:i}=t.state;return i.filter(o)}},20095:(e,t,i)=>{i.d(t,{AQ:()=>h,EB:()=>c,MR:()=>u});i(57658);var n=i(72126),o=i(27006),r=i(63143),s=i(89523),a=i(78291),l=i(88893),d=i(67669);function c(e){if(e&&e.blockId)return e.blockId}function u(e,t){const i=e.currentUser.id;if(t.userId===i)return!0;{const e=Date.now();return Boolean(t.present&&t.activityTimestampNearestMinuteMs&&e-t.activityTimestampNearestMinuteMs<=s.Z.presentMaxActivityAge)}}function h(e,t){const i=a.default.state.data,{remotePresenceData:s,rootStore:c}=t.state;if(!c||!c.canEdit()||!i)return[];let u=[];s&&n.M6(s,(e=>{e&&e.userId&&u.push(e)}));const{pageId:h,lastViewTime:p,lastExitTime:g,omittedUserIds:m,...v}=e.state;n.M6(v,(e=>{e.isDefined()&&u.push({userId:e.getUserId(),activityTimestampNearestMinuteMs:(0,r.ud)(e.getVisitedAt()),present:!1})})),u=n.mN(u,(e=>e.userId));const b=(0,d.YO)(c).map((e=>{let{permissionItem:t}=e;return t})).filter(o.jg).map((e=>e.user_id)),f=(0,l.CM)(i).map((e=>e.userId)),S=n.G0(b,f),x=new Set(m);return u=u.filter((e=>!!S.includes(e.userId)&&!(!e.present&&x.has(e.userId)))),u=n.MR(u,(e=>{let{activityTimestampNearestMinuteMs:t}=e;return t?-t:0})),u}},57538:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(57883),o=i(97880);function r(e){switch(e){case"all":return{following:!0,followSettings:(0,n.yI)({explicitly_set_by_user:!0})};case"important":return{following:!0,followSettings:(0,n.GC)({explicitly_set_by_user:!0})};case"comments":return{following:!0,followSettings:(0,n.r$)({explicitly_set_by_user:!0})};case"none":return{following:!1,followSettings:(0,n.vU)({explicitly_set_by_user:!0})};default:(0,o.t1)(e)}}},48451:(e,t,i)=>{i.d(t,{$H:()=>r,HX:()=>s,tY:()=>o});var n=i(77907);(0,n.lazyComponent)(n.deps.notifications,(e=>e.GetNotifiedFor));const o=(0,n.lazyComponent)(n.deps.notifications,(e=>e.TopbarUpdatesMenu)),r=(0,n.lazyComponent)(n.deps.notifications,(e=>e.UpdateSidebar)),s=(0,n.lazyComponent)(n.deps.notifications,(e=>e.NotificationInboxPanel))},73742:(e,t,i)=>{i.d(t,{Z:()=>h});i(67294);var n=i(480),o=i(24405),r=i(84169),s=i(5366),a=i(75018),l=i(73063),d=i(26388),c=i(18514),u=i(85893);const h=function(){window.__c={n:"TopbarTasksLearnMoreButton"};const e=(0,s.useIntl)(),t=(0,n.O7)(),i=(0,s.defineMessages)({helpTitle:{defaultMessage:"Learn about tasks",id:"myTasks.helpTooltip.title"}}),h=(0,o.yK)((e=>({iconStyle:{width:20,height:20,fill:e.regularIconColor},iconContainer:{width:33,height:28}})),[]);return(0,u.jsx)(d.Z,{placement:d.Z.Placement.Bottom,renderTooltip:t=>e.formatMessage(i.helpTitle),render:n=>(0,u.jsx)(l.Z,{icon:()=>(0,r.m)(h.iconStyle),ariaLabel:e.formatMessage(i.helpTitle),style:h.iconContainer,onClick:e=>{e.preventDefault(),a.navigateToExternalURL({environment:t,url:(0,c.UY)("guides.tasksAndProjectsGettingStarted"),targetSelf:!1})},...n})})}},34980:(e,t,i)=>{i.d(t,{o:()=>d});i(57658),i(67294);var n=i(89968),o=i(54851),r=i(56996),s=i(5366),a=i(95697),l=i(85893);function d(){const e=[];return(0,a.QI)()&&e.push({key:"personal_home",label:(0,l.jsx)(s.FormattedMessage,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,r.z)({width:20,height:20,...e})}),e.push({key:"last_visited_page",label:(0,l.jsx)(s.FormattedMessage,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>(0,n.Y)({width:20,height:20,...e})},{key:"first_page",label:(0,l.jsx)(s.FormattedMessage,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,o.S)({width:20,height:20,padding:2,...e})}),e}},57345:(e,t,i)=>{i.d(t,{Cv:()=>T,a6:()=>j,lG:()=>k,qg:()=>B,zd:()=>P});i(67294);var n=i(33728),o=i(68626),r=i(91155),s=i(27006),a=i(4615),l=i(5366),d=i(50906),c=i(47307),u=i(76464),h=i(64964),p=i(19306),g=i(26907),m=i(67669),v=i(18245),b=i(88923),f=i(99332),S=i(29677),x=i(66708),C=i(93659),y=i(28578),M=i(53938),w=i(85893);function k(e){b.default.state.open?f.Z.setState({...f.Z.state,open:!0}):x.Z.setState({...x.Z.state,open:!0});const t=(0,C.I)(e),i=(0,C.s)(e);t&&"unseen"===i&&M.N(e),d.DB2(e,{share_menu_session_id:y.ZP.state.sessionId})}function j(e){b.default.state.open?f.Z.setState({...f.Z.state,open:!1}):x.Z.setState({...x.Z.state,open:!1}),d.Rb9(e,{share_menu_session_id:y.ZP.state.sessionId}),y.ZP.reset()}function T(e){const{success:t,inviteTargets:i,requestedUserEmails:n}=e;if(0!==i.length){if(!t||0!==(null==n?void 0:n.length))return t&&n.length>0?n.length===i.length?void h.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage.requestedUsersOnly",defaultMessage:"Sent request to invite {users} to this page",values:{users:Z(i)}})}):void h.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage.requestedAndInvitedUsers",defaultMessage:"Invited {users} and requested inviting {numberOfRequestedUsers, plural, one {{numberOfRequestedUsers} guest} other {{numberOfRequestedUsers} guests}}",values:{users:Z(i.filter((e=>!(0,S.fZ)(e)&&!(0,S.cl)(e)||!n.includes(e.value.email)))),numberOfRequestedUsers:n.length}})}):void h.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteFailure.snackbarMessage",defaultMessage:"Failed to invite {users}",values:{users:Z(i)}})});h.oV({label:(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.inviteSuccess.snackbarMessage",defaultMessage:"Successfully invited {users}",values:{users:Z(i)}})})}}function Z(e){return(0,p.W)(e.map((e=>"group"===e.type?e.value.name??"group":"invalidUser"===e.type?e.value.text:e.value.email)))}async function P(e){const{inviteTargetsStore:t}=e,i=(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.closeInviteDialog.confirmationMessage",defaultMessage:"Your changes have not been saved. Discard changes?"}),n=(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.closeInviteDialog.confirmationButton.label",defaultMessage:"Yes"}),o=(0,w.jsx)(l.FormattedMessage,{id:"shareMenu.closeInviteDialog.cancelButton.label",defaultMessage:"Cancel"});if(t.state.inviteTargets.length>0){return(await c.confirmUserActionV2({message:i,acceptLabel:n,cancelLabel:o})).accept}return!1}async function B(e){const t=v.default.mark("share_menu.invite_user_lag"),{environment:i,blockStore:l,inviteTargetsStore:d,sudoModeStore:c,onInviteClick:h,onInviteComplete:p,inviteOrigin:b,role:f,emailMessage:S,flowId:x}=e;let C={success:!1,requestedUserEmails:[]};try{C=await async function(e){const{environment:t,blockStore:i,sudoModeStore:o,inviteTargetsStore:r,role:l,inviteOrigin:d,emailMessage:c,onInviteStart:h}=e,p=e.flowId||(0,a.ZP)();if(!(0,s.iC)(l))return{success:!1,requestedUserEmails:[]};const{tokenQuery:v,inviteTargets:b}=r.state;if((0,n.oH)(v.trim())&&0===b.length){const e={type:"newUser",value:{email:v.trim()},source:"email"};g.H({target:e,inviteTargetsStore:r})||r.setState({inviteTargets:[...r.state.inviteTargets,e],tokenQuery:""})}const f=m.mU(i,g.B({inviteTargetsStore:r}));null==h||h();const S=await u.n_({environment:t,store:i,sudoModeStore:o,inviteTargets:f,inviteRole:l,isOnboarding:!1,invite:{inviteFlowId:p,inviteMessage:c,inviteOrigin:d}});return{success:S.success,requestedUserEmails:S.success?Object.keys(S.requestedUsers):[]}}({environment:i,blockStore:l,sudoModeStore:c,inviteTargetsStore:d,role:f,emailMessage:S,inviteOrigin:b,onInviteStart:h,flowId:x})}catch(y){o.log({level:"error",from:"shareMenuActions",type:"handleInviteClick",error:(0,r.Ui)(y)})}finally{null==p||p(C.success,C.requestedUserEmails)}v.default.measure(t,{environment:i})}},53938:(e,t,i)=>{i.d(t,{D:()=>d,N:()=>l});i(21703);var n=i(28182),o=i(39699),r=i(37181),s=i(80444),a=i(93659);function l(e){const t=(0,a.s)(e);if(void 0===t)throw new Error("Assertion failure, share menu tutorial phase is undefined!");const i=n.wR.indexOf(t);if(-1===i)throw new Error(`Assertion failure, ${t} is not a valid share menu tutorial state!`);if(i<n.wR.length-1){const{currentUserSettingsStore:t}=s.default.state;if(!t)return;o.createAndCommit({userAction:"ShareMenuTutorial.advanceTutorialPhase",environment:e,perform:e=>{r.d2({userSettingsStore:t,transaction:e,data:{share_menu_tutorial_phase:n.wR[i+1]}})},userId:t.id})}}function d(e){if("complete"===(0,a.s)(e))return;const{currentUserSettingsStore:t}=s.default.state;t&&o.createAndCommit({userAction:"ShareMenuTutorial.completeTutorial",environment:e,perform:e=>{r.d2({userSettingsStore:t,transaction:e,data:{share_menu_tutorial_phase:"complete"}})}})}},2194:(e,t,i)=>{i.d(t,{C8:()=>S,cb:()=>v,iq:()=>f,jG:()=>b});i(67294);var n=i(36769),o=i(480),r=i(86628),s=i(5366),a=i(39699),l=i(37181),d=i(28451),c=i(81415),u=i(80444),h=i(66708),p=i(53938),g=i(93659),m=i(85893);function v(e){window.__c={n:"ShareMenuTutorialTooltip"};const{originRef:t}=e,i=(0,o.O7)(),n=(0,r.VK)((()=>g.s(i)),[i]);return n&&"unseen"===n?(0,m.jsx)(d.P,{calloutId:"share_menu_tutorial",children:(0,m.jsx)(c.U,{style:{minWidth:220,alignSelf:"center",marginTop:8},origin:t,placementToOrigin:"bottom",pointerLength:0,pointerDotSize:0,numSteps:4,currStepIndex:0,header:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.newShareMenu.header",defaultMessage:"Check out the new share menu"}),content:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.newShareMenu.content",defaultMessage:"Better publishing, new privacy controls, and more"}),onPrimaryButtonClick:()=>{p.N(i),h.Z.setState({...h.Z.state,open:!0})},onCloseClick:()=>p.D(i)})}):null}function b(e){window.__c={n:"PublishTabTutorialTooltip"};const{originRef:t}=e,i=(0,o.O7)(),n=(0,r.VK)((()=>g.s(i)),[i]);return n&&"publish_tab"===n?(0,m.jsx)(d.P,{calloutId:"share_menu_tutorial",children:(0,m.jsx)(c.U,{style:{minWidth:220},origin:t,placementToOrigin:"right",pointerPosition:"0%",pointerLength:24,numSteps:4,currStepIndex:1,header:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.publishTab.header",defaultMessage:"Publishing has a new home"}),content:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.publishTab.content",defaultMessage:"Share your page to web and allow others to remix, duplicate, and more"}),onPrimaryButtonClick:()=>p.N(i),onCloseClick:()=>p.D(i)})}):null}function f(e){window.__c={n:"PrivacySelectorTutorialTooltip"};const{originRef:t,handlePrimaryButtonClick:i}=e,n=(0,o.O7)(),a=(0,r.VK)((()=>g.s(n)),[n]);return a&&"privacy_selector"===a?(0,m.jsx)(d.P,{calloutId:"share_menu_tutorial",children:(0,m.jsx)(c.U,{style:{minWidth:220},origin:t,placementToOrigin:"left",pointerPosition:"10%",pointerLength:24,numSteps:4,currStepIndex:2,header:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.privacySelector.header",defaultMessage:"Control who can find this page"}),content:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.privacySelector.content",defaultMessage:"Choose between invite only, anyone with link, or everyone in workspace"}),onPrimaryButtonClick:()=>{p.N(n),i()},onCloseClick:()=>p.D(n)})}):null}function S(e){window.__c={n:"UnlistedPageTutorialTooltip"};const{originRef:t}=e,i=(0,o.O7)(),n=(0,r.VK)((()=>g.s(i)),[i]);return n&&"unlisted"===n?(0,m.jsx)(d.P,{calloutId:"share_menu_tutorial",children:(0,m.jsx)(c.U,{style:{minWidth:220},origin:t,placementToOrigin:"left",pointerPosition:"10%",pointerLength:24,numSteps:4,currStepIndex:3,header:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.unlistedPage.header",defaultMessage:"Share privately via link"}),content:(0,m.jsx)(s.FormattedMessage,{id:"shareMenuTutorialTooltip.unlistedPage.content",defaultMessage:"Share with members by sending a link without letting everyone find this page"}),onPrimaryButtonClick:()=>p.N(i),onCloseClick:()=>p.D(i)})}):null}(0,n.exposeDebugEnvironmentValue)("resetShareMenuOnboarding",(e=>()=>{const{currentUserSettingsStore:t}=u.default.state;t&&a.createAndCommit({userAction:"ShareMenuTutorial.debugging.resetTutorial",environment:e,perform:e=>{l.d2({userSettingsStore:t,transaction:e,data:{share_menu_tutorial_phase:"unseen"}})},userId:t.id})}))},93659:(e,t,i)=>{i.d(t,{I:()=>d,s:()=>l});var n=i(28020),o=i(38755),r=i(80444),s=i(77080),a=i(88923);function l(e){if(!d(e))return;const{currentUserSettingsStore:t}=r.default.state;if(!t||!t.isReady())return;const i=t.getSettings();return i?i.share_menu_tutorial_phase??"unseen":void 0}function d(e){const{inAppCalloutStore:t,currentUserSettingsStore:i,currentSpaceStore:l}=r.default.state;if(!l||(0,o.Cx)(l))return!1;if(e.device.isMobile)return!1;if(a.default.state.open)return!1;if(!s.default.checkGate("new_share_menu_tooltip"))return!1;if(!t.canShow("share_menu_tutorial"))return!1;const d=null==i?void 0:i.getSettings();if(!d)return!1;if(d.signup_time&&d.signup_time>16891884e5)return!1;const c=(0,n.np)();return!(!c||!c.canAdmin())}},61436:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(49085),o=i(47839);class r extends n.default{getInitialState(){return{isFullScreen:!1}}constructor(){super(),this.updateFromElectronState=()=>{const e=o.fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o.fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const s=new r},85834:(e,t,i)=>{i.d(t,{TG:()=>s,ZP:()=>l,uq:()=>r});var n=i(49085),o=i(4615);let r=function(e){return e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),s=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class a extends n.default{getInitialState(){return{inviteStage:s.closed,selection:r.workspace_member,order:[r.workspace_member,r.page_guest],invitedUsers:[],inviteTargets:[],invitedEmailToUserIdMap:{},flowId:(0,o.ZP)()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:s.share_workspace,order:[r.workspace_member,r.page_guest],selection:r.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:s.request_workspace,order:[r.request_workspace_member,r.page_guest],selection:r.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const l=a},55899:(e,t,i)=>{i.d(t,{KU:()=>r,ZP:()=>a,fZ:()=>o});var n=i(49085);function o(e){return"existingUser"===e.type}function r(e){return"newUser"===e.type&&"email"!==e.source}class s extends n.default{getInitialState(){return{tokenQuery:"",inviteTargets:[]}}}const a=s},1903:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(49085),o=i(21202);class r extends n.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:o.iU,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const s=r},8675:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(49085),o=i(80444),r=i(77080),s=i(35661);class a extends n.default{getInitialState(){return{changePermissionsEnabled:!1,privatePageStore:void 0,loading:!1,error:void 0}}shouldSaveTransactionWithSudoMode(e){const t=e===this.state.privatePageStore,i=r.default.checkGate("enable_get_private_page_info_endpoint"),n=this.doesUserAlreadyHaveEditorAccessOnBlock(e.id);return t&&i&&this.state.changePermissionsEnabled&&!n}shouldUserHaveAccessToPrivatePageBlock(){var e,t;const i=null===(e=o.default.state.currentSpaceStore)||void 0===e?void 0:e.canAdmin(),n="enterprise"===(null===(t=o.default.state.currentSpaceStore)||void 0===t?void 0:t.getSubscriptionTier());return this.state.privatePageStore&&i&&n}doesUserAlreadyHaveEditorAccessOnBlock(e){const t=o.default.state.currentSpaceStore;if(!t)return!1;return s.G.createChildStore(t,{table:"block",id:e}).canAdmin()}}const l=a},52878:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(49085),o=i(85834),r=i(1903);class s extends n.default{getInitialState(){return{permissionsInviteStore:new r.Z,contextualInviteStore:new o.ZP}}get stage(){return this.state.contextualInviteStore.state.inviteStage}}const a=s},21884:(e,t,i)=>{i.d(t,{E:()=>n});const n=i(49085).default.createValue({showConvertTooltip:!1,forceShow:!1})},96071:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(49085);class o extends n.default{getInitialState(){return{open:!1}}}const r=o},83941:(e,t,i)=>{i.d(t,{V:()=>o,a:()=>r});var n=i(77080);function o(){return n.default.getEligibleGroup({experimentId:"template_duplication_topbar",defaultGroup:"control"})}function r(){return"on"===n.default.getEligibleGroup({experimentId:"log_in_from_template_duplication",defaultGroup:"control"})}},15769:(e,t,i)=>{i.d(t,{Q:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("androidShare",{viewBox:"0 0 15 15",svg:(0,o.jsx)("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})})},1464:(e,t,i)=>{i.d(t,{k:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("chevronLeftRounded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M7.1875 11.8594C7.1875 12.0547 7.25781 12.2266 7.40625 12.375L13.6016 18.4297C13.7344 18.5703 13.9062 18.6406 14.1094 18.6406C14.5156 18.6406 14.8281 18.3359 14.8281 17.9297C14.8281 17.7266 14.7422 17.5547 14.6172 17.4219L8.92969 11.8594L14.6172 6.29688C14.7422 6.16406 14.8281 5.98438 14.8281 5.78906C14.8281 5.38281 14.5156 5.07812 14.1094 5.07812C13.9062 5.07812 13.7344 5.14844 13.6016 5.28125L7.40625 11.3438C7.25781 11.4844 7.1875 11.6641 7.1875 11.8594Z"})})},81270:(e,t,i)=>{i.d(t,{z:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("chevronLeftRoundedThin",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M7 11.8594C7 11.9948 7.02344 12.1198 7.07031 12.2344C7.1224 12.349 7.20052 12.4583 7.30469 12.5625L13.3906 18.5156C13.5677 18.6927 13.7812 18.7812 14.0312 18.7812C14.2031 18.7812 14.3568 18.7396 14.4922 18.6562C14.6328 18.5781 14.7448 18.4688 14.8281 18.3281C14.9115 18.1927 14.9531 18.0417 14.9531 17.875C14.9531 17.625 14.8568 17.4036 14.6641 17.2109L9.17969 11.8594L14.6641 6.50781C14.8568 6.3151 14.9531 6.09635 14.9531 5.85156C14.9531 5.67969 14.9115 5.52604 14.8281 5.39062C14.7448 5.25521 14.6328 5.14844 14.4922 5.07031C14.3568 4.98698 14.2031 4.94531 14.0312 4.94531C13.7812 4.94531 13.5677 5.03125 13.3906 5.20312L7.30469 11.1562C7.20052 11.2604 7.1224 11.3698 7.07031 11.4844C7.02344 11.599 7 11.724 7 11.8594Z"})})},10020:(e,t,i)=>{i.d(t,{C:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("chevronRightRoundedThin",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M17.0078 11.8594C17.0078 11.724 16.9818 11.599 16.9297 11.4844C16.8776 11.3698 16.7995 11.2604 16.6953 11.1562L10.6094 5.20312C10.4375 5.03125 10.224 4.94531 9.96875 4.94531C9.80208 4.94531 9.64844 4.98698 9.50781 5.07031C9.36719 5.14844 9.25521 5.25521 9.17188 5.39062C9.09375 5.52604 9.05469 5.67969 9.05469 5.85156C9.05469 6.09635 9.14844 6.3151 9.33594 6.50781L14.8203 11.8594L9.33594 17.2109C9.14844 17.4036 9.05469 17.625 9.05469 17.875C9.05469 18.0417 9.09375 18.1927 9.17188 18.3281C9.25521 18.4688 9.36719 18.5781 9.50781 18.6562C9.64844 18.7396 9.80208 18.7812 9.96875 18.7812C10.224 18.7812 10.4375 18.6927 10.6094 18.5156L16.6953 12.5625C16.7995 12.4583 16.8776 12.349 16.9297 12.2344C16.9818 12.1198 17.0078 11.9948 17.0078 11.8594Z"})})},89968:(e,t,i)=>{i.d(t,{Y:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},63261:(e,t,i)=>{i.d(t,{_:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},13530:(e,t,i)=>{i.d(t,{s:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("historyForward",{viewBox:"0 0 14 14",svg:(0,o.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})},43876:(e,t,i)=>{i.d(t,{s:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("iOSShare",{viewBox:"0 0 27 27",svg:(0,o.jsx)("path",{d:"M13.4902 15.6055C13.9102 15.6055 14.2715 15.2539 14.2715 14.8438V4.81445L14.2129 3.34961L14.8672 4.04297L16.3516 5.625C16.4883 5.78125 16.6836 5.85938 16.8789 5.85938C17.2793 5.85938 17.5918 5.56641 17.5918 5.16602C17.5918 4.96094 17.5039 4.80469 17.3574 4.6582L14.0566 1.47461C13.8613 1.2793 13.6953 1.21094 13.4902 1.21094C13.2949 1.21094 13.1289 1.2793 12.9238 1.47461L9.62305 4.6582C9.47656 4.80469 9.39844 4.96094 9.39844 5.16602C9.39844 5.56641 9.69141 5.85938 10.1016 5.85938C10.2871 5.85938 10.502 5.78125 10.6387 5.625L12.1133 4.04297L12.7773 3.34961L12.7188 4.81445V14.8438C12.7188 15.2539 13.0703 15.6055 13.4902 15.6055ZM7.89453 23.252H19.0957C21.1367 23.252 22.1621 22.2363 22.1621 20.2246V10.4785C22.1621 8.4668 21.1367 7.45117 19.0957 7.45117H16.3711V9.02344H19.0664C20.0332 9.02344 20.5898 9.55078 20.5898 10.5664V20.1367C20.5898 21.1523 20.0332 21.6797 19.0664 21.6797H7.91406C6.9375 21.6797 6.40039 21.1523 6.40039 20.1367V10.5664C6.40039 9.55078 6.9375 9.02344 7.91406 9.02344H10.6191V7.45117H7.89453C5.85352 7.45117 4.82812 8.4668 4.82812 10.4785V20.2246C4.82812 22.2363 5.85352 23.252 7.89453 23.252Z"})})},30681:(e,t,i)=>{i.d(t,{I:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("mobileTopbarMore",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M7.19922 13.2549C7.19922 12.0625 6.23242 11.1064 5.01855 11.1064C3.83691 11.1064 2.87012 12.0625 2.87012 13.2549C2.87012 14.4473 3.83691 15.4033 5.01855 15.4033C6.23242 15.4033 7.19922 14.4473 7.19922 13.2549ZM15.1484 13.2549C15.1484 12.0625 14.1924 11.1064 13 11.1064C11.8184 11.1064 10.8623 12.0625 10.8623 13.2549C10.8623 14.4473 11.8184 15.4033 13 15.4033C14.1924 15.4033 15.1484 14.4473 15.1484 13.2549ZM23.1299 13.2549C23.1299 12.0625 22.1738 11.1064 20.9814 11.1064C19.7676 11.1064 18.8115 12.0625 18.8115 13.2549C18.8115 14.4473 19.7676 15.4033 20.9814 15.4033C22.1738 15.4033 23.1299 14.4473 23.1299 13.2549Z"})})},60651:(e,t,i)=>{i.d(t,{h:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("notionLogo",{viewBox:"0 0 120 126",svg:(0,o.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},73361:(e,t,i)=>{i.d(t,{K:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("plusRounded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M5.46094 11.8594C5.46094 12.1042 5.54688 12.3125 5.71875 12.4844C5.89062 12.651 6.09635 12.7344 6.33594 12.7344H11.125V17.5312C11.125 17.7656 11.2109 17.9688 11.3828 18.1406C11.5547 18.3125 11.7604 18.3984 12 18.3984C12.2448 18.3984 12.4531 18.3125 12.625 18.1406C12.7969 17.9688 12.8828 17.7656 12.8828 17.5312V12.7344H17.6641C17.9036 12.7344 18.1094 12.651 18.2812 12.4844C18.4531 12.3125 18.5391 12.1042 18.5391 11.8594C18.5391 11.6198 18.4531 11.4141 18.2812 11.2422C18.1094 11.0651 17.9036 10.9766 17.6641 10.9766H12.8828V6.19531C12.8828 5.95573 12.7969 5.75 12.625 5.57812C12.4531 5.40625 12.2448 5.32031 12 5.32031C11.7604 5.32031 11.5547 5.40625 11.3828 5.57812C11.2109 5.75 11.125 5.95573 11.125 6.19531V10.9766H6.33594C6.09635 10.9766 5.89062 11.0651 5.71875 11.2422C5.54688 11.4141 5.46094 11.6198 5.46094 11.8594Z"})})},45137:(e,t,i)=>{i.d(t,{o:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("speechBubbleThin",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.73926 15.6797C5.12207 15.6797 5.40918 15.4951 5.87402 15.085L8.21875 13.0068H12.3545C14.4121 13.0068 15.5674 11.8311 15.5674 9.80078V4.49609C15.5674 2.46582 14.4121 1.29004 12.3545 1.29004H3.63867C1.58105 1.29004 0.425781 2.46582 0.425781 4.49609V9.80078C0.425781 11.8311 1.6084 13.0068 3.59082 13.0068H3.87109V14.6953C3.87109 15.3037 4.19238 15.6797 4.73926 15.6797ZM5.07422 14.1758V12.2275C5.07422 11.8242 4.90332 11.667 4.51367 11.667H3.67285C2.38086 11.667 1.76562 11.0176 1.76562 9.75977V4.53711C1.76562 3.2793 2.38086 2.62988 3.67285 2.62988H12.3135C13.6055 2.62988 14.2275 3.2793 14.2275 4.53711V9.75977C14.2275 11.0176 13.6055 11.667 12.3135 11.667H8.14355C7.7334 11.667 7.52832 11.7354 7.24121 12.0361L5.07422 14.1758ZM4.51367 5.35059H11.4043C11.6367 5.35059 11.8281 5.15918 11.8281 4.91992C11.8281 4.69434 11.6367 4.50293 11.4043 4.50293H4.51367C4.28125 4.50293 4.09668 4.69434 4.09668 4.91992C4.09668 5.15918 4.28125 5.35059 4.51367 5.35059ZM4.51367 7.53125H11.4043C11.6367 7.53125 11.8281 7.33301 11.8281 7.10059C11.8281 6.86816 11.6367 6.67676 11.4043 6.67676H4.51367C4.28125 6.67676 4.09668 6.86816 4.09668 7.10059C4.09668 7.33301 4.28125 7.53125 4.51367 7.53125ZM4.51367 9.70508H9.00488C9.2373 9.70508 9.42188 9.51367 9.42188 9.28125C9.42188 9.04199 9.2373 8.85742 9.00488 8.85742H4.51367C4.28125 8.85742 4.09668 9.04199 4.09668 9.28125C4.09668 9.51367 4.28125 9.70508 4.51367 9.70508Z"})})},58178:(e,t,i)=>{i.d(t,{s:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},25729:(e,t,i)=>{i.d(t,{U:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281Z",fill:"#0984CF"}),(0,o.jsx)("path",{d:"M6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25Z 6.2373 6.7998Z",fill:"#F9A501"}),(0,o.jsx)("path",{d:"M14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z",fill:"#EA4F44"})]})})},47560:(e,t,i)=>{i.d(t,{o:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344ZM5.67969 6.82812H13.5469C13.8125 6.82812 14.0312 6.60156 14.0312 6.32812C14.0312 6.07031 13.8125 5.85156 13.5469 5.85156H5.67969C5.41406 5.85156 5.20312 6.07031 5.20312 6.32812C5.20312 6.60156 5.41406 6.82812 5.67969 6.82812ZM5.67969 9.30469H13.5469C13.8125 9.30469 14.0312 9.08594 14.0312 8.8125C14.0312 8.55469 13.8125 8.32812 13.5469 8.32812H5.67969C5.41406 8.32812 5.20312 8.55469 5.20312 8.8125C5.20312 9.08594 5.41406 9.30469 5.67969 9.30469ZM5.67969 11.7891H10.8047C11.0781 11.7891 11.2891 11.5703 11.2891 11.3047C11.2891 11.0312 11.0781 10.8125 10.8047 10.8125H5.67969C5.41406 10.8125 5.20312 11.0312 5.20312 11.3047C5.20312 11.5703 5.41406 11.7891 5.67969 11.7891Z"})})},18387:(e,t,i)=>{i.d(t,{A:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("topbarStar",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M4.77321 18.0645C5.14821 18.3457 5.60915 18.252 6.1404 17.8691L10.2029 14.8848L14.2576 17.8691C14.7888 18.252 15.2498 18.3457 15.6248 18.0645C15.992 17.7832 16.0701 17.3223 15.8591 16.7051L14.2576 11.9395L18.3513 9.00195C18.8826 8.62695 19.1013 8.20508 18.9529 7.76758C18.8045 7.33008 18.3904 7.11133 17.7341 7.11914L12.7185 7.1582L11.1873 2.36133C10.9841 1.73633 10.6638 1.40039 10.2029 1.40039C9.73415 1.40039 9.41383 1.73633 9.21071 2.36133L7.68727 7.1582L2.66383 7.11914C2.00758 7.11133 1.59352 7.33008 1.44508 7.75977C1.29665 8.20508 1.52321 8.62695 2.04665 9.00195L6.1404 11.9395L4.53883 16.7051C4.3279 17.3223 4.40602 17.7832 4.77321 18.0645ZM6.17165 16.1504C6.15602 16.1348 6.15602 16.127 6.17165 16.0801L7.64821 11.916C7.78102 11.5254 7.74196 11.291 7.37477 11.0488L3.72633 8.54883C3.69508 8.52539 3.67946 8.50977 3.69508 8.49414C3.7029 8.4707 3.71852 8.4707 3.75758 8.4707L8.17946 8.57227C8.58571 8.58789 8.79665 8.45508 8.91383 8.05664L10.156 3.82227C10.1716 3.77539 10.1795 3.75977 10.2029 3.75977C10.2185 3.75977 10.2341 3.77539 10.242 3.82227L11.4841 8.05664C11.6013 8.45508 11.8123 8.58789 12.2263 8.57227L16.6404 8.4707C16.6873 8.4707 16.7029 8.4707 16.7107 8.49414C16.7185 8.50977 16.7029 8.52539 16.6716 8.54883L13.0232 11.0488C12.6638 11.291 12.617 11.5254 12.7576 11.916L14.2263 16.0801C14.242 16.127 14.242 16.1348 14.2263 16.1504C14.2185 16.166 14.1951 16.1582 14.1638 16.1348L10.6638 13.4316C10.3357 13.1816 10.0623 13.1816 9.73415 13.4316L6.23415 16.1348C6.2029 16.1582 6.18727 16.166 6.17165 16.1504Z"})})},52926:(e,t,i)=>{i.d(t,{b:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("topbarStarFilled",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M4.77321 18.0645C5.14821 18.3457 5.60915 18.252 6.1404 17.8691L10.2029 14.8848L14.2576 17.8691C14.7888 18.252 15.2498 18.3457 15.6248 18.0645C15.992 17.7832 16.0701 17.3223 15.8591 16.7051L14.2576 11.9395L18.3513 9.00195C18.8826 8.62695 19.1013 8.20508 18.9529 7.76758C18.8045 7.33008 18.3904 7.11133 17.7341 7.11914L12.7185 7.1582L11.1873 2.36133C10.9841 1.73633 10.6638 1.40039 10.2029 1.40039C9.73415 1.40039 9.41383 1.73633 9.21071 2.36133L7.68727 7.1582L2.66383 7.11914C2.00758 7.11133 1.59352 7.33008 1.44508 7.75977C1.29665 8.20508 1.52321 8.62695 2.04665 9.00195L6.1404 11.9395L4.53883 16.7051C4.3279 17.3223 4.40602 17.7832 4.77321 18.0645Z"})})},44292:(e,t,i)=>{i.d(t,{d:()=>r});i(67294);var n=i(45238),o=i(85893);const r=(0,n.I)("topbarUpdate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0781 18.1562C14.5078 18.1562 18.1641 14.5 18.1641 10.0781C18.1641 5.65625 14.5 2 10.0703 2C5.64844 2 2 5.65625 2 10.0781C2 14.5 5.65625 18.1562 10.0781 18.1562ZM10.0781 16.5469C6.49219 16.5469 3.625 13.6641 3.625 10.0781C3.625 6.49219 6.49219 3.61719 10.0703 3.61719C13.6562 3.61719 16.5391 6.49219 16.5469 10.0781C16.5547 13.6641 13.6641 16.5469 10.0781 16.5469ZM6.14062 11.0625H10.0703C10.4297 11.0625 10.7031 10.7891 10.7031 10.4375V5.32812C10.7031 4.97656 10.4297 4.70312 10.0703 4.70312C9.72656 4.70312 9.45312 4.97656 9.45312 5.32812V9.8125H6.14062C5.78906 9.8125 5.51562 10.0859 5.51562 10.4375C5.51562 10.7891 5.78906 11.0625 6.14062 11.0625Z"})})}}]);