"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1600],{32603:(e,t,o)=>{o.r(t),o.d(t,{measureSubMetric:()=>r,measureSubMetricsAtRenderCallback:()=>s,setInitialRenderCompleted:()=>l,updateMetricData:()=>a});var i=o(5809),n=o(77144);function s(e){const{mainStartTime:t,prefetchInitiatedTime:o,renderStartTime:s,renderEndTime:r,mainImportEndTime:a}=e,l=(0,i.$)();if(!l)return;const d={app_start_to_main_start:{startTime:l,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:o},prefetch_initiated_to_render_start:{startTime:o,endTime:s},render_start_to_render_end:{startTime:s,endTime:r},import_start:{startTime:0,endTime:t},import_start_to_prefetch_stage_completion:{startTime:t,endTime:o},main_import:{startTime:t,endTime:a},react_render:{startTime:s,endTime:r}};n.Z.state.subMetrics.update((e=>({...e,...d})))}function r(e){const{name:t,endTime:o}=e,i=e.startTime(n.Z.state.subMetrics.state);i&&n.Z.state.subMetrics.update((e=>({...e,[t]:{startTime:i,endTime:o}})))}function a(e){n.Z.state.metricData.update((t=>({...t,...e})))}function l(){n.Z.update((e=>({...e,initialRenderCompleted:!0})))}},61916:(e,t,o)=>{o.d(t,{YT:()=>d,kQ:()=>l,nI:()=>c,vn:()=>r});var i=o(70203),n=o(96802),s=o(39699);function r(e){if(e){const t=(0,i.QaF)(e.getValue());return Boolean(t)}return!1}function a(e){if(e){const t=e.getSettings();if(t&&t.hidden_collection_descriptions)return t.hidden_collection_descriptions}return[]}function l(e){const{environment:t,store:o,value:i}=e;s.createAndCommit({userAction:"PageViewBlock.setCollectionViewPageDescription",environment:t,perform:e=>{n.FH({stores:[o],update:{hide_collection_view_page_description:i},transaction:e})}})}function d(e){const{environment:t,pageId:o,isExpanded:i,store:n,userSettingsStore:l,descriptionStore:d}=e,c=n.state.isExpanded;n.setState({isExpanded:i});r(d)&&l&&c!==i&&s.createAndCommit({userAction:"pageDescriptionActions.setExpanded",environment:t,perform:e=>{if(i){const t={pointer:{table:"user_settings",id:l.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:o}};s.applyOperation({store:l,transaction:e,operation:t})}else{const t={pointer:{table:"user_settings",id:l.id},path:["settings","hidden_collection_descriptions"],command:"listAfter",args:{id:o}};s.applyOperation({store:l,transaction:e,operation:t});let i=a(l);for(;i.length>1e3;){const t=i[0],o={pointer:{table:"user_settings",id:l.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:t}};s.applyOperation({store:l,transaction:e,operation:o}),i=a(l)}}}})}function c(e){const{pageId:t,store:o,userSettingsStore:i,descriptionHasText:n}=e;let s=n;a(i).includes(t)&&(s=!1),o.setState({isExpanded:s})}},59389:(e,t,o)=>{o.d(t,{T_:()=>y,Ud:()=>S,eV:()=>m});var i=o(1302),n=o(45953),s=o(42),r=o(58202),a=o(50906),l=o(41433),d=o(96802),c=o(94419),p=o(9953),h=o(24677),g=o(98104),u=o(68422);function m(e){const{environment:t,store:o,transaction:n,preventTextSelection:s}=e,r=o.useCrdt(),l=p.j4({environment:t,type:"text",inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,spaceId:o.pointer.spaceId,useCrdt:r}),d=c.R3({parent:o.getContentStore(),append:l,transaction:n}).child;return s||i.default.afterNextFlush((()=>{h.eP({environment:t,store:d}),g.N_({store:d.getBlockTitleStore()})})),a.W2j(t,{from:"template_picker",type:"text"}),d}function y(e){const{environment:t,store:o,transaction:i}=e;d.is({store:o,transaction:i}),m({environment:t,store:o,transaction:i})}function S(e){var t;const{environment:o,store:d,viewType:c,transaction:h}=e,g=null===(t=d.getBlockTitleStore())||void 0===t?void 0:t.getValue();l.ZI({environment:o,sourceBlockId:"root",targetBlockPointer:d.pointer,sourceBlockSubtree:(0,n.R3)((0,s.iC)({isInline:!1,viewType:c})),targetRecordCache:d.inMemoryRecordCache,transaction:h,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:d.useCrdt()}),u.vs({environment:o,block:d,blockType:"collection_view_page",transaction:h}),g&&p.sO({store:d.getBlockTitleStore(),value:g,transaction:h}),i.default.afterNextFlush((()=>{const e=r.R.findCollectionViewBlockFromStore(d);null==e||e.handleCreated()})),a.W2j(o,{from:"template_picker",type:"collection_view_page"})}},19977:(e,t,o)=>{o.d(t,{Z:()=>d});o(67294);var i=o(86628),n=o(68709),s=o(77907),r=o(82136),a=o(92650),l=o(85893);function d(e){window.__c={n:"MarginComments"};const{pageBlockStore:t,isVisible:o,context:d}=e,c=(0,i.VK)((()=>t.isFullWidth()||d===r.S.CollectionPageView),[d,t]);return(0,l.jsx)(n.p,{allowSelectionWithin:!0,style:{width:c&&o?a.QB:0},children:(0,l.jsx)(s.LazyMarginCommentsSection,{...e})})}},87636:(e,t,o)=>{o.d(t,{Z:()=>y});var i=o(67294),n=o(13991),s=o(480),r=o(24405),a=o(22491),l=o(97880),d=o(82990),c=o(17311),p=o(23063),h=o(64921),g=o(26388),u=o(85893);function m(e){window.__c={n:"ActionMenuGroupButton"};const{button:t,isLast:o}=e,n=(0,r.yK)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:d.Z.fontWeight.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return i.cloneElement(t,{...(0,a.iv)(t.props.style,n.button,o&&n.buttonLast),hoveredStyle:(0,a.iv)(n.buttonHovered,o&&n.buttonLast).style,pressedStyle:n.buttonPressed})}const y=function(e){let{children:t,isVisible:o,position:y,style:S}=e;window.__c={n:"ActionMenuGroup"};const v=(0,s.O7)(),f=(0,r.yK)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.lightBoxShadow,display:"flex",whiteSpace:"nowrap",borderRadius:c.Z.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:v.device.isMobile?"auto":"none",opacity:v.device.isMobile?1:0,fontFamily:d.Z.getCompositeFontFamily(n.SP).sans,position:"absolute",right:c.Z.horizontal.small,bottom:c.Z.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:c.Z.vertical.small,bottom:void 0}})),[v]),x=i.Children.toArray(t).filter(l.$K),C=x.length;return(0,u.jsx)(p.Z,{isVisible:!0,animationStyle:{opacity:o?1:0},render:()=>(0,u.jsx)("div",{...(0,a.iv)(f.container,S,o&&f.containerHover,"top"===y&&f.containerTop),children:x.map(((e,t)=>{const o=t===C-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===g.Z&&i.isValidElement(e))return i.cloneElement(e,{render:(t,i)=>{const n=e.props.render(t,i);return(0,u.jsx)(m,{isLast:o,button:n},e.key)}});if(e.type===h.Z&&i.isValidElement(e))return(0,u.jsx)(m,{isLast:o,button:e},e.key)}}))})})}},74169:(e,t,o)=>{o.d(t,{Z:()=>B});var i=o(67294),n=o(83355),s=o(72126),r=o(5366),a=o(47307),l=o(96802),d=o(27153),c=o(39699),p=o(53471),h=o(33929),g=o(94841),u=o(49085);const m="loadingLocalImage",y="uploading",S="loaded";class v extends u.default{getInitialState(){return{loadingMode:S}}}const f=v;var x=o(31792),C=o(87636),b=o(23063),M=o(64921),P=o(12981),w=o(65107),k=o(68785),R=o(32854),j=o(81865),I=o(69278),T=o(56282),_=o(85893);const Z=(0,r.defineMessages)({embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"}});class L extends n.Z{constructor(){super(...arguments),this.lastProxiedUrl=void 0,this.storeTypes={imageUploadStore:f,mouseStore:x.Z},this.handleLoadComplete=()=>{this.stores.imageUploadStore.reset()},this.renderControl=e=>{let{isVisible:t,isRepositioning:o,handleCancelClick:i,handleRepositionClick:n,handleSavePositionClick:s}=e;if(this.props.disabled||this.stores.imageUploadStore.state.loadingMode!==S)return;const{device:a}=this.environment,{isMobile:l}=a;return(0,_.jsx)(b.Z,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth(),opacity:t?1:0},render:()=>(0,_.jsx)("div",{style:{position:(0,g.q0)()?"absolute":"relative",pointerEvents:t?"auto":"none",maxWidth:"100%",top:(0,g.q0)()?48:void 0},children:(0,_.jsxs)(C.Z,{isVisible:t,position:"bottom",style:{marginRight:this.props.paddingRight,marginLeft:this.props.paddingLeft},children:[!o&&(0,_.jsx)(M.Z,{style:{...I.Z.actionButtonStyle,...l&&{borderRight:"none"}},onClick:this.handleChangeCoverClick,children:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!l&&(0,_.jsx)(M.Z,{style:{...I.Z.actionButtonStyle,borderRight:"none"},onClick:e=>n(e,this.lastProxiedUrl),children:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!l&&(0,_.jsx)(M.Z,{style:I.Z.actionButtonStyle,onClick:s,children:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!l&&(0,_.jsx)(M.Z,{style:{...I.Z.actionButtonStyle,borderRight:"none"},onClick:i,children:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})})},this.handleFlushTemporaryPosition=e=>{let{imagePosition:t,reset:o}=e;c.createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:this.environment,perform:e=>{l.Mp({store:this.props.store,coverPosition:t,transaction:e}),o()}})},this.handleChangeCoverClick=e=>{const{intl:t,store:o}=this.props;this.stores.mouseStore.reset();const i=e.target.getBoundingClientRect();d.$(this.environment,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:t.formatMessage({defaultMessage:"Page cover",id:"pageCover.mobileMenu.title"}),onDelete:this.handleDelete,currentTab:"gallery",tabs:[{type:"gallery",onChange:this.handleGalleryChange},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption",values:{idealImageWidth:1500}}),onUpload:e=>{this.props.store.getCoverStore()&&p.cT({environment:this.environment,file:e,bucket:"secure",record:o.pointer,onStart:this.handleUploadStart,onProgress:this.handleUploadProgress,onComplete:this.handleUploadComplete,onError:()=>{a.showErrorMessage(t.formatMessage({defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"}))}})}},{type:"embed",title:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Link",id:"pageCover.embedType.title"}),inputPlaceholder:h.default.formatMessage(Z.embedPlaceholder),caption:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"}),buttonText:(0,_.jsx)(r.FormattedMessage,{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}),onChange:this.handleEmbedLinkChange},{type:"unsplash",onChange:this.handleGalleryChange}]})},this.handleUploadComplete=e=>{this.updatePageCover({url:e,position:.5})},this.handleGalleryChange=e=>{const{url:t,position:o}=e;this.updatePageCover({url:t,position:s.hj(o)?o:.5});const{device:i}=this.environment;i.isMobile&&d.Z()},this.handleEmbedLinkChange=e=>{this.updatePageCover({url:e,position:.5}),d.Z()},this.coverWithRecordStore=this.createComputedStore((()=>this.props.store.getCover()),!0),this.updatePageCover=async e=>{const{url:t,position:o}=e,{serverCommitResult:i}=c.createAndCommit({userAction:"PageCover.updatePageCover",environment:this.environment,perform:e=>{l.fs({store:this.props.store,url:t,position:o,transaction:e})}});await i,this.stores.imageUploadStore.state.loadingMode===y&&this.stores.imageUploadStore.setState({loadingMode:"downloading",dataURL:this.stores.imageUploadStore.state.dataURL,uploadProgress:100})},this.handleUploadStart=e=>{const{file:t,name:o,size:i}=e;if(d.Z(),this.stores.imageUploadStore.setState({loadingMode:m,file:t,name:o,size:i}),t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{this.stores.imageUploadStore.state.loadingMode===m&&this.stores.imageUploadStore.setState({...this.stores.imageUploadStore.state,uploadProgress:0,loadingMode:y,dataURL:e.target.result})},e.readAsDataURL(t)}},this.handleUploadProgress=e=>{const{progressPercent:t}=e;this.stores.imageUploadStore.state.loadingMode===y&&this.stores.imageUploadStore.setState({...this.stores.imageUploadStore.state,uploadProgress:t})},this.handleDelete=()=>{d.Z(),c.createAndCommit({userAction:"PageCover.handleDelete",environment:this.environment,perform:e=>{l.MF({store:this.props.store,transaction:e})}})}}renderComponent(){const e=this.coverWithRecordStore.getState();if(!e)return;const t=this.stores.imageUploadStore.state,o=t.loadingMode!==S&&t.loadingMode!==m;return(0,_.jsx)(T.Z,{mouseStore:this.stores.mouseStore,onFlushTemporaryPosition:this.handleFlushTemporaryPosition,renderControl:this.renderControl,source:"page",store:this.props.store,style:{display:"flex",flexDirection:"column",alignItems:"center",height:this.props.height,cursor:"default"},render:n=>(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(j.Z,{url:e.cover,isAuthenticated:!0,permissionRecord:e.pointer,width:this.props.proxyWidth,render:(e,i)=>{this.lastProxiedUrl=i;const s={width:"100%",height:this.props.height,objectFit:"cover",opacity:o?.5:1,objectPosition:`center ${100*(1-(n.imagePosition||0))}%`,borderRadius:0},r={width:"100%",height:this.props.height};return(0,_.jsx)(w.B,{src:i,placeholderSrc:o?t.dataURL:void 0,placeholderBehavior:o?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:r,imageStyle:s,onLoadComplete:this.handleLoadComplete})}}),o&&(0,_.jsxs)("div",{style:P.Z.loadingContainerStyle,children:[(0,_.jsx)(k.Z,{style:{width:16,height:16,marginRight:4}}),(0,_.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:(0,_.jsx)(R.Z,{percentage:t.uploadProgress})})]})]})})}getAdjustedPageWidth(){let e;return e=!!this.props.store.isFullWidth()?"100%":900,e}}L.displayName="PageCover";const B=(0,r.injectIntl)(L)},16738:(e,t,o)=>{o.d(t,{Z:()=>he});var i=o(67294),n=o(83355),s=o(72126),r=o(96802),a=o(39699),l=o(66890),d=o(79131),c=(o(57658),o(73935)),p=o(1302),h=o(86628),g=o(24405),u=o(49085),m=o(41432),y=o(99036),S=o(80951),v=o(39068),f=o(84619),x=o(45433),C=o(89767),b=o(47453),M=o(70663),P=o(35840),w=o(4615),k=o(21202),R=o(6287),j=o(70203),I=o(82990),T=o(5366),_=o(50906),Z=o(51365),L=o(31869),B=o(98834),E=o(60971),V=o(9953),D=o(14473),F=o(98104),A=o(49616),O=o(75079),K=o(75081),U=o(33929),N=o(65598),W=o(29376),H=o(77907),z=o(86098),$=o(45452),G=o(29798),Q=o(85526),Y=o(35661),q=o(78030),J=o(88071),X=o(64921),ee=o(32163),te=o(72495),oe=o(26388),ie=o(80559),ne=o(68139),se=o(85893);class re extends n.Z{constructor(){super(...arguments),this.storeTypes={menuListStore:G.Z,customTokenLimit:u.default.createClass(10),draggableListStore:$.Z},this.getRelationMenuRows=(e,t,o,i,n,s)=>{const{store:r,collectionStore:a,disabled:l,property:d,locked:c}=this.props,p=o.getFormatStore().getKeyStore("app_config_uri").getValue()===x.p$;return e.reduce(((e,h,g)=>{const u=Y.G.createChildStore(r,h),m=u.getAssociatedCollectionStore();if((null==m?void 0:m.id)===y.F0(t)){const h={key:u.id,render:e=>(0,se.jsx)(ne.Z,{...e,canDrag:n&&1!==t.limit&&r.canEdit(),collectionStore:a,targetCollectionStore:o,relatedPageStore:u,disabled:l,canConfigureCollection:s,locked:c,isSelected:!0,pageStore:r,property:d,rowType:"section",onActionButtonClick:()=>this.handleRemoveRelationClick(i,u,o),onMouseLeave:()=>this.stores.menuListStore.unsetFocus(),onSecondaryButtonClick:()=>this.handleCreateNewRelation(g+1,o,"relation_section_inline"),onInsertInline:p?()=>{F.ZH(this.environment)}:()=>this.handleCreateNewRelation(g+1,o,"relation_section_inline"),onOpenPageButtonClick:()=>{D.O(i,u,this.environment,"relation_section_inline")},index:g+1,propertyLimit:t.limit}),action:e=>{}};e.push(h)}return e}),[])},this.relationValueStore=this.createComputedStore((()=>{const{store:e,schema:t,property:o}=this.props,i=t[o];if(!i||"relation"!==i.type)return[];const n=e.getPropertyValue(o);return S.j$({relationValue:S.rq(n),propertySchema:i,getRecordModel:e.getRecordModel})}),!0),this.numberOfRelations=this.createComputedStore((()=>this.relationValueStore.state.length)),this.handleRemoveRelationClick=(e,t,o)=>{var i;const{store:n,schema:s,property:r,blockPropertyValueOverlayStore:l}=this.props,{collectionContextStore:d}=this.context,c=s[r];if("relation"!==(null==c?void 0:c.type)||!d)return;const p=c.limit?[]:e.filter((e=>e.id!==t.id));a.createAndCommit({userAction:"RelationSection.handleRemoveRelationClick",environment:this.environment,perform:e=>{L.sf({store:n,propertyId:r,value:p,environment:this.environment,relatedPageId:t.id,propertySchema:c,transaction:e,collectionContextStore:d,analyticsData:{isFromBulkActionsToolbar:A.VM(l),analyticsFrom:A.Sy(q.C.Page)},isUnthrottled:!1})}}),_.WFT(this.environment,{from:this.props.analyticsFrom,collection_id:null===(i=this.props.collectionStore)||void 0===i?void 0:i.id,target_collection_id:null==o?void 0:o.id})},this.handleDraggableListDrop=(e,t)=>{const{menuListStore:o}=this.stores,{collectionStore:i,schema:n,property:s,store:r}=this.props,a=n[s];if(!a||"relation"!==a.type)return;const l=y.j0(a);if(!l)return;const d=Y.NW.createChildStore(r,l);if(!(0,N.OY)(r)||!this.props.property)return;const c=r.getPropertyValue(this.props.property),p=S.j$({relationValue:S.rq(c),propertySchema:a,getRecordModel:r.getRecordModel}),h=[...e.map((e=>({id:e,spaceId:i.pointer.spaceId,table:k.iU}))),...p.slice(e.length)];this.handleRelationPropertyMenuUpdate({value:h},d),_.yT1(this.environment,{from:this.props.analyticsFrom}),E.sv({store:o,focus:{section:0,indexLocal:t.endPosition,indexGlobal:t.endPosition}})},this.handleOpenProperty=(e,t,o)=>{const{blockPropertyValueOverlayStore:i,store:n,property:s}=this.props,{collectionContextStore:r}=this.context,a=c.findDOMNode(this.relationPropertyPageSectionRef);if(!(a&&a instanceof Element))return;const l=o?null==o?void 0:o.getBoundingClientRect():a.getBoundingClientRect(),d=e?l.top+W.Mu:l.top+5,p=new DOMRect(l.left,d,l.width,l.height);Z.bA({environment:this.environment,blockPropertyValueOverlayStore:i,store:n,property:s,rect:p,format:q.C.Page,mode:t,collectionContextStore:r}),_.udZ(this.environment,{from:this.props.analyticsFrom})},this.handleRelationPropertyPageSectionRefMount=e=>{e&&(this.relationPropertyPageSectionRef=e)},this.handleClearProperty=e=>{this.handleRelationPropertyMenuUpdate({value:[]},e)},this.handleCreateNewRelation=(e,t,o)=>{const{store:i,schema:n,property:s,collectionStore:r}=this.props,{collectionContextStore:a}=this.context;if(!s)return;const l=n[s];if(!l||"relation"!==l.type)return;if(!i.canEdit())return;const d=(0,w.ZP)(),c=r.pointer.spaceId,p=l.limit,h={id:d,table:k.iU,spaceId:c};if(!(0,N.OY)(i)||!this.props.property)return;const g=i.getPropertyValue(this.props.property),u=S.j$({relationValue:S.rq(g),propertySchema:l,getRecordModel:i.getRecordModel}),{customTokenLimit:m}=this.stores,y=m.state;e&&e+1>y&&m.setState(e+1);const v=p?[h]:e?[...u.slice(0,e),h,...u.slice(e)]:[h,...u];this.handleRelationPropertyMenuUpdate({newPage:{id:d,spaceId:c,name:""},value:v},t),_.kmb(this.environment,{...(0,O.Pn)(a),from:o,target_collection_id:null==t?void 0:t.id})},this.handleRelationPropertyMenuUpdate=(e,t)=>{const{store:o,property:i}=this.props;if(!(0,N.OY)(o)||!i)return;let n;a.createAndCommit({userAction:"RelationToken.handleRelationPropertyMenuUpdate",environment:this.environment,perform:s=>{const r=t.id;if(e.newPage&&r){const o=j.TPx(e.newPage.name),i={id:e.newPage.id,version:0,type:m.Ti.page,parent_id:r,parent_table:R.v,alive:!0,properties:{title:o},collection_id:void 0,space_id:e.newPage.spaceId};n=V.ae({environment:this.environment,table:k.iU,value:i,inMemoryRecordCache:t.inMemoryRecordCache,transaction:s});const a=Y.G.createChildStore(this.props.store,n.pointer),l=t.getDefaultTemplatePageStore();l&&B.ob({title:{text:o},environment:this.environment,store:a,templateStore:l,isKeyboard:!1,isCreateIn:!1,transaction:s,from:"relation_property_page_section"})}if(e.value){const t=S.ow(e.value),n=o.getPropertyStore(i);V.sO({store:n,value:t,transaction:s})}}}),p.default.afterNextFlush((()=>{if(!n)return;const e=z.Z.findRow(n.id,"section",i);if(!e)return;const t=e.relationTokenBlockStoreRef.current;if(!t)return;const o=t.getBlockTitleStore(),s=o.getValue(),r=s?s[0][0].length:0,a={start:{index:r,store:o},end:{index:r,store:o}};F.NA({multiSelection:a})}))}}renderComponent(){const{schema:e,format:t,locked:o,property:i,collectionStore:n,store:s,disabled:r,visibility:a,isInPeekRenderer:l,topBorder:c}=this.props,{device:p}=this.environment,{collectionContextStore:h}=this.context,g=e[i];if("relation"!==(null==g?void 0:g.type)||!h)return;const u=y.j0(g);if(!u)return;const m=Y.NW.createChildStore(s,u),S=h.permissionScopes.state,v=this.relationValueStore.state,{customTokenLimit:P}=this.stores,w=P.state,k=v.slice(0,w),R=m.getFormatStore().getKeyStore("app_config_uri").getValue()===x.p$;if("section_hide"===a)return;if("minimal"===a||0===this.numberOfRelations.state)return(0,se.jsx)(ae,{property:i,propertySchema:g,numberOfRelations:this.numberOfRelations.state,onHandleOpenProperty:this.handleOpenProperty,onHandleRelationPropertyPageSectionRefMount:this.handleRelationPropertyPageSectionRefMount,schema:e,format:t,disabled:r,locked:o,canConfigureCollection:S.canConfigureCollection,blockStore:s,collectionStore:n,collectionContextStore:h,isInPeekRenderer:l,targetCollectionStore:m});const j=1===g.limit,I=!(p.isMobile||r||o||j),_=this.getRelationMenuRows(k,g,m,v,I,S.canConfigureCollection),Z=_.map((e=>e.key.toString())),L=(0,se.jsx)(ee.Z,{type:ee.i.Vertical,store:this.stores.menuListStore,initialFocus:void 0,disableKeyboard:!0,style:{width:"100%"},sections:[{key:"section",render:e=>(0,se.jsx)(te.Z,{...e,disableDesktopPadding:!0,disableMobileBorders:!0,children:I?(0,se.jsx)(d.ZP,{direction:"vertical",keys:Z,renderKey:t=>e.children[Z.indexOf(t)],onDrop:this.handleDraggableListDrop,store:this.stores.draggableListStore}):e.children}),items:_}]}),B=m.canEdit(),E=s.canEdit(),V={maxWidth:p.isMobile?"none":300,...!p.isMobile&&{width:"auto"},...p.isMobile&&{paddingLeft:"none"}};return(0,se.jsx)(le,{collectionContextStore:h,title:(0,se.jsx)(ie.Q,{schema:e,format:t,property:i,blockStore:s,collectionStore:n,disabled:r,locked:o,canConfigureCollection:S.canConfigureCollection,intl:U.default.getIntl(),style:V,popupStyle:V,isInPeekRenderer:l}),collectionStore:n,targetCollectionStore:m,property:i,showRight:!0,disabled:r,schema:e,format:t,locked:o,canEditTargetCollection:m.canEdit(),canConfigureCollection:S.canConfigureCollection,canEditCurrentPage:E,handleMouseMove:this.props.handleMouseMove,onHandleOpenProperty:()=>{this.handleOpenProperty(!1)},onHandleRelationPropertyPageSectionRefMount:this.handleRelationPropertyPageSectionRefMount,onTitleEnter:()=>this.handleCreateNewRelation(void 0,m,"relation_section_inline"),handleClearProperty:()=>this.handleClearProperty(m),topBorder:c,children:(0,se.jsxs)("div",{style:{...this.getRelationRowWrapStyle(),...p.isMobile&&{paddingLeft:"none"}},onMouseMove:this.props.handleMouseMove,onMouseLeave:this.props.handleMouseLeave,children:[L,v.length>w&&(0,se.jsx)(X.Z,{style:this.getShowMoreButtonStyle(),onClick:()=>P.setState(w+10),children:(0,se.jsx)(J.Z,{count:v.length-w,format:f.l.Medium,style:{margin:void 0},fixedHeight:!1,isCompact:!1})}),B&&E&&!o&&(0,se.jsxs)(X.Z,{style:this.getAddNewRelationButtonWrapperStyle(),onClick:()=>{R?this.handleClearProperty(m):this.handleCreateNewRelation(v.length>=w?w:v.length+1,m,"relation_section_footer")},disabled:r||o,children:[R?(0,C.R)(this.getMoveToBacklogIconStyle()):1===g.limit?(0,M.h)(this.getAddNewRelationButtonIconStyle()):(0,b.R)(this.getAddNewRelationButtonIconStyle()),(0,se.jsxs)("div",{style:re.addNewRelationButtonTitleStyle,children:[R&&(0,se.jsx)("span",{style:{color:this.theme.mediumTextColor},children:(0,se.jsx)(T.FormattedMessage,{id:"RelationPropertyPageSection.button.replacePageSprint",defaultMessage:"Move to backlog"})}),!R&&(1===g.limit?(0,se.jsx)(T.FormattedMessage,{id:"RelationPropertyPageSection.button.replacePage",defaultMessage:"Replace linked page from {propertyName}",values:{propertyName:g.name}}):(0,se.jsx)(T.FormattedMessage,{id:"RelationPropertyPageSection.button.addPage",defaultMessage:"New page in {propertyName}",values:{propertyName:g.name}}))]})]})]})},i)}getRelationRowWrapStyle(){return{flex:1,minWidth:0,display:"flex",flexWrap:"wrap",flexDirection:"column",paddingBottom:"12px",paddingTop:"12px",width:"100%"}}getShowMoreButtonStyle(){return{width:"100%",display:"flex",alignItems:"center",borderRadius:3,fontSize:14,minHeight:30,margin:0,padding:"6px 8px 7px 8px"}}getAddNewRelationButtonWrapperStyle(){return{display:"flex",alignItems:"center",color:this.theme.lightTextColor,borderRadius:3,paddingLeft:4,paddingRight:6,height:32,width:"100%",fontSize:14}}getAddNewRelationButtonIconStyle(){return{width:16,height:16,marginRight:11,marginTop:1,marginLeft:4,fill:this.theme.lightIconColor}}getMoveToBacklogIconStyle(){return{width:16,height:16,marginRight:11,marginTop:1,marginLeft:4,fill:"#868682"}}}function ae(e){window.__c={n:"RelationPropertyMinimalPageSection"};const{property:t,propertySchema:o,numberOfRelations:n,schema:s,format:r,disabled:a,locked:l,canConfigureCollection:d,blockStore:c,collectionStore:p,onHandleOpenProperty:u,onHandleRelationPropertyPageSectionRefMount:m,isInPeekRenderer:y,targetCollectionStore:S}=e,f=(0,g.yK)((e=>({hoverButton:{display:"flex",alignItems:"baseline",justifyContent:"normal",color:e.mediumTextColor,width:"100%"},minimalButton:{display:"inline-flex",alignItems:"center",flexShrink:0,whiteSpace:"nowrap",height:28,borderRadius:3,fontSize:14,lineHeight:1.2,minWidth:0,paddingLeft:6,paddingRight:8,fontWeight:I.Z.fontWeight.medium,color:e.mediumTextColor},minimalButtonWrapper:{width:"100%",maxWidth:"100%",fontWeight:I.Z.fontWeight.medium,color:e.mediumTextColor},iconStyle:{width:14,height:14,fill:e.mediumIconColor,marginRight:6,alignItems:"baseline"},pagePropertiesRowName:{width:"100%",display:"inline-flex",flexWrap:"wrap"}})),[]),C=(0,g.Fg)(),b=(0,i.useCallback)((()=>{Q.Z.setState({...Q.Z.state,hoveredProperty:t})}),[t]),M=(0,i.useCallback)((()=>{Q.Z.setState({...Q.Z.state,hoveredProperty:void 0})}),[]),P=(0,h.VK)((()=>S.getFormatStore().getKeyStore("app_config_uri").getValue()),[S]),w=(0,K.sN)(x.p$),k=(0,K.Q_)(x.p$);return(0,se.jsx)("div",{style:f.hoverButton,onMouseMove:b,onMouseLeave:M,children:(0,se.jsx)(ie.Q,{schema:s,format:r,property:t,blockStore:c,collectionStore:p,disabled:a,locked:l,canConfigureCollection:d,intl:U.default.getIntl(),style:f.pagePropertiesRowName,popupStyle:f.pagePropertiesRowName,origin:(0,se.jsx)("div",{ref:m,style:f.minimalButtonWrapper,children:(0,se.jsx)(X.Z,{style:f.minimalButton,onClick:()=>u(!0),onContextMenu:e=>{a||l||!d||(e.preventDefault(),Q.Z.setState({...Q.Z.state,openProperty:{property:t,isInPeekRenderer:y}}))},children:(0,se.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,se.jsx)(v.ZP,{size:14,style:f.iconStyle,theme:C,type:o.type??"relation",icon:o.icon}),P===x.p$?(0,se.jsx)(T.FormattedMessage,{id:"RelationPropertyPageSection.sprints.showSprintRelations",defaultMessage:"{numberOfRelations, plural, =0 {Add {propertyName}} one {1 {singleTypedItemName}} other {{numberOfRelations} {pluralTypedItemName}}}",values:{numberOfRelations:n,propertyName:o.name,singleTypedItemName:w,pluralTypedItemName:k}}):(0,se.jsx)(T.FormattedMessage,{id:"RelationPropertyPageSection.showRelations",defaultMessage:"{numberOfRelations, plural, =0 {Add {propertyName}} one {1 {propertyName}} other {{numberOfRelations} {propertyName}}}",values:{numberOfRelations:n,propertyName:o.name}})]})},`minimal-section-${t}`)}),hideDragHandle:!0,isInPeekRenderer:y})})}function le(e){window.__c={n:"RelationPropertyPageSectionHeader"};const{collectionStore:t,targetCollectionStore:o,property:i,showRight:n,disabled:s,locked:r,style:a,children:l,canEditTargetCollection:d,canConfigureCollection:c,canEditCurrentPage:p,handleMouseMove:g,onHandleOpenProperty:u,onHandleRelationPropertyPageSectionRefMount:m,onTitleEnter:S,topBorder:v=!0}=e,f=(0,h.VK)((()=>o.isSyncedCollection()),[o]),C=(0,h.VK)((()=>{const e=t.getSchema()[i];return Boolean(e&&y.NK(e))}),[t,i]),M=(0,h.VK)((()=>o.getFormatStore().getKeyStore("app_config_uri").getValue()===x.p$),[o]);return(0,se.jsx)("div",{style:{width:"100%"},ref:m,children:(0,se.jsx)(te.Z,{...e,topBorder:v,children:l,noTextOverflow:!0,isTitleUppercase:!1,right:n&&!f&&!C&&(0,se.jsxs)("div",{style:{height:"100%",display:"flex",alignItems:"center",width:"100%"},children:[p&&(0,se.jsx)(de,{disabled:s,handleMouseMove:g,onClick:u,icon:P.R,tooltipMessage:M?(0,se.jsx)(T.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.searchButtonSprints.message",defaultMessage:"Search for a sprint"}):(0,se.jsx)(T.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.searchButton.message",defaultMessage:"Link a page"})},`searchIcon-${i}`),d&&p&&!M&&!r&&(0,se.jsx)(de,{disabled:s,handleMouseMove:g,onClick:S,icon:b.R,tooltipMessage:M?(0,se.jsx)(T.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.addButtonSprints.message",defaultMessage:"Create new sprint"}):(0,se.jsx)(T.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.addButton.message",defaultMessage:"Add new page"})},`addIcon-${i}`),(0,se.jsx)(H.LazyRelationPropertyCustomizeLayoutMenu,{collectionStore:t,targetCollectionStore:o,property:i,disabled:s||!c,rowType:"section"})]}),style:{paddingTop:0,paddingBottom:2,width:"100%",...a},desktopTitleStyle:{height:6,paddingLeft:0,paddingRight:8,paddingTop:24,fontWeight:"normal"},mobileTitleStyle:{paddingLeft:0,alignItems:"center",fontWeight:"normal"}})})}function de(e){window.__c={n:"RelationPropertyPageSectionHeaderButton"};const{disabled:t,handleMouseMove:o,onClick:i,icon:n,tooltipMessage:s}=e,r=(0,g.yK)((e=>({buttonStyle:{width:24,height:24,borderRadius:3,display:"inline-flex",alignItems:"center",justifyContent:"center",marginRight:4},iconStyle:{width:14,height:14,flexGrow:0,flexShrink:0,fill:e.mediumIconColor}})),[]);return(0,se.jsx)(oe.Z,{renderTooltip:()=>s,render:e=>(0,se.jsx)(X.Z,{style:r.buttonStyle,onMouseMove:o,onClick:i,disabled:t,...e,children:n(r.iconStyle)})})}re.displayName="RelationPropertyPageSection",re.contextTypes={...n.w,...l.xm},re.addNewRelationButtonTitleStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0};const ce=re;class pe extends n.Z{constructor(){super(...arguments),this.renderSection=e=>{const{schema:t,format:o,locked:i,collectionStore:n,store:s,disabled:r,isInPeekRenderer:a,handleMouseMove:l,handleMouseLeave:d,blockPropertyValueOverlayStore:c,topBorder:p}=this.props,h=(o.collection_page_sections||[]).filter((t=>t.section===e)).map((e=>e.visibility))[0];return(0,se.jsx)(ce,{store:s,collectionStore:n,disabled:r,locked:i,property:e,schema:t,handleMouseMove:l,handleMouseLeave:d,handleContextMenu:()=>{},blockPropertyValueOverlayStore:c,format:o,visibility:h,analyticsFrom:"relation_section",isInPeekRenderer:a,topBorder:p})},this.handleReorder=e=>{const{collectionStore:t,format:o}=this.props,i=o.collection_page_sections||[],n=[...s.oA(e.map((e=>i.find((t=>t.section===e))))),...i.filter((t=>!e.includes(t.section)))];a.createAndCommit({userAction:"RelationPropertyPageSections.handleReorder",environment:this.environment,perform:e=>{r.FH({stores:[t],update:{collection_page_sections:n},transaction:e})}})}}renderComponent(){const{locked:e,disabled:t,propertyIds:o,type:i}=this.props,{collectionContextStore:n}=this.context;if(!n)return;const s=n.permissionScopes.state;return"minimal"===i?o.map((e=>(0,se.jsx)("div",{children:this.renderSection(e)},e))):t||e||!s.canConfigureCollection?(0,se.jsx)("div",{style:d.yA,children:o.map((e=>(0,se.jsx)("div",{children:this.renderSection(e)},e)))}):(0,se.jsx)(d.ZP,{direction:"vertical",keys:o,renderKey:this.renderSection,onDrop:this.handleReorder})}}pe.displayName="RelationPropertyPageSections",pe.contextTypes={...n.w,...l.xm};const he=pe},44862:(e,t,o)=>{o.d(t,{Z:()=>m});o(67294);var i=o(83355),n=o(8848),s=o(60291),r=o(54497),a=o(5366),l=o(5149),d=o(41232),c=o(32363),p=o(16402),h=o(84076),g=o(85893);class u extends i.Z{constructor(){super(...arguments),this.handleNavigateToSourceClick=()=>{const{collectionContextStore:e}=this.props;e&&(l.r$({collectionContextStore:e,collectionSettingsStore:e.settingsStore}),l.H4({collectionSettingsStore:e.settingsStore,item:{type:"source"}}))}}renderComponent(){const{collectionStore:e}=this.props;if(e.isSyncedCollection())return this.renderSyncedCollectionIndicators()}renderSyncedCollectionIndicators(){const{collectionStore:e}=this.props,t=e.getFormatStore().getKeyStore("original_url").getValue(),o=e.getSpaceId(),i=Boolean(e.getFormatStore().getKeyStore("sync_state").getValue()),n=t&&(0,d.pI)(t,o);return(0,g.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[n&&(0,g.jsx)(h.Z,{href:n,style:{display:"inline-flex"},hoveredStyle:{background:"none",textDecoration:"underline"},innerStyle:{flexShrink:1,width:"none",padding:"2px 0px",marginRight:5,borderRadius:3,display:"flex",alignItems:"center",alignSelf:"center",...this.getStyle()},external:!0,children:(0,c.wY)(t,o)}),i?(0,g.jsx)("span",{style:{color:this.theme.mediumTextColor},children:"•"}):null,i?this.renderSyncState():null]})}renderSyncState(){var e,t;const{collectionStore:o}=this.props,i=o.getFormatStore().getKeyStore("sync_state").getKeyStore("syncing").getValue(),l=o.getFormatStore().getKeyStore("sync_state").getKeyStore("last_synced_at").getValue(),d=null===(e=this.props.collectionContextStore)||void 0===e?void 0:e.numberChildrenUnfurled.state,c=null===(t=this.props.collectionContextStore)||void 0===t?void 0:t.numberChildrenReceived.state,u=d&&c&&d/c<1&&!this.environment.device.isMobile,m=i&&this.environment.device.isMobile;let y;return l&&(y=(0,g.jsx)(a.FormattedMessage,{defaultMessage:"Synced {lastSyncedAt}",id:"synced.lastSyncedAt.label",values:{lastSyncedAt:(0,p.IS)(l,{useLowercase:!0})}})),"row_limit_exceeded"===i?(0,g.jsx)(h.Z,{style:{display:"inline-flex",...this.getStyle()},onClick:this.handleNavigateToSourceClick,children:(0,g.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...this.getStyle()},children:[(0,r.t)({fill:(0,n.fi)("orange",this.theme).fill,marginLeft:4,marginRight:4,width:12,alignSelf:"center"}),(0,g.jsx)(a.FormattedMessage,{defaultMessage:"Partial Sync",id:"synced.partial_sync.label"})]})}):u||m?(0,g.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...this.getStyle()},children:[(0,g.jsx)(a.FormattedMessage,{defaultMessage:"Syncing",id:"synced.syncing.label"}),(0,s.b)({marginLeft:4,marginRight:4,width:12,alignSelf:"center"},"sync-spinner")]}):(0,g.jsx)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...this.getStyle()},children:y})}getStyle(){return{color:this.theme.mediumTextColor,fontSize:14,lineHeight:1.2}}}u.displayName="SyncedCollectionIndicators";const m=(0,a.injectIntl)(u)},37451:(e,t,o)=>{o.d(t,{Z:()=>T});o(67294);var i=o(83355),n=o(15145),s=o(49271),r=o(5366),a=o(50906),l=o(98834),d=o(75018),c=o(59389),p=o(39699),h=o(66213),g=o(78316),u=o(19124),m=o(84210),y=o(12534),S=o(17504),v=o(77907),f=o(80444),x=o(88632),C=o(83212),b=o(34583),M=o(64921),P=o(21199),w=o(24405),k=o(36596),R=o(85893);function j(){window.__c={n:"TemplatePickerShimmer"};const e=(0,w.yK)((()=>({menu:{display:"flex",alignItems:"center",marginBottom:5},icon:{marginLeft:5,width:26,height:26,marginRight:10},menuItem:{height:20,marginTop:5,marginBottom:5,width:"20%"}})),[]);return(0,R.jsx)(R.Fragment,{children:[...Array(8)].map(((t,o)=>(0,R.jsxs)("div",{style:e.menu,children:[(0,R.jsx)(k.Z,{style:e.icon}),(0,R.jsx)(k.Z,{style:e.menuItem})]},o)))})}class I extends i.Z{constructor(){super(...arguments),this.publicEditModeStore=this.createComputedStore((()=>C.Z.getMode(this.environment,this.props.store))),this.handleEmptyPageContinueClick=e=>{(0,y.ZP)({event:e,context:y.Af.EditorClick,callback:()=>{b.M_(this.environment)&&(p.createAndCommit({userAction:"TemplatePicker.handleEmptyPageContinueClick",environment:this.environment,perform:e=>{c.eV({environment:this.environment,store:this.props.store,transaction:e})}}),a.rNQ(this.environment,{template_name:"empty",is_keyboard:!1}))}})},this.handleCreateDatabaseTemplateClick=()=>{const{store:e}=this.props,t=e.getAssociatedCollectionStore();if(t&&b.M_(this.environment)){const{performResult:e}=p.createAndCommit({userAction:"TemplatePicker.newPage",environment:this.environment,perform:e=>l.nx({environment:this.environment,collectionStore:t,transaction:e})});e&&this.navigateToBlock(e),a.dZq(this.environment,{collection_id:t.id})}}}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):d.navigate({environment:this.environment,url:e})}willMount(e){super.willMount(e),e.menuListStore.reset()}renderComponent(){const e=x.Z.state.online;return(0,R.jsx)(P.Z,{capture:!0,render:t=>(0,S.Z)((o=>(0,R.jsxs)("div",{...t,...o,style:I.wrapStyle,children:[this.renderPlaceholder(),e&&(0,R.jsx)(v.LazyTemplatePickerTemplateList,{...this.props,renderLoading:()=>(0,R.jsx)(j,{})})]})))})}renderPlaceholder(){const e=this.renderPlaceholderMessage();return e?(0,R.jsx)("div",{style:I.placeholderWrapStyle,children:(0,R.jsx)("div",{style:this.getPlaceholderStyle(),onClick:this.handleEmptyPageContinueClick,children:e})}):void 0}renderPlaceholderMessage(){const{device:e}=this.environment,t=this.props.store.isTemplate(),o=x.Z.state.online,i=this.isCollectionPage(),n=this.collectionHasTemplates(),s=i&&!n;return o?t?(0,R.jsx)(r.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page.} other {Press Enter to continue with an empty page.}}",id:"templatePicker.isTemplate.emptyPagePrompt",values:{isMobileDevice:e.isMobile}}):e.isMobile?s?(0,R.jsx)(r.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Tap here to continue with an empty page} other {Tap here to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.mobileCollectionEmptyPage.prompt",values:{isParentLocked:!this.canConfigureCollection(),templatebutton:e=>(0,R.jsx)(M.Z,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick,children:e})}}):e.isTablet?(0,R.jsx)(r.FormattedMessage,{defaultMessage:"Tap here to continue with an empty page, or pick a template",id:"templatePicker.mobileTabletEmptyPage.withTemplates.prompt"}):(0,R.jsx)(r.FormattedMessage,{defaultMessage:"Tap here to continue...",id:"templatePicker.mobilePhoneEmptyPage.withTemplates.prompt"}):s?(0,R.jsx)(r.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Press Enter to continue with an empty page} other {Press Enter to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.webCollectionEmptyPage.prompt",values:{isParentLocked:!this.canConfigureCollection(),templatebutton:e=>(0,R.jsx)(M.Z,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick,children:e})}}):!(0,u.GD)(this.publicEditModeStore.state)||i?(0,R.jsx)(r.FormattedMessage,{defaultMessage:"Press Enter to continue with an empty page, or pick a template (↑↓ to select)",id:"templatePicker.webEmptyPage.withTemplates.prompt"}):void 0:(0,R.jsx)(r.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page. Please go online to use templates.} other {Press Enter to continue with an empty page. Please go online to use templates.}}",id:"templatePicker.deviceOffline.goOnlinePrompt",values:{isMobileDevice:e.isMobile}})}isCollectionPage(){return Boolean(this.props.store.getAssociatedCollectionStore())}canConfigureCollection(){const{store:e}=this.props,t=e.getAssociatedCollectionStore(),o=t&&t.getParentBlockStore();return g.eD({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!0})}collectionHasTemplates(){const{store:e}=this.props,t=e.getParentCollectionStore(),o=t?t.getTemplatePageStores():void 0;return o&&o.length>0}navigateToBlock(e){const{mainEditorCurrentBlockStore:t}=f.default.state,o=t?(0,m.ZP)({store:t,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:n.tY.LinkInPage}):(0,m.ZP)({store:e,fullyQualified:!1,pageVisitSource:n.tY.LinkInPage});this.navigate(o)}getPlaceholderStyle(){return{...s.ZD,color:this.theme.lightTextColor,paddingTop:5,paddingBottom:24}}}I.displayName="TemplatePicker",I.contextTypes={...h.wK,...i.w},I.wrapStyle={width:"100%",display:"flex",flexDirection:"column",marginBottom:"14vh"},I.placeholderWrapStyle={width:"100%"};const T=(0,r.injectIntl)(I)},56282:(e,t,o)=>{o.d(t,{Z:()=>w});o(67294);var i=o(73935),n=o(83355),s=o(13991),r=o(6740),a=o(49085),l=o(12137),d=o(8848),c=o(22491),p=o(72126),h=o(82990),g=o(63143),u=o(5366),m=o(24677),y=o(94841),S=o(31792),v=o(27724);class f extends a.default{getInitialState(){return{showFadeInAnimation:!1,isRepositioning:!1}}}const x=f;var C=o(23063),b=o(6685),M=o(85893);class P extends n.Z{constructor(){super(...arguments),this.storeTypes={focusStore:a.default.createClass(!1),mouseStore:S.Z,withImageRepositioningStore:x},this.renderDraggable=()=>(0,M.jsx)(b.Z,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disabled:!this.isRepositioning(),render:e=>(0,M.jsx)("div",{...(0,c.iv)(this.getDragContainerStyle()),...e,children:this.props.render({imagePosition:this.getRenderedCoverPosition(),isRepositioning:this.isRepositioning(),showFadeInAnimation:!1})})}),this.shouldBeActiveStore=this.createComputedStore((()=>0===v.default.state.stores.length)),this.handleFocus=e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,r.E)(t)&&this.stores.focusStore.setState(!0)},this.handleBlur=e=>{this.stores.focusStore.setState(!1)},this.handleMouseMove=e=>{this.mouseStore.setState({...this.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.mouseStore.setState({...this.mouseStore.state,mouseEntered:!1})},this.handleMouseMoveThrottled=(0,p.P2)(this.handleMouseMove,100),this.handleMouseLeaveDebounced=(0,p.Ds)(this.handleMouseLeave,100),this.handleWindowMouseDown=e=>{const t=i.findDOMNode(this);t&&!t.contains(e.target)&&this.isRepositioning()&&this.props.onFlushTemporaryPosition({imagePosition:this.getRenderedCoverPosition(),reset:()=>{this.mouseStore.reset(),this.stores.withImageRepositioningStore.reset()}})},this.handleRepositionClick=(e,t)=>{m.ZH(this.environment);const o=new Image;o.onload=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,isRepositioning:!0,image:o})},t&&(o.src=t)},this.handleCancelClick=e=>{this.stores.withImageRepositioningStore.reset()},this.handleSavePositionClick=e=>{this.props.onFlushTemporaryPosition({imagePosition:this.getRenderedCoverPosition(),reset:()=>{this.stores.withImageRepositioningStore.reset()}})},this.handleDragStart=e=>{const t=this.isRepositioning(),{image:o}=this.stores.withImageRepositioningStore.state;if(o&&t){const e=i.findDOMNode(this);if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/o.width*o.height,i=this.getRenderedCoverPosition();this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:t,startDragRenderedPosition:i})}}},this.handleDragMove=e=>{if(this.isRepositioning()){const{startDragRenderedPosition:t,startDragImageScreenHeight:o}=this.stores.withImageRepositioningStore.state,i=e.diffY/(o||0)+(t||0);this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,temporaryPosition:(0,p.NM)((0,l.Z)(i,0,1),4)})}},this.handleDragEnd=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})},this.handleDragCancel=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})}}didMount(){super.didMount(),window.addEventListener("mousedown",this.handleWindowMouseDown)}willUnmount(){super.willUnmount(),window.removeEventListener("mousedown",this.handleWindowMouseDown)}willMountOrUpdate(){this.isRepositioning()&&!this.shouldBeActiveStore.state&&this.stores.withImageRepositioningStore.reset()}renderComponent(){const{device:e}=this.environment,{style:t}=this.props,{isMobile:o}=e,i=this.isRepositioning(),{mouseEntered:n}=this.mouseStore.state,s=this.stores.focusStore.state;return(0,M.jsxs)("div",{onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseEnter:this.handleMouseMoveThrottled,onMouseMove:this.handleMouseMoveThrottled,onMouseLeave:this.handleMouseLeaveDebounced,...(0,c.iv)(this.getContainerStyle(),t),children:[this.renderDraggable(),this.renderDragMessage(),this.props.renderControl({handleRepositionClick:this.handleRepositionClick,handleSavePositionClick:this.handleSavePositionClick,handleCancelClick:this.handleCancelClick,isVisible:o||n||s||i,isRepositioning:i})]})}renderDragMessage(){const{isRepositioning:e}=this.stores.withImageRepositioningStore.state;if(!this.props.small)return(0,M.jsx)(C.Z,{isVisible:!0,animationStyle:{opacity:e?1:0},render:()=>(0,M.jsx)("div",{...(0,c.iv)(this.getDragMessageContainerStyle()),"aria-hidden":!e,children:(0,M.jsx)(u.FormattedMessage,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})})}isRepositioning(){return this.stores.withImageRepositioningStore.state.isRepositioning}getRenderedCoverPosition(){const{temporaryPosition:e}=this.stores.withImageRepositioningStore.state;return(0,p.hj)(e)?e:this.getPersistedCoverPosition()}getPersistedCoverPosition(){const{source:e,store:t}=this.props;if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,p.hj)(e))return e}if(t.isCollectionView()){const e=t.getCollectionViewCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,g.z4)(t)?.5:t}}const o=t.getFormat().page_cover_position;return(0,p.hj)(o)?o:.5}get mouseStore(){return this.props.mouseStore||this.stores.mouseStore}getContainerStyle(){return{position:"relative",width:"100%"}}getDragContainerStyle(){return{width:"100%",cursor:this.isRepositioning()?"move":"inherit"}}getDragMessageContainerStyle(){return{background:d.ZP.blackWithAlpha(.4),borderRadius:3,color:d.ZP.white,fontSize:12,fontFamily:h.Z.getCompositeFontFamily(s.SP).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:(0,y.q0)()?56:"calc(50% - 10px)",textAlign:"center"}}}P.displayName="WithImageRepositioning";const w=P},58792:(e,t,o)=>{o.d(t,{B:()=>r});o(67294);var i=o(5618),n=o(35943),s=o(85893);const r=e=>{let{store:t,isEditable:o,hasCover:r,isInSidePeek:a,isInMiniPeek:l,paddingLeft:d,paddingRight:c,openMenuOnMount:p,openMenuOnMountCallback:h,...g}=e;return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,s.jsx)(i.Z,{store:t,isEditable:o,hasCover:r,isInSidePeek:a,isInMiniPeek:l,openMenuOnMount:p,openMenuOnMountCallback:h}),(0,s.jsx)(n.Z,{store:t,isInSidePeek:a,isInMiniPeek:l,paddingLeft:d,paddingRight:c,...g})]})}},98272:(e,t,o)=>{o.d(t,{X:()=>a});o(67294);var i=o(24405),n=o(5366),s=o(68785),r=o(85893);function a(){window.__c={n:"ImportingMessage"};const e=(0,i.yK)((e=>({wrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:16,marginTop:"12vh"},message:{fontSize:14,marginTop:8,color:e.mediumTextColor}})),[]);return(0,r.jsxs)("div",{style:e.wrapper,children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)("div",{style:e.message,children:(0,r.jsx)(n.FormattedMessage,{defaultMessage:"Importing…",id:"frame.importingMessage"})})]})}},67064:(e,t,o)=>{o.d(t,{E:()=>a,_:()=>r});o(67294);var i=o(86628),n=o(16738),s=o(85893);function r(e){window.__c={n:"InlinePageSections"};const{state:t,store:o,disabled:r,isInPeekRenderer:a,blockPropertyValueOverlayStore:l,onMouseEnter:d,onMouseLeave:c,topBorder:p}=e,h=(0,i.VK)((()=>o.isLocked()),[o]),g=(0,i.VK)((()=>o.getSchema()),[o]);return(0,s.jsx)(n.Z,{topBorder:p,propertyIds:t.sectionPropertyIds,store:o,collectionStore:t.collectionStore,format:t.format,disabled:r,locked:h,schema:g,handleMouseMove:d,handleMouseLeave:c,handleContextMenu:()=>{},blockPropertyValueOverlayStore:l,isInPeekRenderer:a})}function a(e){const{collectionStore:t,format:o,sectionPropertyIds:i}=e;return t&&o&&i&&i.length?{type:"visible",collectionStore:t,format:o,sectionPropertyIds:i}:{type:"hidden"}}},99731:(e,t,o)=>{o.d(t,{f:()=>a});o(67294);var i=o(5366),n=o(77933),s=o(97053),r=o(85893);const a=e=>{let{store:t}=e;return(0,r.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:s.m4,onClick:s.h9,children:(0,r.jsx)(n.Z,{type:"page",store:t,headerText:(0,r.jsx)(i.FormattedMessage,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})}},79354:(e,t,o)=>{o.d(t,{o:()=>r});o(67294);var i=o(82136),n=o(53223),s=o(85893);function r(e){let{store:t,collectionViewId:o,context:r,disabled:a}=e;return(0,s.jsx)(n.D,{overridePaddingLeft:0,overridePaddingRight:0,store:t,isFullScreen:!0,viewId:o,disabled:a,hideHeaderActions:r===i.S.InAppTemplatePreview})}},16720:(e,t,o)=>{o.d(t,{Z:()=>_,k:()=>Z});var i=o(67294),n=o(83355),s=o(480),r=o(86628),a=o(24405),l=o(90199),d=o(1436),c=o(82990),p=o(5366),h=o(50906),g=o(61916),u=o(97444),m=o(39699),y=o(68056),S=o(67669),v=o(18514),f=o(61766),x=o(31792),C=o(24666),b=o(84076),M=o(31278),P=o(76798),w=o(32662),k=o(26388),R=o(65187),j=o(85893);class I extends n.Z{constructor(){super(...arguments),this.editor=null,this.storeTypes={buttonPopupStore:f.Z},this.renderLockedTooltip=()=>{const{collectionStore:e}=this.props,t=e&&e.getIcon();return(0,j.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,j.jsx)("div",{style:{paddingTop:4,paddingRight:6},children:(0,l.b)({width:12})}),(0,j.jsx)("div",{children:(0,j.jsx)("div",{children:(0,j.jsx)(p.FormattedMessage,{defaultMessage:"Please unlock {pageTitleWithIcon} to edit the description.",id:"pageDescription.lockedTooltip.message",values:{pageTitleWithIcon:(0,j.jsxs)("span",{style:{whiteSpace:"nowrap",fontWeight:c.Z.fontWeight.bold},children:[t&&(0,j.jsx)(M.Z,{disabled:!0,icon:t,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),e&&(0,j.jsx)(P.Z,{store:e,style:{display:"inline"}})]})}})})})]})},this.handleTab=e=>!0,this.handleUntab=e=>!0,this.handleEnter=e=>{if(!this.canEdit())return;if(e.preventDefault(),this.editor&&this.editor.isComposing())return;const t=C.default.state;if("editing"===t.mode){const e=(0,y.QY)(t.multiSelection);if(!e)return;m.createAndCommit({userAction:"PageDescription.handleEnter",environment:this.environment,perform:t=>{u.hJ({environment:this.environment,store:this.props.descriptionStore,string:"\n",selection:e.selection,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})}},this.handleToggleExpanded=e=>{this.isExpanded()||e.preventDefault(),this.togglePageDescription()}}renderComponent(){return(0,j.jsx)("div",{style:{maxWidth:"100%",borderRadius:3,overflow:"hidden",marginBottom:12},children:this.renderExpanded()})}renderExpanded(){return this.environment.device.isMobile?(0,j.jsx)(i.Fragment,{children:this.renderDescriptionText()}):(0,j.jsx)(k.Z,{renderTooltip:this.renderLockedTooltip,disableTooltip:!this.props.locked||!this.props.canEdit,render:e=>(0,j.jsx)("div",{children:(0,j.jsx)("div",{style:{display:"flex",cursor:"text"},...e,children:this.renderDescriptionText()})})})}renderDescriptionText(){const{device:e}=this.environment,{intl:t}=this.props;if(this.props.descriptionStore)return(0,j.jsx)(R.Z,{ref:e=>{this.editor=e},store:this.props.descriptionStore,style:{...T,width:780},disabled:this.props.disabled,placeholder:t.formatMessage({defaultMessage:"Add a description…",id:"pageDescription.emptyPlaceholder"}),disableSlashCommands:!0,disableEmbedMenu:!0,disableDateMentions:!0,disableMentions:!0,onTab:this.handleTab,onUntab:this.handleUntab,onEnter:this.handleEnter,onClick:this.isExpanded()?()=>{}:this.handleToggleExpanded,disableStyleAnnotations:e.isMobileBrowser,disableHorizontalEdgeScroll:!0,pasteBehavior:"inline"})}isExpanded(){return this.props.toggleStore.isExpanded()}canEdit(){const{descriptionStore:e}=this.props,t=this.pageContext&&this.pageContext.publicEditModeStore.state;return!this.props.disabled&&(!(0,S.YF)(t)&&e.canEdit())}togglePageDescription(){const e=this.isExpanded();g.YT({environment:this.environment,pageId:this.props.pageId,isExpanded:!e,store:this.props.toggleStore,userSettingsStore:this.props.userSettingsStore,descriptionStore:this.props.descriptionStore})}}I.displayName="PageDescription",I.stores={buttonPopupStore:f.Z};const T={fontSize:14,paddingLeft:6,paddingBottom:4,paddingTop:3},_=(0,p.injectIntl)(I);function Z(){window.__c={n:"SprintBoardPageDescription"};const e=(0,s.O7)(),t=(0,r.qz)(void 0,x.Z),o=(0,r.VK)((()=>t.state.mouseEntered),[t]),i=(0,a.yK)((e=>({linkStyle:{...T,color:o?e.mediumTextColor:e.lightTextColor,cursor:"pointer"}})),[o]);return(0,j.jsx)("div",{style:{display:"flex"},onClick:()=>h.Fsx(e,{from:"sprint_board_learn_how_to_use"}),children:(0,j.jsxs)(b.Z,{style:i.linkStyle,href:(0,v.UY)("guides.sprintPlanning"),external:!0,disabled:!0,onMouseEnter:()=>t.enter(),onMouseLeave:()=>t.exit(),children:[(0,j.jsx)(p.FormattedMessage,{defaultMessage:"Learn how to use Sprints",id:"pageDescription.sprintBoard.message"}),(0,j.jsx)(w.Z,{size:2}),(0,d.g)({width:16,display:"inline-block",position:"relative",top:"3px",height:void 0})]})})}},6779:(e,t,o)=>{o.d(t,{z:()=>b});var i=o(67294),n=o(43250),s=o(97053),r=o(1302),a=o(480),l=o(86628),d=o(23867),c=o(98104),p=o(39699),h=o(18821),g=o(34047),u=o(82994),m=o(77907),y=o(46351),S=o(82136),v=o(85893);const f=e=>{window.__c={n:"NewPageDiscussion"};const{store:t}=e,o=(0,a.O7)(),n=(0,i.useMemo)((()=>new u.Z(o,(0,d.C)(t.pointer.spaceId))),[o,t.pointer.spaceId]),s=(0,i.useCallback)((()=>{c.ZH(o)}),[o]),r=x({environment:o,discussionInputStore:n,store:t});return(0,v.jsx)(m.LazyDiscussionInput,{showAvatar:!0,parentStore:t,onSubmit:r,onCancel:s,discussionInputStore:n,discussionFormat:g.O2.Page,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,canDrop:!0,blockStore:t})},x=e=>{const{environment:t,discussionInputStore:o,store:n}=e,s=(0,l.qz)(void 0,S.Z),a=(0,i.useCallback)((e=>{var o;const i=n.id;null===(o=t.PageDetailsStore)||void 0===o||o.setToggleState({environment:t,type:"discussion",id:i},e)}),[t,n.id]);return(0,i.useCallback)((async()=>{const e=o.state.textStore.getValue(),i=o.state.files;if(e&&e.length>0||i.length>0){const{performResult:l}=p.createAndCommit({userAction:"PageDiscussion.useSubmitNewDiscussion",environment:t,perform:o=>h.i8({environment:t,blockStore:n,commentTextValue:e||[],transaction:o,files:i}),skipUpdatingEditedMetadata:!0});if(o.reset(),s.setState({...s.state,forceDiscussionOpen:!1}),a(!0),l&&!t.device.isMobile){await r.default.afterNextFlush();const e=y.Z.find((e=>e.getStore().id===l.id));e&&c.NX({store:e.getInputStore().state.textStore})}}}),[o,t,s,a,n])},C=e=>{window.__c={n:"UnresolvedPageDiscussion"};const{store:t,discussionStore:o,isFirst:n,isOnly:s}=e,r=(0,a.O7)(),l=(0,i.useMemo)((()=>new u.Z(r,(0,d.C)(t.pointer.spaceId))),[r,t.pointer.spaceId]);return(0,v.jsx)(m.LazyDiscussion,{store:o,format:g.O2.Page,isFirst:n,isOnly:s,discussionLocation:"page_discussion",showResolveButtonByDefaultIfPossible:!1,blockStore:t,discussionInputStore:l},o.id)},b=e=>{const{store:t,showDiscussionInput:o,unresolvedDiscussionStores:i,withLegacyInputPadding:r}=e;return(0,v.jsxs)("div",{style:{width:"100%",margin:"0 auto"},onMouseDown:s.m4,onClick:s.h9,className:n.KA2,children:[i.map(((e,o,i)=>(0,v.jsx)(C,{store:t,discussionStore:e,isFirst:0===o,isOnly:1===i.length},e.id))),o&&(0,v.jsx)("div",{style:{padding:r?"6px 4px 12px":"14px 4px 12px"},children:(0,v.jsx)(f,{store:t})})]})}},2524:(e,t,o)=>{o.d(t,{e:()=>m});var i=o(67294),n=o(60177),s=o(64338),r=o(86628),a=o(43250),l=o(77080),d=o(25821),c=o(68785),p=o(55217),h=o(37451),g=o(97053),u=o(85893);const m=(0,i.forwardRef)((function(e,t){let{store:o,disabled:i,templatePickerMenuListStore:m,onClick:y,legacyStyles:S}=e;window.__c={n:"PageEditor"};const v=(0,n.Dl)();(0,s.q7)(null==v?void 0:v.domLock);const f=(0,g.Nr)(o),x=(0,g.xC)(o),C=(0,g.Qg)(o),b=(0,r.VK)((()=>o.isLocked()||i),[o,i]);return(0,r.VK)((()=>l.default.checkGate("layout_editor_on_the_grid")),[])?(0,u.jsxs)("div",{className:a.QS0,onClick:y,ref:t,children:[!C&&(0,u.jsx)(p.Z,{store:o.getContentStore(),emptyDroppableStyle:{width:"100%"},disabled:b,experimentalLayout:!0}),f&&(0,u.jsx)(d.bU,{children:(0,u.jsx)(c.Z,{})}),x&&(0,u.jsx)(d.bU,{children:(0,u.jsx)(h.Z,{store:o,menuListStore:m})})]}):(0,u.jsxs)("div",{className:a.QS0,onClick:y,style:S,ref:t,children:[!C&&(0,u.jsx)(p.Z,{store:o.getContentStore(),emptyDroppableStyle:{width:"100%"},disabled:b}),f&&(0,u.jsx)(c.Z,{}),x&&(0,u.jsx)(h.Z,{store:o,menuListStore:m})]})}))},56507:(e,t,o)=>{o.d(t,{U:()=>n});o(67294);var i=o(85893);function n(e){let{onMouseEnter:t,onMouseMove:o,onMouseLeave:n,headerControls:s}=e;return(0,i.jsx)("div",{onMouseEnter:t,onMouseMove:o,onMouseLeave:n,children:s})}},5618:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(67294),n=o(480),s=o(86628),r=o(41432),a=o(43593),l=o(5366),d=o(9953),c=o(39699),p=o(95477),h=o(28020),g=o(31278),u=o(85893);const m=i.memo((e=>{let{store:t,isEditable:o,hasCover:m,isInSidePeek:y,isInMiniPeek:S,openMenuOnMount:v,openMenuOnMountCallback:f}=e;window.__c={n:"PageIcon"};const x=(0,n.O7)(),C=(0,l.useIntl)(),b=(0,s.VK)((()=>t.hasIcon()),[t]),M=(0,s.VK)((()=>{if(b)return t.getIcon()}),[b,t]),P=(0,s.VK)((()=>t.getIconStore()),[t]),w=(0,s.VK)((()=>t.getType()),[t]),k=(0,s.VK)((()=>{if(t.isCollectionView()){const e=t.getCollectionViewSourceCollectionStore();return!!e&&e.isSyncedCollection()}return t.isType(r.Ti.externalObjectInstancePage)}),[t]),R=(0,s.VK)((()=>t.isCollectionView()||y||S),[t,y,S]),j=(0,s.VK)((()=>R?36:k?74:140),[R,k]),I=(0,s.VK)((()=>t.isEmptyPage()),[t]),T=(0,i.useCallback)((async e=>{const o=t.getIconStore();if(o){const t=(0,a.Wv)(e,p.default.secureFileS3.url,p.default.secureFileS3V2.url,p.default.secureFileConfig.rootPath,p.default.secureFileConfig.hostname),i=t?t.link:e,{serverCommitResult:n}=c.createAndCommit({userAction:"PageIcon.handleChange",environment:x,perform:e=>{d.sO({store:o,value:i,transaction:e})}});await n}}),[x,t]);if(!b)return null;const _={position:"relative",zIndex:1,marginLeft:3,marginBottom:x.device.isMobile?8:0,marginTop:4,pointerEvents:"auto"};let Z;R?_.marginRight=6:_.marginTop=m?-80:x.device.isMobile?0:(0,h.CP)(x),Z=R?{marginTop:(x.device.isMobile,4),marginRight:8}:{marginTop:m?-42:x.device.isMobile?0:(0,h.CP)(x)};const L=R?36:78;if(o){const e=null==P?void 0:P.table;return(0,u.jsx)(g.Z,{disabled:!1,bucket:"secure",icon:M,store:t,isEmptyPage:I,onChange:T,size:j,emojiSize:L,style:_,emojiStyle:Z,largeIcon:!0,openMenuOnMount:v,openMenuOnMountCallback:f,iconLoggingData:{recordTable:e,source:"page_header",block_type:w,collection_id:"collection"===e?null==P?void 0:P.id:void 0},label:C.formatMessage({id:"layout.pageIcon.label",defaultMessage:"Change page icon"})})}return(0,u.jsx)(g.Z,{disabled:!0,icon:M,isEmptyPage:I,size:j,emojiSize:L,style:_,emojiStyle:Z,largeIcon:!0,label:C.formatMessage({id:"layout.pageIcon.disabledLabel",defaultMessage:"Page icon"})})}))},22735:(e,t,o)=>{o.d(t,{$:()=>_});var i=o(67294),n=o(86628),s=o(480),r=o(24405),a=o(80951),l=o(6695),d=o(42875),c=o(72126),p=o(5366),h=o(82356),g=o(27714),u=o(4615),m=o(14871),y=o(63296),S=o(95477),v=o(77080),f=o(62878),x=o(13555),C=o(85893);const b=(0,p.defineMessages)({linkCopied:{defaultMessage:"Link copied. Share it with others who may find this useful.",id:"ai.gtmFavoriteActions.linkCopied"},share:{defaultMessage:"Share as AI favorite",id:"ai.gtmFavoriteActions.share"},add:{defaultMessage:"Add to AI favorites",id:"ai.gtmFavoriteActions.add"}});function M(e){window.__c={n:"GtmFavoriteButtons"};const{blockId:t}=e,o=(0,s.O7)(),n=(0,p.useIntl)(),r=(0,i.useCallback)((()=>{(0,f.M)({environment:o,importArgs:{name:"aiGtmFavoriteImport",blockId:t}})}),[t,o]),a=(0,i.useCallback)((()=>{const e=`${S.default.domainBaseUrl}/ai-gtm/${(0,u.cj)(t)}`;m.RD({environment:o,stringValue:e,copiedMessage:b.linkCopied})}),[t,o]);return(0,C.jsxs)("div",{style:{marginTop:12,marginBottom:12},children:[(0,C.jsx)(y.Z,{onClick:a,icon:g.N,children:n.formatMessage(b.share)}),o.currentUser.isLoggedIn()&&(0,C.jsx)(y.Z,{onClick:r,style:{marginLeft:12},icon:h.l,children:n.formatMessage(b.add)})]})}var P=o(31792),w=o(85526),k=o(50478),R=o(41883),j=o(12867),I=o(65091);function T(e){var t;window.__c={n:"PagePropertiesSection"};const{collectionStore:o,schema:h,store:g,format:u}=e,m=(0,p.useIntl)(),y=(0,s.O7)(),S=(0,i.useRef)(null),f=(0,n.qz)(void 0,P.Z),b=(0,r.yK)((e=>({pageProperties:{width:"100%",fontSize:14},dragHandle:{marginLeft:-(k.C$+10),marginRight:6},hidePropertiesButton:{margin:"0 0 10px"},showMoreButton:{margin:0},addPropertyButton:{margin:"4px 0 0"},moreProperties:{border:`1px solid ${"dark"===e.mode?e.accentColors.gray[300]:e.accentColors.gray[75]}`,borderRadius:4,padding:"8px 6px"}})),[]),T=(0,n.VK)((()=>Boolean(g.isAssociatedCollectionAPageTree())),[g]),_=(u.collection_page_properties||[]).filter((e=>{var t;return null===(t=u.collection_page_sections)||void 0===t||!t.some((t=>t.section===e.property&&("inline"===t.visibility||"minimal"===t.visibility)))})),Z=(0,n.VK)((()=>{const e=g.getModel(),t="on"===v.default.getGroup("default-new-page-property-to-hide-when-empty")?l.iB(u,h,void 0,l.j5.Collection):o.getFormat(),i=t&&t.property_visibility;if(i){return _.map((t=>({visibility:"show",hasValue:!Boolean(e&&(0,a.no)({block:e,property:t.property,schema:h,getRecordModel:g.getRecordModel,userId:y.currentUser.id,userTimeZone:(0,d.r)(),intl:m})),...t,...i.find((e=>e.property===t.property))})))}return _?_.map((e=>({...e,visibility:"show",hasValue:Boolean(g.getPropertyValue(e.property))}))):[]}),[g,u,h,o,_,m,y.currentUser.id]),L=(0,n.VK)((()=>w.Z.state.forceShowProperties),[]),[B,E]=(0,i.useMemo)((()=>c.uK(Z,(e=>{var t;return!!(null===(t=h[e.property])||void 0===t?void 0:t.type)&&function(e){if("section"===e.visibility)return!1;if("hide"===e.visibility)return!1;if("hide_if_empty"===e.visibility&&!e.hasValue)return!1;return!0}(e)}))),[Z,h]),V=function(e){return(0,n.VK)((()=>{if(!v.default.checkGate("ai_favorites"))return!1;const t=(0,x.OF)();return!!t&&t.spaceId===e.getSpaceId()&&t.collectionId===e.id}),[e])}(o),D=B.concat(E),{paddingLeft:F,paddingRight:A,width:O}=e,K=((null===(t=S.current)||void 0===t?void 0:t.clientWidth)??Number.MAX_VALUE)<Math.min(5,B.length)*j.Uv;let U;return U=!T||y.device.isMobile||K?(0,C.jsxs)("div",{style:{paddingBottom:8},children:[(0,C.jsx)(R.Z,{...e,showHiddenProperties:L,mergedProperties:T?D:Z}),(0,C.jsx)(I.ZP,{...e,mergedProperties:T?D:Z})]}):(0,C.jsx)(j.ZP,{...e,rowLength:5,compactProperties:B,hiddenProperties:E}),(0,C.jsx)("div",{style:b.pageProperties,onMouseEnter:()=>{f.setState({...f.state,mouseEntered:!0})},onMouseLeave:()=>{f.setState({...f.state,mouseEntered:!1})},ref:S,children:(0,C.jsx)("div",{style:{paddingLeft:F,paddingRight:A,width:O,maxWidth:"100%",padding:T?"10px 0":"8px 0",margin:"0 auto"},children:(0,C.jsxs)("div",{style:{paddingLeft:F,paddingRight:A,width:O,maxWidth:"100%",paddingTop:"8px",margin:"0 auto"},children:[U,V&&(0,C.jsx)(M,{blockId:g.id})]})})})}function _(e){window.__c={n:"PageProperties"};const{store:t,format:o,collectionStore:i,disabled:s,blockPropertyValueOverlayStore:r,isInPeekRenderer:a}=e,l=(0,n.VK)((()=>i.getSchema()),[i]),d=(0,n.VK)((()=>t.isLocked()),[t]);return(0,C.jsx)(T,{store:t,collectionStore:i,schema:l,format:o,disabled:s,locked:d,width:"100%",blockPropertyValueOverlayStore:r,isInPeekRenderer:a})}},35943:(e,t,o)=>{o.d(t,{Z:()=>E});var i=o(67294),n=o(13991),s=o(480),r=o(97511),a=o(86628),l=o(24405),d=o(49271),c=o(41432),p=o(42509),h=o(42875),g=o(27714),u=o(5366),m=o(82990),y=o(75018),S=o(28020),v=o(41232),f=o(33929),x=o(67669),C=o(24646),b=o(35661),M=o(99757),P=o(68709),w=o(15560),k=o(73063),R=o(84076),j=o(26388),I=o(19987),T=o(79954),_=o(44862),Z=o(65187),L=o(85893);function B(e){window.__c={n:"SyncedIndicators"};const{store:t,collectionContextStore:o}=e,i=(0,a.VK)((()=>t.isCollectionView()),[t]),n=(0,a.VK)((()=>t.getCollectionViewSourceCollectionStore()),[t]);return i&&o&&n?(0,L.jsx)(_.Z,{collectionStore:n,collectionContextStore:o}):null}const E=i.memo((e=>{let{store:t,disabled:o,isInSidePeek:i,isInMiniPeek:_,extraStyles:E,paddingLeft:V,paddingRight:D,titlePlaceholder:F,collectionContextStore:A,shouldShowTemplatePicker:O,onTitleChange:K,onTitleEditText:U,onTitleEsc:N,onTitleUntab:W,onTitleTab:H}=e;window.__c={n:"PageTitle"};const z=(0,s.O7)(),$=(0,r.l)(),G=(0,a.VK)((()=>t.getTitleStore()),[t]),Q=(0,a.VK)((()=>{if(t.isCollectionView()){const e=t.getCollectionViewSourceCollectionStore();return!!e&&e.isSyncedCollection()}return t.isType(c.Ti.externalObjectInstancePage)}),[t]),Y=(0,a.VK)((()=>{if(o)return!1;if(M.n.state)return!1;const e=$&&$.publicEditModeStore.state;return!(0,x.YF)(e)&&t.canEditCollection()}),[o,$,t]),q=(0,a.VK)((()=>{if(!t.isCollectionView())return!1;const e=t.getCollectionViewSourceCollectionStore();return!!e&&(0,p.OY)(e.getValue())}),[t]),J=(0,a.VK)((()=>{const e=t.getModel();return F??(null==e?void 0:e.getEmptyTitlePlaceholder({getRecordModel:t.getRecordModel,userTimeZone:(0,h.r)(),intl:f.default.getIntl()}))}),[t,F]),X=!z.device.isMobile&&i,ee=(0,a.VK)((()=>Y&&!t.isLocked()&&!Q&&!(0,S.qG)(t.id)),[Y,Q,t]),te=(0,a.VK)((()=>t.isEmptyPage()),[t]),oe=(0,a.VK)((()=>t.isTemplate()),[t]),ie=(0,a.VK)((()=>t.getParentCollectionTemplateStores()),[t]),ne=(0,a.VK)((()=>t.getSyncedUri()),[t]),se=(0,a.VK)((()=>t.shouldShowBetaTagForProjectManagementLaunch()),[t]),re=function(e){const{store:t,paddingLeft:o,paddingRight:i,isInSidePeek:r,shouldShowBetaTagForProjectManagementLaunch:c,extraStyles:p}=e,h=(0,s.O7)(),g=(0,a.VK)((()=>t.getFormat()),[t]),u=(0,a.VK)((()=>t.isCollectionView()),[t]),y=(0,a.VK)((()=>(0,C.$3)(h)),[h]),S=(0,a.VK)((()=>(0,C.vJ)(h)),[h]),v=(0,a.VK)((()=>t.getAppContainerBlockStore()),[t]),f=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()),[t]);return(0,l.yK)((e=>{const t=!!g.page_small_text||h.device.isMobile||u||r?32:40,s=y+S-o-i;return{title:{...d.ZD,width:f||c?"fit-content":"100%"},selectable:{color:e.regularTextColor,fontWeight:m.Z.fontWeight.bold,lineHeight:1.2,fontSize:t,fontFamily:m.Z.getHeaderFontFamily({pageFont:g.page_font,locale:n.SP}),cursor:"text",display:"flex",alignItems:"center",textRendering:h.device.isSafari?"optimizeSpeed":void 0,width:u&&!v?s:void 0,...p},link:{width:16,fill:e.mediumIconColor},placeholder:{...d.ZD,WebkitTextFillColor:e.pageTitlePlaceholderTextColor,cursor:"text"}}}),[v,S,h.device.isMobile,h.device.isSafari,p,g.page_font,g.page_small_text,u,f,r,y,o,i,c])}({store:t,isInSidePeek:i,paddingLeft:V,paddingRight:D,shouldShowBetaTagForProjectManagementLaunch:se,extraStyles:E}),ae=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()),[t]),le=(0,a.VK)((()=>t.isExternalCollectionBlockStore()?t:void 0),[t]),de=(0,a.VK)((()=>(null==le?void 0:le.canEdit())??!1),[le]),ce=(0,a.VK)((()=>ne?(0,v.pI)(ne,t.pointer.spaceId):void 0),[t.pointer.spaceId,ne]);if(q)return null;if(!G)return null;const pe=b.G.createChildStore(G,t.pointer),he=ie&&0===ie.length,ge=z.device.isIOS,ue=(0,L.jsx)(Z.Z,{tagName:"h1",style:{...re.title,fontSize:"1em",fontWeight:"inherit",margin:0},store:G,placeholderStyle:re.placeholder,disabled:!ee,placeholder:J,disableSlashCommands:!0,disableSelectAllBlocks:!0,disableStyleAnnotations:!0,disableMobileActionBar:!1,disableShiftEnter:!0,disableEmbedMenu:!0,onEsc:N,onUntab:W,onTab:H,disableUpDownArrows:!(!O||oe||he||z.device.isMobile)&&te,disableEnter:!(!O||oe||he||z.device.isMobile)&&(te&&!_),onChange:K,disableHorizontalEdgeScroll:!0,pasteBehavior:"block",trackEditsToUserFlow:"user_flow_edit_page_title"});return(0,L.jsxs)("div",{style:X?{flex:1}:void 0,children:[(0,L.jsxs)(T.Z,{canSelect:!1,canDrag:!1,canEditText:ee,onEditText:U,store:pe,style:re.selectable,analyticsName:"page_content",shouldShowDropZone:!0,children:[ge?(0,L.jsx)(P.p,{style:re.title,allowSelectionWithin:!0,children:ue}):ue,se&&(0,L.jsx)(w.Z,{style:{marginTop:8,marginLeft:8}}),ae&&(0,L.jsx)(j.Z,{placement:j.Z.Placement.Bottom,renderTooltip:e=>(0,L.jsx)(u.FormattedMessage,{...e,defaultMessage:"Link to original url",description:"Link to the original source of the data.",id:"PageTitle.syncedBlock.original"}),render:e=>(0,L.jsx)(R.Z,{href:ce,ignoreLocalHoverState:!0,hovered:!1,children:(0,L.jsx)(k.Z,{ariaLabel:"Link",...e,icon:()=>(0,g.N)(re.link),style:{marginLeft:4},onClick:()=>{ce&&y.navigateToExternalURL({url:ce,environment:z})}})})}),le&&!z.device.isMobile&&(0,L.jsx)(I.Z,{store:le,canEdit:de,buttonStyle:{fontWeight:"normal",margin:0}})]}),(0,L.jsx)("div",{style:{marginLeft:4},children:(0,L.jsx)(B,{store:t,collectionContextStore:A})})]})}))},21953:(e,t,o)=>{o.d(t,{J:()=>u});var i=o(67294),n=o(480),s=o(6740),r=o(86628),a=o(77907),l=o(5382),d=o(68709),c=o(19987),p=o(5618),h=o(35943),g=o(85893);const u=e=>{let{store:t,isEditable:o,headerControls:u,hasCover:m,isInSidePeek:y,isInMiniPeek:S,headerFocusStore:v,paddingLeft:f,paddingRight:x,openMenuOnMount:C,pageViewBlockStore:b,discussionInputStore:M,openMenuOnMountCallback:P,...w}=e;window.__c={n:"PageTitleWithIcon"};const{device:k,WindowSizeStore:R}=(0,n.O7)(),j=k.isMobile&&!m,I=!k.isMobile&&(y||S),T=(0,r.VK)((()=>t.isExternalObjectInstancePageBlockStore()&&t.hasError()?t:null),[t]),_=(0,r.VK)((()=>l.Z.state.banners),[]),Z=(0,r.VK)((()=>t.canEdit()),[t]),L=(0,r.VK)((()=>S?0:R.getSafePaddingLeftCSS(f)),[S,R,f]),B=(0,r.VK)((()=>R.getSafePaddingRightCSS(x)),[R,x]),E=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,s.E)(t)&&v.setState(!0)}),[v]),V=(0,i.useCallback)((e=>{v.setState(!1)}),[v]),D=(0,g.jsx)(p.Z,{store:t,isEditable:o,hasCover:m,isInSidePeek:y,isInMiniPeek:S,openMenuOnMount:C,openMenuOnMountCallback:P}),F=(0,g.jsx)(h.Z,{store:t,isInSidePeek:y,isInMiniPeek:S,paddingLeft:f,paddingRight:x,...w});return(0,g.jsxs)("div",{style:{maxWidth:"100%",paddingLeft:L,width:"100%"},onClick:e=>{e.stopPropagation()},children:[(0,g.jsx)(a.LazyBannersRenderer,{pageViewBlockStore:b,discussionInputStore:M,banners:_,isMobile:!1,isInPeekRenderer:!1}),(0,g.jsxs)(d.p,{onFocus:E,onBlur:V,allowSelectionWithin:!1,style:{pointerEvents:"none"},children:[j&&u,!I&&D,!j&&u]}),(0,g.jsx)("div",{style:{paddingRight:B},children:I?(0,g.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[D,F]}):F}),T?(0,g.jsx)(c.Z,{store:T,canEdit:Z}):null]})}},70177:(e,t,o)=>{o.d(t,{L:()=>p});var i=o(13991),n=o(65669),s=o(90902),r=o(24990);const a={ko:()=>o.e(692).then(o.bind(o,13547)),es:()=>o.e(883).then(o.bind(o,98610)),de:()=>o.e(3224).then(o.bind(o,36802)),fr:()=>o.e(5038).then(o.bind(o,96627)),pt:()=>o.e(2138).then(o.bind(o,88048)),zh:()=>o.e(7835).then(o.bind(o,41787)),ja:()=>o.e(6377).then(o.bind(o,28202)),da:()=>o.e(7677).then(o.bind(o,99815)),fi:()=>o.e(6970).then(o.bind(o,65651)),nb:()=>o.e(3031).then(o.bind(o,92967)),nl:()=>o.e(2579).then(o.bind(o,86541)),sv:()=>o.e(382).then(o.bind(o,63462))};let l=!1,d=!1;async function c(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;s.Q4[o]={...s.Q4[o],keywords:[...i,...(null===(t=s.Q4[o])||void 0===t?void 0:t.keywords)||[]]}}await r.Z.waitUntilLoaded(),r.Z.update((t=>{let{emojiByName:o,...i}=t;return{...i,emojiByName:{...o,...e.emojiByName}}}))}const p=(0,n.Z)((async()=>{await async function(){d||(await c(await o.e(3552).then(o.bind(o,62706))),d=!0)}(),await async function(){if(l)return;const[e]=i.SP.split("-");e in a&&(await c(await a[e]()),l=!0)}()}))},29755:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(49085);class n extends i.default{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:o}=this.state;t?o[e]=t:delete o[e],this.emit()}}const s=new n},63971:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(49085);class n extends i.default{getInitialState(){return{isExpanded:!0}}isExpanded(){return Boolean(this.state.isExpanded)}}const s=n},5382:(e,t,o)=>{o.d(t,{Z:()=>i});const i=new(o(8297).Z)},65669:(e,t,o)=>{function i(e){let t,o,i;return async function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t?(i=s,o||(o=t.then((()=>(o=void 0,t=e(...i),t))),o)):(t=e(...s),t)}}o.d(t,{Z:()=>i})},65955:(e,t,o)=>{o.d(t,{o:()=>s});o(67294);var i=o(45238),n=o(85893);const s=(0,i.I)("addPage",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0c3.861 0 7 3.139 7 7s-3.139 7-7 7-7-3.139-7-7 3.139-7 7-7zM3.561 5.295a1.027 1.027 0 1 0 2.054 0 1.027 1.027 0 0 0-2.054 0zm5.557 1.027a1.027 1.027 0 1 1 0-2.054 1.027 1.027 0 0 1 0 2.054zm1.211 2.816a.77.77 0 0 0-.124-1.087.786.786 0 0 0-1.098.107c-.273.407-1.16.958-2.254.958-1.093 0-1.981-.55-2.244-.945a.788.788 0 0 0-1.107-.135.786.786 0 0 0-.126 1.101c.55.734 1.81 1.542 3.477 1.542 1.668 0 2.848-.755 3.476-1.541z"})})},64788:(e,t,o)=>{o.d(t,{P:()=>s});o(67294);var i=o(45238),n=o(85893);const s=(0,i.I)("addPageCover",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},68074:(e,t,o)=>{o.d(t,{v:()=>s});o(67294);var i=o(45238),n=o(85893);const s=(0,i.I)("addPageDiscussion",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.095 15.465c.287 0 .499-.137.84-.444l2.523-2.277 4.47.007c2.058 0 3.214-1.19 3.214-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.213h.273v1.983c0 .45.24.738.657.738zM3.958 5.156a.454.454 0 01-.444-.45c0-.24.198-.438.444-.438h7.157c.246 0 .445.198.445.437a.45.45 0 01-.445.451H3.958zm0 2.256a.454.454 0 01-.444-.451c0-.24.198-.444.444-.444h7.157a.448.448 0 010 .895H3.958zm0 2.256a.448.448 0 010-.896h4.669c.246 0 .437.206.437.452a.438.438 0 01-.437.444H3.958z"})})},89767:(e,t,o)=>{o.d(t,{R:()=>s});o(67294);var i=o(45238),n=o(85893);const s=(0,i.I)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},82356:(e,t,o)=>{o.d(t,{l:()=>s});o(67294);var i=o(45238),n=o(85893);const s=(0,i.I)("import",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},70663:(e,t,o)=>{o.d(t,{h:()=>s});o(67294);var i=o(45238),n=o(85893);const s=(0,i.I)("replace",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.26465 3.96094C2.95996 4.26562 2.979 4.66553 3.23291 4.8877C3.49316 5.12256 3.86133 5.12256 4.16602 4.83057C5.11182 3.80225 6.48291 3.15479 8 3.15479C10.6851 3.15479 12.856 5.12891 13.2051 7.66162H12.2466C11.7642 7.66162 11.6309 8.01709 11.9102 8.41064L13.4209 10.5435C13.6494 10.8608 13.9985 10.8608 14.2334 10.5435L15.7441 8.41699C16.0298 8.02344 15.8965 7.66162 15.4077 7.66162H14.519C14.1445 4.44336 11.3516 1.85986 8 1.85986C6.13379 1.85986 4.43262 2.68506 3.26465 3.96094ZM0.249512 8.42334C-0.0297852 8.81689 0.097168 9.17871 0.585938 9.17871H1.4873C1.85547 12.397 4.64844 14.9805 8 14.9805C9.87256 14.9805 11.5737 14.1553 12.748 12.873C13.0464 12.5684 13.0273 12.1685 12.7734 11.9399C12.5132 11.7051 12.1514 11.7114 11.8403 12.0034C10.9009 13.0381 9.52979 13.6855 8 13.6855C5.32129 13.6855 3.14404 11.7178 2.79492 9.17871H3.74707C4.22949 9.17871 4.36279 8.82324 4.0835 8.42969L2.57275 6.29688C2.34424 5.97949 1.99512 5.97949 1.7666 6.29688L0.249512 8.42334Z"})})}}]);