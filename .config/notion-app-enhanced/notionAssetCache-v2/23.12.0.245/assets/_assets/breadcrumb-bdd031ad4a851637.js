"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5548],{2517:(e,t,i)=>{i.r(t),i.d(t,{default:()=>se});var r=i(67294),n=i(480),s=i(86628),o=i(24405),a=i(82990),l=i(94841),c=i(80444),d=i(28020),u=i(98165),h=i(95697),x=i(35661),g=i(5366),m=i(64921),f=i(31945),p=i(78140),v=i(32163),b=i(40721),j=i(89728),M=i(87279),w=i(87686),y=i(15145),C=i(75018),k=i(11470),Z=i(72495),P=i(73744),S=i(35683),W=i(85893);const V=function(e,t){return[{key:"results",render:e=>(0,W.jsx)(Z.Z,{...e}),items:t.map(((t,i)=>({key:t.id,render:e=>(0,W.jsx)(k.Z,{...e,isSubpage:0!==i,store:t,hidePath:!0}),action:i=>{let{event:r}=i;const n=P.DJ(r);t instanceof x.G&&C.navigateToBlock({environment:e,store:t,openInNew:n,visitType:S.vu.Link,pageVisitSource:y.tY.Breadcrumb})}})))}]};const R=function(e){window.__c={n:"BreadcrumbBlocksAsPopup"};const{isMobile:t,stores:i}=e,r=(0,n.O7)(),s={display:"flex",alignItems:"center",flexShrink:0};return(0,W.jsx)(f.ZP,{popupType:t?f.Z4.SlideUp:f.Z4.Popup,renderOrigin:e=>t?(0,W.jsxs)(m.Z,{style:{...s},mobileFeedback:!0,...e,children:[(0,W.jsx)(w.f,{}),(0,W.jsx)("div",{style:{marginLeft:8,marginRight:8},children:"..."}),(0,W.jsx)(w.f,{})]}):(0,W.jsxs)("div",{style:s,children:[(0,W.jsx)(j.Z,{isSmall:!0,...e,children:"..."}),(0,W.jsx)(w.f,{})]}),render:e=>{let n;return n=t?{menuType:M.og.Modal,title:(0,W.jsx)(g.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,W.jsx)(b.DoneMenuText,{}),onClickRight:e.close}:{menuType:M.og.Popup,width:240},(0,W.jsx)(p.Z,{...n,children:(0,W.jsx)(v.Z,{type:v.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:V(r,i)})})}})};var B=i(7692),O=i(24946);function T(e){const{ancestorMaxWidth:t,showDivider:i,store:r}=e;return r instanceof x.zX?(0,W.jsx)(O.Z,{store:r,showDivider:i,maxWidth:t}):(0,W.jsx)(B.Z,{store:r,showDivider:i,maxWidth:t})}function _(e){window.__c={n:"BreadcrumbAncestors"};const{ancestorMaxWidth:t,isMobile:i,homeStore:r,store:n,maxAncestorCount:o}=e,[a,l]=(0,s.VK)((()=>{const e=u.uJ(n),t=n.isNavigableBlock()?e.slice(1):[...e];return t.reverse(),e.reverse(),[t,e]}),[n]);if((0,s.VK)((()=>(0,d.qG)(n.id)),[n])&&void 0!==r)return(0,W.jsx)(T,{ancestorMaxWidth:t,showDivider:!0,store:r},r.id);if(a.length>o){const[e,r,n]=[a[0],a.slice(1,a.length-o+1),a.slice(a.length-o+1)];if((0,h.bq)())return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(T,{ancestorMaxWidth:t,showDivider:!i,store:e},e.id),(0,W.jsx)(R,{isMobile:i,stores:i?l:r},"pages-popup"),n.map((e=>e instanceof x.zX?(0,W.jsx)(O.Z,{store:e,showDivider:!0,maxWidth:t},e.id):(0,W.jsx)(B.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]});{const e=a.filter((e=>e instanceof x.G)),r=a.filter((e=>e instanceof x.G));return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(B.Z,{store:e[0],showDivider:!i,maxWidth:t},e[0].id),(0,W.jsx)(R,{isMobile:i,stores:i?r:e.slice(1,e.length-o+1)},"pages-popup"),e.slice(e.length-o+1).map((e=>(0,W.jsx)(B.Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]})}}return(0,W.jsx)(W.Fragment,{children:a.map((e=>(0,W.jsx)(T,{ancestorMaxWidth:t,showDivider:!0,store:e},e.id)))})}var D=i(50906),F=i(52771),I=i(31278),K=i(76798),L=i(45010),N=i(88923),A=i(46837),q=i(25238);const z=function(e){window.__c={n:"BreadcrumbReadOnlyPage"};const{ancestorMaxWidth:t,ignoreMaxLength:i,showDivider:r,store:n}=e;return(0,s.VK)((()=>(0,l.q0)()),[])?(0,W.jsx)(A.Z,{style:{marginLeft:-4}}):(0,W.jsxs)("div",{style:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0,maxWidth:i?void 0:"100%"},children:[(0,W.jsx)(q.Z,{store:n,maxWidth:t,ignoreMaxLength:i}),r&&(0,W.jsx)(w.f,{})]})};function E(e,t,i,n){return(0,r.useCallback)((()=>{const r=N.default.isMiniOrCenterPeekOpen()?L.Z.PeekViewScroller:L.Z.PageScroller;if(r&&!r.atScrollStart())return r.scrollToTop({animate:!0}),void D.Opj(e);const s=n.canEdit(),o=n.isLocked(),a=n.getCollectionViewCollectionStore(),l=null==a?void 0:a.isSyncedCollection(),c=n.isExternalObjectInstancePageBlockStore();if(t||N.default.isMiniOrCenterPeekOpen()||!i||!s||o||c||l)return;const d=i.current;if(!d)return;if(!(d instanceof Element))return;const u=d.getBoundingClientRect();F.$({blockStore:n,originRect:u}),D.VaH(e)}),[e,t,i,n])}function H(e,t){window.__c={n:"BreadcrumbCurrentPageWithControlsWithRef"};const{currentPageMaxWidth:i,isMobile:r,currentPageRef:o,store:a}=e,l=(0,n.O7)(),c=(0,s.VK)((()=>(0,d.qG)(a.id)),[a]),u=(0,s.VK)((()=>a.isEmptyPage()),[a]),h=(0,s.VK)((()=>a.getIcon()),[a]),x=r?24:20,g=E(l,r,o,a);return(0,W.jsxs)(j.Z,{shouldShrink:!0,onClick:g,isSmall:!0,ref:t,disabled:c,children:[!!h&&(0,W.jsx)(I.Z,{disabled:!0,icon:h,isEmptyPage:u,size:x,style:{marginRight:6},largeIcon:!0}),(0,W.jsx)(K.Z,{store:a,style:{maxWidth:i},enableHover:!0})]})}const G=(0,r.forwardRef)(H);function U(e){window.__c={n:"BreadcrumbCurrentPage"};const{ancestorMaxWidth:t,isMobile:i,currentPageRef:r,store:o}=e,a=(0,n.O7)(),{mobileNative:c}=a,d=E(a,i,r,o),h=(0,s.VK)((()=>{const e=u.uJ(o);return 0===(o.isNavigableBlock()?e.slice(1):[...e]).length}),[o]),x=(0,s.VK)((()=>(0,l.q0)()),[]);return i?(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(j.Z,{shouldShrink:!0,onClick:d,disabled:x,isSmall:!0,style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingLeft:0}:void 0,children:(0,W.jsx)(z,{store:o,showDivider:!1,ignoreMaxLength:h,ancestorMaxWidth:t})})}):(0,W.jsx)(j.Z,{shouldShrink:!0,onClick:d,disabled:x,isSmall:!0,style:{fontSize:"inherit"},children:(0,W.jsx)(z,{store:o,showDivider:!1,ancestorMaxWidth:t})})}function J(e){window.__c={n:"BreadcrumbCurrentPageThatOpensBreadcrumbs"};const{ancestorMaxWidth:t,store:i}=e,r=(0,n.O7)(),o={display:"flex",alignItems:"center",flexShrink:0},a=(0,s.VK)((()=>{const e=u.uJ(i);return e.reverse(),e}),[i]);return(0,W.jsx)(f.ZP,{popupType:f.Z4.SlideUp,renderOrigin:e=>(0,W.jsx)(m.Z,{style:{...o,maxWidth:"100%"},mobileFeedback:!0,...e,children:(0,W.jsx)(z,{store:i,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:t})}),render:e=>{const t={menuType:M.og.Modal,title:(0,W.jsx)(g.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,W.jsx)(b.DoneMenuText,{}),onClickRight:e.close};return(0,W.jsx)(p.Z,{...t,children:(0,W.jsx)(v.Z,{type:v.i.Vertical,onAccept:e.close,initialFocus:void 0,sections:V(r,a)})})}},"pages-popup")}var Q=i(73935),X=i(42853),$=i(16184),Y=i(27006),ee=i(11302),te=i(26388),ie=i(4023),re=i(35057);function ne(e){window.__c={n:"BreadcrumbMoveTo"};const{store:t}=e,i=(0,n.O7)(),a=(0,s.VK)((()=>{if(!(0,h.bq)())return!1;if(!(0,re.mq)())return!1;const{currentSpaceViewStore:e}=c.default.state,r=null==e?void 0:e.getPrivatePages(i);return null==r?void 0:r.some((e=>e.id===t.id))}),[i,t]),l=(0,s.VK)((()=>{const e=i.currentUser.id;return t.getPermissionItems().every((t=>(0,Y.jg)(t)&&e===t.user_id))}),[i,t]),d=(0,o.Fg)(),u=(0,r.useRef)(null),x=(0,r.useCallback)((()=>{if(!u)return;const e=Q.findDOMNode(u.current);if(!(e&&e instanceof Element))return;const r=e.getBoundingClientRect(),n=new DOMRect(r.x,r.y,r.width,r.height+5);D.Fo$(i),ee.bA({environment:i,blocks:[t],originRect:n,moveToContext:"topbar_breadcrumb"})}),[i,u,t]);return a&&l?(0,W.jsx)(te.Z,{placement:ie.u.Right,renderTooltip:e=>(0,W.jsxs)("div",{children:[(0,W.jsx)("div",{children:(0,W.jsx)(g.FormattedMessage,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,W.jsx)("div",{style:{color:d.mediumInvertedTextColor},children:(0,W.jsx)(g.FormattedMessage,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,W.jsxs)(j.Z,{isSmall:!0,disabled:!1,onClick:x,ref:u,...e,children:[(0,$.Q)({width:16,fill:d.lightIconColor}),(0,W.jsx)("span",{style:{color:d.lightTextColor,marginLeft:4,marginRight:5},children:(0,W.jsx)(g.FormattedMessage,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,X.i)({width:9,fill:d.lightIconColor})]})}):null}const se=function(e){var t;window.__c={n:"Breadcrumb"};const{ancestorMaxWidth:i,maxAncestorCount:d,currentPageMaxWidth:u,isMobile:h,showCurrentPageControls:x,store:g,style:m}=e,f=(0,r.useRef)(null),p=(0,n.O7)(),v=(0,o.yK)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:h?a.Z.fontSize.UIRegular.mobile:a.Z.fontSize.UIRegular.desktop,...m},enforceMaxLength:{maxWidth:"100%"}})),[h,m]),b=(0,s.VK)((()=>{var e;return!(null===(e=g.getTitleStore())||void 0===e||!e.isReady())}),[g]),j=(0,s.VK)((()=>{const{currentSpaceViewStore:e}=c.default.state;let t;return e&&e.isReady()&&(t=(0,l.Al)(e)),t}),[]),M=(0,s.VK)((()=>!(0,l.q0)()&&x&&g.isReady()),[x,g]);return b?null!==(t=p.mobileNative)&&void 0!==t&&t.supportsNativeHomeOnPhone()?(0,W.jsx)("div",{style:{...v.container,...v.enforceMaxLength},className:"notranslate",children:(0,W.jsx)(J,{store:g,ancestorMaxWidth:i})}):(0,W.jsxs)("div",{style:v.container,className:"notranslate shadow-cursor-breadcrumb",children:[(0,W.jsx)(_,{ancestorMaxWidth:i,maxAncestorCount:d,isMobile:h,homeStore:j,store:g}),M?(0,W.jsx)(G,{currentPageMaxWidth:u,isMobile:h,currentPageRef:f,ref:f,store:g}):(0,W.jsx)(U,{ancestorMaxWidth:i,isMobile:h,currentPageRef:f,store:g}),(0,W.jsx)(ne,{store:g})]}):null}},16184:(e,t,i)=>{i.d(t,{Q:()=>s});i(67294);var r=i(45238),n=i(85893);const s=(0,r.I)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})}}]);