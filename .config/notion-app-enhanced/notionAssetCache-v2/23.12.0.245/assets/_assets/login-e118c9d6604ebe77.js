"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4535],{1412:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});i(67294);var o=i(83355),n=i(82990),s=i(5366),r=i(95477),a=i(51),d=i(33759),l=i(30278),c=i(83941),g=i(27821);const u=20;function m(e,t){switch(t){case"xl":return(0,g.z)(e,"maxWidth","small")?60:(0,g.z)(e,"maxWidth","giant")?80:160;case"l":return(0,g.z)(e,"maxWidth","small")?60:(0,g.z)(e,"maxWidth","giant")?80:120;case"m":return(0,g.z)(e,"maxWidth","giant")?40:60;case"s":return 40;case"xs":return 20;default:return 0}}function h(e,t){const i=t?m(e,t):0;return{marginTop:i,marginBottom:i}}const p={display:"flex",flexDirection:"column",alignItems:"center"};function f(e){return(0,g.z)(e,"maxWidth","small")?u:(0,g.z)(e,"minWidth","small")&&(0,g.z)(e,"maxWidth","large")?40:60}var y=i(85893);const x=function(e){return(0,y.jsx)("div",{style:p,children:e.children})};var S=i(67219),C=i(480),M=i(86628),v=i(24405),b=i(43250);const j=function(e){return(0,y.jsx)("div",{className:b.Quo,id:e.name})};var w=i(8848);function k(e){return(0,y.jsx)("div",{style:{height:1,background:w.ZP.frontBorder,...e.style}})}var L=i(25476);function I(e){window.__c={n:"FrontSection"};const t=(0,C.O7)(),i=(0,M.VK)((()=>({xPadding:f(t),marginStyle:h(t,e.marginSize)})),[t,e.marginSize]),o=(0,v.yK)((()=>({section:{paddingLeft:i.xPadding,paddingRight:i.xPadding,width:"100%",margin:"0 auto",overflow:e.overflowHidden?"hidden":"visible",...i.marginStyle,...e.style},inner:{width:"100%",borderRadius:3},divider:{maxWidth:L.P.l,margin:"0 auto"}})),[i.marginStyle,i.xPadding,e.overflowHidden,e.style]);return(0,y.jsxs)("section",{style:o.section,children:[e.hasBorderTop&&(0,y.jsx)("div",{style:o.divider,children:(0,y.jsx)(k,{})}),(0,y.jsxs)("div",{style:o.inner,children:[e.analyticsName&&(0,y.jsx)(j,{name:e.analyticsName}),(0,y.jsx)(L.Z,{size:e.limit,children:e.children})]})]})}var A=i(12337),Z=i(63780),F=i(12981),T=i(43116);function B(e){window.__c={n:"LoginPageFromTemplate"};const{loginStore:t,loginPermissionsStore:i,templateName:o,templateImage:r}=e,a=(0,v.yK)((e=>({wrapper:{marginTop:"12vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},twoColumnContainer:{display:"flex",alignItems:"center"},leftColumn:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:320},titleStyle:{fontSize:36,fontWeight:n.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:"100%"},loginActionStyle:{width:"100%",maxWidth:320},screenshotContainer:{marginLeft:"80px"},screenshot:{boxShadow:e.largeLightBoxShadow,borderRadius:"6px",overflow:"hidden",maxWidth:"650px"},loginDisclaimer:{width:"100%",marginTop:"20px"}})),[]);return(0,y.jsx)("div",{style:a.wrapper,children:(0,y.jsxs)("div",{style:a.twoColumnContainer,children:[(0,y.jsxs)("div",{style:a.leftColumn,children:[(0,y.jsx)("div",{style:a.titleStyle,children:(0,y.jsx)(s.FormattedMessage,{id:"loginPage.title.fromTemplate",defaultMessage:"Log in to get this template",values:{templateName:o}})}),(0,y.jsx)(Z.Z,{loginStore:t,loginPermissionsStore:i,emailLabelType:"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:a.loginActionStyle,isSignup:!1,showMobileLayout:!1,showAIVersion:!1,from:"frontLoginPage",disableDisclaimer:!0}),(0,y.jsx)(T.E,{showMobileLayout:!1,showAIVersion:!1,showInvitationVersion:!1,style:a.loginDisclaimer})]}),(0,y.jsx)("div",{style:a.screenshotContainer,children:(0,y.jsx)("div",{style:a.screenshot,children:(0,y.jsx)(F.Z,{src:r,style:{width:"100%"}})})})]})})}var P=i(49245),N=i(9045);class R extends o.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:l.Z},this.productType=void 0}willMount(e){super.willMount(e);r.default.isAdminMode&&R.forceAdminSamlLoginEnvironments.includes("production")?d.Z.setState({...d.Z.state,loginType:"saml"}):"email"===d.Z.state.loginType&&this.environment.device.isMobileBrowser&&!this.environment.device.isBannedGoogleSSOUserAgent&&d.Z.setState({...d.Z.state,loginType:"google"})}renderComponent(){var e;const t=this.props.isSignup?"signup":"login",{publicPageData:i}=a.Z.state,{device:o,WindowSizeStore:n}=this.environment,s=o.isMobile||o.isMobileBrowser,r=s||n.state.width<852,l="ai"===(null===(e=d.Z.getState())||void 0===e?void 0:e.productType)&&this.props.isSignup;return this.renderMFALoginPage({analyticsName:t,showAIVersion:l,publicPageData:i,showMobileLayout:r,isMobile:s})}renderMFALoginPage(e){let{analyticsName:t,showAIVersion:i,publicPageData:o,showMobileLayout:n,isMobile:s}=e;const r=void 0!==o,a=null==o?void 0:o.spaceName;return(0,y.jsx)(S.Z,{hideNotificationBanner:!0,hideNavItems:!0,hideFooter:!0,analyticsName:t,showAIVersion:i,children:(0,y.jsx)("div",{style:this.props.style?this.props.style:R.columnStyle,children:(0,y.jsx)(I,{limit:"l",children:(0,y.jsx)(x,{align:"center",children:d.Z.isMfa()?(0,y.jsx)(P.Z,{loginStore:d.Z}):!n&&void 0!==(null==o?void 0:o.template)&&(0,c.a)()?(0,y.jsx)(B,{loginStore:d.Z,loginPermissionsStore:this.stores.loginPermissionsStore,templateName:o.template.name,templateImage:o.template.imageUrl}):(0,y.jsxs)(y.Fragment,{children:[o&&(0,y.jsx)("div",{style:this.getIconStyle(s),children:(0,y.jsx)(A.Z,{type:A.Z.Type.NoAccess,publicPageData:o})}),(0,y.jsx)("div",{style:this.getTitleStyle({showMobileLayout:n,showAIVersion:i,hasPublicPageData:r}),children:this.renderTitle({showAIVersion:i,isMobile:s,spaceName:a})}),(0,y.jsx)(Z.Z,{loginStore:d.Z,loginPermissionsStore:this.stores.loginPermissionsStore,emailLabelType:!s&&this.props.isSignup?"work_email":"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:this.getLoginActionStyle(),isSignup:this.props.isSignup,showMobileLayout:n,showAIVersion:i,from:"frontLoginPage"})]})})})})})}renderReferringMessage(e){switch(e){case"notion_academy":return(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.fromSourceNotionAcademy",defaultMessage:"Log in to view this lesson"});case"notion_template_gallery":return(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.fromSourceNotionTemplateGallery",defaultMessage:"Log in to duplicate this template"})}}renderTitle(e){const{showAIVersion:t,spaceName:i,isMobile:o}=e,n=new URLSearchParams(window.location.search),a=!0===this.props.isSignup&&!0===o&&n.get("try_notion_cta");if(this.props.isSignup)return i?(0,y.jsx)(s.FormattedMessage,{id:"signupPage.titleForSpace",defaultMessage:"Welcome to {company} on Notion",values:{company:i}}):"mobile"===a?(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.tryNotionMobileCTA",defaultMessage:"Sign up to create a Notion page"}):t?(0,y.jsxs)("div",{children:[(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.showAIVersion1",defaultMessage:"Sign up to join the "}),(0,y.jsx)("span",{style:{color:"#CA59FF"},children:(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.showAIVersion2",defaultMessage:"Notion AI"})}),(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.showAIVersion3",defaultMessage:" waitlist"})]}):(0,y.jsx)(N.Z,{});{const e=n.get("from");return r.default.isAdminMode?"Log In (Admin Mode)":e?this.renderReferringMessage(e):(0,y.jsx)(s.FormattedMessage,{id:"loginPage.title",defaultMessage:"Log in"})}}getIconStyle(e){return{marginTop:e?"20vh":"12vh"}}getTitleStyle(e){let t="12vh";e.showMobileLayout&&e.showAIVersion&&(t="20vh");let i=50;return e.showAIVersion&&(i=40),e.showMobileLayout&&(i=34),{...e.hasPublicPageData?{fontSize:e.showMobileLayout?26:36}:{fontSize:i,marginTop:t},fontWeight:n.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:380}}getLoginActionStyle(){return{width:"100%",maxWidth:320,marginBottom:"16vh"}}}R.displayName="FrontLoginPage",R.forceAdminSamlLoginEnvironments=["development","production"],R.columnStyle={display:"flex",flexDirection:"row",width:"100%"};const _=(0,s.injectIntl)(R)},20243:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var o=i(30120),n=(i(67294),i(83355)),s=i(70954),r=i(89101),a=i(82990),d=i(5366),l=i(75018),c=i(39634),g=i(34700),u=i(33929),m=i(30278),h=i(85974),p=i(16354),f=i(62385),y=i(36360),x=i(63780),S=i(49245),C=i(85893);class M extends n.Z{constructor(){super(...arguments),this.storeTypes={loginStore:h.Z,loginPermissionsStore:m.Z},this.openIntercom=()=>{c.j({environment:this.environment,from:"desktop_login"})}}didMount(){this.environment.currentUser.isLoggedIn()&&l.navigate({environment:this.environment,url:r._j.root,redirect:!0})}renderComponent(){const{device:e}=this.environment,{loginStore:t}=this.stores,i=e.isMac?(0,C.jsx)(d.FormattedMessage,{id:"desktopLogin.welcomeMessage.mac",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}}):(0,C.jsx)(d.FormattedMessage,{id:"desktopLogin.welcomeMessage.windows",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}});return t.isMfa()?(0,C.jsxs)("div",{style:M.style,children:[(0,C.jsx)(S.Z,{loginStore:t}),this.renderFooter()]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{width:"100%",height:"45px",...(0,g.X)({drag:this.environment.device.isElectronMac})}}),(0,C.jsx)(y.Z,{title:u.default.getIntl().formatMessage({defaultMessage:"Log in",id:"loginDesktopPage.title"})}),(0,C.jsxs)("div",{style:M.style,children:[(0,C.jsxs)("div",{style:{display:"flex",width:440},children:[(0,s.C)({width:64,height:64,display:"block",flexGrow:0,flexShrink:0,marginTop:4}),(0,C.jsxs)("div",{style:{flexGrow:1,marginLeft:24,lineHeight:1.4},children:[(0,C.jsx)("div",{style:{fontWeight:a.Z.fontWeight.semibold,fontSize:21},children:i}),(0,C.jsx)("div",{style:{fontSize:18},children:(0,C.jsx)(d.FormattedMessage,{id:"desktopLogin.loginOrSignupToSyncMessage",defaultMessage:"Log in to sync your content."})})]})]}),this.renderLoginAction(),this.renderFooter()]})]})}renderLoginAction(){return(0,C.jsx)(x.Z,{style:{width:320,marginTop:24},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,from:"LoginDesktop",...this.stores})}renderFooter(){return(0,C.jsxs)("div",{style:M.footerStyle,children:[(0,C.jsx)(p.Z,{onClick:this.openIntercom,children:(0,C.jsx)(f.Z,{children:(0,C.jsx)(d.FormattedMessage,{id:"desktopLogin.footer.helpCenterLink",defaultMessage:"Need help?"})})}),(0,C.jsx)(p.Z,{style:{marginLeft:4},href:r._j.termsAndPrivacy,external:!0,children:(0,C.jsx)(f.Z,{children:(0,C.jsx)(d.FormattedMessage,{id:"desktopLogin.footer.privacyAndTermsLink",defaultMessage:"Privacy & Terms"})})}),(0,C.jsxs)(f.Z,{style:{marginLeft:4},disabled:!0,children:["Â© ",o.ou.now().year," ","Notion Labs, Inc."]})]})}}M.displayName="LoginDesktop",M.style={width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none"},M.footerStyle={display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1.2,position:"fixed",bottom:16,left:0,right:0};const v=M},58891:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var o=i(30120),n=(i(67294),i(83355)),s=i(8848),r=i(39186),a=i(60651),d=i(70954),l=i(89101),c=i(82990),g=i(5366),u=i(32603),m=i(75018),h=i(39634),p=i(34859),f=i(30278),y=i(85974),x=i(16354),S=i(89728),C=i(53336),M=i(62385),v=i(63780),b=i(49245),j=i(85893);const w={width:44,height:44,flexGrow:0,flexShrink:0,marginTop:64,marginBottom:20};class k extends n.Z{constructor(){super(...arguments),this.storeTypes={loginStore:y.Z,loginPermissionsStore:f.Z},this.handleReset=e=>{this.stores.loginStore.setState({loginType:"google",email:"",password:""})},this.openIntercom=()=>{h.j({environment:this.environment,from:"mobile_login"})}}willMount(e){super.willMount(e),"email"===this.stores.loginStore.state.loginType&&this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"google"}),u.setInitialRenderCompleted()}didMount(){this.environment.currentUser.isLoggedIn()&&m.navigate({environment:this.environment,url:l._j.root,redirect:!0})}renderComponent(){const{loginStore:e}=this.stores,t=e.isEmail()||e.isPassword()||e.isMfa();return(0,j.jsx)(C.Z,{style:k.scrollerStyle,type:p.Z.Y,children:(0,j.jsxs)("div",{style:this.getScrollContainerStyle(),children:[(0,j.jsx)(S.Z,{isGray:!0,onClick:this.handleReset,icon:r.G,style:{marginTop:36,marginBottom:12,display:t?"flex":" none"},children:(0,j.jsx)(g.FormattedMessage,{defaultMessage:"Go back",id:"loginMobileNative.goBackButton.label"})}),"light"===this.theme.mode?(0,a.h)({...w,display:t?"none":"block"}):(0,d.C)({...w,display:t?"none":"block"}),(0,j.jsxs)("div",{style:{lineHeight:1.4,fontSize:18,color:s.ZP.black,display:t?"none":" block"},children:[(0,j.jsx)("div",{style:{fontWeight:c.Z.fontWeight.bold,marginBottom:16,color:this.theme.regularTextColor},children:(0,j.jsx)(g.FormattedMessage,{defaultMessage:"Welcome to Notion! ðŸ‘‹",id:"loginMobileNative.welcomeMessage"})}),(0,j.jsxs)("div",{style:{marginBottom:20,color:this.theme.regularTextColor},children:[(0,j.jsx)(g.FormattedMessage,{defaultMessage:"Notion is a collaborative tool for <mediumfont>notes</mediumfont>, <mediumfont>tasks</mediumfont>, and <mediumfont>wikis</mediumfont>",values:{mediumfont:e=>(0,j.jsx)("span",{style:{fontWeight:c.Z.fontWeight.medium},children:e})},id:"loginMobileNative.descriptionOfNotion.message"})," ","âœï¸"]})]}),e.isMfa()?(0,j.jsx)(b.Z,{loginStore:e}):(0,j.jsx)(v.Z,{style:{marginBottom:24,alignItems:"flex-start"},captionStyle:{textAlign:"left"},emailPasswordSentPromptStyle:{fontSize:13},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,showMobileLayout:!0,from:"loginMobileNative",...this.stores}),this.renderFooter()]})})}renderFooter(){return(0,j.jsxs)("div",{style:k.footerStyle,children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",lineHeight:1.2},children:[(0,j.jsx)(x.Z,{href:l._j.termsAndPrivacy,external:!0,children:(0,j.jsx)(M.Z,{children:(0,j.jsx)(g.FormattedMessage,{defaultMessage:"Privacy & terms",id:"loginMobileNative.footer.privacyAndTermsButton.label"})})}),(0,j.jsx)(M.Z,{style:{marginLeft:4},onClick:this.openIntercom,children:(0,j.jsx)(g.FormattedMessage,{defaultMessage:"Need help?",id:"loginMobileNative.footer.helpButton.label"})})]}),(0,j.jsxs)(M.Z,{style:{marginTop:12},disabled:!0,children:["Â© ",o.ou.now().year," ","Notion Labs, Inc."]})]})}getScrollContainerStyle(){const{WindowSizeStore:e}=this.environment;return{width:"100%",maxWidth:414,marginLeft:"auto",marginRight:"auto",paddingTop:e.state.paddingTopCSS,paddingLeft:e.getSafePaddingLeftCSS(34),paddingRight:e.getSafePaddingRightCSS(34)}}}k.displayName="LoginMobileNative",k.footerStyle={marginTop:36,paddingBottom:48,marginLeft:-4},k.scrollerStyle={height:"100%",width:"100%"};const L=k},48787:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});i(67294);var o=i(480),n=i(86628),s=i(24405),r=i(72126),a=i(82990),d=i(3386),l=i(63780),c=i(49245),g=i(85893);function u(e){let{loginStore:t,title:i,description:s,isSignup:a,redirectURL:u,disableLoginLink:f,titleAriaId:y,descriptionAriaId:x}=e;window.__c={n:"LoginModalContent"};const S=(0,o.O7)(),C=(0,n.VK)((()=>{if(t.isMfa())return t.state.settings}),[t]);return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none",height:"100%"},children:[!C&&!S.device.isMobile&&(0,g.jsx)(m,{title:i,titleAriaId:y}),!C&&s&&(0,g.jsx)(h,{description:s,descriptionAriaId:x}),(0,g.jsx)(d.Z,{capture:!0,onBackspace:r.yR,onLeft:r.yR,onRight:r.yR,onSelectAll:r.yR,onRedo:r.yR,onUndo:r.yR,onCut:r.yR,onCopy:r.yR,onPaste:r.yR,onKeypress:r.yR,onDelete:r.yR,onTab:r.yR,children:C&&C.length>0?(0,g.jsx)(c.Z,{loginStore:t}):(0,g.jsx)(l.Z,{loginStore:t,style:{width:320,marginTop:24,marginBottom:64,...p(S)},isSignup:a,emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,disableDisclaimer:!0,redirectURL:u,disableLoginLink:f,from:"loginModal"})})]})}function m(e){let{title:t,titleAriaId:i}=e;window.__c={n:"Title"};const n=(0,o.O7)();return(0,g.jsx)("div",{id:i,style:{fontSize:28,fontWeight:a.Z.fontWeight.semibold,marginTop:90,textAlign:"center",lineHeight:1.1,...p(n)},children:t})}function h(e){let{description:t,descriptionAriaId:i}=e;window.__c={n:"Description"};const n=(0,s.Fg)(),r=(0,o.O7)();return(0,g.jsx)("div",{id:i,style:{fontSize:14,color:n.mediumTextColor,width:350,marginTop:12,marginBottom:20,textAlign:"center",lineHeight:1.3,...p(r)},children:t})}function p(e){return e.device.isMobile?{maxWidth:343}:{}}},46420:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});i(67294);var o=i(83355),n=i(9852),s=i(5366),r=i(33759),a=i(30278),d=i(36360),l=i(1412),c=i(20243),g=i(58891),u=i(85893);class m extends o.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:a.Z}}willMount(e){super.willMount(e),e.email&&r.Z.setState({...r.Z.state,email:e.email}),e.redirectURL&&(0,n.setPostLoginRedirect)(e.redirectURL)}didMount(){super.didMount()}renderComponent(){const{device:e}=this.environment,{loginPermissionsStore:t}=this.stores,{intl:i}=this.props;if(e.isElectron)return(0,u.jsx)(c.default,{loginStore:r.Z,loginPermissionsStore:t});if(e.isMobileNative)return(0,u.jsx)(g.default,{loginStore:r.Z,loginPermissionsStore:t});{const e=`Notion - ${this.props.isSignup?i.formatMessage({defaultMessage:"Sign up",id:"signupPage.pageTitle"}):i.formatMessage({defaultMessage:"Log in",id:"loginPage.pageTitle"})}`;return(0,u.jsx)(d.Z,{title:e,children:(0,u.jsx)(l.default,{isSignup:this.props.isSignup})})}}}m.displayName="LoginPage";const h=(0,s.injectIntl)(m)},49245:(e,t,i)=>{i.d(t,{Z:()=>q});var o=i(67294),n=i(480),s=i(86628),r=i(23048),a=i(68785),d=i(12177),l=i(49085),c=i(97880),g=i(49682),u=i(16010);class m extends l.default{getInitialState(){return{step:"loginUninitialized"}}}class h extends u.o{constructor(e,t){super(e,"login"),this.service=void 0,this.service=t}loginShowChoices(){"loginComplete"!==this.getCurrentStep().step&&(this.store.setState({step:"loginLoadSettings"}),this.doLoadSettings().catch(this.handleUnexpectedError))}loginUseMethod(e){let{mfaSettingId:t}=e;const i=this.checkStep("loginChooseMethod");if(!i)return;const{settings:o}=i,n=o.find((e=>e.mfaSettingId===t));if(n)switch(n.mfaMethod){case"totp":return this.loginChooseTOTP({mfaSettingId:t,friendlyName:n.friendlyName});case"sms":return this.loginChooseSMS({mfaSettingId:t,partialPhoneNumber:n.phoneNumber});case"backup_code":return this.loginChooseBackupCode({mfaSettingId:t});default:throw(0,c.t1)(n)}}loginChooseTOTP(e){let{mfaSettingId:t,friendlyName:i}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,friendlyName:i,step:"loginTOTP"})}loginChooseSMS(e){let{mfaSettingId:t,partialPhoneNumber:i}=e;this.checkStep("loginChooseMethod")&&(this.store.setState({isLoading:!0,mfaSettingId:t,partialPhoneNumber:i,step:"loginSMS",resentAt:0,resentStatus:"not-resent"}),this.doSendSMS({mfaSettingId:t}).catch(this.handleUnexpectedError))}loginChooseBackupCode(e){let{mfaSettingId:t}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,step:"loginBackupCode"})}loginVerifyBackupCode(e){let{mfaSettingId:t,code:i,onComplete:o}=e;const n=this.checkStep("loginBackupCode");n&&(this.store.setState({...n,isLoading:!0}),this.doVerifyBackupCode({code:i,onComplete:o}).catch(this.handleUnexpectedError))}loginVerifyCode(e){let{mfaMethod:t,mfaSettingId:i,code:o,onComplete:n}=e;const s=p(t),r=this.checkStep(s);r&&(this.store.setState({...r,isLoading:!0}),this.doVerifyCode({mfaMethod:t,mfaSettingId:i,code:o,onComplete:n}).catch(this.handleUnexpectedError))}loginResendSMS(e){const t=this.checkStep("loginSMS");t&&(this.store.setState({...t,isLoading:!0,resentStatus:"resending"}),this.doSendSMS({mfaSettingId:e}).catch(this.handleUnexpectedError))}exit(){this.store.setState({step:"loginUninitialized"})}async doLoadSettings(){const e=await this.withStep("loginLoadSettings",(()=>this.service.loadSettings()));if(!e)return;const{result:t}=e;this.store.setState({step:"loginChooseMethod",settings:t.settings})}async doVerifyBackupCode(e){let{code:t,onComplete:i}=e;const o=await this.withStep("loginBackupCode",(e=>this.service.verifyBackupCode(t)));if(!o)return;const{result:n,state:s}=o;switch(n.status){case"match":n.recovery?(this.store.setState({step:"loginComplete"}),i()):this.store.setState({step:"loginAlertBackupCode",remainingCodes:n.remainingCodes});break;case"error":this.store.setState({...s,error:g.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...s,error:(0,g.Q3)("backup_code"),isLoading:!1});break;default:return(0,c.t1)(n)}}async doVerifyCode(e){let{mfaMethod:t,mfaSettingId:i,code:o,onComplete:n}=e;const s=p(t),r=await this.withStep(s,(()=>{switch(t){case"totp":return this.service.verifyTOTP(i,o);case"sms":return this.service.verifySMS(i,o);default:(0,c.t1)(t)}}));if(!r)return;const{result:a,state:d}=r;switch(a.status){case"match":this.store.setState({step:"loginComplete"}),n();break;case"error":this.store.setState({...d,error:g.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...d,error:(0,g.Q3)(t),isLoading:!1});break;default:return(0,c.t1)(a.status)}}async doSendSMS(e){let{mfaSettingId:t}=e;const i=await this.withStep("loginSMS",(e=>this.service.sendSMS(t)));if(!i)return;const{state:o}=i,{resentStatus:n,resentAt:s}="not-resent"===o.resentStatus?{resentStatus:"not-resent",resentAt:0}:{resentStatus:"resent",resentAt:Date.now()};this.store.setState({...o,step:"loginSMS",isLoading:!1,resentStatus:n,resentAt:s})}}function p(e){return"totp"===e?"loginTOTP":"sms"===e?"loginSMS":(0,c.t1)(e)}var f=i(5366),y=i(82990),x=i(457),S=i(39693),C=i.n(S),M=i(24405),v=i(8848),b=i(18514),j=i(42922),w=i(46600),k=i(85893);function L(e){return(0,M.EM)({container:{position:"relative",width:324,padding:16},title:{fontWeight:y.Z.fontWeight.semibold,fontSize:20,lineHeight:1.2,color:e.regularTextColor,marginBottom:16,marginLeft:6,marginRight:6,textAlign:"center"},error:{color:v.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:y.Z.fontSize.UISmall.desktop},header:{fontWeight:y.Z.fontWeight.regular,fontSize:y.Z.fontSize.UIRegular.desktop,color:e.lightTextColor,textAlign:"center",marginBottom:18},primaryActionButton:{width:"100%",margin:"12px auto 0",marginBottom:"12px",height:36},hiddenButton:{display:"none"}})}const I=function(e){let{primaryAction:t,secondaryActions:i,title:s,header:r,children:a,errorMessage:d}=e;window.__c={n:"MFALoginPrompt"};const l=(0,M.yK)(L,[]),c=(0,n.Fy)(),{isMobileNative:g}=c,u=(0,o.useMemo)((()=>t?(0,k.jsx)(j.Z,{style:l.primaryActionButton,isLarge:!0,onClick:t.onClick,disabled:t.disabled,isRed:t.isRed,children:t.text}):null),[t,l]),m=(0,b.UY)("guides.mfa"),h=(0,o.useMemo)((()=>C()([...i||[],{text:g?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.mfaPrompt.needHelp.mobileNative",defaultMessage:"Need help with 2-step verification?"}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.mfaPrompt.needHelp",defaultMessage:"Need help?"}),type:"link",view:"plain",href:m,isExternal:!0}]).map(((e,t)=>(0,o.createElement)(w.Z,{...e,key:t})))),[i,m,g]),p=d?(0,k.jsx)("div",{style:l.error,children:d}):void 0,y=(0,o.useCallback)((e=>{e.preventDefault(),t&&!t.disabled&&t.onClick()}),[t]);return(0,k.jsxs)("form",{style:l.container,onSubmit:y,children:[(0,k.jsx)("div",{style:l.title,children:s}),(0,k.jsx)("div",{style:l.header,children:r}),p,a,u,h,(0,k.jsx)("button",{style:l.hiddenButton})]})};var A=i(45653);function Z(e){let{userStore:t,children:i,hideEmail:o}=e;window.__c={n:"MFALoginPromptTitle"};const n=(0,s.VK)((()=>t.getEmail()),[t]),r=(0,M.yK)((e=>function(e,t){return(0,M.EM)({avatar:{marginBottom:12},title:{marginBottom:t?"auto":12},header:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},email:{fontSize:y.Z.fontSize.UISmall.desktop,fontWeight:y.Z.fontWeight.regular,color:e.lightTextColor}})}(e,o)),[o]);return(0,k.jsxs)("div",{style:r.header,children:[(0,k.jsx)(A.Z,{userStore:t,size:64,avatarShouldShowShadow:!0,style:r.avatar}),(0,k.jsx)("div",{style:r.title,children:i}),!o&&(0,k.jsx)("div",{style:r.email,children:n})]})}function F(e){window.__c={n:"MFALoginPromptBackupCodesAlert"};const{userStore:t,remainingCodes:i,onComplete:s,errorMessage:r}=e,a=i.filter((e=>!e.hasBeenUsed)).length,d=(0,n.O7)(),l=(0,o.useMemo)((()=>(0,k.jsx)(Z,{userStore:t,hideEmail:!0,children:0===a?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.regenerateBackupCodesTitle",defaultMessage:"Regenerate backup codes"}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.remainingBackupCodesTitle",defaultMessage:"Remaining backup codes"})})),[t,a]),c=(0,o.useMemo)((()=>0===a?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.regenerateBackupCodes.noCodeRemaining.header",defaultMessage:"You've used all of your recovery codes. On the browser or desktop app, go to <boldtext>Settings & members</boldtext> > <boldtext>My account</boldtext> > <boldtext>2-step verification</boldtext> to create new codes.",values:{boldtext:e=>(0,k.jsx)("span",{style:{fontWeight:y.Z.fontWeight.semibold},children:e})}}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.regenerateBackupCodes.codeRemaining.header",defaultMessage:"You have {numRemainingCodes} backup codes left.",values:{numRemainingCodes:a}})),[a]),g=(0,o.useMemo)((()=>({text:0!==a||d.device.isMobile?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.continueButton",defaultMessage:"Continue"}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.goToAccountSettingsButton",defaultMessage:"Go to account settings"}),onClick:d.device.isMobile?s:()=>s(!0)})),[a,s,d.device.isMobile]),u=(0,o.useMemo)((()=>0!==a||d.device.isMobile?[]:[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.doThisLaterButton",defaultMessage:"Do this later"}),type:"button",view:"plain",onClick:()=>s()}]),[a,s,d.device.isMobile]),m=(0,o.useMemo)((()=>0!==a?(0,k.jsx)(x.Z,{type:"status",status:i}):void 0),[a,i]);return(0,k.jsx)(I,{title:l,header:c,primaryAction:g,secondaryActions:u,errorMessage:r,children:m})}var T=i(1799),B=i(74194);function P(e){let{isLoading:t,userStore:i,errorMessage:n,onVerifyCode:s,onTryAnotherMethod:r}=e;window.__c={n:"MFALoginPromptBackupCodeVerification"};const a=(0,M.yK)(N,[]),[d,l]=(0,o.useState)(""),c=(0,k.jsx)(Z,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeTitle",defaultMessage:"Verify your identity"})}),g=(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeHeader",defaultMessage:"Enter an unused one-time backup code."}),u={text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>s(d),disabled:t},m=[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:r}];return(0,k.jsx)(I,{title:c,header:g,primaryAction:u,secondaryActions:m,errorMessage:n,children:(0,k.jsx)("div",{style:a.body,children:(0,k.jsx)(B.Z,{value:d,spellCheck:!1,style:a.backupCodeInput,onChange:e=>l((0,T.K)(e.target.value)),placeholder:"1234-1234",disabled:t})})})}function N(e){return(0,M.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},backupCodeInput:{background:"light"===e.mode?v.O9.transparent:e.inputBackground,color:e.darkTextColor,height:44,fontSize:16}})}var R=i(71119),_=i(5474);function V(e){let{errorMessage:t,userStore:i,mfaSettings:s,onUseMethod:r,onCancelMfa:a}=e;window.__c={n:"MFALoginPromptMethodChooser"};const d=(0,M.yK)(E,[]),l=(0,n.Fy)(),g=(0,k.jsx)(Z,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.chooseMethodTitle",defaultMessage:"Verify your identity"})}),u=C()([!l.isMobileNative&&{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.anotherAccount",defaultMessage:"Log into another account"}),type:"button",view:"plain",onClick:a}]),m=(0,o.useMemo)((()=>(0,R.UG)(s).map((e=>{const{mfaMethod:t,mfaSettingId:i}=e;switch(t){case"totp":return(0,k.jsx)(_.Z,{type:"totp",isActive:!0,title:e.friendlyName,caption:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useAuthenticator.button.message",defaultMessage:"Use code from authenticator"}),onClick:()=>r("totp",i),style:d.button});case"sms":return(0,k.jsx)(_.Z,{type:"sms",isActive:!0,title:e.phoneNumber,caption:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.usePhoneNumber.button.message",defaultMessage:"Text me a code"}),onClick:()=>r("sms",i),style:d.button});case"backup_code":return(0,k.jsx)(_.Z,{type:"backup_code",isActive:!0,title:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.title",defaultMessage:"Use backup code"}),caption:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.message",defaultMessage:"Use a one-time backup code"}),onClick:()=>r("backup_code",i),style:d.button});default:(0,c.t1)(t)}}))),[d,s,r]);return(0,k.jsx)(I,{title:g,header:undefined,primaryAction:undefined,secondaryActions:u,errorMessage:t,children:(0,k.jsx)("div",{style:d.body,children:m})})}function E(e){return(0,M.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},button:{marginBottom:10}})}var W=i(72126),U=i(56839),D=i(73602),z=i(11898);function H(e){let{isLoading:t,userStore:i,phoneHint:n,resentAt:s,resentStatus:r,errorMessage:a,onVerifyCode:d,onResendLink:l,onTryAnotherMethod:c}=e;window.__c={n:"MFALoginPromptSMSVerification"};const g=(0,M.yK)(O,[]),[u,m]=(0,o.useState)([]),h=(0,k.jsx)(Z,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.verifyCodeTitle",defaultMessage:"Verify your identity"})}),p=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.verifyCodeHeader",defaultMessage:"Enter the code sent to {phoneHint}.",values:{phoneHint:n}})," ",(0,k.jsx)(D.y,{resentAt:s,resentStatus:r,onResendLink:l})]}),y={text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>d(u.join("")),disabled:t||"resending"===r||(0,W.oA)(u).length!==U.R$},x=[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:c}];return(0,k.jsx)(I,{title:h,header:p,primaryAction:y,secondaryActions:x,errorMessage:a,children:(0,k.jsx)("div",{style:g.body,children:(0,k.jsx)(z.ZP,{numInputs:U.R$,format:"login",disabled:t,value:u,onChange:m,autoFocus:!0,isValidKey:z.rN})})})}function O(e){return(0,M.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16}})}var K=i(18469);function G(e){let{isLoading:t,userStore:i,friendlyName:n,errorMessage:s,onVerifyCode:r,onTryAnotherMethod:a}=e;window.__c={n:"MFALoginPromptTOTPVerification"};const d=(0,M.yK)(X,[]),[l,c]=(0,o.useState)([]),g=(0,k.jsx)(Z,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.verifyCodeTitle",defaultMessage:"Verify your identity"})}),u=(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.verifyCodeHeader",defaultMessage:"Enter code from authenticator <boldtext>{friendlyName}</boldtext>.",values:{friendlyName:n,boldtext:e=>(0,k.jsx)("span",{style:d.boldText,children:e})}}),m={text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>r(l.join("")),disabled:t||(0,W.oA)(l).length!==K.R$},h=[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:a}];return(0,k.jsx)(I,{title:g,header:u,primaryAction:m,secondaryActions:h,errorMessage:s,children:(0,k.jsx)("div",{style:d.body,children:(0,k.jsx)(z.ZP,{numInputs:K.R$,format:"login",disabled:t,value:l,onChange:c,autoFocus:!0,isValidKey:z.rN})})})}function X(e){return(0,M.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},boldText:{fontWeight:y.Z.fontWeight.semibold}})}function $(e){window.__c={n:"MFALoginRouter"};const{loginStateMachine:t,userStore:i,onCancelMfa:s,onComplete:r}=e,{device:l}=(0,n.O7)(),g=t.useCurrentStep();return(0,k.jsx)(o.Fragment,{children:function(){switch(g.step){case"loginUninitialized":return;case"loginLoadSettings":return(0,k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:`calc(100vh - ${l.isMobile?d.Z.mobileHeaderHeight:d.Z.desktopHeaderHeight}px)`},children:(0,k.jsx)(a.Z,{})});case"loginChooseMethod":return(0,k.jsx)(V,{userStore:i,mfaSettings:g.settings,errorMessage:g.error,onUseMethod:(e,i)=>t.loginUseMethod({mfaSettingId:i}),onCancelMfa:s});case"loginTOTP":return(0,k.jsx)(G,{isLoading:g.isLoading,userStore:i,friendlyName:g.friendlyName,errorMessage:g.error,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"totp",mfaSettingId:g.mfaSettingId,code:e,onComplete:r}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginSMS":return(0,k.jsx)(H,{isLoading:g.isLoading,userStore:i,phoneHint:g.partialPhoneNumber,errorMessage:g.error,resentAt:g.resentAt,resentStatus:g.resentStatus,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"sms",mfaSettingId:g.mfaSettingId,code:e,onComplete:r}),onResendLink:()=>{t.loginResendSMS(g.mfaSettingId)},onTryAnotherMethod:()=>t.loginShowChoices()});case"loginBackupCode":return(0,k.jsx)(P,{isLoading:g.isLoading,userStore:i,errorMessage:g.error,onVerifyCode:e=>t.loginVerifyBackupCode({mfaSettingId:g.mfaSettingId,code:e,onComplete:r}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginAlertBackupCode":return(0,k.jsx)(F,{userStore:i,remainingCodes:g.remainingCodes,onComplete:r});case"loginComplete":return;default:return(0,c.t1)(g)}}()})}var Q=i(54642);class Y{constructor(e){this.environment=void 0,this.userId=void 0,this.environment=e.environment,this.userId=e.userId}async loadSettings(){const e=await Q.authGetLoginConfiguration(this.environment,{},this.userId);if("success"===e.type){const{data:t}=e;return"required"===t.samlSignIn?{settings:[]}:{settings:t.mfaOptions}}throw e.error}async sendSMS(e){const t=await Q.authSendSms(this.environment,{mfaSettingId:e},this.userId);if("success"!==t.type)throw t.error}async verifySMS(e,t){var i;const o=await Q.authVerifySmsLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===o.type)return{status:"match"};if("invalid_mfa_code"===(null===(i=o.body)||void 0===i||null===(i=i.clientData)||void 0===i?void 0:i.type))return{status:"incorrect"};throw o.error}async verifyTOTP(e,t){var i;const o=await Q.authVerifyTotpLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===o.type)return{status:"match"};if("invalid_mfa_code"===(null===(i=o.body)||void 0===i||null===(i=i.clientData)||void 0===i?void 0:i.type))return{status:"incorrect"};throw o.error}async verifyBackupCode(e){var t;const i=await Q.authVerifyBackupCodesLogin(this.environment,{code:e},this.userId);if("success"===i.type)return{status:"match",recovery:i.data.recovery,remainingCodes:i.data.remainingCodes};if("invalid_mfa_code"===(null===(t=i.body)||void 0===t||null===(t=t.clientData)||void 0===t?void 0:t.type))return{status:"incorrect"};throw i.error}}function q(e){window.__c={n:"MfaChallenge"};const{loginStore:t}=e,i=(0,n.O7)(),{device:l}=i,[c,g]=(0,o.useState)(void 0),{userId:u,userStore:p,previousPersistedUserId:f,redirectURL:y}=(0,s.VK)((()=>({userId:t.state.userStore.id,userStore:t.state.userStore,previousPersistedUserId:t.state.previousPersistedUserId,redirectURL:t.state.redirectURL})),[t]);(0,o.useEffect)((()=>{if(void 0===c){const e=new Y({environment:i,userId:u}),t=new m,o=new h(t,e);g(o),o.loginShowChoices()}}),[i,u,c]);const x=(0,o.useCallback)((async e=>{await r.Es({environment:i,redirectURL:y,userId:u,previousPersistedUserId:f,regenerateBackupCodes:e})}),[i,u,f,y]);return c?(0,k.jsx)($,{loginStateMachine:c,userStore:p,onCancelMfa:()=>r.X_(t),onComplete:x}):(0,k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:`calc(100vh - ${l.isMobile?d.Z.mobileHeaderHeight:d.Z.desktopHeaderHeight}px)`},children:(0,k.jsx)(a.Z,{})})}},9045:(e,t,i)=>{i.d(t,{Z:()=>s});i(67294);var o=i(5366),n=i(85893);function s(){return(0,n.jsx)(o.FormattedMessage,{id:"signupPage.title",defaultMessage:"Sign up"})}},5474:(e,t,i)=>{i.d(t,{Z:()=>m});var o=i(67294),n=i(24405),s=i(81864),r=i(96451),a=i(94900),d=i(82990),l=i(68785),c=i(63296),g=i(64369),u=i(85893);function m(e){window.__c={n:"MFAActionButton"};const{type:t,isActive:i,title:m,caption:h,onClick:p,isLoading:f,style:y,disabled:x}=e,[S,C]=(0,o.useState)(!1),M=(0,o.useCallback)((()=>C(!0)),[C]),v=(0,o.useCallback)((()=>C(!1)),[C]),b=(0,n.yK)((e=>({button:{width:"100%",justifyContent:"left",padding:"10px 16px",alignItems:"start",height:"auto",...y},buttonLoading:{width:"100%",height:59,...y},buttonInner:{minWidth:0},icon:{width:20,height:20,marginRight:10,fill:i||S&&!x?e.blueColor:e.regularIconColor},caption:{fontSize:d.Z.fontSize.UISmall.desktop,lineHeight:1.35,color:e.mediumTextColor,whiteSpace:"normal"}})),[i,S,x,y]),j=(0,o.useMemo)((()=>f?b.buttonLoading:b.button),[f,b.buttonLoading,b.button]),w={totp:(0,s.X)(b.icon),sms:(0,a.u)(b.icon),backup_code:(0,r.k)(b.icon)}[t];return(0,u.jsx)(c.Z,{style:j,onClick:p,onMouseEnter:M,onMouseLeave:v,hovered:S,disabled:x,disabledFeedback:x,children:f?(0,u.jsx)(l.Z,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:b.icon,children:w}),(0,u.jsxs)("div",{style:b.buttonInner,children:[(0,u.jsx)(g.Z,{children:m}),(0,u.jsx)("span",{style:b.caption,children:h})]})]})})}},457:(e,t,i)=>{i.d(t,{Z:()=>c});i(67294);var o=i(13991),n=i(24405),s=i(8848),r=i(1799),a=i(97880),d=i(82990),l=i(85893);function c(e){window.__c={n:"MFABackupCodes"};const{type:t}=e,i=(0,n.yK)((e=>({pane:{display:"flex",whiteSpace:"pre-line",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:s.FN.light.yellow[50],paddingTop:8,paddingBottom:8,marginBottom:10},textCode:{fontFamily:d.Z.getHeaderFontFamily({pageFont:"mono",locale:o.SP}),fontWeight:d.Z.fontWeight.regular,fontSize:d.Z.fontSize.UIRegular.desktop,font:d.Z.baseFontFamily.emailMono,color:s.FN.light.brown[500],textAlign:"center"},redactedBackupCode:{textDecoration:"line-through",opacity:.2}})),[]);return(0,l.jsx)("div",{style:i.pane,children:(0,l.jsx)("div",{style:i.textCode,children:"status"===t?e.status.map(((e,t)=>(0,l.jsx)("div",{style:e.hasBeenUsed?i.redactedBackupCode:{},children:r.A},t))):"unencryptedCodes"===t?e.backupCodes.map(r.K).join("\n"):(0,a.t1)(t)})})}},88175:(e,t,i)=>{i.d(t,{Z:()=>m});var o=i(67294),n=i(24405),s=i(8848),r=i(80721),a=i(64275),d=i(82990),l=i(42922),c=i(89728),g=i(46600),u=i(85893);function m(e){let{onDismiss:t,onBack:i,disableBackButton:s,primaryAction:d,secondaryActions:m,title:p,header:f,children:y,errorMessage:x,alertMessage:S,icon:C,containerStyles:M}=e;window.__c={n:"MFAPrompt"};const v=(0,n.yK)(h,[]),b=(0,o.useMemo)((()=>(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{style:i&&t?v.topIconRow:{...v.topIconRow,justifyContent:"flex-end"},children:[i?(0,u.jsx)(c.Z,{isSmall:!0,style:v.backButton,onClick:i,disabled:s,children:(0,r.W)(v.backIcon)}):null,t?(0,u.jsx)(c.Z,{isSmall:!0,style:v.dismissButton,hoveredStyle:v.dismissButtonHovered,onClick:t,children:(0,a.D)(v.dismissIcon)}):null]}),C?(0,u.jsx)("div",{style:v.titleIconRow,children:C}):null]})),[v,C,t,i,s]),j=(0,o.useMemo)((()=>d?(0,u.jsx)(l.Z,{style:v.primaryActionButton,isLarge:!0,onClick:d.onClick,disabled:d.disabled,isRed:d.isRed,children:d.text}):null),[d,v]),w=(0,o.useMemo)((()=>null==m?void 0:m.map(((e,t)=>(0,o.createElement)(g.Z,{...e,key:t})))),[m]),k=(0,o.useCallback)((e=>{e.preventDefault(),d&&!d.disabled&&d.onClick()}),[d]),L=x?(0,u.jsx)("div",{style:v.error,children:x}):void 0,I=S?(0,u.jsx)("div",{style:v.alert,children:S}):void 0;return(0,u.jsxs)("form",{style:{...v.container,...M},onSubmit:k,children:[b,(0,u.jsx)("h2",{style:v.title,children:p}),(0,u.jsx)("div",{style:v.header,children:f}),L,I,y,j,w,(0,u.jsx)("button",{style:v.hiddenButton})]})}function h(e){return(0,n.EM)({container:{position:"relative",width:280,padding:16},topIconRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:4,width:"100%"},titleIconRow:{display:"flex",justifyContent:"center",marginBottom:15},dismissButton:{marginTop:-5,marginRight:-5,borderRadius:"50%",width:18,height:18,background:"light"===e.mode?s.FN.light.gray[75]:s.FN.dark.gray[400],display:"flex",justifyContent:"center",alignItems:"center",padding:0},dismissButtonHovered:{background:"light"===e.mode?s.FN.light.gray[100]:s.FN.dark.gray[500]},backButton:{marginTop:-5,marginLeft:-5,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center"},title:{fontWeight:d.Z.fontWeight.medium,fontSize:d.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.regularTextColor,marginTop:0,marginBottom:4,paddingLeft:10,paddingRight:10,textAlign:"center"},error:{color:s.ZP.red,width:"100%",marginBottom:8,textAlign:"center",fontSize:d.Z.fontSize.UISmall.desktop},alert:{color:s.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:d.Z.fontSize.UISmall.desktop},header:{fontWeight:d.Z.fontWeight.regular,fontSize:d.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,textAlign:"center",marginBottom:16,lineHeight:1.35},primaryActionButton:{width:"100%",margin:"15px auto 0"},hiddenButton:{display:"none"},backIcon:{width:14,height:14,fill:e.mediumIconColor},dismissIcon:{width:12,height:12,fill:e.mediumIconColor}})}},56839:(e,t,i)=>{i.d(t,{R$:()=>h,ZP:()=>p});var o=i(67294),n=i(24405),s=i(72126),r=i(82990),a=i(5366),d=i(18514),l=i(68785),c=i(88175),g=i(73602),u=i(11898),m=i(85893);const h=6;function p(e){let{isLoading:t,phoneNumber:i,errorMessage:r,resentStatus:p,resentAt:y,onDismiss:x,onBack:S,onVerifyCode:C,onResendLink:M}=e;window.__c={n:"MFAPromptSMSVerification"};const v=(0,n.yK)(f,[]),[b,j]=(0,o.useState)([]),w=(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeTitle",defaultMessage:"Verify phone number"}),k=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeHeader.default",defaultMessage:"Enter the code sent to {phoneNumber} to complete setup.",values:{phoneNumber:i}})," ",(0,m.jsx)(g.y,{resentAt:y,resentStatus:p,onResendLink:M})]}),L={text:t?(0,m.jsx)(l.Z,{}):(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>C(b.join("")),disabled:t||"resending"===p||(0,s.oA)(b).length!==h},I=[{text:(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeNeedHelp",defaultMessage:"Need help?"}),href:(0,d.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return(0,m.jsx)(c.Z,{title:w,header:k,errorMessage:r,primaryAction:L,secondaryActions:I,onDismiss:x,onBack:S,disableBackButton:t,children:(0,m.jsx)("div",{style:v.body,children:(0,m.jsx)(u.ZP,{numInputs:h,format:"settings",disabled:!1,value:b,onChange:j,autoFocus:!0,isValidKey:u.rN})})})}function f(e){return(0,n.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:r.Z.fontWeight.medium,fontSize:r.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},46600:(e,t,i)=>{i.d(t,{Z:()=>u});var o=i(67294),n=i(24405),s=i(97880),r=i(82990),a=i(63296),d=i(85740),l=i(8848),c=i(85893);function g(e){let{onClick:t,disabled:i,view:o,icon:s,isRed:r,href:a,isExternal:d,saveAs:g,style:u,children:m}=e;window.__c={n:"MFAPromptLink"};const h=(0,n.yK)((e=>({link:{userSelect:"none",WebkitUserSelect:"none",transition:"background 20ms ease-in",cursor:i?void 0:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",textDecoration:"none",borderRadius:4,height:"outline"===o?32:28,paddingLeft:Boolean(s)?6:"outline"===o?12:8,paddingRight:12,fontSize:14,lineHeight:1.2,color:r?l.O9.red:e.regularTextColor,..."outline"===o?{border:`1px solid ${r?e.outlineRedButtonBorder:e.outlineButtonBorder}`}:{},...u}})),[o,r,s,u,i]);return(0,c.jsx)("a",{style:h.link,target:d?"_blank":void 0,href:a,download:g,onClick:t,rel:"noopener noreferrer",children:m})}function u(e){window.__c={n:"MFAPromptSecondaryAction"};const{type:t,view:i,text:l,disabled:u,isRed:m,icon:h}=e,p=(0,n.yK)((e=>(0,n.EM)({secondaryActionBase:{width:"100%",margin:"8px auto 0",justifyContent:"center"},secondaryActionPlainButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:r.Z.fontWeight.regular,fontSize:r.Z.fontSize.UIRegular.desktop,color:"button"===t?e.lightTextColor:e.regularTextColor},secondaryActionOutlineButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:r.Z.fontWeight.regular,fontSize:r.Z.fontSize.UIRegular.desktop,color:"link"===t&&"outline"!==i||"plain"===i?e.lightTextColor:e.regularTextColor},secondaryActionIcon:{width:12,height:12,marginRight:4}})),[t,i]),f=m?p.secondaryActionBase:p.secondaryActionOutlineButton,y=(0,c.jsxs)(o.Fragment,{children:[h?h(p.secondaryActionIcon):null,l]});if("button"===t){const t="outline"===i?a.Z:d.Z;return(0,c.jsx)(t,{onClick:e.onClick,style:f,isRed:m,disabled:u,children:y})}if("link"===t)return(0,c.jsx)(g,{onClick:e.onClick,view:i,isExternal:e.isExternal,icon:h,isRed:m,href:e.href,saveAs:e.saveAs,style:f,disabled:u,children:y});throw(0,s.t1)(t)}},18469:(e,t,i)=>{i.d(t,{R$:()=>m,ZP:()=>h});var o=i(67294),n=i(24405),s=i(72126),r=i(82990),a=i(5366),d=i(18514),l=i(68785),c=i(88175),g=i(11898),u=i(85893);const m=6;function h(e){let{isLoading:t,errorMessage:i,onDismiss:r,onBack:h,onVerifyCode:f}=e;window.__c={n:"MFAPromptTOTPVerification"};const y=(0,n.yK)(p,[]),[x,S]=(0,o.useState)([]),C=(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeTitle",defaultMessage:"Verify code"}),M=(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeHeader",defaultMessage:"Enter the one-time code from authenticator to complete setup."}),v={text:t?(0,u.jsx)(l.Z,{}):(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>f(x.join("")),disabled:t||(0,s.oA)(x).length!==m},b=[{text:(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.needHelp",defaultMessage:"Need help?"}),href:(0,d.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return(0,u.jsx)(c.Z,{title:C,header:M,errorMessage:i,primaryAction:v,secondaryActions:b,onDismiss:r,onBack:h,disableBackButton:t,children:(0,u.jsx)("div",{style:y.body,children:(0,u.jsx)(g.ZP,{numInputs:m,format:"settings",disabled:t,value:x,onChange:e=>{S(e)},autoFocus:!0,isValidKey:g.rN})})})}function p(e){return(0,n.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:r.Z.fontWeight.medium,fontSize:r.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},73602:(e,t,i)=>{i.d(t,{y:()=>p});var o=i(67294),n=i(24405),s=i(77058),r=i(97880),a=i(82990),d=i(63143),l=i(5366),c=i(68785),g=i(26388),u=i(42402),m=i(85893);const h=60*d.C0;function p(e){let{resentStatus:t,resentAt:i,onResendLink:a}=e;window.__c={n:"MFASMSVerificationResendText"};const d=(0,n.yK)(f,[]),[p,y]=(0,o.useState)((()=>Date.now()));(0,o.useEffect)((()=>{if(i+h>p){const e=setTimeout((()=>{y(Date.now())}),1e3);return()=>{clearTimeout(e)}}}),[i,y,p]);const x=Math.max(Math.floor((i+h-p)/1e3),0);if("not-resent"===t||"resent"===t&&0===x)return(0,m.jsx)(l.FormattedMessage,{id:"mfa.sms.resend.resend.link",defaultMessage:"<resend>Resend</resend>",values:{resend:e=>(0,m.jsx)(u.Z,{style:d.resendLink,disableUnderline:!0,onClick:a,children:e})}});if("resending"===t)return(0,m.jsx)(l.FormattedMessage,{id:"mfa.sms.resend.sending.label",defaultMessage:"<sending>Sending</sending>",values:{sending:e=>(0,m.jsxs)(m.Fragment,{children:[e,(0,m.jsx)(c.Z,{style:d.loading})]})}});if("resent"===t)return(0,m.jsx)(g.Z,{placement:g.Z.Placement.Bottom,renderTooltip:()=>(0,m.jsx)(l.FormattedMessage,{id:"mfa.sms.resend.resent.tooltip",defaultMessage:"You can send a code again in {resendTimeout} seconds",values:{resendTimeout:x}}),render:e=>(0,m.jsx)("span",{...e,style:d.resent,children:(0,m.jsx)(l.FormattedMessage,{id:"mfa.sms.resend.resent.message",defaultMessage:"<resent>Resent</resent>",values:{resent:e=>(0,m.jsxs)(m.Fragment,{children:[e,(0,s.$)(d.checkmark)]})}})})});throw(0,r.t1)(t)}function f(e){return(0,n.EM)({resendLink:{fontWeight:a.Z.fontWeight.medium,color:e.blueColor},checkmark:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2,color:"green"},resent:{userSelect:"none",WebkitUserSelect:"none"},loading:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2}})}},11898:(e,t,i)=>{i.d(t,{ZP:()=>m,rN:()=>u});var o=i(67294),n=i(480),s=i(24405),r=i(8848),a=i(72126),d=i(97880),l=i(71119),c=i(89224),g=i(85893);const u=e=>e>="0"&&e<="9";function m(e){let{numInputs:t,disabled:i,value:n,format:d,onChange:l,autoFocus:c,isValidKey:u}=e;window.__c={n:"MFAVerificationSingleInput"};const m=(0,s.yK)((e=>function(e,t){return(0,s.EM)({inputRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},cell:{display:"flex",alignItems:"center",justifyContent:"center",width:"login"===t?40:33,height:44,paddingLeft:0,paddingRight:0,fontSize:18,background:"light"===e.mode?r.ZP.transparent:e.inputBackground,lineHeight:"20px",borderRadius:4,boxShadow:e.inputBoxShadow},focusedCell:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},cellInput:{textAlign:"center",color:e.darkTextColor},hiddenInput:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",opacity:0}})}(e,d)),[d]),[p,f]=(0,o.useState)(void 0),y=(0,o.useMemo)((()=>(0,a.DZ)(t,(e=>{const i=void 0!==p&&(p.selectionStart<=e&&e<=p.selectionEnd||e===t-1&&p.selectionStart>=t),o={...m.cell,...i?m.focusedCell:{}};return(0,g.jsx)("div",{style:o,children:(0,g.jsx)("div",{style:m.cellInput,children:n[e]||""})})}))),[t,p,m,n]),x=(0,o.useMemo)((()=>(0,g.jsx)(h,{value:n,cursor:p,isValidCharacter:u,disabled:i,maxLength:{limit:t,method:"replaceLast"},onSetValue:l,onSetCursor:f,autoFocus:c,style:m.hiddenInput})),[t,u,l,f,c,m,n,p,i]);return(0,g.jsxs)("div",{style:{position:"relative"},children:[x,(0,g.jsx)("div",{style:m.inputRow,children:y})]})}function h(e){let{isValidCharacter:t,cursor:i,value:s,maxLength:r,onSetCursor:u,onSetValue:m,style:h,autoFocus:p,disabled:f}=e;window.__c={n:"FilteredInput"};const y=(0,o.useRef)(null),x=(0,n.Fy)();(0,o.useEffect)((()=>{const e=y.current;if(e){const{selectionStart:t,selectionEnd:o}=e;if(i&&i.selectionStart!==t&&i.selectionEnd!==o){const t=document.createRange();t.selectNode(e),c.set(t,x),e.setSelectionRange(i.selectionStart,i.selectionEnd)}}}),[y,i,s,x]);const S=(0,o.useCallback)(((e,i)=>{const o=i.filter(t);if(void 0===r)return o;if(o.length<=r.limit)return o;const n=e.slice(0,r.limit),s=o.slice(0,r.limit);if("truncate"!==r.method&&(0,a.Xy)(n,s)){if("replaceLast"===r.method){return[...o.slice(0,r.limit-1),...o.slice(-1)]}return(0,d.t1)(r.method)}return s}),[t,r]),C=(0,o.useCallback)((e=>{const{selectionStart:t,selectionEnd:i}=e.target;null!==t&&null!==i&&u({selectionStart:t,selectionEnd:i})}),[u]),M=(0,o.useCallback)((e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||C(e)}),[C]),v=(0,o.useCallback)((e=>{const{selectionStart:t,selectionEnd:i}=e.target,o=Array.from(e.target.value),n=S(s,o);if(null!==t&&null!==i){const e=Math.min(o.length,(null==r?void 0:r.limit)??1/0)-n.length;u({selectionStart:t-e,selectionEnd:i-e})}else u(void 0);m(n)}),[u,m,s,S,r]),b=(0,o.useCallback)((e=>{const t=e.clipboardData;if(t&&t.getData){const i=t.getData("text"),o=Array.from(i),n=S([],o);u({selectionStart:n.length,selectionEnd:n.length}),m(n),e.preventDefault()}}),[S,m,u]);return(0,g.jsx)("input",{onChange:v,onBlur:()=>{u(void 0)},onFocus:C,onPaste:b,disabled:f,autoFocus:p,type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyUp:M,ref:y,value:s.join(""),style:h,...l.pf})}},49682:(e,t,i)=>{i.d(t,{Q3:()=>d,Qj:()=>r,to:()=>a});i(67294);var o=i(97880),n=i(5366),s=i(85893);const r={unexpectedError:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.unexpectedError",defaultMessage:"Something went wrong, please try again."}),smsIncorrectCode:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.incorrectSMSCode",defaultMessage:"The code didnâ€™t work, try typing it again or resend code."}),smsInvalidCountryCode:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.smsInvalidCountryCode",defaultMessage:"The country code is not valid."}),smsInvalidPhoneCode:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.smsInvalidPhoneNumber",defaultMessage:"The phone number is not valid."}),smsEmptyPhoneNumber:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.smsEmptyPhoneNumber",defaultMessage:"Phone number cannot be empty."}),smsAlreadyVerifiedPhoneNumber:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.smsAlreadyVerifedPhoneNumber",defaultMessage:"This phone number has already been verified."}),smsUnsupportedPhoneNumber:e=>(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.unsupportedPhoneNumber",defaultMessage:"SMS authentication is currently not available in {countryName}. You may consider using an authenticator app as an alternative authentication method.",values:{countryName:e}}),totpIncorrectCode:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.incorrectTOTPCode",defaultMessage:"The code didnâ€™t work, try typing it again."}),totpEmptyFriendlyName:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.totpEmptyFriendlyName",defaultMessage:"Authenticator name cannot be empty."}),totpDuplicateFriendlyName:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.totpDuplicateFriendlyName",defaultMessage:"Authenticator name is already in use."}),totpBadFriendlyName:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.totpBadFriendlyName",defaultMessage:"Authenticator name cannot be used."}),backupCodeIncorrectCode:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.incorrectBackupCode",defaultMessage:"The backup code didnâ€™t work, try typing it again or use a different one."}),incorrectPassword:(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.error.incorrectPassword",defaultMessage:"Incorrect password."})},a={passwordResentLinkSent:e=>(0,s.jsx)(n.FormattedMessage,{id:"general.mfa.passwordResentLinkSent",defaultMessage:"A password reset link has been sent to {email}.",values:{email:e}})};function d(e){switch(e){case"totp":return r.totpIncorrectCode;case"sms":return r.smsIncorrectCode;case"backup_code":return r.backupCodeIncorrectCode;default:throw(0,o.t1)(e)}}},16010:(e,t,i)=>{i.d(t,{o:()=>l});var o=i(86628),n=i(68626),s=i(91155),r=i(33954),a=i(33929),d=i(49682);class l{constructor(e,t){this.debugName=void 0,this.store=void 0,this.handleUnexpectedError=e=>{const t={...this.store.getState()};if("object"==typeof e&&null!==e){const i=e,{body:o,error:l,data:c}=i;let g;if(o)g=o;else if(c){g=c.responseBody}if(g){if("object"==typeof g&&null!==g){const e=g,{clientData:i}=e;if(i){const e=i,o=(0,r.mH)(e);if(o){const e=a.default.getIntl();this.store.setState({...t,error:e.formatMessage(o)})}}}}else n.log({level:"error",from:this.debugName,type:"handleUnexpectedError",error:(0,s.Ui)(l)}),this.store.setState({...t,error:d.Qj.unexpectedError})}else this.store.setState({...t,error:d.Qj.unexpectedError})},this.store=e,this.debugName=t}getState(){return this.store.getState()}getCurrentStep(){return this.store.getState()}useCurrentStep(){const[e]=(0,o.AF)(this.store);return e}async withStep(e,t){const i=this.store.getState();if(!(Array.isArray(e)?e.includes(i.step):i.step===e))return;const o=await t(i),n=this.store.getState();return n.step===i.step?{result:o,state:n}:void 0}checkStep(e){const t=this.store.getState();if(Array.isArray(e)?e.includes(t.step):t.step===e)return t}}},34700:(e,t,i)=>{function o(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}i.d(t,{X:()=>o})},71119:(e,t,i)=>{i.d(t,{UG:()=>l,cR:()=>c,pf:()=>d,pu:()=>g});var o=i(97880),n=i(5366),s=i(54642),r=i(33929);const a=(0,n.defineMessages)({sms:{id:"mfaMethod.sms",defaultMessage:"SMS"},totp:{id:"mfaMethod.totp",defaultMessage:"Authenticator"},backupCode:{id:"mfaMethod.backupCode",defaultMessage:"Backup code"}}),d={"data-1p-ignore":"true","data-lpignore":"true"};function l(e){const t=["totp","sms","backup_code"];return e.sort(((e,i)=>{const o=t.indexOf(e.mfaMethod),n=t.indexOf(i.mfaMethod);return o===n?e.createdAt-i.createdAt:o-n}))}function c(e){switch(e){case"sms":return r.default.formatMessage(a.sms);case"totp":return r.default.formatMessage(a.totp);case"backup_code":return r.default.formatMessage(a.backupCode);default:(0,o.t1)(e)}}async function g(e){const t=await s.authGetLoginConfiguration(e,{});if("success"===t.type){const e=t.data,i="required"!==e.samlSignIn&&e.hasAccount&&e.passwordSignIn,o="required"===e.samlSignIn,n="required"!==e.samlSignIn&&e.hasAccount&&e.mfaOptions.length>0,s=i&&!o?n?"on":"off":"disabled",r=e.mfaOptions.find((e=>"backup_code"===e.mfaMethod));return{hasPassword:i,canConfigurePassword:!o,isSamlEnforced:o,mfaStatus:s,numMfaSettings:e.mfaOptions.length,regenerateBackupCodes:void 0===r&&"on"===s}}throw t.error}},83941:(e,t,i)=>{i.d(t,{V:()=>n,a:()=>s});var o=i(77080);function n(){return o.default.getEligibleGroup({experimentId:"template_duplication_topbar",defaultGroup:"control"})}function s(){return"on"===o.default.getEligibleGroup({experimentId:"log_in_from_template_duplication",defaultGroup:"control"})}},80721:(e,t,i)=>{i.d(t,{W:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},81864:(e,t,i)=>{i.d(t,{X:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("authenticatorCode",{viewBox:"0 0 18 15",svg:(0,n.jsx)("path",{d:"M8.65979 0.00292969C5.26917 0.00292969 2.39807 2.45703 1.74182 5.67676H0.777954C0.244751 5.67676 0.108032 6.07324 0.401978 6.47656L2.05627 8.77344C2.2887 9.09473 2.64417 9.08789 2.86975 8.77344L4.52405 6.46973C4.81116 6.08008 4.67444 5.67676 4.14807 5.67676H3.17053C3.77893 3.20898 5.99377 1.39746 8.65979 1.39746C10.4987 1.4043 12.1051 2.25879 13.1373 3.6123C13.4108 3.93359 13.8073 4.03613 14.1422 3.79688C14.4567 3.57812 14.5114 3.13379 14.2174 2.77148C12.9528 1.12402 10.8815 0.00292969 8.65979 0.00292969ZM8.40686 3.09961C8.07874 3.09961 7.81213 3.36621 7.81213 3.69434V7.41309C7.81213 7.57031 7.86682 7.7207 7.98303 7.87793L9.61682 10.0312C9.86292 10.3525 10.2115 10.4072 10.5055 10.1953C10.7858 10.0039 10.8063 9.6416 10.5944 9.34766L9.00159 7.20801V3.69434C9.00159 3.36621 8.73499 3.09961 8.40686 3.09961ZM8.65979 14.126C12.0573 14.126 14.9283 11.6719 15.5778 8.45898H16.5416C17.0817 8.45898 17.2115 8.05566 16.9244 7.65234L15.2633 5.35547C15.0377 5.04102 14.6823 5.04102 14.4567 5.35547L12.8024 7.65918C12.5153 8.04883 12.652 8.45898 13.1783 8.45898H14.1627C13.5475 10.9199 11.3258 12.7383 8.65979 12.7383C6.82776 12.7314 5.22131 11.8701 4.18909 10.5166C3.91565 10.1953 3.51917 10.0928 3.1842 10.332C2.86975 10.5576 2.80823 10.9951 3.10901 11.3574C4.37366 13.0117 6.44495 14.126 8.65979 14.126Z"})})},39186:(e,t,i)=>{i.d(t,{G:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("backward",{viewBox:"0 0 24 24",svg:(0,n.jsx)("polygon",{points:"23,11 4.801,11 11.4,4.4 10,3 1,12 10,21 11.4,19.6 4.801,13 23,13 "})})},77058:(e,t,i)=>{i.d(t,{$:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("checkmark",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},64275:(e,t,i)=>{i.d(t,{D:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("closeSmall",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},96451:(e,t,i)=>{i.d(t,{k:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("collectionNumberType",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M1.73457,9.90096 L1.73457,4.54339 L1.65064,4.54339 L0,5.68112 L0,4.37087 L1.73923,3.17252 L3.14274,3.17252 L3.14274,9.90096 L1.73457,9.90096 Z M3.59633,5.22882 C3.59633,3.90925 4.62215,3 6.0956,3 C7.52242,3 8.43633,3.82532 8.43633,4.96304 C8.43633,5.75106 8.09128,6.29195 6.97221,7.34108 L5.57337,8.64667 L5.57337,8.7306 L8.52959,8.7306 L8.52959,9.90096 L3.6756,9.90096 L3.6756,8.91711 L6.03498,6.66031 C6.87429,5.85364 7.05614,5.5459 7.05614,5.0936 C7.05614,4.55738 6.67379,4.13306 6.01633,4.13306 C5.3309,4.13306 4.90192,4.58536 4.90192,5.22882 L3.59633,5.22882 Z M10.4889,6.96805 L10.4889,5.93757 L11.3282,5.93757 C11.967,5.93757 12.4007,5.55988 12.4007,5.00967 C12.4007,4.50609 12.0043,4.12374 11.3469,4.12374 C10.6661,4.12374 10.2464,4.47345 10.1998,5.07495 L8.89888,5.07495 C8.94551,3.83464 9.90139,3 11.4168,3 C12.9089,3 13.7389,3.82532 13.7342,4.80917 C13.7296,5.62516 13.2166,6.16139 12.4939,6.33857 L12.4939,6.42717 C13.4311,6.56239 14,7.15923 14,8.05915 C14,9.23884 12.8903,10.0735 11.3702,10.0735 C9.8501,10.0735 8.81495,9.24351 8.75434,7.97056 L10.1019,7.97056 C10.1439,8.53942 10.6288,8.90312 11.3515,8.90312 C12.0649,8.90312 12.5639,8.51611 12.5639,7.93326 C12.5639,7.33642 12.0976,6.96805 11.3422,6.96805 L10.4889,6.96805 Z"})})},22686:(e,t,i)=>{i.d(t,{f:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("person",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,i)=>{i.d(t,{X:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,n.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,n.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},94900:(e,t,i)=>{i.d(t,{u:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("textMessage",{viewBox:"0 0 16 14",svg:(0,n.jsx)("path",{d:"M4.97217 13.4883C5.32764 13.4883 5.59424 13.3169 6.02588 12.936L8.20312 11.0063H12.0435C13.9541 11.0063 15.0269 9.91455 15.0269 8.0293V3.10352C15.0269 1.21826 13.9541 0.126465 12.0435 0.126465H3.9502C2.03955 0.126465 0.966797 1.21826 0.966797 3.10352V8.0293C0.966797 9.91455 2.06494 11.0063 3.90576 11.0063H4.16602V12.5742C4.16602 13.1392 4.46436 13.4883 4.97217 13.4883ZM5.2832 12.0918V10.2827C5.2832 9.9082 5.12451 9.76221 4.7627 9.76221H3.98193C2.78223 9.76221 2.21094 9.15918 2.21094 7.99121V3.1416C2.21094 1.97363 2.78223 1.37061 3.98193 1.37061H12.0054C13.2051 1.37061 13.7827 1.97363 13.7827 3.1416V7.99121C13.7827 9.15918 13.2051 9.76221 12.0054 9.76221H8.1333C7.75244 9.76221 7.56201 9.82568 7.29541 10.105L5.2832 12.0918ZM6.47656 7.04541C7.94922 8.51807 9.81543 9.45117 10.9199 8.34668C10.9644 8.30225 10.9961 8.26416 11.0342 8.21973C11.3071 7.896 11.396 7.47705 11.0215 7.19775C10.7168 6.97559 10.4058 6.75342 9.91064 6.41064C9.52979 6.15039 9.29492 6.22021 9.01562 6.49316L8.76807 6.74072C8.69189 6.81055 8.57129 6.8042 8.48877 6.75342C8.2666 6.62012 7.89844 6.32178 7.54297 5.97266C7.2002 5.62988 6.88916 5.24268 6.76855 5.0332C6.72412 4.96338 6.69238 4.84912 6.78125 4.7666L7.02246 4.50635C7.30811 4.20801 7.37158 3.98584 7.10498 3.61133L6.33057 2.51318C6.07031 2.14502 5.68945 2.2085 5.25781 2.52588C5.22607 2.55127 5.20068 2.57666 5.17529 2.5957C4.06445 3.70654 5.00391 5.57275 6.47656 7.04541Z"})})},1799:(e,t,i)=>{i.d(t,{A:()=>o,K:()=>n});const o="XXXX-XXXX";function n(e){return e.replace(/[^a-z0-9A-Z]/g,"").replace(/^(.{4})/,"$1-")}}}]);