"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5308],{67706:(e,t,i)=>{i.d(t,{Z:()=>l});i(67294);var n=i(24405),o=i(82990),a=i(53437),r=i(26388),s=i(85893);function l(e){let{text:t,tooltipText:i,icon:l}=e;window.__c={n:"InlineTextWithIconTooltip"};const c=(0,n.yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.lightBoxShadow},container:{display:"flex",alignItems:"center",fontWeight:o.Z.fontWeight.regular,color:e.mediumTextColor,fontSize:o.Z.fontSize.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,s.jsx)(r.Z,{style:c.tooltip,render:e=>(0,s.jsx)("div",{style:c.text,...e,children:t}),renderTooltip:()=>(0,s.jsxs)("div",{style:c.container,children:[l(c.icon),(0,s.jsx)("div",{children:i})]}),alignment:a.ZP.Alignment.Start,placement:a.ZP.Placement.Bottom})}},22649:(e,t,i)=>{i.d(t,{OD:()=>l,TL:()=>g,_W:()=>d,b9:()=>h,c3:()=>c,e9:()=>r,lS:()=>a,nP:()=>s});var n=i(82990);const o={userSelect:"text",WebkitUserSelect:"text"},a={padding:1,...o},r={display:"inline-flex",marginRight:2,verticalAlign:"text-top"},s={fontWeight:n.Z.fontWeight.semibold};function l(e){return{padding:0,paddingLeft:c(e),paddingRight:16,paddingBottom:3,...o}}function c(e){const{source:t,isMobile:i}=e;return"notifications_tab"===t?52+(i?3:2):52}function d(e){return{height:26,paddingLeft:8,paddingRight:8,color:e.mediumTextColor}}function g(e){return{display:"inline",whiteSpace:"normal",marginRight:e?3:0,wordBreak:"break-word",...s}}function h(e){return{boxShadow:e.plainButtonBoxShadow,height:26,paddingLeft:8,paddingRight:8,fontWeight:500,color:e.regularTextColor}}},30573:(e,t,i)=>{i.d(t,{N:()=>P,Z:()=>U});var n=i(67294),o=i(480),a=i(86628),r=i(24405),s=i(52867),l=i(90334),c=i(5686),d=i(8843),g=i(70753),h=i(61248),u=i(55061),f=i(21202),m=i(82990),p=i(5366),x=i(62967),C=i(19719),b=i(17659),v=i(39699),y=i(12534),M=i(87279),Z=i(98742),w=i(24764),S=i(57538),k=i(77080),I=i(35661),T=i(48019),A=i(31945),L=i(73063),R=i(78140),j=i(72495),_=i(26388),B=i(64369),V=i(85893);const P=64,F=(0,p.defineMessages)({changePageNotificationSettings:{defaultMessage:"Change page notification settings",id:"inboxActionsMenu.notificationSettings.tooltipMessage"}});function O(e){window.__c={n:"InboxActionsMenu"};const{notification:t,rootStore:i,onArchiveClicked:P,onMarkAsReadClicked:O,onMarkAsUnreadClicked:U,useInboxRedesign:W}=e,D=(0,o.O7)(),K=(0,o.Fy)(),N=(0,p.useIntl)(),H=(0,a.VK)((()=>!!t&&(0,u.$2)(t.type)),[t]),z=(0,a.VK)((()=>{const e=null==t?void 0:t.navigable_block_id;if(e)return I.G.createChildStore(i,{table:f.iU,id:e})}),[i,t]),G=(0,a.VK)((()=>null==z?void 0:z.getFollowSettingsKey()),[z]),J=(0,a.VK)((()=>{if(!G)return[];if(!z)return[];const e="inbox";return k.default.checkGate("property_updates_notifications")?w.CA({followSettingsKey:G,environment:D,blockStore:z,from:e}):w.Zk({followSettingsKey:G,environment:D,blockStore:z,from:e})}),[G,D,z]),$=(0,a.VK)((()=>H&&J.length>0),[H,J]),E=(0,n.useCallback)((e=>{t&&(0,y.ZP)({event:e,context:y.Af.NotificationClick,callback:()=>{P(),v.createAndCommit({userAction:"InboxActionsMenu.handleArchive",environment:D,perform:e=>{b.aZ({notification:t,rootStore:i,transaction:e})}})}})}),[D,t,P,i]),Q=(0,n.useCallback)((e=>{t&&(0,y.ZP)({event:e,context:y.Af.NotificationClick,callback:()=>{t.read?U():O(),v.createAndCommit({userAction:"InboxActionsMenu.toggleNotificationReadStatus",environment:D,perform:e=>{b.$h({notification:t,rootStore:i,transaction:e,read:!t.read})}})}})}),[D,t,O,U,i]),q=(0,n.useCallback)((()=>{G&&z&&t&&C.Z8({environment:D,notificationId:t.id,pageId:z.pointer.id,isCurrentlyFollowing:(0,S.Z)(G).following,from:"inbox"})}),[D,z,G,t]),X=(0,r.yK)((e=>({container:{...W?{display:"flex",height:"min-content",borderWidth:1,borderStyle:"solid",borderColor:e.stroke.regular,background:e.buttonGroupBackground,borderRadius:6,padding:2}:{display:"flex",height:"min-content",background:e.buttonGroupBackground,boxShadow:e.lightBoxShadow,borderRadius:4,padding:2}},button:{...W&&{height:K.isMobile?30:26,width:K.isMobile?30:26}},inboxIconBase:{fill:e.icon.secondary,stroke:e.icon.secondary,strokeOpacity:1,strokeWidth:.25},iconStyle:{fill:e.mediumIconColor,padding:2},readIcon:{width:K.isMobile?21:19,height:K.isMobile?22:20},archiveIcon:{width:K.isMobile?24:23,height:K.isMobile?24:23},ellipsisIcon:{width:K.isMobile?24:23,height:K.isMobile?24:23},headerLabel:{paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:m.Z.fontWeight.semibold}})),[K,W]);return t?(0,V.jsxs)("div",{style:X.container,children:[(0,V.jsx)(_.Z,{renderTooltip:()=>t.read?(0,V.jsx)(p.FormattedMessage,{defaultMessage:"Mark this notification as unread",id:"inboxActionsMenu.markNotificationAsUnread.tooltipMessage"}):(0,V.jsx)(p.FormattedMessage,{defaultMessage:"Mark this notification as read",id:"inboxActionsMenu.markNotificationAsRead.tooltipMessage"}),render:e=>(0,V.jsx)(L.Z,{style:X.button,icon:W?t.read?d.h:c.J:t.read?h.F:g.F,iconStyle:{...X.iconStyle,...X.readIcon,...W&&{...t.read?{height:17,width:17}:{height:16,width:16},...X.inboxIconBase}},onClick:Q,...e})}),(0,V.jsx)(_.Z,{renderTooltip:()=>(0,V.jsx)(p.FormattedMessage,{defaultMessage:"Archive this notification",id:"inboxActionsMenu.handleArchive.tooltipMessage"}),render:e=>(0,V.jsx)(L.Z,{style:X.button,icon:s.H,iconStyle:{...X.iconStyle,...X.archiveIcon,...W&&{height:18,width:18,...X.inboxIconBase}},onClick:E,...e})}),$&&(0,V.jsx)(_.Z,{renderTooltip:()=>(0,V.jsx)(p.FormattedMessage,{...F.changePageNotificationSettings}),render:e=>(0,V.jsx)(A.ZP,{popupType:K.isMobile?A.Z4.SlideUp:A.Z4.Popup,alignmentToOrigin:A.vR.Start,placementToOrigin:A.pO.Bottom,render:e=>(0,V.jsx)(R.Z,{menuType:M.og.Popup,minWidth:290,maxHeight:"50vh",maxWidth:K.isMobile?"100vw":void 0,header:(0,V.jsx)(B.Z,{style:X.headerLabel,isSmall:!0,isSecondaryColor:!0,children:(0,V.jsx)(p.FormattedMessage,{id:"UpdateSidebarTabUpdatesHeader.pageNotificationSettings.label",defaultMessage:"Page notification settings"})}),children:(0,V.jsx)(T.Z,{context:{blocks:[],environment:D,publicEditMode:void 0},sections:[(0,x.$J)({key:"in-app-notifications-section",render:e=>(0,V.jsx)(j.Z,{...e}),actions:J.map((e=>e.action))})],initialFocus:void 0,onAccept:()=>e.close()})}),renderOrigin:t=>(0,V.jsx)(L.Z,{ariaLabel:N.formatMessage(F.changePageNotificationSettings),style:X.button,icon:l.O,iconStyle:{...X.iconStyle,...X.archiveIcon,...W&&{height:18,width:18,...X.inboxIconBase}},...e,...(0,Z.Z)(t,{onClick:()=>q()})})})})]}):null}const U=n.memo(O)},57538:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(57883),o=i(97880);function a(e){switch(e){case"all":return{following:!0,followSettings:(0,n.yI)({explicitly_set_by_user:!0})};case"important":return{following:!0,followSettings:(0,n.GC)({explicitly_set_by_user:!0})};case"comments":return{following:!0,followSettings:(0,n.r$)({explicitly_set_by_user:!0})};case"none":return{following:!1,followSettings:(0,n.vU)({explicitly_set_by_user:!0})};default:(0,o.t1)(e)}}},5686:(e,t,i)=>{i.d(t,{J:()=>a});i(67294);var n=i(45238),o=i(85893);const a=(0,n.I)("mailOpen",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.88965 15.9277C2.17415 15.9277 1.63639 15.75 1.27637 15.3945C0.920898 15.0436 0.743164 14.515 0.743164 13.8086V7.00684C0.743164 6.76074 0.756836 6.54427 0.78418 6.35742C0.816081 6.17057 0.863932 6.00423 0.927734 5.8584C0.996094 5.71257 1.08496 5.57812 1.19434 5.45508C1.30371 5.32747 1.43815 5.19987 1.59766 5.07227L6.88184 0.916016C7.12793 0.715495 7.36035 0.558268 7.5791 0.444336C7.80241 0.325846 8.03939 0.266602 8.29004 0.266602C8.54069 0.266602 8.77539 0.325846 8.99414 0.444336C9.21745 0.558268 9.45215 0.715495 9.69824 0.916016L14.9824 5.07227C15.1419 5.19987 15.2764 5.32747 15.3857 5.45508C15.4951 5.57812 15.5817 5.71257 15.6455 5.8584C15.7139 6.00423 15.7617 6.17057 15.7891 6.35742C15.821 6.54427 15.8369 6.76074 15.8369 7.00684V13.8086C15.8369 14.515 15.6569 15.0436 15.2969 15.3945C14.9414 15.75 14.4059 15.9277 13.6904 15.9277H2.88965ZM2.84863 14.8818H13.7314C14.0687 14.8818 14.3285 14.7907 14.5107 14.6084C14.6976 14.4307 14.791 14.1641 14.791 13.8086V6.82227C14.791 6.6582 14.7751 6.51921 14.7432 6.40527C14.7113 6.29134 14.6611 6.19108 14.5928 6.10449C14.529 6.01335 14.4424 5.92448 14.333 5.83789L9.11035 1.76367C8.94173 1.63607 8.80046 1.53809 8.68652 1.46973C8.57259 1.39681 8.44043 1.36035 8.29004 1.36035C8.13965 1.36035 8.00749 1.39681 7.89355 1.46973C7.77962 1.53809 7.63835 1.63607 7.46973 1.76367L2.24707 5.83789C2.1377 5.92448 2.04883 6.01335 1.98047 6.10449C1.91667 6.19108 1.86882 6.29134 1.83691 6.40527C1.80501 6.51921 1.78906 6.6582 1.78906 6.82227V13.8086C1.78906 14.1641 1.88021 14.4307 2.0625 14.6084C2.24479 14.7907 2.50684 14.8818 2.84863 14.8818ZM1.51562 14.6357L6.88184 9.37207C7.11882 9.13509 7.35352 8.96419 7.58594 8.85938C7.82292 8.75456 8.06217 8.70215 8.30371 8.70215C8.54525 8.70215 8.78223 8.75456 9.01465 8.85938C9.24707 8.96419 9.48405 9.13509 9.72559 9.37207L15.085 14.6357L14.374 15.3467L9.13086 10.1787C8.98047 10.0283 8.83691 9.92122 8.7002 9.85742C8.56803 9.78906 8.43587 9.75488 8.30371 9.75488C8.16699 9.75488 8.03027 9.78906 7.89355 9.85742C7.76139 9.92122 7.6224 10.0283 7.47656 10.1787L2.2334 15.3467L1.51562 14.6357ZM5.81543 10.6094L1.5498 6.3916L2.26074 5.68066L6.5332 9.90527L5.81543 10.6094ZM10.0742 9.90527L14.3398 5.68066L15.0508 6.3916L10.7852 10.6094L10.0742 9.90527Z"})})},70753:(e,t,i)=>{i.d(t,{F:()=>a});i(67294);var n=i(45238),o=i(85893);const a=(0,n.I)("notificationRead",{viewBox:"0 0 18 18",svg:(0,o.jsx)("path",{d:"M3.066 17.998h11.846c2.05 0 3.066-1.016 3.066-3.027V3.047c0-2.012-1.015-3.027-3.066-3.027H3.066C1.026.02 0 1.025 0 3.047V14.97c0 2.021 1.025 3.027 3.066 3.027Zm.02-1.572c-.977 0-1.514-.518-1.514-1.533V3.125c0-1.016.537-1.533 1.514-1.533h11.807c.966 0 1.513.517 1.513 1.533v11.768c0 1.015-.547 1.533-1.513 1.533Zm4.844-2.793c.322 0 .595-.156.79-.46l4.464-7.02c.117-.196.234-.41.234-.626 0-.44-.39-.722-.791-.722-.254 0-.498.156-.684.44l-4.052 6.503-1.924-2.49c-.235-.313-.45-.39-.713-.39a.759.759 0 0 0-.762.77c0 .216.088.42.225.606l2.383 2.93c.244.322.507.459.83.459Z"})})},61248:(e,t,i)=>{i.d(t,{F:()=>a});i(67294);var n=i(45238),o=i(85893);const a=(0,n.I)("notificationUnread",{viewBox:"0 0 20 21.5",svg:(0,o.jsx)("path",{d:"M0 14.521c0 1.67.146 3.057 1.143 4.053.996.996 2.402 1.153 4.062 1.153h7.588c1.67 0 3.076-.157 4.072-1.153s1.143-2.383 1.143-4.053v-6.65c-.43.147-.899.225-1.387.205-.068.02-.117.02-.185.03v6.68c0 1.015-.127 2.05-.723 2.646-.586.586-1.64.722-2.647.722H4.941c-1.005 0-2.06-.136-2.656-.722-.586-.596-.713-1.631-.713-2.647V6.768c0-1.026.127-2.08.713-2.666.596-.596 1.66-.723 2.686-.723h6.738c0-.068.01-.127.02-.186-.02-.488.058-.957.205-1.386H5.186c-1.641 0-3.047.156-4.043 1.152C.146 3.955 0 5.352 0 6.982Zm16.426-7.744c1.846 0 3.379-1.533 3.379-3.388C19.805 1.533 18.27 0 16.425 0a3.403 3.403 0 0 0-3.388 3.389 3.403 3.403 0 0 0 3.389 3.388Z"})})},8504:(e,t,i)=>{i.d(t,{J:()=>a});i(67294);var n=i(45238),o=i(85893);const a=(0,n.I)("versionHistoryThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0 7C0 3.136 3.129 0 6.993 0C10.864 0 14 3.136 14 7C14 10.864 10.864 14 6.993 14C3.129 14 0 10.864 0 7ZM1.4 7C1.4 10.094 3.906 12.6 7 12.6C10.094 12.6 12.6 10.094 12.6 7C12.6 3.906 10.094 1.4 7 1.4C3.906 1.4 1.4 3.906 1.4 7ZM6.3 3.5H7.35V7.175L10.5 9.044L9.975 9.905L6.3 7.7V3.5Z"})})},70693:(e,t,i)=>{i.d(t,{mb:()=>s,nK:()=>l,pe:()=>c});var n=i(40506),o=i(7057),a=i(53877),r=i(42875);function s(e){const{dateTime:t,intl:i,shortenDateAndRange:n}=e,r=a.OQ.toPersistedDate(t.valueOf());return o.ZV({value:r,allowRelativeDates:!0,intl:i,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:i,userTimeZone:n,displayInUserTimezone:r,alwaysIncludeTimezone:s}=e,l=a.OQ.toPersistedDateTime(t.valueOf(),t.zoneName);return o.ZV({value:l,allowRelativeDates:!0,intl:i,userTimeZone:n,displayInUserTimezone:r,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:i}=e,s=a.OQ.toPersistedDateRange(t),l=o.ZV({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:i,displayInUserTimezone:!0}),c=t.end.setZone((0,r.r)()),d=o.mr({start_time:c.toFormat(n.jK),humanReadable:!1,intl:i});return i.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}}}]);