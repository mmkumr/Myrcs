"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6212],{27784:(t,e,i)=>{i.r(e),i.d(e,{BlockSkillButton:()=>S});var l=i(67294),n=i(480),o=i(97511),s=i(86628),a=i(24405),r=i(42875),c=i(20669),u=i(5366),d=i(56844),k=i(45317),f=i(19124),g=i(51214),m=i(23063),b=i(91839),h=i(89728),p=i(26388),y=i(85893);function S(t){window.__c={n:"BlockSkillButton"};const{blockStore:e}=t,i=(0,n.O7)(),S=(0,u.useIntl)(),x=(0,o.l)(),w=(0,s.VK)((()=>{const t=x&&x.publicEditModeStore.state;return(0,f.GD)(t)}),[x]),A=(0,s.VK)((()=>g.Z.isGeneratingFor(e.pointer)),[e]),M=(0,s.VK)((()=>g.Z.state.isGenerating),[]),j=(0,s.VK)((()=>(0,k.lJ)(e)),[e]),B=(0,s.VK)((()=>e.isSkillBlock()),[e]),Z=(0,s.VK)((()=>{var t;return null===(t=e.getModel())||void 0===t?void 0:t.getRenderTitle({getRecordModel:e.getRecordModel,userTimeZone:(0,r.r)(),intl:S})}),[e,S]),[I,v]=(0,l.useState)(!1),C=(0,l.useRef)(null);(0,l.useEffect)((()=>{v(!0),C.current&&clearTimeout(C.current),C.current=setTimeout((()=>{v(!1)}),1e3)}),[Z]);const F=(0,l.useCallback)((async()=>{await d.fillInAiSection({environment:i,blockStore:e})}),[i,e]),K=function(t){const{isGenerating:e}=t;return(0,a.yK)((t=>({container:{display:"flex"},button:{marginTop:3,fill:e?t.lightIconColor:t.aiPurpleColor,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:28,height:28}})),[e])}({isGenerating:A});return B?(0,y.jsx)(m.Z,{isVisible:!I,enterAnimationStyle:{opacity:0},animationStyle:{opacity:I?0:1},exitAnimationStyle:{opacity:0},render:()=>(0,y.jsx)("div",{style:K.container,children:(0,y.jsx)(p.Z,{placement:p.Z.Placement.Bottom,alignment:p.Z.Alignment.Start,renderTooltip:()=>w?Z?(0,y.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltipWithTitle",defaultMessage:"Fill {title} with AI",values:{title:Z}}):(0,y.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltip",defaultMessage:"Fill with AI"}):(0,y.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltipDisabled",defaultMessage:"Enable Notion AI to fill with AI"}),render:t=>(0,y.jsx)(h.Z,{...t,style:K.button,disabled:!j||M||!w,disabledFeedback:!j||M||!w,onClick:async()=>{await F()},children:A?(0,y.jsx)(b.Z,{}):(0,c.y)({width:16})})})})}):null}}}]);