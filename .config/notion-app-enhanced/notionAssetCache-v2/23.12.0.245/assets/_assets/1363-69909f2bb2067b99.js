"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1363],{41363:(e,t,a)=>{a.d(t,{BC:()=>We,Bj:()=>$e,Dw:()=>je,GZ:()=>Te,IK:()=>_e,MR:()=>Qe,OH:()=>at,Qi:()=>Tt,TH:()=>ze,YZ:()=>Xe,_p:()=>it,cO:()=>Ke,fK:()=>Ye,mS:()=>Ge,q6:()=>nt,yN:()=>Re});a(30541),a(67294);var o=a(41432),n=a(17397),i=a(6695),s=a(9999),r=a(82477),l=a(70622),c=a(53376),d=a(40745),m=a(75553),u=a(64330),g=a(94491),f=a(40462),p=a(82356),M=a(27714),y=a(90199),v=a(62208),S=a(21158),k=a(54855),N=a(84199),C=a(35582),b=a(70663),P=a(18442),w=a(91427),h=a(60291),L=a(82825),I=a(37888),x=a(15157),A=a(72126),F=a(89101),V=a(5366),T=a(54642),_=a(51365),D=a(14871),j=a(42274),R=a(54281),z=a(45264),H=a(31781),Z=a(96802),q=a(96313),B=a(65770),O=a(27153),J=a(72711),E=a(9953),U=a(42858),G=a(24677),K=a(39699),X=a(68422),$=a(61202),W=a(78030),Y=a(93405),Q=a(52275),ee=a(72495),te=a(69872),ae=a(72187),oe=a(19037),ne=a(28020),ie=a(52821),se=a(78316),re=a(33929),le=a(77907),ce=a(74948),de=a(41662),me=a(83960),ue=a(80444),ge=a(21797),fe=a(69815),pe=a(8416),Me=a(82763),ye=a(35067),ve=a(29768),Se=a(62967),ke=a(89666),Ne=a(42784),Ce=a(71247),be=a(34658),Pe=a(6471),we=a(41670),he=a(11732),Le=a(85893);const Ie=(0,V.defineMessages)({fixLegacyTransclusion:{id:"action.fixLegacyTransclusion.name",defaultMessage:"Fix legacy transclusion"},newPageInName:{id:"action.newPageIn.name",defaultMessage:"Turn into page in"},insertBelowName:{id:"action.insertBelow.name",defaultMessage:"Insert below"},copyPublicApiObject:{id:"action.copyPublicApiObject",defaultMessage:"Copy API object (Dev)"},copyDirectLinkName:{id:"action.copyDirectLink.name",defaultMessage:"Copy link to original"},openasPageName:{id:"action.openasPage.name",defaultMessage:"Open as page"},copyLinksName:{id:"action.copyLinks.name",defaultMessage:"Copy links to all"},viewOriginalName:{id:"action.viewOriginal.name",defaultMessage:"View original"},downloadName:{id:"action.download.name",defaultMessage:"Download"},replaceName:{id:"action.replace.name",defaultMessage:"Replace"},turnSimpleTableIntoCollection:{id:"action.turnIntoCollection.title",defaultMessage:"Turn into database"},renameName:{id:"action.rename.name",defaultMessage:"Rename"},editPropertyName:{id:"action.editProperty.name",defaultMessage:"Edit property"},clearDateName:{id:"action.clearDate.name",defaultMessage:"Clear date"},turnintoInlineName:{id:"action.turnintoInline.name",defaultMessage:"Turn into inline"},turnintoPageName:{id:"action.turnintoPage.name",defaultMessage:"Turn into page"},turnCollectionIntoSimpleTable:{id:"action.turnintoSimpleTable.name",defaultMessage:"Turn into simple table"},mergewithCSVName:{id:"action.mergewithCSV.name",defaultMessage:"Merge with CSV"},mergewithCSVCaption:{id:"action.mergewithCSV.caption",defaultMessage:"Header row required"},lockDatabaseName:{id:"action.lockDatabaseName.name",defaultMessage:"Lock database"},unlockDatabaseName:{id:"action.unlockDatabaseName.name",defaultMessage:"Unlock database"},lockDatabaseViewsName:{id:"action.lockDatabaseViewsName.name",defaultMessage:"Lock views"},unlockDatabaseViewsName:{id:"action.unlockDatabaseViews.name",defaultMessage:"Unlock views"},lockWikiName:{id:"action.lockWikiName.name",defaultMessage:"Lock wiki"},reloadPreview:{id:"action.reloadPreview",defaultMessage:"Reload preview"},unlockWikiName:{id:"action.unlockWikiName.name",defaultMessage:"Unlock wiki"},turnPreviewIntoMention:{id:"action.turnPreviewIntoMention",defaultMessage:"Turn into mention"},reloadSyncedPage:{id:"action.reloadSyncedPage",defaultMessage:"Sync page"},addtoFavoritesName:{id:"action.addtoFavorites.name",defaultMessage:"Add to Favorites"},configureName:{id:"action.configure.name",defaultMessage:"Configure"},editIconName:{id:"action.editIcon.name",defaultMessage:"Icons"},wrapCodeKeywords:{id:"action.wrapCode.fuzzySearchKeywords",defaultMessage:"Wrap Code"},wrapCodeLabel:{id:"action.wrapCode.label",defaultMessage:"Wrap code"},languageModeName:{id:"action.languageMode.name",defaultMessage:"Set language"},formatCodeLabel:{id:"action.formatCode.label",defaultMessage:"Format code"},workAtNotion:{id:"action.workAtNotion.name",defaultMessage:"Work at Notion"},quoteSizeSection:{id:"action.section.quoteSize",defaultMessage:"Quote size"},quoteSizeDefault:{id:"action.quoteSize.default",defaultMessage:"Default"},quoteSize:{id:"action.quoteSize.name",defaultMessage:"Quote size"},quoteSizeLarge:{id:"action.quoteSize.large",defaultMessage:"Large"},listFormatDefault:{id:"action.listFormat.letters.default",defaultMessage:"Default"},listFormatSection:{id:"action.listFormat.sectionName",defaultMessage:"List format"},listFormat:{id:"action.listFormat.name",defaultMessage:"List format"},listFormatNumbers:{id:"action.listFormat.numbers.name",defaultMessage:"Numbers"},listFormatLetters:{id:"action.listFormat.letters.name",defaultMessage:"Letters"},listFormatRoman:{id:"action.listFormat.letters.roman",defaultMessage:"Roman numerals"},listFormatDisc:{id:"action.listFormat.disc.name",defaultMessage:"Disc"},listFormatCircle:{id:"action.listFormat.circle.name",defaultMessage:"Circle"},listFormatSquare:{id:"action.listFormat.square.name",defaultMessage:"Square"},alignmentName:{id:"action.alignment.name",defaultMessage:"Align"}}),xe=(0,Se.cN)({key:"fixLegacyTransclusion",displayName:Ie.fixLegacyTransclusion,analyticsName:Ie.fixLegacyTransclusion.defaultMessage,svg:h.b,validators:[oe.sz,oe.U7,...ve.Ay.validators||[]],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;B.YJ({environment:a,store:t[0]})}}),Ae=(0,Se.MV)({key:"turn into section",displayName:Se.RE.turnIntoName,analyticsName:Se.RE.turnIntoName.defaultMessage,svg:v.z,validators:[oe.J5,oe.ff(oe.fI),oe.wF,oe.XQ,oe.IZ],subActions:()=>[{key:0,title:void 0,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:he.g.actions}]}),Fe=(0,Se.cN)({key:"new page in section",displayName:Ie.newPageInName,analyticsName:Ie.newPageInName.defaultMessage,closeParentMenu:!0,svg:k.a,validators:[oe.J5,oe.ff(oe.fI),oe.ff(oe.P9("page")),oe.XQ,oe.wF],render:(e,t,a)=>{const{onFocus:o,onAccept:n}=a;return(0,Le.jsx)(le.LazyNewPageInMenu,{...e,title:Ie.newPageInName,blocksToTransform:t.blocks,onFocus:o,onAccept:n?()=>n(Fe,t,void 0):void 0})},action:()=>{}}),Ve=(0,Se.cN)({key:"insert below",displayName:Ie.insertBelowName,analyticsName:Ie.insertBelowName.defaultMessage,svg:d.M,validators:[oe.J5,oe.Eo,oe.tq],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;K.createAndCommit({userAction:"actionRegistry.insertBelow",environment:a,perform:e=>{U.ZJ({environment:a,blocks:t,transaction:e})}})}}),Te=(0,Se.cN)({key:"copy public API object",displayName:Ie.copyPublicApiObject,analyticsName:Ie.copyPublicApiObject.defaultMessage,validators:[oe.U7,oe.QL("public_api_dev_mode")],closeParentMenu:!1,svg:m.U,action:async e=>{let{environment:t,blocks:a}=e;const o=await T.getPublicApiObject(t,{id:a[0].id});let n;n="success"===o.type?JSON.stringify(o.data,void 0,2):JSON.stringify(o.error,void 0,2),D.RD({environment:t,stringValue:n,copiedMessage:D.tq.copiedApiObjectToClipboard})}}),_e=(0,Se.cN)({key:"copy direct link to content housed within block",displayName:Ie.copyDirectLinkName,analyticsName:Ie.copyDirectLinkName.defaultMessage,svg:f.o,validators:[oe.jl,oe.U7,oe.ff(oe.KJ),oe.ff(oe.Fx),oe.or([oe.Cj,oe.$H,oe.P9(o.Ti.bookmark),oe.P9(o.Ti.externalObjectInstance),oe.P9(o.Ti.externalObjectInstancePage),oe.K5,oe.p5])],closeParentMenu:!0,action:(e,t)=>{D.IK({...e,event:t})}}),De=(0,Se.cN)({key:"open collection as page",displayName:Ie.openasPageName,analyticsName:Ie.openasPageName.defaultMessage,svg:S.h,validators:[oe.vj,oe.ff(oe.O4),oe.ff(oe.LH)],closeParentMenu:!0,action:e=>U.YP(e)}),je=(0,Se.cN)({key:"copy links to blocks",displayName:Ie.copyLinksName,analyticsName:Ie.copyLinksName.defaultMessage,svg:M.N,validators:[oe.jl,oe.EC],closeParentMenu:!0,action:(e,t)=>{D.Dw({...e,event:t})}}),Re=(0,Se.cN)({key:"view original",displayName:Ie.viewOriginalName,analyticsName:Ie.viewOriginalName.defaultMessage,svg:s.J,validators:[oe.U7,oe.or([oe.Cj,oe.xD([oe.$H,oe.ff(oe.KJ)])])],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;H.qL(a,{store:t[0],from:"view_original"})}}),ze=(0,Se.cN)({key:"download source",displayName:Ie.downloadName,analyticsName:Ie.downloadName.defaultMessage,svg:u.a,validators:[oe.U7,oe.or([oe.$H,oe.Cj]),oe.or([oe.VB,oe.KJ]),oe.ff(oe.Fx)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;H.TH({environment:a,store:t[0]})}}),He=(0,Se.cN)({key:"replace source",displayName:Ie.replaceName,analyticsName:Ie.replaceName.defaultMessage,svg:b.h,validators:[oe.J5,oe.U7,oe.or([oe.$H,oe.Cj])],closeParentMenu:!0,action:e=>{let{blocks:t}=e;H.x1({store:t[0]})}}),Ze=(0,Se.cN)({key:"turn into collection",displayName:Ie.turnSimpleTableIntoCollection,analyticsName:Ie.turnSimpleTableIntoCollection.defaultMessage,svg:v.z,validators:[oe.J5,oe.ff(oe.b4),oe._n,oe.XQ,oe.ff(oe.US)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;return K.createAndCommit({userAction:"actionRegistry.turnSimpleTableIntoCollection",environment:a,perform:e=>{de.HM.turnIntoCollection({simpleTableStore:t[0],transaction:e}),G.ZH(a),de.HM.clearSelection()}})}}),qe=[oe.J5,oe.ff(oe.p1),oe.AK,oe.ff(oe.YG)];const Be=(0,Se.MV)({key:"edit property",displayName:Ie.editPropertyName,analyticsName:Ie.editPropertyName.defaultMessage,svg:N.N,validators:qe,subActions:e=>{let{blocks:t}=e;const a=t[0];if(!a)return[];const o=a.getAssociatedCollectionStore();if(o){const e=o.getSchema(),a=o.getFormat(),n=i.iB(a,e,void 0,i.j5.Collection);if(n.collection_page_properties){n.collection_page_properties.unshift({property:"title"});return[{key:0,title:void 0,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:A.oA(n.collection_page_properties.map((a=>{const o=e[a.property];if(o&&(0,ie.Sb)({propertySchema:o,property:a.property,blockStores:t,collectionSchema:e}))return function(e){const{property:t,propertySchema:a}=e,o=a.name;return{key:`Edit Property ${o} ${t}`,displayName:o,analyticsName:"Edit property",searchName:o,validators:qe,closeParentMenu:!0,action:(e,o)=>{let{blocks:n,originRect:i,environment:s}=e;"checkbox"===a.type?K.createAndCommit({userAction:"actionRegistry.createEditPropertyAction",environment:s,perform:e=>{_.vO({stores:n,property:t,transaction:e})}}):i&&_.bA({environment:s,store:n[0],additionalStores:n.slice(1),property:t,format:W.C.Page,rect:{...A.Go(i),width:200},preventClearSelection:!0,blockPropertyValueOverlayStore:ne._H(),collectionContextStore:(0,se.fm)(n[0])})},render:e=>(0,Le.jsx)(te.Z,{...e,propertySchema:a,format:te.Z.DisplayFormat.Name})}}({property:a.property,propertySchema:o})})))}]}}return[]}}),Oe=(0,Se.cN)({key:"clear date",displayName:Ie.clearDateName,analyticsName:Ie.clearDateName.defaultMessage,svg:L.S,validators:[oe.J5,oe.ff(oe.fI),oe.or([oe.j2("timeline"),oe.j2("calendar")])],closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;const o=(0,se.fm)(a[0]);if(!o)return;const n=null==o?void 0:o.collectionViewStore();if(!n)return;const i=o.normalizedSchemaStore.state;K.createAndCommit({userAction:"actionRegistry.clearDate",environment:t,perform:e=>{R.k2({stores:a,collectionViewStore:n,schema:i,transaction:e})}})}}),Je=(0,Se.cN)({key:"view collection view inline",displayName:Ie.turnintoInlineName,analyticsName:Ie.turnintoInlineName.defaultMessage,svg:v.z,validators:[oe.Mg,oe.ff(oe.O4),oe.k5,oe.ff(oe.b4),oe.ff(oe.f7),oe.IZ],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;return K.createAndCommit({userAction:"actionRegistry.viewCollectionViewInline",environment:a,perform:e=>{X.Cj({environment:a,blocks:t,blockType:"collection_view",transaction:e}),G.ZH(a)}})}}),Ee=(0,Se.cN)({key:"view collection view as page",displayName:Ie.turnintoPageName,analyticsName:Ie.turnintoPageName.defaultMessage,svg:v.z,validators:[oe.vj,oe.ff(oe.O4),oe.k5,oe.ff(oe.b4),oe.ff(oe.fI),oe.ff(oe.K5)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;return K.createAndCommit({userAction:"actionRegistry.turnCollectionViewIntoCollectionViewPage",environment:a,perform:e=>{X.Cj({environment:a,blocks:t,blockType:"collection_view_page",transaction:e})}})}}),Ue=(0,Se.cN)({key:"turn into simple table",displayName:Ie.turnCollectionIntoSimpleTable,analyticsName:Ie.turnCollectionIntoSimpleTable.defaultMessage,svg:v.z,validators:[oe.vj,oe.dM("table"),oe.ff(oe.O4),oe.k5,oe.ff(oe.b4),oe.TK,oe.iJ,oe.ff(oe.K5)],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:a}=e;const o=t[0],n=await de.g$.getPagesInCollectionForSimpleTableTransform({environment:a,collectionViewBlockStore:o});K.createAndCommit({userAction:"actionRegistry.turnCollectionIntoSimpleTable",environment:a,perform:e=>{de.HM.turnIntoSimpleTable({environment:a,collectionViewBlockStore:o,pageStores:n,transaction:e}),G.ZH(a),de.HM.clearSelection()}})}}),Ge=(0,Se.cN)({key:"merge with csv",displayName:Ie.mergewithCSVName,analyticsName:Ie.mergewithCSVName.defaultMessage,validators:[oe.YG,oe.k5,oe.Gg,oe.YZ,oe.ff(oe.fI),oe.ff(oe.JF),oe.ff(oe.K5)],closeParentMenu:!0,render:e=>(0,Le.jsx)(Y.Z,{...e,svg:p.l,title:(0,Le.jsx)(V.FormattedMessage,{...Ie.mergewithCSVName}),caption:(0,Le.jsx)(V.FormattedMessage,{...Ie.mergewithCSVCaption})}),action:e=>{let{blocks:[t],environment:a}=e;z.mS({environment:a,store:t})}}),Ke=(0,Se.cN)({key:"database lock",displayName:Ie.lockDatabaseName,analyticsName:Ie.lockDatabaseName.defaultMessage,svg:y.b,validators:[oe.YG,oe.pl,oe.ff(oe.f7),oe.k5,oe.ff(oe.p1)],closeParentMenu:!1,action:e=>{let{blocks:t,environment:a}=e;const o=t[0];J.bo({environment:a,store:o,lock:!0})}}),Xe=(0,Se.cN)({key:"database unlock",displayName:Ie.unlockDatabaseName,analyticsName:Ie.unlockDatabaseName.defaultMessage,svg:I.U,validators:[oe.YG,oe.pl,oe.ff(oe.f7),oe.k5,oe.p1],closeParentMenu:!1,action:e=>{let{blocks:t,environment:a}=e;const o=t[0];J.bo({environment:a,store:o,lock:!1})}}),$e=(0,Se.cN)({key:"database views lock",displayName:Ie.lockDatabaseViewsName,analyticsName:Ie.lockDatabaseViewsName.defaultMessage,svg:y.b,validators:[oe.YG,oe.ff(oe.pl),oe.k5,oe.ff(oe.p1)],closeParentMenu:!1,action:(e,t)=>{let{blocks:a,environment:o}=e;const n=a[0];J.bo({environment:o,store:n,lock:!0})}}),We=(0,Se.cN)({key:"database views unlock",displayName:Ie.unlockDatabaseViewsName,analyticsName:Ie.unlockDatabaseViewsName.defaultMessage,svg:I.U,validators:[oe.YG,oe.ff(oe.pl),oe.k5,oe.p1],closeParentMenu:!1,action:(e,t)=>{let{blocks:a,environment:o}=e;const n=a[0];J.bo({environment:o,store:n,lock:!1})}}),Ye=(0,Se.cN)({key:"wiki lock",displayName:Ie.lockWikiName,analyticsName:Ie.lockWikiName.defaultMessage,svg:y.b,validators:[oe.YG,oe.pl,oe.f7,oe.k5,oe.ff(oe.p1)],closeParentMenu:!1,action:e=>{let{blocks:t,environment:a}=e;const o=t[0];J.bo({environment:a,store:o,lock:!0})}}),Qe=(0,Se.cN)({key:"wiki unlock",displayName:Ie.unlockWikiName,analyticsName:Ie.unlockWikiName.defaultMessage,svg:I.U,validators:[oe.YG,oe.pl,oe.f7,oe.k5,oe.p1],closeParentMenu:!1,action:e=>{let{blocks:t,environment:a}=e;const o=t[0];J.bo({environment:a,store:o,lock:!1})}}),et=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[oe.J5,oe.ff(oe.fI),oe.ff(oe.nJ),oe.U7,e?oe.or([oe.ro("external_object_instance"),oe.p5]):oe.ro("external_object_instance"),oe.ff(oe.HB)]},tt=(0,Se.cN)({key:"reload link preview",displayName:Ie.reloadPreview,analyticsName:Ie.reloadPreview.defaultMessage,svg:h.b,validators:et(!1),closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;if(0===a.length)return;const o=a[0];o.isExternalObjectInstanceBlockStore()&&$.qK({environment:t,from:"page_more_menu",store:o,spaceId:o.getSpaceId()})}}),at=(0,Se.cN)({key:"turn preview into mention",displayName:Ie.turnPreviewIntoMention,analyticsName:Ie.turnPreviewIntoMention.defaultMessage,svg:v.z,validators:et(!0),closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;0!==a.length&&K.createAndCommit({userAction:"actionRegistry.turnPreviewIntoMention",environment:t,perform:e=>{a[0].isType("alias")?q.az({block:a[0],transaction:e}):$.sz({environment:t,block:a[0],transaction:e})}})}}),ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,Se.cN)({key:"add to favorites",displayName:Ie.addtoFavoritesName,analyticsName:Ie.addtoFavoritesName.defaultMessage,svg:w.e,validators:[...e,oe.jl,oe.DF,oe.U7,oe.ff(oe.UI),oe.ff(oe.xD([oe.uq,oe.cW]))],closeParentMenu:!0,action:e=>{let{blocks:t,environment:a}=e;const{currentSpaceViewStore:o}=ue.default.state;if(o){const e=t[0];K.createAndCommit({userAction:"actionRegistry.addToFavorites",environment:a,perform:t=>{ce.bookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}}})},nt=ot([oe.tq]),it=ot(),st=(0,Se.cN)({key:"reload synced page",displayName:Ie.reloadSyncedPage,analyticsName:Ie.reloadSyncedPage.defaultMessage,svg:h.b,validators:[oe.J5,oe.ff(oe.fI),oe.ff(oe.nJ),oe.U7,oe.ro("external_object_instance_page")],closeParentMenu:!0,action:e=>{let{environment:t,blocks:a}=e;if(0===a.length)return;const o=a[0];o.isExternalObjectInstancePageBlockStore()&&$.qK({environment:t,from:"page_more_menu",store:o,spaceId:o.getSpaceId(),bypassCache:!0})}}),rt=(0,Se.cN)({key:"configure",displayName:Ie.configureName,analyticsName:Ie.configureName.defaultMessage,svg:P.H,validators:[oe.J5,oe.U7,oe.zX],closeParentMenu:!0,action:e=>U.jQ(e)}),lt=(0,Se.cN)({key:"edit icon",displayName:Ie.editIconName,analyticsName:Ie.editIconName.defaultMessage,svg:g.h,validators:[oe.J5,oe.ff(oe.fI),oe.lr],closeParentMenu:!0,action:e=>{let{environment:t,originRect:a,blocks:o}=e;const n=(e,a)=>{o.forEach((a=>{const o=a.getIconStore();o&&K.createAndCommit({userAction:"actionRegistry.editIcon",environment:t,perform:t=>{E.sO({store:o,value:e,transaction:t})}})})),a&&a.keepVisible||O.Z()},i=o.find((e=>e.hasIcon())),s=o.every((e=>e.isType("callout"))),r=[{type:"emoji",title:(0,Le.jsx)(V.FormattedMessage,{defaultMessage:"Emojis",id:"recordIcon.emojiTab.title"}),onChange:n},{type:"icon",title:(0,Le.jsx)("div",{style:{display:"flex",gap:4},children:(0,Le.jsx)(V.FormattedMessage,{defaultMessage:"Icons",id:"recordIcon.iconTab.title"})}),onChange:n}];O.$(t,{recordIconLoggingData:{source:"bulk_block_selection"},originGap:4,originRect:a,popupWidth:ae.FZ,popupHeight:ae.kX,isSmallWidth:!1,title:re.default.getIntl().formatMessage({defaultMessage:"Page icon",id:"recordIcon.emojiModalMenu.title"}),onDelete:i?()=>{o.forEach((e=>{const a=e.getIconStore();a&&K.createAndCommit({userAction:"actionRegistry.editIcon",environment:t,perform:e=>{E.sO({store:a,value:void 0,transaction:e})}})})),O.Z()}:void 0,currentTab:"emoji",isCallout:s,tabs:r,disableClearSelection:!0})}}),ct=(0,Se.wL)({key:"code wrap",displayName:Ie.wrapCodeKeywords,label:re.default.formatMessage(Ie.wrapCodeLabel),property:"code_wrap",validators:[oe.U7,oe.P9("code")],afterAction:(e,t)=>{x.Z.set({userId:t.currentUser.id,key:me.T.localCodeWrapPreferenceKey,value:e})}}),dt=(0,V.defineMessages)({ABAP:{id:"action.languageMode.abap",defaultMessage:"ABAP"},Agda:{id:"action.languageMode.agda",defaultMessage:"Agda"},Arduino:{id:"action.languageMode.arduino",defaultMessage:"Arduino"},Assembly:{id:"action.languageMode.nasm",defaultMessage:"Assembly"},Bash:{id:"action.languageMode.bash",defaultMessage:"Bash"},BASIC:{id:"action.languageMode.basic",defaultMessage:"Basic"},BNF:{id:"action.languageMode.bnf",defaultMessage:"BNF"},C:{id:"action.languageMode.c",defaultMessage:"C"},"C#":{id:"action.languageMode.csharp",defaultMessage:"C#"},"C++":{id:"action.languageMode.cplusplus",defaultMessage:"C++"},Clojure:{id:"action.languageMode.clojure",defaultMessage:"Clojure"},CoffeeScript:{id:"action.languageMode.coffeescript",defaultMessage:"CoffeeScript"},Coq:{id:"action.languageMode.coq",defaultMessage:"Coq"},CSS:{id:"action.languageMode.css",defaultMessage:"CSS"},Dart:{id:"action.languageMode.dart",defaultMessage:"Dart"},Dhall:{id:"action.languageMode.dhall",defaultMessage:"Dhall"},Diff:{id:"action.languageMode.diff",defaultMessage:"Diff"},Docker:{id:"action.languageMode.docker",defaultMessage:"Docker"},EBNF:{id:"action.languageMode.ebnf",defaultMessage:"EBNF"},Elixir:{id:"action.languageMode.elixir",defaultMessage:"Elixir"},Elm:{id:"action.languageMode.elm",defaultMessage:"Elm"},Erlang:{id:"action.languageMode.erlang",defaultMessage:"Erlang"},"F#":{id:"action.languageMode.fsharp",defaultMessage:"F#"},Flow:{id:"action.languageMode.flow",defaultMessage:"Flow"},Fortran:{id:"action.languageMode.fortran",defaultMessage:"Fortran"},Gherkin:{id:"action.languageMode.gherkin",defaultMessage:"Gherkin"},GLSL:{id:"action.languageMode.glsl",defaultMessage:"GLSL"},Go:{id:"action.languageMode.go",defaultMessage:"Go"},GraphQL:{id:"action.languageMode.graphql",defaultMessage:"Graphql"},Groovy:{id:"action.languageMode.groovy",defaultMessage:"Groovy"},Haskell:{id:"action.languageMode.haskell",defaultMessage:"Haskell"},HTML:{id:"action.languageMode.html",defaultMessage:"HTML"},Idris:{id:"action.languageMode.idris",defaultMessage:"Idris"},Java:{id:"action.languageMode.java",defaultMessage:"Java"},JavaScript:{id:"action.languageMode.javascript",defaultMessage:"JavaScript"},JSON:{id:"action.languageMode.json",defaultMessage:"JSON"},Julia:{id:"action.languageMode.julia",defaultMessage:"Julia"},Kotlin:{id:"action.languageMode.kotlin",defaultMessage:"Kotlin"},LaTeX:{id:"action.languageMode.latex",defaultMessage:"LaTeX"},Less:{id:"action.languageMode.less",defaultMessage:"LESS"},Lisp:{id:"action.languageMode.lisp",defaultMessage:"Lisp"},LiveScript:{id:"action.languageMode.livescript",defaultMessage:"LiveScript"},"LLVM IR":{id:"action.languageMode.llvm",defaultMessage:"LLVM IR"},Lua:{id:"action.languageMode.lua",defaultMessage:"Lua"},Makefile:{id:"action.languageMode.makefile",defaultMessage:"Makefile"},Markdown:{id:"action.languageMode.markdown",defaultMessage:"Markdown"},Markup:{id:"action.languageMode.markup",defaultMessage:"Markup"},MATLAB:{id:"action.languageMode.matlab",defaultMessage:"MATLAB"},Mathematica:{id:"action.languageMode.mathematica",defaultMessage:"Mathematica"},Mermaid:{id:"action.languageMode.mermaid",defaultMessage:"Mermaid"},Nix:{id:"action.languageMode.nix",defaultMessage:"Nix"},"Notion Formula":{id:"action.languageMode.notionFormula",defaultMessage:"Notion Formula"},"Objective-C":{id:"action.languageMode.objectiveC",defaultMessage:"Objective-C"},OCaml:{id:"action.languageMode.ocaml",defaultMessage:"OCaml"},Pascal:{id:"action.languageMode.pascal",defaultMessage:"Pascal"},Perl:{id:"action.languageMode.perl",defaultMessage:"Perl"},PHP:{id:"action.languageMode.php",defaultMessage:"PHP"},"Plain Text":{id:"action.languageMode.plaintext",defaultMessage:"Plain Text"},PowerShell:{id:"action.languageMode.powershell",defaultMessage:"Powershell"},Prolog:{id:"action.languageMode.prolog",defaultMessage:"Prolog"},Protobuf:{id:"action.languageMode.protobuf",defaultMessage:"Protobuf"},PureScript:{id:"action.languageMode.purescript",defaultMessage:"PureScript"},Python:{id:"action.languageMode.python",defaultMessage:"Python"},R:{id:"action.languageMode.r",defaultMessage:"R"},Racket:{id:"action.languageMode.racket",defaultMessage:"Racket"},Reason:{id:"action.languageMode.reason",defaultMessage:"Reason"},Ruby:{id:"action.languageMode.ruby",defaultMessage:"Ruby"},Rust:{id:"action.languageMode.rust",defaultMessage:"Rust"},Sass:{id:"action.languageMode.sass",defaultMessage:"Sass"},Scala:{id:"action.languageMode.scala",defaultMessage:"Scala"},Scheme:{id:"action.languageMode.scheme",defaultMessage:"Scheme"},Scss:{id:"action.languageMode.scss",defaultMessage:"SCSS"},Shell:{id:"action.languageMode.shell",defaultMessage:"Shell"},Solidity:{id:"action.languageMode.solidity",defaultMessage:"Solidity"},SQL:{id:"action.languageMode.sql",defaultMessage:"SQL"},Swift:{id:"action.languageMode.swift",defaultMessage:"Swift"},TOML:{id:"action.languageMode.toml",defaultMessage:"TOML"},TypeScript:{id:"action.languageMode.typescript",defaultMessage:"TypeScript"},"VB.Net":{id:"action.languageMode.vbdotnet",defaultMessage:"VB.Net"},Verilog:{id:"action.languageMode.verilog",defaultMessage:"Verilog"},VHDL:{id:"action.languageMode.vhdl",defaultMessage:"VHDL"},"Visual Basic":{id:"action.languageMode.visualbasic",defaultMessage:"Visual Basic"},WebAssembly:{id:"action.languageMode.webassembly",defaultMessage:"WebAssembly"},XML:{id:"action.languageMode.xml",defaultMessage:"XML"},YAML:{id:"action.languageMode.yaml",defaultMessage:"YAML"},"Java/C/C++/C#":{id:"action.languageMode.cstyle",defaultMessage:"Java/C/C++/C#"}}),mt=[oe.J5,oe.ff(oe.fI),oe.Eo,oe.ro("code"),oe.ff(oe.O4)],ut=(0,Se.$J)({key:"code block languageMode actions",title:Ie.languageModeName,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:n.X0.map((e=>(0,Se.cN)({key:`set language ${e} action`,displayName:dt[e],analyticsName:`set language ${e}`,validators:mt,closeParentMenu:!0,action:t=>{let{environment:a,blocks:o}=t;x.Z.set({userId:a.currentUser.id,key:me.T.localLanguagePreferenceKey,value:e}),K.createAndCommit({userAction:"actionRegistry.languageModeActions",environment:a,perform:t=>{j.E5({language:e,blocks:o,transaction:t})}})},render:t=>(0,Le.jsx)(Q.Z,{...t,title:e})})))}),gt=(0,Se.MV)({key:"languageMode section",displayName:Ie.languageModeName,analyticsName:Ie.languageModeName.defaultMessage,validators:mt,subActions:()=>[ut]}),ft=(0,Se.cN)({key:"format code",displayName:Ie.formatCodeLabel,closeParentMenu:!0,analyticsName:Ie.formatCodeLabel.defaultMessage,validators:[oe.U7,oe.P9("code"),oe.Gz],action:async e=>{let{blocks:t,environment:a}=e;const o=t[0];await j.Cn({codeBlock:o,environment:a})}}),pt=(0,Se.cN)({key:"work at notion",analyticsName:Ie.workAtNotion.defaultMessage,closeParentMenu:!0,displayName:Ie.workAtNotion,validators:[oe.P9("code"),oe.vM],action:()=>{window&&window.open(F._j.careers)}}),Mt=[oe.J5,oe.ff(oe.fI),oe.ro("quote")];function yt(e){return t=>{x.Z.set({userId:t.environment.currentUser.id,key:me.l.localSizePreferenceKey,value:e}),K.createAndCommit({userAction:"actionRegistry.createQuoteSizeAction",environment:t.environment,perform:a=>{Z.FH({stores:t.blocks,update:{quote_size:e},transaction:a})}})}}const vt=(0,Se.$J)({key:"quote size actions",title:Ie.quoteSizeSection,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[(0,Se.cN)({key:"quote size default",displayName:Ie.quoteSizeDefault,analyticsName:Ie.quoteSizeDefault.defaultMessage,validators:Mt,closeParentMenu:!0,action:yt(void 0)}),(0,Se.cN)({key:"quote size large",displayName:Ie.quoteSizeLarge,analyticsName:Ie.quoteSizeLarge.defaultMessage,validators:Mt,closeParentMenu:!0,action:yt("large")})]}),St=(0,Se.MV)({key:"quote size",displayName:Ie.quoteSize,analyticsName:Ie.quoteSize.defaultMessage,svg:C.O,validators:Mt,subActions:()=>[vt]}),kt=[oe.J5,oe.ff(oe.fI),oe.ro("numbered_list"),oe.J8("numbered_list")],Nt=[oe.J5,oe.ff(oe.fI),oe.ro("bulleted_list"),oe.J8("bulleted_list")],Ct=(0,Se.MV)({key:"number format",displayName:Ie.listFormat,analyticsName:Ie.listFormat.defaultMessage,svg:N.N,validators:kt,subActions:()=>[Pt]}),bt=e=>t=>{K.createAndCommit({userAction:"actionRegistry.createListFormatAction",environment:t.environment,perform:a=>{Z.FH({stores:t.blocks,update:{list_format:e},transaction:a})}})},Pt=(0,Se.$J)({key:"text color actions",title:Ie.listFormatSection,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[(0,Se.cN)({key:"list format default",displayName:Ie.listFormatDefault,analyticsName:Ie.listFormatDefault.defaultMessage,validators:kt,closeParentMenu:!0,action:bt(void 0)}),(0,Se.cN)({key:"list format numbers",displayName:Ie.listFormatNumbers,analyticsName:Ie.listFormatNumbers.defaultMessage,validators:kt,closeParentMenu:!0,action:bt("numbers")}),(0,Se.cN)({key:"list format letters",displayName:Ie.listFormatLetters,analyticsName:Ie.listFormatLetters.defaultMessage,validators:kt,closeParentMenu:!0,action:bt("letters")}),(0,Se.cN)({key:"list format roman numerals",displayName:Ie.listFormatRoman,analyticsName:Ie.listFormatRoman.defaultMessage,validators:kt,closeParentMenu:!0,action:bt("roman")})]}),wt=e=>t=>{K.createAndCommit({userAction:"actionRegistry.createBulletListFormatAction",environment:t.environment,perform:a=>{Z.FH({stores:t.blocks,update:{bullet_list_format:e},transaction:a})}})},ht=(0,Se.$J)({key:"bullet list format actions",title:Ie.listFormatSection,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[(0,Se.cN)({key:"list format default",displayName:Ie.listFormatDefault,analyticsName:Ie.listFormatDefault.defaultMessage,validators:Nt,closeParentMenu:!0,action:wt(void 0)}),(0,Se.cN)({key:"list format disc",displayName:Ie.listFormatDisc,analyticsName:Ie.listFormatDisc.defaultMessage,validators:Nt,closeParentMenu:!0,action:wt("disc")}),(0,Se.cN)({key:"list format circle",displayName:Ie.listFormatCircle,analyticsName:Ie.listFormatCircle.defaultMessage,validators:Nt,closeParentMenu:!0,action:wt("circle")}),(0,Se.cN)({key:"list format square",displayName:Ie.listFormatSquare,analyticsName:Ie.listFormatSquare.defaultMessage,validators:Nt,closeParentMenu:!0,action:wt("square")})]}),Lt=(0,Se.MV)({key:"bulleted format",displayName:Ie.listFormat,analyticsName:Ie.listFormat.defaultMessage,svg:N.N,validators:Nt,subActions:()=>[ht]}),It=[oe.jl,oe.or([oe.xD([oe.U7,oe.Cj,oe.k6]),oe.xD([oe.P9(o.Ti.text),oe.QL("text_align")])])],xt=(0,Se.MV)({key:"alignment",displayName:Ie.alignmentName,analyticsName:Ie.alignmentName.defaultMessage,svg:l.$,validators:It,subActions:()=>[Vt]}),At=e=>t=>{K.createAndCommit({userAction:"actionRegistry.createAlignmentFormatAction",environment:t.environment,perform:a=>{if(t.blocks&&t.blocks.length>0)for(const o of t.blocks)Z.hc({environment:t.environment,store:o,alignment:e,transaction:a})}})},Ft=(0,V.defineMessages)({leftAlign:{id:"action.alignment.left.name",defaultMessage:"Left"},centerAlign:{id:"action.alignment.center.name",defaultMessage:"Center"},rightAlign:{id:"action.alignment.right.name",defaultMessage:"Right"}}),Vt=(0,Se.$J)({key:"alignment format actions",title:Ie.alignmentName,render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[(0,Se.cN)({key:"alignment format left",displayName:Ft.leftAlign,analyticsName:"Align left",validators:It,closeParentMenu:!0,svg:l.$,action:At("left")}),(0,Se.cN)({key:"alignment format center",displayName:Ft.centerAlign,analyticsName:"Align center",validators:It,closeParentMenu:!0,svg:r.L,action:At("center")}),(0,Se.cN)({key:"alignment format right",displayName:Ft.rightAlign,analyticsName:"Align right",validators:It,closeParentMenu:!0,svg:c.g,action:At("right")})]}),Tt=[Ne.ww,{key:"ai section actions",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[pe.$3,pe._K]},{key:"block menu primary",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[pe.NY,ye.G,...(0,ve.jW)()?[ve.o1,ve.vh]:[ve.Ay],xe,Ae,Fe,Ve,Te]},{key:"block menu navigation",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[_e,De,be.KB,be.oL,be.sN,be.Jw,Me.H,Me.K,je]},{key:"block menu secondary",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[ke.d,Re,ze,He,rt,we.B,we.L9,Ze,Pe.$,Pe.g,Be,Oe,Je,Ee,Ue,Ge,Ke,Xe,$e,We,Ye,Qe,tt,at,st,Ce.A,it]},{key:"block menu comment",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[fe.U,fe.V]},{key:"block menu color",render:e=>(0,Le.jsx)(ee.Z,{...e,topBorder:!0}),actions:[ge.Tr,lt]},{key:"code block menu style",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[ct,gt,ft,pt]},{key:"block menu quote",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[St]},{key:"block menu number",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[Ct]},{key:"block menu bullet",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[Lt]},{key:"block alignment",render:e=>(0,Le.jsx)(ee.Z,{...e}),actions:[xt]}]},42784:(e,t,a)=>{a.d(t,{ww:()=>u});a(67294);var o=a(38491),n=a(55863),i=a(82007),s=a(72495),r=a(19037),l=a(62967),c=a(85893);const d=(0,l.cN)({key:"mobile undo",displayName:l.RE.undoName,analyticsName:l.RE.undoName.defaultMessage,svg:n.s,validators:[r.jl,r.Mn,r.ff(r.Eo)],closeParentMenu:!0,action:e=>{let{environment:t}=e;return i.Yw(t)}}),m=(0,l.cN)({key:"mobile redo",displayName:l.RE.redoName,analyticsName:l.RE.redoName.defaultMessage,svg:o.N,validators:[r.Mn,r.ff(r.Eo)],closeParentMenu:!0,action:e=>{let{environment:t}=e;return i.KX(t)}}),u=(0,l.$J)({key:"mobile revision actions",render:e=>(0,c.jsx)(s.Z,{...e}),actions:[d,m]})},54281:(e,t,a)=>{a.d(t,{$o:()=>J,Fv:()=>z,IL:()=>K,J4:()=>Z,KA:()=>j,Nf:()=>D,_p:()=>$,cQ:()=>E,f$:()=>H,fX:()=>O,j2:()=>_,k2:()=>G,mg:()=>W,mz:()=>B,oP:()=>R,tF:()=>X,td:()=>q,x:()=>U});a(57658);var o=a(30120),n=a(1302),i=a(15145),s=a(45433),r=a(40652),l=a(53877),c=a(42875),d=a(15157),m=a(72126),u=a(97880),g=a(75079),f=a(65742),p=a(78316),M=a(88632),y=a(77080),v=a(35661),S=a(27724),k=a(34583),N=a(50906),C=a(8406),b=a(49865),P=a(75134),w=a(5149),h=a(45264),L=a(96802),I=a(9953),x=a(79978),A=a(75018),F=a(24677),V=a(98104),T=a(39699);function _(e){const{collectionViewStore:t,collectionContextStore:a,timelineState:o,environment:n}=e,i=n.currentUser.id,s=(0,f.B8)(t.id),r=(0,f.pQ)(t,n),l=a.permissionScopes.state,c=m.Ds((()=>{if(o.destroyed)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,f.al)(o)};d.Z.set({userId:i,key:s,value:e})}),1e3),u=m.Ds((()=>{if(o.destroyed||!M.Z.state.online||!n.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,f.al)(o)},a=t.getFormat().timeline_preference;m.Xy(a,e)||T.createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:n,perform:a=>{L.FH({stores:[t],update:{timeline_preference:e},transaction:a})}})}),5e3);o.savePreference=()=>{c(),u()},D({timelineState:o,environment:n,...r})}function D(e){const{timelineState:t,zoomLevel:a,centerTimestamp:o,environment:i}=e,{savePreference:s}=t,r=i.WindowSizeStore.state.width+2*f.Ge,l=(0,f.x2)(a,r),c=o-l/2,d=o+l/2;t.zoomLevel.setState(a),t.currentRange.setState({startTimestamp:c,endTimestamp:d}),n.default.afterNextFlush((()=>{j({timelineState:t,centerTimestamp:o}),s&&s()}))}function j(e){const{timelineState:t,centerTimestamp:a}=e,{horizontalScroller:o,outerSizeObserver:n}=t;if(!o)return;const i=t.zoomLevel.state,{startTimestamp:s,endTimestamp:r}=t.currentRange.state,l=n.rect.state.width;if(l===(0,f.e$)(i,r-s))return;const c=(0,f.e$)(i,a-s)-l/2;o.scrollLeft=c,t.scrollLeft.setState(c)}function R(e){const{environment:t,store:a,query:o,date:n,schema:i,transaction:s}=e,{timeline_by:r}=o;if(!r)return;const l=(0,f.TW)({store:a,dateValue:n,query:o,schema:i}),c=a.getPropertyValue(r),d=o.timeline_by_end?a.getPropertyValue(o.timeline_by_end):void 0;return I.sW({store:a.getPropertiesStore(),data:l,transaction:s}),P.H({environment:t,store:a,dateProperty:{id:r,newValue:(null==l?void 0:l[r])??[],oldValue:c},otherDateProperty:o.timeline_by_end?{id:o.timeline_by_end,newValue:(null==l?void 0:l[o.timeline_by_end])??[],oldValue:d}:void 0}),a}function z(e){var t;const{environment:a,timelineState:n,collectionStore:i,collectionContextStore:s,store:r,query:d,groupFormat:m,transaction:u}=e,g=n.zoomLevel.state,p=(0,f.al)(n),{snapUnit:M,getDateRangePlaceholderDuration:y}=f.BJ[g],{timeline_by:v}=d;if(!v)return;const S=null===(t=s.groupsStore.getGroupState(m))||void 0===t?void 0:t.resultsStore.state;if(!S)return;const k=o.ou.fromMillis(p),N=(0,f.DS)(k,M),C=(0,f.DS)(y(k),M),P=(0,f.AZ)({startValue:(0,l.Lg)((0,c.r)()),snapUnit:M,desiredStart:N,desiredEnd:C});return R({environment:a,store:r,query:d,schema:i.getSchema(),date:P,transaction:u}),b.$T({environment:a,collectionStore:i,before:!0,store:S[0],insertStores:[r],collectionContextStore:s,groupsPointer:m?[m]:[],transaction:u}),r}function H(e){const{type:t,timelineState:a,store:o,startX:n,query:i,schema:s,intl:r,environment:l}=e,{horizontalScroller:c}=a,{startTimestamp:d}=a.currentRange.state;if(!c)return;F.Ys({environment:l,store:o});const u=c.scrollLeft,{stores:g}=S.default.state,p=m.oA(g.map((e=>{const t=(0,f.bk)({store:e,query:i,schema:s,userId:l.currentUser.id,intl:r});if(t)return{startValue:t,store:e}})));a.dragState.setState({type:t,startStore:o,stores:p.map((e=>{let{store:t}=e;return t})),startValues:p.map((e=>{let{startValue:t}=e;return t})),temporaryValues:p.map((e=>{let{startValue:t}=e;return t})),startX:n,startStartTimestamp:d,startScrollLeft:u})}function Z(e){const{timelineState:t,store:a,startX:o,startY:n,schema:i,collectionContextStore:s,verticalScroller:r}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRange.state;if(!l||!r)return;const d=l.scrollLeft,m=r.scrollTop,u=(0,f.YE)(s,a,i);t.drawState.setState({startStore:a,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:[...u],startX:o,startY:n,startScrollLeft:d,startScrollTop:m,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function q(e){const{timelineState:t,currentX:a}=e,{horizontalScroller:o}=t,n=t.zoomLevel.state,i=t.dragState.state,{startTimestamp:s}=t.currentRange.state;if(!i||!o)return;const{type:r,startStartTimestamp:c,startValues:d,startScrollLeft:g,startX:p,startStore:M,stores:y}=i,v=f.BJ[n],{snapUnit:S}=v,k=o.scrollLeft-g+(a-p)+(0,f.e$)(n,s-c),N=(0,f.x2)(n,k),C=d[y.indexOf(M)];let b;if(r===f.px.LeftResizer){const{start:e}=(0,f.XO)(C,S),t=e.plus(N);b=d.map((e=>{const a=(0,f.AZ)({startValue:e,snapUnit:S,desiredStart:t});return(0,l.gW)(a)}))}else if(r===f.px.RightResizer){const{end:e}=(0,f.XO)(C,S),t=e.plus(N);b=d.map((e=>{const a=(0,f.AZ)({startValue:e,snapUnit:S,desiredEnd:t});return(0,l.Qq)(a)}))}else r===f.px.ItemDrag?b=d.map((e=>{const{start:t,end:a}=(0,f.XO)(e,S),o=t.plus(N),n=o.plus(a.valueOf()-t.valueOf());return(0,f.AZ)({startValue:e,snapUnit:S,desiredStart:o,desiredEnd:n})})):(0,u.t1)(r);m.Xy(i.temporaryValues,b)||t.dragState.setState({...i,temporaryValues:b})}function B(e){const{timelineState:t,currentX:a,currentY:o,verticalScroller:n}=e,i=t.drawState.state,s=t.zoomLevel.state,{startTimestamp:r}=t.currentRange.state,{horizontalScroller:l}=t;if(!i||!l||!n)return;const{startDependencyRelationPointers:c,startStore:d,startX:u,startY:g,startScrollLeft:p,startScrollTop:M,startStartTimestamp:y}=i,v=l.scrollLeft,S=n.scrollTop,k=v-p+(a-u)+(0,f.e$)(s,r-y),N=S-M+(o-g),C=t.hoveredItem.state;if(C&&C!==d&&!c.some((e=>e.id===C.id))){const e=[...c,{table:"block",id:C.id,spaceId:C.getSpaceId()}];m.Xy(i.temporaryDependencyRelationPointers,e)||t.drawState.setState({...i,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawState.setState({...i,temporaryDependencyRelationPointers:[...c],xOffsetPx:k,yOffsetPx:N})}function O(e){const{environment:t,timelineState:a,query:o,schema:n,transaction:i}=e,s=a.dragState.state,{timeline_by:r}=o;if(!s||!r)return;const{temporaryValues:l,stores:c}=s;l.forEach(((e,a)=>{const s=c[a];R({environment:t,store:s,query:o,schema:n,transaction:i,date:e})})),a.dragState.setState(void 0)}function J(e){var t;const{timelineState:a,environment:o,transaction:n,collectionContextStore:i,isFullScreen:s,isRootChild:r}=e,l=a.drawState.state,c=a.dateRangePlaceholder.state;if(!l)return;const{startStore:d,startDependencyRelationPointers:m,temporaryDependencyRelationPointers:u}=l;if(!d)return void a.drawState.setState(void 0);let p;if(c.active){const{date:e,store:t,parentStore:s,groupFormat:r,newTimelineItemProps:l,existingTimelineItemProps:m}=c;if(t&&m){const{query:a,schema:i}=m;R({environment:o,store:t,query:a,schema:i,date:e,transaction:n}),p={table:"block",id:t.id,spaceId:d.getSpaceId()}}else if(l){const{query:a,schema:c,isFullScreen:m,canEditTimelineItems:u,subitemPath:g}=l,f=W({environment:o,date:e,store:t,parentStore:s,query:a,schema:c,isFullScreen:m,groupFormat:r,canEditTimelineItems:u,collectionContextStore:i,subitemPath:g,transaction:n,from:"timeline_complete_draw"});f&&(p={table:"block",id:f.id,spaceId:d.getSpaceId()})}a.dateRangePlaceholder.setState({active:!1})}else p=u.find((e=>!m.includes(e)));const M=(0,f._e)(i);if(M){const{property:e}=M;p&&(x.hE({environment:o,propertyWithInverse:M,sourceStore:d,destStore:v.G.createChildStore(d,p),position:{type:"after"},transaction:n}),C.rv({environment:o,collectionContextStore:i,block_id:d.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),a.drawState.setState(void 0)}else w.wl({item:{type:y.default.checkGate("dependency_date_shifting_by_space")?"dependencies":"arrowsBy"},collectionSettingsStore:i.settingsStore}),a.drawState.setState({...l,tryToCompleteDrawnArrow:!0});const S=null===(t=p)||void 0===t?void 0:t.id;S&&N.LEn(o,{...(0,g.Pn)(i),...(0,f.Ii)({environment:o,collectionContextStore:i,timelineState:a,isFullScreen:s,isRootChild:r}),dependenciesPropertyID:null==M?void 0:M.property,blockedByStoreID:d.id,blockingStoreID:S})}function E(e){const{timelineState:t,environment:a}=e;t.dragState.state&&(t.dragState.setState(void 0),F.ZH(a))}function U(e){const{timelineState:t,environment:a}=e;t.drawState.state&&(t.drawState.setState(void 0),F.ZH(a))}function G(e){const{stores:t,collectionViewStore:a,schema:o,transaction:n}=e,i=a.getType(),s=a.getQuery(o),r=[];s&&("calendar"===i?s.calendar_by&&r.push(s.calendar_by):"timeline"===i&&(s.timeline_by&&r.push(s.timeline_by),s.timeline_by_end&&r.push(s.timeline_by_end)));for(const l of t)for(const e of r)I.sO({store:l.getPropertyStore(e),value:void 0,transaction:n})}function K(e){const{dependency:t,collectionContextStore:a,environment:o,timelineState:n,isFullScreen:i,isRootChild:s}=e,r=(0,f._e)(a),l=a.collectionStore();if(!r||!l)return;const{property:c}=r,{store:d,relationPointer:m}=t,u=d.getSchema()[c];u&&"relation"===u.type&&(T.createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:o,perform:e=>{x.Bl({environment:o,propertyWithInverse:r,sourceStore:d,destStore:v.G.createChildStore(d,m),transaction:e}),C.rv({environment:o,block_id:m.id,property:c,property_type:u.type,from:"timeline",collectionContextStore:a,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),N.lfq(o,{...(0,g.Pn)(a),...(0,f.Ii)({environment:o,collectionContextStore:a,timelineState:n,isFullScreen:i,isRootChild:s}),dependenciesPropertyID:c,blockedByStoreID:d.id,blockingStoreID:m.id}))}function X(e){const{collectionViewStore:t,newProperty:a,transaction:o}=e;L.FH({stores:[t],update:{timeline_arrows_by:{property:a}},transaction:o})}function $(e){var t;const{collectionContextStore:a,relationPropertyId:o,transaction:n}=e,i=a.collectionStore();if(!i)return;const l=o?i.getSchema()[o]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=i.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;L.FH({stores:[i],update:{collection_default_arrows_by:o,...i.getFormat().app_config_uri===r.iS?{app_uri_map:{...i.getFormat().app_uri_map?i.getFormat().app_uri_map:{},[s.Es.BlockingRelation]:o,[s.Es.BlockedRelation]:c}}:{}},transaction:n})}function W(e){const{environment:t,transaction:a,date:o,parentStore:n,query:s,schema:r,isFullScreen:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:m,from:u}=e;if(!k.M_(t))return;const g=c?[c]:[],f=m.groupsStore.getGroupState(g);if(!f)return;if(n)return function(e){const{environment:t,transaction:a,date:o,store:n,parentStore:s,query:r,schema:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:m,subitemPath:u}=e;if(!n||!s)return;const g=c?[c]:[],f=b.yk({environment:t,collectionContextStore:m,groupsPointer:g,store:n,before:!1,collectionStore:s,transaction:a,subitemPath:u,subitemInsertDirection:"into"});if(f){if(R({environment:t,store:f,query:r,schema:l,date:o,transaction:a}),t.device.isMobile)A.navigateToBlock({environment:t,store:f,pageVisitSource:i.tY.Create});else if(f&&d){const e=f.getBlockTitleStore();V.N_({store:e})}return f}}(e);m.searchQuery.state&&h.Ug({searchQuery:"",collectionContextStore:m,isFullScreen:l});const M=b.IW({environment:t,collectionContextStore:m,groupsPointer:g,coerce:!0,initializeDefaultTemplate:!0,transaction:a,from:u});if(!M)return;const y=M.coercionSucceeded,v=M.newStore;if(R({environment:t,store:v,query:s,schema:r,date:o,transaction:a}),t.device.isMobile)A.navigateToBlock({environment:t,store:v,pageVisitSource:i.tY.Create});else if(y&&d){const e=v.getBlockTitleStore();V.NX({store:e})}else A.peekBlock({environment:t,store:v,peekMode:(0,p.kr)(m.collectionViewStore()),resultsStore:null==f?void 0:f.resultsStore,collectionContextStore:m,pageVisitSource:i.tY.Create});return v}},94491:(e,t,a)=>{a.d(t,{h:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("editPage",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM5.97656 7.44922C6.40723 7.44922 6.79004 7.05957 6.79004 6.51953C6.79004 5.97949 6.41406 5.58984 5.97656 5.58984C5.55273 5.58984 5.18359 5.97949 5.18359 6.51953C5.18359 7.05957 5.55273 7.44922 5.97656 7.44922ZM10.0098 7.44922C10.4404 7.44922 10.8232 7.05957 10.8232 6.51953C10.8232 5.97949 10.4404 5.58984 10.0098 5.58984C9.5791 5.58984 9.2168 5.97949 9.2168 6.51953C9.2168 7.05957 9.58594 7.44922 10.0098 7.44922ZM7.99316 11.4277C9.42871 11.4277 10.3926 10.4775 10.3926 10.0195C10.3926 9.85547 10.2285 9.78027 10.0713 9.84863C9.57227 10.1084 8.99121 10.416 7.99316 10.416C7.00195 10.416 6.41406 10.1084 5.91504 9.84863C5.76465 9.77344 5.60059 9.85547 5.60059 10.0195C5.60059 10.4775 6.56445 11.4277 7.99316 11.4277Z"})})},62208:(e,t,a)=>{a.d(t,{z:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("loop",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M5.80371 3.12305C5.81006 3.50391 6.05762 3.74512 6.47656 3.74512H11.3643C11.9546 3.74512 12.2783 4.0498 12.2783 4.66553V11.2925L11.377 10.3149L10.8628 9.80078C10.5962 9.54688 10.2344 9.52783 9.96777 9.78809C9.71387 10.0483 9.72021 10.4229 9.98047 10.6831L12.145 12.8413C12.6211 13.311 13.167 13.311 13.6431 12.8413L15.8076 10.6831C16.0679 10.4229 16.0742 10.0483 15.8203 9.78809C15.5537 9.52783 15.1919 9.54688 14.9253 9.80078L14.4111 10.3149L13.5161 11.2861V4.56396C13.5161 3.20557 12.8052 2.50098 11.4341 2.50098H6.47656C6.05762 2.50098 5.79736 2.74219 5.80371 3.12305ZM0.186035 7.05859C0.446289 7.3252 0.808105 7.30615 1.07471 7.0459L1.59521 6.53809L2.48389 5.56689V12.2891C2.48389 13.6475 3.19482 14.3521 4.56592 14.3521H9.52344C9.94238 14.3521 10.2026 14.1108 10.1963 13.73C10.1899 13.3428 9.94238 13.1079 9.52344 13.1079H4.64209C4.05176 13.1079 3.72803 12.7969 3.72803 12.1812V5.5542L4.62305 6.53809L5.14355 7.0459C5.40381 7.30615 5.77197 7.3252 6.03223 7.05859C6.29248 6.79834 6.28613 6.43018 6.01953 6.16992L3.85498 4.01172C3.37891 3.53564 2.83936 3.53564 2.36328 4.01172L0.19873 6.16992C-0.0678711 6.43018 -0.0742188 6.79834 0.186035 7.05859Z"})})},21158:(e,t,a)=>{a.d(t,{h:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("openAsPage",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.22605 12.855C3.36623 12.9952 3.55957 13.0822 3.77226 13.0725L8.83802 13.0338C9.04103 13.0338 9.24405 12.9468 9.36973 12.8212C9.67425 12.5166 9.65975 12.1058 9.36973 11.8157C9.21988 11.6659 9.05553 11.6079 8.86702 11.6127L6.79818 11.6417L5.26105 11.7577L6.39215 10.7136L10.7087 6.39712L11.7528 5.26603L11.6319 6.80799L11.6029 8.87683C11.6029 9.06051 11.6561 9.22969 11.8059 9.37954C12.096 9.66956 12.5117 9.67923 12.8162 9.3747C12.9419 9.24902 13.0289 9.04601 13.024 8.84782L13.0675 3.77723C13.0724 3.56938 12.9902 3.3712 12.85 3.23102C12.7098 3.09084 12.5165 3.0135 12.3038 3.0135L7.23805 3.06184C7.03987 3.05701 6.83685 3.14401 6.71117 3.26969C6.40665 3.57422 6.41631 3.98992 6.70634 4.27994C6.85618 4.42979 7.02536 4.48296 7.20905 4.48296L9.27789 4.45396L10.8198 4.33311L9.68392 5.37237L5.36739 9.6889L4.32814 10.8248L4.44415 9.28769L4.47315 7.21886C4.47799 7.03034 4.41998 6.86599 4.27013 6.71615C3.98011 6.42612 3.56924 6.41162 3.26472 6.71615C3.13904 6.84182 3.05203 7.04484 3.05203 7.24786L3.00853 12.3088C3.0037 12.5263 3.08587 12.7148 3.22605 12.855Z"})})},35582:(e,t,a)=>{a.d(t,{O:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("quote",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.061 9.12c.987 0 1.79-.675 1.79-1.7 0-.973-.662-1.626-1.56-1.626-.438 0-.802.163-1.04.498.23-.995 1.003-1.656 2.065-1.708.304-.022.527-.238.527-.527 0-.35-.29-.557-.683-.557-1.67 0-3.163 1.425-3.163 3.334 0 1.388.891 2.286 2.064 2.286zm-4.648 0c.988 0 1.79-.675 1.79-1.7 0-.973-.661-1.626-1.56-1.626-.445 0-.801.163-1.039.498.23-.995 1.002-1.649 2.072-1.708.296-.022.512-.238.512-.527 0-.35-.29-.557-.676-.557-1.678 0-3.163 1.425-3.163 3.334 0 1.388.891 2.286 2.064 2.286zM12.84 4.83h4.165a.66.66 0 00.668-.66.664.664 0 00-.668-.662H12.84a.664.664 0 00-.668.661c0 .371.297.66.668.66zm0 3.89h4.165a.66.66 0 00.668-.66.66.66 0 00-.668-.661H12.84a.66.66 0 00-.668.66c0 .372.297.661.668.661zm-9.852 3.89h14.017a.66.66 0 00.668-.66.66.66 0 00-.668-.66H2.988c-.371 0-.66.289-.66.66 0 .371.289.66.66.66zm0 3.891h14.017a.664.664 0 00.668-.66.66.66 0 00-.668-.662H2.988c-.371 0-.66.29-.66.661 0 .364.289.661.66.661z"})})},91427:(e,t,a)=>{a.d(t,{e:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("star",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.2627 14.7637C3.58398 15.0098 3.98047 14.9277 4.44531 14.5928L8 11.9814L11.5547 14.5928C12.0195 14.9277 12.4229 15.0098 12.7441 14.7637C13.0586 14.5244 13.127 14.1279 12.9424 13.5879L11.541 9.41113L15.1299 6.83398C15.5879 6.50586 15.7861 6.14355 15.6562 5.76074C15.5264 5.38477 15.1641 5.2002 14.5967 5.20703L10.1943 5.23438L8.85449 1.03711C8.68359 0.490234 8.40332 0.196289 8 0.196289C7.60352 0.196289 7.32324 0.490234 7.14551 1.03711L5.80566 5.23438L1.40332 5.20703C0.835938 5.2002 0.480469 5.38477 0.350586 5.76074C0.220703 6.14355 0.412109 6.50586 0.876953 6.83398L4.46582 9.41113L3.05762 13.5879C2.87305 14.1279 2.94141 14.5244 3.2627 14.7637ZM4.45898 13.1162C4.45215 13.1025 4.45215 13.0957 4.45898 13.0615L5.75781 9.39062C5.87402 9.05566 5.83301 8.84375 5.52539 8.63867L2.3125 6.4375C2.28516 6.42383 2.27148 6.41016 2.27832 6.38965C2.29199 6.37598 2.30566 6.36914 2.33984 6.36914L6.22949 6.45801C6.58496 6.47168 6.7627 6.35547 6.86523 6.01367L7.96582 2.28125C7.97266 2.24023 7.98633 2.2334 8 2.2334C8.02051 2.2334 8.02734 2.24023 8.04102 2.28125L9.13477 6.01367C9.2373 6.35547 9.42188 6.47168 9.77051 6.45801L13.6602 6.36914C13.7012 6.36914 13.7148 6.37598 13.7217 6.38965C13.7285 6.41016 13.7217 6.41699 13.6875 6.4375L10.4814 8.63867C10.167 8.85059 10.126 9.05566 10.2422 9.39062L11.541 13.0615C11.5547 13.0957 11.5547 13.1025 11.541 13.1162C11.5273 13.1367 11.5137 13.123 11.4863 13.1094L8.40332 10.7305C8.12305 10.5117 7.87695 10.5117 7.60352 10.7305L4.52051 13.1094C4.49316 13.123 4.47266 13.1367 4.45898 13.1162Z"})})},82825:(e,t,a)=>{a.d(t,{S:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("timeBy",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M14 25H16V15H14C13.919 15.164 13.209 15.698 12 15.909V17.94C12.743 17.85 13.416 17.652 14 17.388V25ZM25 4C25 2.343 23.657 1 22 1C20.343 1 19 2.343 19 4H11C11 2.343 9.657 1 8 1C6.343 1 5 2.343 5 4H1V29H29V4H25ZM21 4C21 3.449 21.448 3 22 3C22.552 3 23 3.449 23 4V6C23 6.551 22.552 7 22 7C21.448 7 21 6.551 21 6V4ZM7 4C7 3.449 7.448 3 8 3C8.552 3 9 3.449 9 4V6C9 6.551 8.552 7 8 7C7.448 7 7 6.551 7 6V4ZM27 27H3V13H27V27ZM27 11H3V6H5C5 7.657 6.343 9 8 9C9.657 9 11 7.657 11 6H19C19 7.657 20.343 9 22 9C23.657 9 25 7.657 25 6H27V11Z"})})},37888:(e,t,a)=>{a.d(t,{U:()=>i});a(67294);var o=a(45238),n=a(85893);const i=(0,o.I)("unlocked",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.49023 14.7227H8.89551C9.94824 14.7227 10.4746 14.1963 10.4746 13.0479V8.20801C10.4746 7.22363 10.085 6.69727 9.29883 6.57422V4.83105C9.29883 3.22461 10.3174 2.35645 11.541 2.35645C12.7646 2.35645 13.79 3.22461 13.79 4.83105V6.28711C13.79 6.76562 14.0703 7.01855 14.4395 7.01855C14.8018 7.01855 15.082 6.7793 15.082 6.28711V4.96094C15.082 2.36328 13.3525 1.1123 11.541 1.1123C9.72949 1.1123 8 2.36328 8 4.96094V6.54004H2.49023C1.43066 6.54004 0.911133 7.06641 0.911133 8.20801V13.0479C0.911133 14.1963 1.43066 14.7227 2.49023 14.7227ZM2.68848 13.5059C2.3877 13.5059 2.2373 13.3623 2.2373 13V8.25586C2.2373 7.89355 2.3877 7.76367 2.68848 7.76367H8.7041C9.00488 7.76367 9.14844 7.89355 9.14844 8.25586V13C9.14844 13.3623 9.00488 13.5059 8.7041 13.5059H2.68848ZM7.99316 21.1123C6.5918 21.1123 5.2793 21.8779 4.75293 23.375L5.78516 24.4141C5.94922 23.0811 6.87891 22.3564 7.99316 22.3564C9.2168 22.3564 10.2422 23.2246 10.2422 24.8311V26.54H7.9248L9.1416 27.7637H11.0078C11.3086 27.7637 11.4521 27.8936 11.4521 28.2559V30.0742L12.7783 31.4072V28.208C12.7783 27.2031 12.3682 26.6768 11.541 26.5674V24.9609C11.541 22.3633 9.81152 21.1123 7.99316 21.1123ZM13.749 35.126C13.9609 35.3379 14.3164 35.3379 14.5215 35.126C14.7266 34.9072 14.7334 34.5723 14.5215 34.3535L2.46973 22.3154C2.25781 22.1035 1.90918 22.0967 1.69043 22.3154C1.48535 22.5205 1.48535 22.876 1.69043 23.0811L13.749 35.126ZM4.79395 34.7227H11.1992C11.5 34.7227 11.7598 34.6816 11.9785 34.5928L10.8711 33.4922C10.8096 33.499 10.7549 33.5059 10.6865 33.5059H4.99219C4.69141 33.5059 4.54102 33.3623 4.54102 33V28.2559C4.54102 27.9004 4.68457 27.7637 4.97852 27.7637H5.14258L4.04883 26.6631C3.48828 26.8818 3.21484 27.3809 3.21484 28.208V33.0479C3.21484 34.1963 3.73438 34.7227 4.79395 34.7227Z"})})}}]);