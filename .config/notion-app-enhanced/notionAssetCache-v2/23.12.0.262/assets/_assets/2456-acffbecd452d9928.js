"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2456],{2456:(e,t,r)=>{r.d(t,{Hq:()=>U,KX:()=>H,SP:()=>W,SX:()=>I,Tl:()=>z,ZD:()=>A,ZP:()=>K,pH:()=>_,xP:()=>D});var i=r(67294),o=r(83355),l=r(13991),n=r(24405),s=r(17215),d=r(41432),a=r(99036),c=r(80951),h=r(25501),p=r(39068),u=r(6695),m=r(42875),g=r(54851),y=r(91),x=r(22808),f=r(59753),v=r(21202),b=r(6287),k=r(23867),S=r(97880),B=r(82990),T=r(31412),j=r(42130),P=r(33929),w=r(41662),C=r(30874),R=r(81865),M=r(31278),Z=r(14200),E=r(85893);const V=(0,T.defineMessages)({[d.Ti.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[d.Ti.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[d.Ti.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[d.Ti.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[d.Ti.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[d.Ti.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function _(e){return V[e]&&P.default.formatMessage(V[e])}function I(e,t){return f.kk.fromBlock(e).getProperties()[t]||[]}class F extends o.Z{constructor(){super(...arguments),this.inCommentsSidebar=()=>"comments_sidebar"===this.props.blockPreviewLocation,this.getRecordValue=this.props.rootStore.getRecordValue,this.getRecordModel=f.om.fromGetRecordValueFn(this.getRecordValue)}renderComponent(){const{blockValue:e}=this.props;switch(e.type){case d.Ti.text:return this.renderTextBlock(e);case d.Ti.header:return this.renderHeaderBlock(e);case d.Ti.subHeader:return this.renderSubHeaderBlock(e);case d.Ti.subSubHeader:return this.renderSubSubHeaderBlock(e);case d.Ti.toggle:return this.renderToggleBlock(e);case d.Ti.bulletedList:return this.renderBulletedListBlock(e);case d.Ti.numberedList:return this.renderNumberedListBlock(e);case d.Ti.quote:return this.renderQuoteBlock(e);case d.Ti.factory:return this.renderFactoryBlock(e);case d.Ti.button:{const t=f.kk.fromBlock(e).getAutomationPointer();if(t){const e=this.getRecordModel(t);if(e)return this.renderButtonBlock(e)}break}case d.Ti.equation:return this.renderEquationBlock(e);case d.Ti.toDo:return this.renderTodoBlock(e);case d.Ti.code:return this.renderCodeBlock(e);case d.Ti.bookmark:return this.renderBookmarkBlock(e);case d.Ti.page:return this.renderPageBlock(f.kk.fromBlock(e));case d.Ti.collectionView:case d.Ti.collectionViewPage:{const t=f.kk.fromBlock(e).getCollectionPointer();if(t){const e=this.getRecordModel(t);if(e)return this.renderCollectionBlock(e)}break}case d.Ti.image:return this.renderImageBlock(e);case d.Ti.embed:return this.renderEmbedBlock(e,"embed");case d.Ti.framer:return this.renderEmbedBlock(e,"framer");case d.Ti.tweet:return this.renderEmbedBlock(e,"tweet");case d.Ti.gist:return this.renderEmbedBlock(e,"gist");case d.Ti.drive:return this.renderDriveBlock(e);case d.Ti.maps:return this.renderEmbedBlock(e,"maps");case d.Ti.invision:return this.renderEmbedBlock(e,"invision");case d.Ti.video:return this.renderEmbedBlock(e,"video");case d.Ti.audio:return this.renderEmbedBlock(e,"audio");case d.Ti.file:return this.renderEmbedBlock(e,"file");case d.Ti.callout:return this.renderCalloutBlock(e);case d.Ti.whimsical:return this.renderEmbedBlock(e,"whimsical");case d.Ti.miro:return this.renderEmbedBlock(e,"miro");case d.Ti.abstract:return this.renderEmbedBlock(e,"abstract");case d.Ti.mixpanel:return this.renderEmbedBlock(e,"mixpanel");case d.Ti.sketch:return this.renderEmbedBlock(e,"sketch");case d.Ti.excalidraw:return this.renderEmbedBlock(e,"excalidraw");case d.Ti.replit:return this.renderEmbedBlock(e,"replit");case d.Ti.pdf:return this.renderEmbedBlock(e,"pdf");case d.Ti.table:return this.renderSimpleTableBlock(e);case d.Ti.tableRow:return this.renderSimpleTableRowBlock(e);case d.Ti.externalObjectInstance:return this.renderExternalObjectInstanceBlock(e);case d.Ti.linkToPage:case d.Ti.personalHomePage:case d.Ti.linkToCollection:case d.Ti.divider:case d.Ti.columnList:case d.Ti.column:case d.Ti.copyIndicator:case d.Ti.breadcrumb:case d.Ti.figma:case d.Ti.loom:case d.Ti.typeform:case d.Ti.codepen:case d.Ti.tableOfContents:case d.Ti.alias:case d.Ti.transclusionContainer:case d.Ti.transclusionReference:case d.Ti.hex:case d.Ti.tab:case d.Ti.deepnote:case d.Ti.externalObjectInstancePage:case d.Ti.aiBlock:case d.Ti.drawing:return;default:(0,S.t1)(e)}}getEditBoxStyle(){return this.inCommentsSidebar()?{marginTop:0,marginBottom:0}:void 0}renderBlockProperty(e,t,r,i){return(0,E.jsx)(z,{blockValue:e,prop:t,labeled:r,schema:i,intl:this.props.intl,rootStore:this.props.rootStore})}renderBlockTitle(e){return this.renderBlockProperty(e,"title",!1)}renderCheckbox(e){return(0,E.jsx)("div",{style:{marginRight:6,marginTop:3},children:this.renderBlockProperty(e,"checked",!1)})}renderTextBlock(e){return this.renderBlockTitle(e)}renderCalloutBlock(e){return(0,E.jsx)(h.Z,{title:_(d.Ti.callout),theme:this.theme,created:this.props.created,style:this.getEditBoxStyle(),deleted:this.props.deleted,children:this.renderBlockTitle(e)})}renderHeaderBlock(e){return(0,E.jsx)("div",{style:j.v.headerStyle,children:this.renderBlockTitle(e)})}renderSubHeaderBlock(e){return(0,E.jsx)("div",{style:j.v.subHeaderStyle,children:this.renderBlockTitle(e)})}renderSubSubHeaderBlock(e){return(0,E.jsx)("div",{style:j.v.subSubHeaderStyle,children:this.renderBlockTitle(e)})}renderToggleBlock(e){return(0,E.jsx)(A,{children:this.renderBlockTitle(e)})}renderBulletedListBlock(e){return(0,E.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,E.jsx)("li",{children:this.renderBlockTitle(e)})})}renderNumberedListBlock(e){return(0,E.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,E.jsx)("li",{children:this.renderBlockTitle(e)})})}renderQuoteBlock(e){return(0,E.jsx)(h.Z,{title:_(d.Ti.quote),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted,children:this.renderBlockTitle(e)})}renderFactoryBlock(e){return(0,E.jsx)(h.Z,{title:_(d.Ti.factory),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:!0,children:this.renderBlockTitle(e)})}renderButtonBlock(e){var t;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h.Z,{title:_(d.Ti.button),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted,children:(null===(t=e.getProperties())||void 0===t?void 0:t.name)??(0,E.jsx)(T.FormattedMessage,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})}),(0,E.jsx)(T.FormattedMessage,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:(e.getActionIds()||[]).length}})]})}renderEquationBlock(e){return(0,E.jsx)(h.Z,{title:_(d.Ti.equation),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted,children:this.renderBlockTitle(e)})}renderTodoBlock(e){return(0,E.jsxs)("div",{style:{display:"inline-flex"},children:[this.renderCheckbox(e),this.renderBlockTitle(e)]})}renderCodeBlock(e){return(0,E.jsx)(h.Z,{title:W(e),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted,children:(0,E.jsx)("span",{style:{fontFamily:B.Z.getCompositeFontFamily(l.SP).mono,fontSize:12,tabSize:2},children:this.renderBlockTitle(e)})})}renderCaption(e){return N(e,"caption")&&this.renderBlockProperty(e,"caption",!1)}renderEmbedBlock(e,t){const{intl:r}=this.props;return(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(h.Z,{title:s.xg(r,t),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted,children:(0,E.jsx)(q,{blockValue:e})}),(0,E.jsx)("div",{style:{marginBottom:4},children:this.renderCaption(e)})]})}renderImageBlock(e){const t=O(e);if(t){const r=this.renderCaption(e);return"comments_sidebar"===this.props.blockPreviewLocation?(0,E.jsx)(i.Fragment,{children:(0,E.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,E.jsx)(D,{src:t,permissionRecord:{table:v.iU,id:e.id}}),r&&(0,E.jsx)("div",{style:{marginBottom:4},children:r})]})}):(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)("div",{style:{display:"flex"},children:(0,E.jsx)("div",{style:{marginTop:4,marginBottom:4},children:(0,E.jsx)(D,{src:t,permissionRecord:{table:v.iU,id:e.id}})})}),r&&(0,E.jsx)("div",{style:{marginBottom:4},children:r})]})}}renderBookmarkBlock(e){const t=N(e,"title")&&(0,E.jsx)(h.Z,{title:_(d.Ti.bookmark),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,children:this.renderBlockTitle(e)});return(0,E.jsxs)(i.Fragment,{children:[t,N(e,"caption")&&(0,E.jsx)("div",{style:{marginBottom:t?4:0},children:this.renderCaption(e)})]})}renderDriveBlock(e){const t=(0,u.v0)(e);return t&&t.title?(0,E.jsx)("div",{children:(0,E.jsx)(h.Z,{title:(0,E.jsx)(T.FormattedMessage,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!this.props.deleted,deleted:this.props.deleted,theme:this.theme,style:this.getEditBoxStyle(),children:t.title})}):e.content?this.renderEmbedBlock(e,"drive"):void 0}renderPageBlock(e){var t;const r=this.getRecordModel({table:v.iU,id:e.id})||e,i=r.getRenderTitle({getRecordModel:this.getRecordModel,userTimeZone:(0,m.r)(),intl:this.props.intl})||(0,E.jsx)(T.FormattedMessage,{defaultMessage:"Untitled",id:"edit.pageBlock.untitled"});return(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,E.jsx)("div",{style:{paddingRight:6},children:(0,E.jsx)(L,{icon:null==r||null===(t=r.getFormat())||void 0===t?void 0:t.page_icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})}),(0,E.jsx)("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},children:i})]})}renderCollectionBlock(e){const t=this.getRecordModel({table:b.v,id:e.id})||e,r=t.getRenderTitle({intl:this.props.intl,getRecordModel:this.getRecordModel,userTimeZone:(0,m.r)()})||(0,E.jsx)(T.FormattedMessage,{defaultMessage:"Untitled",id:"edit.collectionBlock.untitled"});return(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,E.jsx)("div",{style:{paddingRight:4},children:(0,E.jsx)(L,{icon:t.icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})}),(0,E.jsx)("div",{style:{flex:1},children:r})]})}renderSimpleTableBlock(e){var t,r,i;const o=(null===(t=e.content)||void 0===t?void 0:t.length)||0,l=(null===(r=e.format)||void 0===r||null===(r=r.table_block_column_order)||void 0===r?void 0:r.length)||0;if(!o||!l)return;const n=e.content?e.content.map((t=>this.getRecordModel({table:e.parent_table,id:t,spaceId:e.space_id}))):[],s=null===(i=e.format)||void 0===i?void 0:i.table_block_column_order;return(0,E.jsx)("div",{style:{overflow:"scroll"},children:(0,E.jsx)("table",{children:(0,E.jsx)("tbody",{children:n.map((e=>e?(0,E.jsx)("tr",{children:null==s?void 0:s.map((t=>this.renderSimpleTableCell(e,t)))},e.id):void 0))})})})}renderSimpleTableRowBlock(e){var t;if(!e.properties||0===(0,S.Yd)(e.properties).length)return;const r=this.getRecordModel({table:e.parent_table,id:e.parent_id,spaceId:e.space_id});if(!r)return;const i=null===(t=r.getFormat())||void 0===t?void 0:t.table_block_column_order;return(0,E.jsx)("div",{style:{display:"flex",alignItems:"stretch",margin:4},children:(0,E.jsx)("table",{children:(0,E.jsx)("tr",{children:null==i?void 0:i.map((t=>this.renderSimpleTableCell(f.kk.fromBlock(e),t)))})})})}renderExternalObjectInstanceBlock(e){const t=f.kk.fromBlock(e);return(0,E.jsx)(h.Z,{title:(0,E.jsx)(T.FormattedMessage,{...s.V1.editLabel}),theme:this.theme,created:this.props.created,style:this.getEditBoxStyle(),deleted:this.props.deleted,children:s.$F(P.default.getIntl(),t,f.om.fromRecordMap(C.Z.getIntegrationsAsRecordMap()))})}renderSimpleTableCell(e,t){const r=I(e,t),i=r&&r.length>0?w.g$.renderCellValueForActivity({environment:this.environment,cellValue:r,spaceId:e.space_id,parentStore:this.props.rootStore,theme:this.theme}):(0,E.jsx)("span",{children:" "});return(0,E.jsx)("td",{style:{border:`1px solid ${this.theme.tableDividerColor}`,height:"100%"},children:(0,E.jsx)("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:B.Z.lineHeight.UIRegular.desktop,padding:4},children:i})},t)}}function H(e){let{value:t,propertySchema:r,labeled:i,rootStore:o,disableStyleAnnotations:l,disableDateStyleAnnotations:n}=e;return(0,E.jsx)(U,{labeled:i,type:r.type,icon:r.icon,name:r.name,children:(0,E.jsx)(Z.Z,{propertySchema:r,value:t,rootStore:o,disableStyleAnnotations:l,disableDateStyleAnnotations:n})})}function z(e){let{blockValue:t,prop:r,labeled:i,schema:o,intl:l,rootStore:n}=e;const s=(o||a.Kc(l))[r];if(s){const e=I(t,r);return(0,E.jsx)(H,{value:{value:e,spaceId:(0,k.C)(t.space_id)},propertySchema:s,labeled:i,rootStore:n})}return null}function A(e){let{children:t}=e;const r=(0,E.jsx)("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6},children:(0,y.L)({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"})});return(0,E.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[r,(0,E.jsx)("span",{children:t})]})}function D(e){let{src:t,permissionRecord:r}=e;window.__c={n:"BlockPreviewImage"};const i=(0,n.Fg)();return t?(0,E.jsx)(R.Z,{url:t,isAuthenticated:!0,permissionRecord:r,width:170,render:(e,t)=>{if(t)return(0,E.jsx)("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):(0,E.jsx)("div",{style:{backgroundColor:i.lightTextColor,height:170,width:170}})}function L(e){let{icon:t,rootStore:r,blockValue:i}=e;if(t){if((0,x.Z)(t))return(0,E.jsx)("div",{style:{fontSize:16.2,display:"inline-block"},children:t});{const e=f.kk.fromBlock(i).getRenderIcon({getRecordModel:r.getRecordModel});return(0,E.jsx)(M.Z,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return(0,g.S)({height:18,width:18})}function U(e){let{children:t,type:r,icon:i,name:o,labeled:l,style:s}=e;window.__c={n:"BlockPreviewPropertyLabel"};const d=(0,n.Fg)();return l?(0,E.jsxs)("div",{style:s,children:[(0,E.jsxs)("div",{style:{display:"flex",color:d.lightTextColor,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:2},children:[(0,E.jsx)(p.ZP,{type:r,icon:i,size:14,theme:d}),(0,E.jsx)("div",{style:{marginLeft:6},children:o})]}),(0,E.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:24},children:t})]}):(0,E.jsx)("div",{style:s,children:t})}function W(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,E.jsx)(T.FormattedMessage,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const r=c.Sj(t,a.fG);return(0,E.jsx)(T.FormattedMessage,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:r},id:"edit.codeBlockWithLanguageChanged.label"})}F.displayName="BlockPreview";const K=(0,T.injectIntl)(F);function O(e){const t=e&&e.properties&&e.properties.source;return c.zB(t)}function N(e,t){return Boolean(e&&e.properties&&e.properties[t])}function q(e){let{blockValue:t}=e;const r=O(t);return(0,E.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,E.jsx)("span",{style:{wordBreak:"break-word"},children:r})})}},14200:(e,t,r)=>{r.d(t,{Z:()=>_});r(57658);var i=r(67294),o=r(83355),l=r(80951),n=r(8848),s=r(40506),d=r(36591),a=r(65628),c=r(72126),h=r(21768),p=r(74446),u=r(21202),m=r(77420),g=r(23867),y=r(19889),x=r(97880),f=r(82990),v=r(31412),b=r(60682),k=r(14976),S=r(26350),B=r(39111),T=r(29302),j=r(89845),P=r(75561),w=r(86628),C=r(54368),R=r(70693),M=r(4308),Z=r(85893);function E(e){window.__c={n:"EditVerificationProperty"};const{textValue:t,rootStore:r}=e,o=(0,v.useIntl)(),n=(0,i.useMemo)((()=>{const e=l._w(t);return e?M.WN(e):{type:"none"}}),[t]),s=(0,w.VK)((()=>{if("none"!==n.type)return S.t1.createChildStore(r,n.actorPointer)}),[n,r]);if("none"===n.type)return(0,Z.jsx)("span",{children:o.formatMessage(M.X3.none)});let d;return void 0===s?d=(0,Z.jsx)(T.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):s.table===y.KJ?d=(0,Z.jsx)(T.Z,{userStore:s,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):s.table===m.cZ?d=(0,Z.jsx)(B.Z,{botStore:s,style:{display:"inline-flex",alignItems:"baseline"}}):s.table===C.y?d=(0,Z.jsx)(T.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,x.t1)(s),"verified"===n.type&&n.isIndefinite?(0,Z.jsx)("div",{children:o.formatMessage(M.X3.verifiedIndefinitely,{actor:d})}):(0,Z.jsx)("div",{children:o.formatMessage(M.X3.verifiedUntil,{actor:d,datetime:R.nK({dateTime:n.dateTimeRange.end,intl:o,displayInUserTimezone:!0})})})}class V extends o.Z{constructor(){super(...arguments),this.renderRelation=(e,t)=>{const r=this.getPageTitle(e),{disableStyleAnnotations:i=!1,disableDateStyleAnnotations:o=!1}=this.props;return(0,Z.jsx)("div",{style:{maxWidth:180,...f.Z.textOverflowStyle},children:k.IY({environment:this.environment,textValue:{value:r,spaceId:(0,g.C)(e.spaceId)},parentStore:this.props.rootStore,disableHover:!0,disableStyleAnnotations:i,disableDateStyleAnnotations:o,disabled:!0,theme:this.theme,emojiType:(0,b.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]})},t)},this.getUserValue=e=>S.U6.createChildStore(this.props.rootStore,{table:y.KJ,id:e}).getValue(),this.getRecordModel=h.o.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordModel(e)),p.mF.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordValue(e)))),this.getRenderableTextValue=()=>{const{value:e,propertySchema:t}=this.props;if("text"===t.type||"title"===t.type)return e.value;if("relation"===t.type){const e=this.getRelationValue();if(!e)return;const t=e.map(this.getPageTitle);return c.xH(t)}},this.getPageTitle=e=>{const t=this.getBlockValue(e.id);return t&&(0,l.wS)(t,"title")||[]}}willMountOrUpdate(){const{propertySchema:e}=this.props;"text"!==e.type&&"title"!==e.type&&"relation"!==e.type||this.environment.KatexStore.loadIfNeeded(this.getRenderableTextValue)}renderComponent(){const{value:e}=this.props,t=this.props.propertySchema.type;return"checkbox"!==t&&0===e.value.length?this.renderEmptyProperty():"text"===t?this.renderTextProperty():"checkbox"===t?this.renderCheckboxProperty():"multi_select"===t?this.renderMultiSelectProperty():"select"===t?this.renderSelectProperty():"status"===t?this.renderStatusProperty():"person"===t?this.renderPersonProperty():"number"===t?this.renderNumberProperty():"date"===t?this.renderDateProperty():"url"===t?this.renderUrlProperty():"file"===t?this.renderFileProperty():"email"===t?this.renderEmailProperty():"phone_number"===t?this.renderPhoneNumberProperty():"title"===t?this.renderTextProperty():"created_time"===t?this.renderDateProperty():"created_by"===t?this.renderPersonProperty():"relation"===t?this.renderRelationProperty():"auto_increment_id"===t?this.renderNumberProperty():"verification"===t?this.renderVerificationProperty():"formula"===t||"rollup"===t||"last_edited_by"===t||"last_edited_time"===t||"last_visited_time"===t||"button"===t||"location"===t?null:void(0,x.t1)(t)}renderEmptyProperty(){return(0,Z.jsx)("div",{style:{color:this.theme.mediumTextColor,fontSize:12},children:(0,Z.jsx)(v.FormattedMessage,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"})})}renderTextProperty(){const{value:e,disableStyleAnnotations:t=!1,disableDateStyleAnnotations:r=!1}=this.props,i=k.IY({environment:this.environment,textValue:e,parentStore:this.props.rootStore,disableStyleAnnotations:t,disableDateStyleAnnotations:r,disableHover:!0,disabled:!0,theme:this.theme,emojiType:(0,b.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]});return(0,Z.jsx)("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:i})}renderCheckboxProperty(){const e=l.Ml(this.props.value.value);return(0,Z.jsx)("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:e?n.ZP.blue:n.ZP.transparent},children:e?(0,d.e)({fill:n.ZP.white,width:12,height:12}):(0,a.z)()})}renderMultiSelectProperty(){const e=this.props.propertySchema.options||[],t=l.Ak(this.props.value.value);return(0,Z.jsx)("div",{style:{display:"inline-flex"},children:t.map(((t,r,o)=>{const l=e.find((e=>e.value===t)),s=o.length-1===r,d=(0,n.KR)(this.theme,null==l?void 0:l.color),a=t??k.Xh(this.props.value.value,this.props.rootStore);return(0,i.createElement)(P.Z,{...d,key:r,rightMargin:!s},a)}))})}renderSelectProperty(){const e=this.props.propertySchema.options||[],t=l.Sj(this.props.value.value,e),r=t??k.Xh(this.props.value.value,this.props.rootStore),i=e.find((e=>e.value===t)),o=(0,n.KR)(this.theme,null==i?void 0:i.color);return(0,Z.jsx)("div",{style:{display:"inline-flex"},children:(0,Z.jsx)(P.Z,{...o,children:r})})}renderStatusProperty(){const e=this.props.propertySchema,t=l.yp(this.props.value.value,e),r=t??k.Xh(this.props.value.value,this.props.rootStore),i=(e.options??[]).find((e=>e.value===t)),o=(0,n.KR)(this.theme,null==i?void 0:i.color);return(0,Z.jsx)("div",{style:{display:"inline-flex"},children:(0,Z.jsx)(P.Z,{...o,children:r})})}renderPersonProperty(){const e=l.DW({textValue:this.props.value.value,propertySchema:this.props.propertySchema,blockCreatorPointer:void 0}),t=[];return e.forEach(((r,i)=>{const o=e.length-1===i;if(r.table===y.KJ){const e=r.id,l=this.getUserValue(e);t.push((0,Z.jsx)("div",{style:{marginTop:4,marginRight:o?0:8},children:(0,Z.jsx)(T.Z,{userValue:l,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})},i))}else{const e=function(e,t){return S.Qx.createChildStore(t,{table:m.cZ,id:e})}(r.id,this.props.rootStore);t.push((0,Z.jsx)("div",{style:{marginTop:4,marginRight:o?0:8},children:(0,Z.jsx)(B.Z,{botStore:e})},i))}})),(0,Z.jsx)("div",{style:{display:"inline-flex"},children:t})}renderNumberProperty(){const e=l.VY(this.props.value.value);return(0,Z.jsx)("div",{children:e})}renderDateProperty(){const e=this.props.propertySchema,t=l.Gl(this.props.value.value);return(0,Z.jsx)(j.Z,{value:t,dateFormat:e.date_format||s.sF,timeFormat:e.time_format||s.c_})}renderUrlProperty(){return l.zB(this.props.value.value)}renderFileProperty(){const e=l.g(this.props.value.value);return(0,Z.jsx)("div",{style:{display:"inline-flex"},children:e.map(((e,t,r)=>{const i=r.length-1===t;return(0,Z.jsx)(P.Z,{rightMargin:!i,children:e.url},t)}))})}renderEmailProperty(){const e=l.zB(this.props.value.value);return(0,Z.jsx)("div",{children:e})}renderPhoneNumberProperty(){const e=l.zB(this.props.value.value);return(0,Z.jsx)("div",{children:e})}renderRelationProperty(){let e=this.getRelationValue();if(!e)return;if(e.length>5){const t=e.slice(5).length;return e=e.slice(0,5),(0,Z.jsxs)("div",{children:[e.map(this.renderRelation),(0,Z.jsx)("div",{style:{maxWidth:180,color:this.theme.mediumTextColor},children:(0,Z.jsx)(v.FormattedMessage,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:t}})})]})}return(0,Z.jsx)("div",{children:e.map(this.renderRelation)})}renderVerificationProperty(){return(0,Z.jsx)(E,{textValue:this.props.value.value,rootStore:this.props.rootStore})}getBlockStore(e){return S.G.createChildStore(this.props.rootStore,{table:u.iU,id:e})}getBlockValue(e){return this.getBlockStore(e).getValue()}getRelationValue(){if("relation"===this.props.propertySchema.type)return l.j$({relationValue:l.rq(this.props.value.value),getRecordModel:this.getRecordModel,propertySchema:this.props.propertySchema})}}V.displayName="EditProperty";const _=V},75561:(e,t,r)=>{r.d(t,{Z:()=>l});r(67294);var i=r(82990),o=r(85893);function l(e){const{children:t,textColor:r,backgroundColor:l,rightMargin:n,strikethrough:s}=e;return(0,o.jsx)("div",{style:{backgroundColor:l,color:r,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:4,marginRight:n?4:0,textDecoration:s?"line-through":void 0},children:(0,o.jsx)("span",{style:{...i.Z.textOverflowStyle},children:t})})}},42130:(e,t,r)=>{r.d(t,{v:()=>l});var i=r(8848),o=r(82990);class l{static getLabelStyle(e){return{fontSize:12,lineHeight:1,paddingTop:8,color:e.lightTextColor}}static getUserHeaderStyle(e){return{fontSize:12,color:e.mediumTextColor}}static getRoleStyle(){return{fontSize:14,whiteSpace:"nowrap"}}}l.wrapStyle={display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},l.headerStyle={fontWeight:o.Z.fontWeight.semibold},l.subHeaderStyle={fontWeight:o.Z.fontWeight.semibold},l.subSubHeaderStyle={fontWeight:o.Z.fontWeight.semibold},l.permissionStyle={display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},l.groupStyle={display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},l.permissionTypeWrapStyle={display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},l.diffWrapStyle={display:"flex",alignItems:"center"},l.addedStyle={color:i.ZP.blue,backgroundColor:i.ZP.blueWithAlpha(.14)},l.deletedStyle={opacity:.4,marginBottom:6,textDecoration:"line-through"}},25501:(e,t,r)=>{r.d(t,{Z:()=>l});r(67294);var i=r(8848),o=r(85893);const l=function(e){const{children:t,created:r,deleted:l,style:n,theme:s,title:d}=e,a={boxShadow:`inset 0 0 0 1px ${s.regularDividerColor}`,borderRadius:4,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...r&&{color:i.ZP.diffTextColor,backgroundColor:i.ZP.diffBackground},...n},c={fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:s.regularTextColor};return(0,o.jsxs)("div",{style:a,children:[(0,o.jsx)("div",{style:c,children:d}),(0,o.jsx)("div",{style:{...l&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}},children:t})]})}}}]);