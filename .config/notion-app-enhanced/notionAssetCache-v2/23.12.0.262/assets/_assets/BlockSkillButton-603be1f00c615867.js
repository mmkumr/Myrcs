"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6212],{27784:(e,t,l)=>{l.r(t),l.d(t,{BlockSkillButton:()=>y});var i=l(67294),n=l(480),o=l(97511),s=l(86628),a=l(24405),r=l(42875),c=l(20669),u=l(31412),d=l(81598),k=l(19124),f=l(77907),g=l(51214),m=l(23063),p=l(91839),S=l(89728),b=l(26388),h=l(85893);function y(e){window.__c={n:"BlockSkillButton"};const{blockStore:t}=e,l=(0,n.O7)(),y=(0,u.useIntl)(),x=(0,o.l)(),w=(0,s.VK)((()=>{const e=x&&x.publicEditModeStore.state;return(0,k.GD)(e)}),[x]),A=(0,s.VK)((()=>g.Z.isGeneratingFor(t.id)),[t]),{value:v}=(0,f.useDependency)(d.L6),B=(0,s.VK)((()=>null==v?void 0:v.clientSkillHelpers.getClientLocalSkillFromBlock(t)),[t,null==v?void 0:v.clientSkillHelpers]),M=(0,s.VK)((()=>t.isSkillBlock()),[t]),j=(0,s.VK)((()=>{var e;return null===(e=t.getModel())||void 0===e?void 0:e.getRenderTitle({getRecordModel:t.getRecordModel,userTimeZone:(0,r.r)(),intl:y})}),[t,y]),[C,F]=(0,i.useState)(!1),I=(0,i.useRef)(null);(0,i.useEffect)((()=>{F(!0),I.current&&clearTimeout(I.current),I.current=setTimeout((()=>{F(!1)}),1e3)}),[j]);const Z=(0,i.useCallback)((async()=>{const{assistantActions:e}=await d.L6.loader();await e.fillInAiSection({environment:l,blockStore:t})}),[l,t]),T=function(e){const{isGenerating:t}=e;return(0,a.yK)((e=>({container:{display:"flex"},button:{marginTop:3,fill:t?e.lightIconColor:e.aiPurpleColor,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:28,height:28}})),[t])}({isGenerating:A});return M?(0,h.jsx)(m.Z,{isVisible:!C,enterAnimationStyle:{opacity:0},animationStyle:{opacity:C?0:1},exitAnimationStyle:{opacity:0},render:()=>(0,h.jsx)("div",{style:T.container,children:(0,h.jsx)(b.Z,{placement:b.Z.Placement.Bottom,alignment:b.Z.Alignment.Start,renderTooltip:()=>w?j?(0,h.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltipWithTitle",defaultMessage:"Fill {title} with AI",values:{title:j}}):(0,h.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltip",defaultMessage:"Fill with AI"}):(0,h.jsx)(u.FormattedMessage,{id:"blockSkillButton.fillWithAi.tooltipDisabled",defaultMessage:"Enable Notion AI to fill with AI"}),render:e=>(0,h.jsx)(S.Z,{...e,style:T.button,disabled:!B||A||!w,disabledFeedback:!B||A||!w,onClick:async()=>{await Z()},children:A?(0,h.jsx)(p.Z,{}):(0,c.y)({width:16})})})})}):null}}}]);