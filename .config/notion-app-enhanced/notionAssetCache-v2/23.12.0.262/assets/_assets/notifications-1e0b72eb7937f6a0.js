"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1909],{33338:(e,t,o)=>{o.d(t,{Z:()=>l});o(67294);var s=o(480),i=o(24405),n=o(42853),a=o(64921),r=o(85893);function l(e){window.__c={n:"CollectionViewFilterPill"};const{icon:t,title:o,on:l,hasDiff:c,wrapStyle:u,innerStyle:p,hideChevron:h}=e,g=(0,i.Fg)(),m=(0,s.O7)();return(0,r.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...u},children:[(0,r.jsxs)(a.Z,{disabled:e.disabled,style:d(Boolean(l),g,p,m.device.isMobile),hoveredStyle:l?{background:g.outlineBlueButtonHoveredBackground}:void 0,pressedStyle:l?{background:g.outlineBlueButtonPressedBackground}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,o,!h&&(0,n.i)({width:10,marginLeft:4,marginTop:1,fill:l?g.blueColor:g.lightIconColor})]}),c&&(0,r.jsx)("div",{style:{position:"absolute",top:-2,right:-2,background:"dark"===g.mode?g.accentColors.orange[500]:g.accentColors.orange[300],border:`1px solid ${g.contentBackground}`,width:9,height:9,borderRadius:9}})]})}function d(e,t,o,s){return{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:s?28:24,lineHeight:s?"28px":"24px",padding:"0 8px",border:`1px solid ${t.outlineButtonBorder}`,color:t.mediumTextColor,...e&&{color:t.blueColor,border:`1px solid ${t.filterPillBorder}`,background:t.filterPillBackground},...o}}},26494:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ge});var s=o(67294),i=o(83355),n=o(49085),a=o(1464),r=o(98519),l=o(72126),d=o(29477),c=o(97880),u=o(31412),p=o(19719),h=o(17659),g=o(43250),m=o(87279),b=o(51811),f=o(5162),C=o(80444),x=o(4761),M=o(84708),v=o(23063),y=o(36488),T=o(68785),j=o(78140),w=o(89728),Z=o(43145),B=o(30506),k=o(33411),S=o(83785),I=o(61208),U=o(480),P=o(86628),F=o(24405),A=o(6637),L=o(73063),R=o(26388),O=o(85893);function N(e){let{location:t}=e;window.__c={n:"InboxFilterForUnreadButton"};const o=(0,u.useIntl)(),i=(0,U.O7)(),{currentTab:n,showOnlyUnreadNotifications:a,isCurrentTabEmpty:r}=(0,P.VK)((()=>{const{currentTab:e,isCurrentTabEmpty:t}=x.ZP.state;return{currentTab:e,showOnlyUnreadNotifications:"mentions"===e&&x.ZP.state.showOnlyUnreadNotifications,isCurrentTabEmpty:t}}),[]),l=(0,s.useCallback)((async()=>{if(a)x.ZP.update((e=>({...e,showOnlyUnreadNotifications:!1,unreadNotificationIds:[]}))),p.U0(i,{toggled_to:"off"});else{const e=await h.Qy({environment:i});x.ZP.update((t=>({...t,showOnlyUnreadNotifications:!0,unreadNotificationIds:e}))),p.U0(i,{toggled_to:"on"})}}),[i,a]),d=(0,F.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:a?void 0:e.regularTextColor},webUpdatesModalIcon:{height:17,width:17},desktopInboxPanelIcon:{height:18,width:18,...!a&&{fill:e.regularTextColor}}})),[a]);if("mentions"!==n)return null;const g=!a&&r,m=a?(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Show all notifications",id:"updatesModal.unreadNotificationsFilterButton.allTooltip"}):(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Show unread notifications only",id:"updatesModal.unreadNotificationsFilterButton.unreadTooltip"}),b=a?o.formatMessage({defaultMessage:"Show all notifications",id:"updatesModal.unreadNotificationsFilterButton.allTooltipAriaLabel"}):o.formatMessage({defaultMessage:"Show unread notifications only",id:"updatesModal.unreadNotificationsFilterButton.unreadTooltipAriaLabel"});let f,C;switch(t){case"mobileTopBar":f=void 0,C=d.mobileTopBarIcon;break;case"webUpdatesModal":f=!!a||void 0,d.webUpdatesModalIcon;break;case"desktopInboxPanel":f=!!a||void 0,C=d.desktopInboxPanelIcon;break;default:(0,c.t1)(t)}return(0,O.jsx)(R.Z,{disableTooltip:g,renderTooltip:()=>m,render:e=>(0,O.jsx)(L.Z,{icon:A.I,isBlue:a,hovered:f,iconStyle:C,disabled:g,onClick:l,ariaLabel:b,...e})})}const D=s.memo(N);var H=o(82990),_=o(18514),V=o(19034),E=o(74523),K=o(39849),z=o(66957),W=o(52867),G=o(5686),Y=o(50770),X=o(63296);function $(e){let{}=e;window.__c={n:"InboxMentionsActionButtons"};const t=(0,U.Fy)(),o=(0,U.O7)(),i=(0,P.VK)((()=>(0,Y.H)()),[]),n=(0,P.VK)((()=>x.n_.state),[]),a=(0,P.VK)((()=>{const{currentTab:e,isCurrentTabEmpty:t}=x.ZP.state;if("mentions"!==e||t)return;const{containsBothReadAndUnreadNotifications:o,containsUnreadNotifications:s,showOnlyUnreadNotifications:i}=x.ZP.state;return{containsBothReadAndUnreadNotifications:o,containsUnreadNotificationsAccordingToUpdatesStore:s,showOnlyUnreadNotifications:i}}),[]),r=(0,P.VK)((()=>V.Z.getUnreadCountForCurrentSpace().mentions>0),[]),l=(0,s.useCallback)((()=>{p.Xf(o),h.go(o)}),[o]),d=(0,s.useCallback)((()=>{if(!a)return;const{containsBothReadAndUnreadNotifications:e,showOnlyUnreadNotifications:t}=a;let s="none";t?s="unread":e&&(s="read"),p.zD(o,{readFilter:s}),h.rG(o,"mentions",s)}),[o,a]),c=(0,F.yK)((e=>{const o={opacity:1,flex:1,height:t.isMobile?32:27,...i&&{fontSize:14}};return{headerWithBottomBorder:{borderBottom:n?void 0:`1px solid ${e.regularDividerColor}`},container:{display:"flex",marginTop:i&&!t.isMobile?0:12,marginLeft:16,marginRight:16,paddingBottom:12,gap:8},buttons:o,buttonsWithLoweredOpacity:{...o,opacity:.7}}}),[t.isMobile,n,i]);if(!a)return null;const{containsBothReadAndUnreadNotifications:g,containsUnreadNotificationsAccordingToUpdatesStore:m,showOnlyUnreadNotifications:b}=a,f=m||r;return(0,O.jsx)("div",{style:c.headerWithBottomBorder,children:(0,O.jsxs)("div",{style:c.container,children:[(0,O.jsx)(R.Z,{disableTooltip:f,renderTooltip:e=>(0,O.jsx)("div",{...e,children:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"})}),render:e=>(0,O.jsx)(X.Z,{onClick:l,style:f?c.buttons:c.buttonsWithLoweredOpacity,isSmall:!t.isMobile,disabled:!f,icon:i?G.J:void 0,...e,children:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"})})}),(0,O.jsx)(X.Z,{onClick:d,style:c.buttons,isSmall:!t.isMobile,icon:i?W.H:void 0,children:b?(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdates.mentionsTab.archiveUnreadButtonTitle"}):g?(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdates.mentionsTab.archiveReadButtonTitle"}):(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdates.mentionsTab.archiveAllButtonTitle"})})]})})}const Q=s.memo($);var q=o(18442),J=o(50906),ee=o(97799),te=o(92083),oe=o(62820);function se(e){let{location:t}=e;window.__c={n:"InboxNotificationSettingsButton"};const o=(0,u.useIntl)(),i=(0,U.O7)(),n=(0,s.useCallback)((()=>{const{device:e}=i;J.FRk(i),e.isMobile?ee.Z.setState({open:!0,source:ee.Y.Updates}):(oe.Z.setState({...oe.Z.state,open:!1}),(0,Y.r)()?te.Z.setState({...te.Z.state,currentTab:"notifications",defaultSubtab:void 0}):te.Z.setState({...te.Z.state,currentTab:"notifications_and_settings",defaultSubtab:void 0}),te.Z.setState({...te.Z.state,open:!0}))}),[i]),a=(0,F.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:e.regularTextColor},webUpdatesModalIcon:{width:16,height:16}})),[]);let r;switch(t){case"mobileTopBar":r=a.mobileTopBarIcon;break;case"webUpdatesModal":r=a.webUpdatesModalIcon;break;default:(0,c.t1)(t)}return(0,O.jsx)(R.Z,{renderTooltip:()=>(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Open notifications settings",id:"updatesModal.openNotifications.tooltip"}),render:e=>(0,O.jsx)(L.Z,{icon:q.H,iconStyle:r,onClick:n,ariaLabel:o.formatMessage({id:"updatesModal.openNotifications.tooltipAriaLabel",defaultMessage:"Open notifications settings button"}),...e})})}const ie=s.memo(se);var ne=o(79198);function ae(e){let{location:t,onClick:o}=e;window.__c={n:"InboxRefreshAllTabButton"};const s=(0,u.useIntl)(),i=(0,P.VK)((()=>x.ZP.state.currentTab),[]),n=(0,F.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:e.regularTextColor},webUpdatesModalIcon:{height:17,width:17}})),[]);if("allPages"!==i)return null;let a;switch(t){case"mobileTopBar":a=n.mobileTopBarIcon;break;case"webUpdatesModal":a=n.webUpdatesModalIcon;break;default:(0,c.t1)(t)}return(0,O.jsx)(R.Z,{renderTooltip:()=>(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Refresh",id:"updatesModal.allUpdatesRefreshButton.refreshButtonDescription"}),render:e=>(0,O.jsx)(L.Z,{icon:ne.n,iconStyle:a,onClick:o,ariaLabel:s.formatMessage({defaultMessage:"Refresh",id:"updatesModal.allUpdatesRefreshButton.refreshButtonDescriptionAriaLabel"}),...e})})}const re=s.memo(ae);var le=o(92955);function de(e){let{orderedTabConfigs:t,onClickRefreshAllTab:o}=e;window.__c={n:"InboxModalHeader"};const i=(0,U.Fy)(),n=(0,U.O7)(),{currentTab:a,currentTabIndex:r}=(0,P.VK)((()=>{const{currentTab:e}=x.ZP.state,o=t.findIndex((t=>t.tab===e));return{currentTab:e,currentTabIndex:o}}),[t]),l=(0,s.useMemo)((()=>t.map(((e,t)=>{if(e.showSeparatorBefore)return t-1})).filter(c.$K)),[t]),d=(0,P.VK)((()=>V.Z.getUnreadCountForCurrentSpace().mentions>0),[]),p=(0,s.useCallback)((e=>{const o=t[e],s=null==o?void 0:o.tab;s&&a!==s&&h.G7({environment:n,newTab:s,shouldTrack:!0})}),[a,n,t]),m=(0,F.yK)((()=>({mentionsContainer:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:d?H.Z.fontWeight.medium:void 0},tabBarRightStyle:{justifyContent:"space-between"},helpButton:{marginLeft:0,...i.isMobile&&{marginTop:-1}},unreadMentionsBadge:{marginLeft:6},actionButtons:{display:"flex",justifyContent:"center",gap:6}})),[i.isMobile,d]),b=K.Z.Color.Red,f={mentions:(0,O.jsxs)("div",{style:m.mentionsContainer,className:g.I2F,children:[(0,O.jsx)("div",{children:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Inbox",id:"updatesModal.mentionsTab.title"})}),(0,O.jsx)(le.Z,{type:"currentSpace",color:b,style:m.unreadMentionsBadge})]}),allPages:(0,O.jsx)("div",{className:g.gjL,children:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"All",id:"updatesModal.allUpdatesTab.title"})}),archive:(0,O.jsx)("div",{className:g.HKr,children:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Archived",id:"updatesModal.archiveTab.title"})})},C=t.map((e=>f[e.tab])),M="webUpdatesModal",v=!i.isMobile&&(0,O.jsxs)("div",{style:m.actionButtons,children:[(0,O.jsx)(re,{location:M,onClick:o}),(0,O.jsx)(D,{location:M}),(0,O.jsx)(ie,{location:M})]}),y=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(R.Z,{render:e=>(0,O.jsx)(E.Z,{href:(0,_.UY)("guides.notifications"),analyticsFrom:"inbox_tabs_link",style:m.helpButton,...e}),renderTooltip:()=>(0,O.jsx)(u.FormattedMessage,{id:"updatesButton.learnMoreAboutInboxLink",defaultMessage:"Learn more about notifications"})}),v]});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(z.Z,{tabs:C,selectedIndex:r,onChange:p,separatorIndexes:l,right:y,rightStyle:m.tabBarRightStyle}),"mentions"===a&&(0,O.jsx)(Q,{})]})}const ce=s.memo(de);var ue=o(56258);const pe=[{tab:"mentions"},{tab:"archive"},{tab:"allPages",showSeparatorBefore:!0}];class he extends i.Z{constructor(){super(...arguments),this.storeTypes={refreshCountStore:n.default.createClass(0)},this.loadingSpinner=()=>{if((0,f.Y)("supportsNativeHome"))return(0,O.jsx)(k.Z,{show:void 0!==x.ZP.state.loadingId,showDelay:400,showHold:0,render:e=>e?(0,O.jsx)(T.Z,{style:{width:14}}):(0,O.jsx)("div",{style:{width:14}})})},this.handleCloseUpdatesPopup=()=>{p.nI(this.environment),h.G7({environment:this.environment,newTab:"mentions",shouldTrack:!1})},this.handleSwipeLeft=()=>{const e=pe.findIndex((e=>e.tab===x.ZP.state.currentTab)),t=pe[e+1].tab;void 0!==t&&h.G7({environment:this.environment,newTab:t,shouldTrack:!0})},this.handleSwipeRight=()=>{const e=pe.findIndex((e=>e.tab===x.ZP.state.currentTab)),t=pe[e-1].tab;void 0!==t&&h.G7({environment:this.environment,newTab:t,shouldTrack:!0})},this.handleRefreshAll=()=>{const{refreshCountStore:e}=this.stores;e.setState(e.state+1)},this.handleRefreshAllThrottled=l.Ds(this.handleRefreshAll,1e3,{leading:!0})}willUnmount(){this.handleCloseUpdatesPopup()}renderComponent(){const{device:e}=this.environment;let t;const o=(0,O.jsx)(ce,{onClickRefreshAllTab:this.handleRefreshAllThrottled,orderedTabConfigs:pe});if(e.isMobile){const s="mobileTopBar";t={menuType:m.og.Modal,title:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Updates",id:"updatesModal.mobileMenu.title"}),width:this.props.format===b.EX.RenderAsPage?"100vw":void 0,renderAsPage:this.props.format===b.EX.RenderAsPage,right:[(0,O.jsx)(re,{onClick:this.handleRefreshAllThrottled,location:s},"InboxRefreshAllTabButton"),(0,O.jsx)(D,{location:s},"InboxFilterForUnreadButton"),(0,O.jsx)("span",{style:{width:8}},"paddingSpan"),(0,O.jsx)(ie,{location:s},"InboxNotificationSettingsButton")],left:[this.loadingSpinner(),e.isPhone&&(0,f.Y)("supportsNativeHome")&&this.props.format===b.EX.RenderAsPage&&!(0,f.Y)("supportsNativeInbox")?void 0:(0,a.k)({fill:this.theme.regularTextColor,width:26,height:26})],onClickLeft:this.props.onClose,header:o,whiteBackground:!0}}else t={menuType:m.og.Popup,header:o,height:"auto"};return(0,O.jsx)(B.Z,{onSwipeLeft:this.handleSwipeLeft,onSwipeRight:this.handleSwipeRight,render:e=>(0,O.jsxs)(j.Z,{...t,...e,className:g.C18,children:[(0,O.jsx)(Z.Z,{onChange:(e,t)=>{let{offsetFromTop:o}=t;x.n_.setState(o<=0)}}),(0,O.jsx)(y.Z,{capture:!0,allowUndo:!0,allowEsc:!0,allowMobileAutoScroll:!0,render:()=>this.props.format===b.EX.RenderAsPage?this.renderContentAsPageWithLazyLoader():this.renderContent()})]})})}renderContent(){const e=x.ZP.state.currentTab;if("allPages"===e){const{currentSpaceStore:e,mainEditorCurrentBlockStore:t}=C.default.state;return e&&t?(0,O.jsx)(M.Z,{spaceId:e.id,empty:()=>(0,O.jsx)(I.Z,{message:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Updates on pages in your workspace will appear here.",id:"updatesModal.allPagesTab.emptyPrompt"}),title:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"No new updates",id:"updatesModal.allPagesTab.emptyPromptTitle"})}),source:"notifications_tab"},`all-pages-${this.stores.refreshCountStore.state}`):null}if("mentions"===e){const e=x.ZP.state.showOnlyUnreadNotifications;return(0,O.jsx)(ue.Z,{type:"mentions",empty:e?(0,O.jsx)(me,{}):(0,O.jsx)(I.Z,{message:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"You'll be notified here for @mentions, page activity, requests, and page invites.",id:"updatesModal.spaceUpdatesTab.allArchivedRequests"}),title:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"You're all caught up",id:"updatesModal.spaceUpdatesTab.allArchivedTitle"})}),source:"notifications_tab",tab:"inbox"},"mentions")}if("archive"===e)return(0,O.jsx)(ue.Z,{type:"archive",empty:(0,O.jsx)(I.Z,{message:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"updatesModal.archiveTab.emptyPrompt"}),title:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"No archived updates",id:"updatesModal.archiveTab.emptyPromptTitle"})}),source:"notifications_tab",tab:"archive"},"archive");(0,c.t1)(e)}renderContentAsPageWithLazyLoader(){return(0,O.jsx)(S.Z,{fetch:async()=>{await d.Vs(0),await C.default.waitUntil((()=>void 0!==C.default.state.currentSpaceStore))},loading:()=>(0,O.jsx)(s.Fragment,{}),willRender:()=>{var e;null===(e=this.environment.mobileNative)||void 0===e||e.markTransitionReady({type:"updates"})},render:()=>(0,O.jsx)(v.Z,{isVisible:!0,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},blockRenderQueueOnEnter:!0,render:()=>this.renderContent()})})}}he.displayName="UpdatesPopup",he.Format=b.EX;const ge=he;function me(){return(0,O.jsx)(I.Z,{icon:r.k,title:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"You've read everything",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabTitle"}),message:(0,O.jsxs)("div",{children:[(0,O.jsx)(u.FormattedMessage,{defaultMessage:"You have more notifications in your inbox.",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabMessage"}),(0,O.jsx)("div",{style:{height:12}}),(0,O.jsx)(w.Z,{isBlue:!0,onClick:()=>{"mentions"===x.ZP.state.currentTab&&x.ZP.setState({...x.ZP.state,showOnlyUnreadNotifications:!1,unreadNotificationIds:[]})},children:(0,O.jsx)(u.FormattedMessage,{defaultMessage:"See all",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabButton"})})]})})}},93481:(e,t,o)=>{o.d(t,{Z:()=>T});o(67294);var s=o(83355),i=o(69651),n=o(97880),a=o(31412),r=o(48141),l=o(41558),d=o(33338),c=o(42922),u=o(52275),p=o(3386),h=o(89728),g=o(53437),m=o(72495),b=o(83264),f=o(255),C=o(75689),x=o(91642),M=o(8319),v=o(85893);class y extends s.Z{constructor(){super(...arguments),this.storeTypes={store:l.Z},this.renderActiveButtonOrigin=()=>{const{value:e,dateFormat:t,disabled:o,focused:s,intl:n}=this.props,a=this.styles,l=this.getThemeColors(),d={...a.menuItem,...l.activeMenuItem},c=r._Q(e,n,t),p=(0,v.jsx)(f.Z,{onClick:this.handleClear,disabled:o});return(0,v.jsx)(u.Z,{focused:s,disabled:o,icon:(0,i.C)(a.iconActiveDesktop),title:c,right:p,isTokenTitle:!0,alignIconTop:!0,onClick:this.handleOriginActivate,desktopTitleStyle:a.menuItemTitleDesktop,desktopIconStyle:a.iconActiveDesktopWrapper,style:d})},this.renderInactiveButtonOrigin=()=>{const{title:e,icon:t,disabled:o,focused:s,mode:i}=this.props,n=this.styles,a=this.getThemeColors(),r={...n.menuItem,...a.buttonMenuItem,...i===M.Z.Mode.Pill?{width:"fit-content",border:"solid 1px",paddingLeft:0,paddingRight:0,borderRadius:20,fontSize:12}:{}};return(0,v.jsx)(u.Z,{focused:s,disabled:o,icon:t(n.icon),title:e,onClick:this.handleOriginActivate,style:r})},this.renderPillButtonOrigin=()=>{const{value:e,title:t}=this.props;return(0,v.jsx)(d.Z,{on:Boolean(e.starting||e.ending),icon:(0,i.C)({width:16,marginRight:6,fill:"currentColor"}),title:(0,v.jsx)("span",{children:t}),onClick:this.handleOriginActivate})},this.renderPopupContents=()=>{const{title:e,showButtons:t}=this.props,{store:o}=this.stores;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{title:e,value:this.getCurrentValue(),onUpdate:this.updateTemporary,store:o,onDismiss:this.handleMenuClose}),t&&(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"0px 10px"},children:[(0,v.jsx)(h.Z,{isGray:!0,style:{marginLeft:"auto",marginRight:8},onClick:this.handleMenuClose,children:(0,v.jsx)(a.FormattedMessage,{defaultMessage:"Cancel",id:"searchDateFilter.cancelButton.label"})}),(0,v.jsx)(c.Z,{onClick:()=>this.props.onChange(this.stores.store.state.temporaryDateRange),children:(0,v.jsx)(a.FormattedMessage,{defaultMessage:"Accept",id:"searchDateFilter.acceptButton.label"})})]})]})},this.renderFooter=()=>{const{store:e}=this.stores;return(0,v.jsxs)(m.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"},children:[(0,v.jsx)(h.Z,{onClick:()=>{e.setState({...e.state,temporaryDateRange:{starting:void 0,ending:void 0}}),this.props.onChange({})},children:(0,v.jsx)(a.FormattedMessage,{id:"searchDateFilter.clearButton",defaultMessage:"Clear"})}),(0,v.jsx)(c.Z,{onClick:this.handleMenuClose,children:(0,v.jsx)(a.FormattedMessage,{id:"searchDateFilter.applyButton",defaultMessage:"Apply"})})]})},this.handleOriginActivate=()=>{const{disabled:e}=this.props,{store:t}=this.stores;e||t.setState({...t.state,isOpen:!0,focus:"starting"})},this.handleMenuClose=e=>{const{onChange:t,onMenuDismiss:o}=this.props,{store:s}=this.stores,{temporaryDateRange:i}=s.state;r.zD(e)||(this.props.showButtons||t(i),s.setState({...s.state,isOpen:!1,temporaryDateRange:{starting:void 0,ending:void 0}}),o&&o())},this.handleClear=()=>{const{onChange:e}=this.props;e({starting:void 0,ending:void 0})},this.handleMenuListKey=e=>{e.preventDefault&&e.preventDefault()},this.updateTemporary=e=>{const{store:t}=this.stores;if(!e.error)return t.setState({...t.state,temporaryDateRange:{...t.state.temporaryDateRange,...e.value}})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},icon:{height:14,width:14,fill:"currentColor"},iconActiveDesktop:{height:14,width:14,fill:"currentColor",alignSelf:"flex-start",marginTop:2,marginRight:2},iconActiveDesktopWrapper:{marginTop:0},iconActiveMobile:{height:14,width:14,fill:"currentColor",marginTop:1,marginRight:6},popup:{paddingTop:12,paddingBottom:8},menuItemTitleDesktop:{width:"100%"},sectionMenuItem:{display:"flex"},summary:{display:"inline-flex"}}}didMount(){this.updateTemporary({value:this.props.value})}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?this.renderMobile(t):this.renderDesktop(t)}renderDesktop(e){const{title:t}=this.props,{store:o}=this.stores,s=this.styles,i=e===M.z.Section,a=i?t:void 0,r=(()=>e===M.Z.Mode.Section?this.renderActiveButtonOrigin():e===M.Z.Mode.Button?this.renderInactiveButtonOrigin():e===M.Z.Mode.Pill?this.renderPillButtonOrigin():void(0,n.t1)(e))();return(0,v.jsx)(x.Z,{title:a,marginAfter:i,children:(0,v.jsx)(p.Z,{capture:o.state.isOpen,onUp:this.handleMenuListKey,onDown:this.handleMenuListKey,onEnter:this.handleMenuListKey,children:(0,v.jsx)(g.ZP,{popupType:this.getPopupType(),open:o.state.isOpen,origin:r,render:this.renderPopupContents,onDismiss:this.handleMenuClose,placementToOrigin:g.ZP.Placement.Bottom,alignmentToOrigin:g.ZP.Alignment.Start,keepFocus:!0,style:s.popup})})})}renderMobile(e){const{store:t}=this.stores,o=e===M.z.Section?this.renderMobileFilterSummary():this.renderMobileButtonOrigin();return(0,v.jsx)(g.ZP,{popupType:g.ZP.PopupType.SlideUp,open:t.state.isOpen,origin:o,render:this.renderPopupContents,onDismiss:this.handleMenuClose,preventScaleTransition:!0})}renderMobileButtonOrigin(){const{icon:e,title:t,disabled:o}=this.props,s=this.styles;return(0,v.jsx)(u.Z,{disabled:o,focused:!1,icon:e(s.icon),title:t,onClick:this.handleOriginActivate})}renderMobileFilterSummary(){const{title:e,value:t,dateFormat:o,disabled:s,intl:n}=this.props,a=this.styles,l=(0,v.jsxs)("div",{style:a.summary,children:[(0,i.C)(a.iconActiveMobile),r._Q(t,n,o)]});return(0,v.jsx)(C.Z,{disabled:s,onClick:this.handleOriginActivate,onClickClear:this.handleClear,label:e,title:l})}getCurrentValue(){const{value:e}=this.props,{store:t}=this.stores,{temporaryDateRange:o}=t.state;return{...e,...o}}getPopupType(){const{device:e}=this.environment;return e.isMobile?g.ZP.PopupType.SlideUp:g.ZP.PopupType.Popup}getThemeColors(){return{buttonMenuItem:{color:this.theme.mediumTextColor},activeMenuItem:{color:this.theme.regularTextColor}}}}y.displayName="SearchDateFilter";const T=(0,a.injectIntl)(y)},32856:(e,t,o)=>{o.d(t,{D:()=>n});var s=o(86628),i=o(77080);function n(e){window.__c={n:"ExperimentSwitch"};const{experimentId:t,groups:o,disableExposureLogging:n}=e;return o[function(e){const{experimentId:t,disableExposureLogging:o,defaultGroup:n}=e;return(0,s.VK)((()=>i.default.getEligibleGroup({experimentId:t,defaultGroup:n??"control",disableExposureLogging:o})),[t,o,n])}({experimentId:t,disableExposureLogging:n})]}},83176:(e,t,o)=>{o.d(t,{z:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("analyticsSearch",{viewBox:"0 0 51 52",svg:(0,i.jsx)("path",{d:"M.414 21.297c0 2.86.533 5.543 1.6 8.049a21.156 21.156 0 004.468 6.576 20.797 20.797 0 006.577 4.443c2.505 1.067 5.18 1.6 8.023 1.6 2.116 0 4.13-.305 6.043-.914a21.55 21.55 0 005.332-2.565l11.654 11.655a3.44 3.44 0 001.245.812c.473.186.964.28 1.472.28.728 0 1.371-.17 1.93-.508a3.48 3.48 0 001.32-1.346 3.887 3.887 0 00.482-1.93 3.8 3.8 0 00-.279-1.447 3.126 3.126 0 00-.787-1.193l-11.578-11.63a20.414 20.414 0 002.818-5.51c.694-2.013 1.041-4.138 1.041-6.372 0-2.844-.541-5.51-1.625-7.998a20.718 20.718 0 00-4.443-6.602 20.515 20.515 0 00-6.602-4.468c-2.488-1.067-5.162-1.6-8.023-1.6-2.844 0-5.518.533-8.023 1.6a20.592 20.592 0 00-6.577 4.468A21.072 21.072 0 002.014 13.3c-1.067 2.488-1.6 5.154-1.6 7.998zm5.408 0c0-2.1.39-4.071 1.168-5.916a15.517 15.517 0 013.301-4.875 15.168 15.168 0 014.875-3.276c1.845-.795 3.817-1.193 5.916-1.193 2.116 0 4.096.398 5.941 1.193a14.877 14.877 0 014.85 3.276 15.515 15.515 0 013.3 4.875c.796 1.845 1.194 3.817 1.194 5.916 0 2.116-.398 4.096-1.193 5.941a15.517 15.517 0 01-3.301 4.875 15.426 15.426 0 01-4.85 3.276c-1.845.795-3.825 1.193-5.941 1.193-2.099 0-4.07-.398-5.916-1.193a15.737 15.737 0 01-4.875-3.276 15.52 15.52 0 01-3.3-4.875c-.78-1.845-1.169-3.825-1.169-5.941zm15.31 10.36c.458 0 .746-.263.864-.788.237-1.32.474-2.437.711-3.351.254-.931.559-1.693.914-2.286a4.554 4.554 0 011.397-1.498c.575-.389 1.311-.694 2.209-.914.914-.237 2.056-.448 3.427-.634.542-.085.813-.381.813-.89 0-.507-.271-.812-.813-.913-1.354-.17-2.496-.373-3.427-.61-.915-.253-1.668-.567-2.26-.939a4.814 4.814 0 01-1.422-1.498c-.373-.61-.677-1.363-.914-2.26a42.337 42.337 0 01-.635-3.326c-.084-.542-.372-.813-.863-.813s-.796.263-.914.788a53.724 53.724 0 01-.737 3.377c-.22.914-.507 1.675-.863 2.285a4.64 4.64 0 01-1.396 1.472c-.576.373-1.32.677-2.235.914-.914.22-2.048.424-3.402.61-.559.101-.838.406-.838.914 0 .49.28.787.838.889 1.693.186 3.055.44 4.088.761 1.032.305 1.828.762 2.387 1.371.575.61 1.015 1.44 1.32 2.489.305 1.05.584 2.395.838 4.037a1 1 0 00.279.584c.17.152.38.228.635.228z"})})},82855:(e,t,o)=>{o.d(t,{E:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,i.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},64878:(e,t,o)=>{o.d(t,{h:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("dot",{viewBox:"0 0 5 4",svg:(0,i.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},6637:(e,t,o)=>{o.d(t,{I:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("filterCircled",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.667 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM4.41797 6.75879H11.5889C11.9307 6.75879 12.1699 6.54688 12.1699 6.22559C12.1699 5.9043 11.9307 5.68555 11.5889 5.68555H4.41797C4.07617 5.68555 3.84375 5.9043 3.84375 6.22559C3.84375 6.54688 4.07617 6.75879 4.41797 6.75879ZM5.36816 9.02148H10.6455C10.9805 9.02148 11.2197 8.80273 11.2197 8.48145C11.2197 8.16016 10.9805 7.94141 10.6455 7.94141H5.36816C5.02637 7.94141 4.78711 8.16016 4.78711 8.48145C4.78711 8.80273 5.02637 9.02148 5.36816 9.02148ZM6.35254 11.2773H9.6543C9.99609 11.2773 10.2354 11.0654 10.2354 10.7441C10.2354 10.4229 9.99609 10.2041 9.6543 10.2041H6.35254C6.01074 10.2041 5.77148 10.4229 5.77148 10.7441C5.77148 11.0654 6.01074 11.2773 6.35254 11.2773Z"})})},12392:(e,t,o)=>{o.d(t,{S:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("historyBack",{viewBox:"0 0 14 14",svg:(0,i.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})},8843:(e,t,o)=>{o.d(t,{h:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("mailRound",{viewBox:"0 0 17 12",svg:(0,i.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},79198:(e,t,o)=>{o.d(t,{n:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("refresh",{viewBox:"0 0 24 20",svg:(0,i.jsx)("path",{d:"M0.19663 9.99023C-0.184229 10.5273-0.00844799 11.0059 0.694677 11.0059L2.04233 11.0059C2.56968 15.9766 6.85679 19.9219 11.9447 19.9219C14.9232 19.9219 17.6185 18.5645 19.4544 16.4551C19.8158 16.0352 19.7669 15.5078 19.3861 15.2344C19.0052 14.9609 18.5365 15.0586 18.224 15.4199C16.7103 17.168 14.4642 18.2617 11.9447 18.2617C7.68686 18.2617 4.22007 15.1074 3.72202 11.0059L5.1771 11.0059C5.87046 11.0059 6.04624 10.5273 5.67515 10L3.48765 6.88477C3.17515 6.43555 2.7064 6.42578 2.38413 6.88477ZM4.44468 3.4668C4.07358 3.88672 4.12241 4.4043 4.51304 4.67773C4.8939 4.95117 5.35288 4.86328 5.67515 4.50195C7.19858 2.76367 9.44468 1.66016 11.9447 1.66016C16.1927 1.66016 19.6595 4.81445 20.1673 8.92578L18.7123 8.92578C18.0189 8.92578 17.8431 9.39453 18.2142 9.93164L20.4017 13.0469C20.7142 13.4961 21.183 13.5059 21.5052 13.0469L23.683 9.94141C24.0736 9.39453 23.888 8.92578 23.1849 8.92578L21.847 8.92578C21.3099 3.95508 17.0326 0 11.9447 0C8.96616 0 6.28061 1.34766 4.44468 3.4668Z"})})},45137:(e,t,o)=>{o.d(t,{o:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("speechBubbleThin",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M4.73926 15.6797C5.12207 15.6797 5.40918 15.4951 5.87402 15.085L8.21875 13.0068H12.3545C14.4121 13.0068 15.5674 11.8311 15.5674 9.80078V4.49609C15.5674 2.46582 14.4121 1.29004 12.3545 1.29004H3.63867C1.58105 1.29004 0.425781 2.46582 0.425781 4.49609V9.80078C0.425781 11.8311 1.6084 13.0068 3.59082 13.0068H3.87109V14.6953C3.87109 15.3037 4.19238 15.6797 4.73926 15.6797ZM5.07422 14.1758V12.2275C5.07422 11.8242 4.90332 11.667 4.51367 11.667H3.67285C2.38086 11.667 1.76562 11.0176 1.76562 9.75977V4.53711C1.76562 3.2793 2.38086 2.62988 3.67285 2.62988H12.3135C13.6055 2.62988 14.2275 3.2793 14.2275 4.53711V9.75977C14.2275 11.0176 13.6055 11.667 12.3135 11.667H8.14355C7.7334 11.667 7.52832 11.7354 7.24121 12.0361L5.07422 14.1758ZM4.51367 5.35059H11.4043C11.6367 5.35059 11.8281 5.15918 11.8281 4.91992C11.8281 4.69434 11.6367 4.50293 11.4043 4.50293H4.51367C4.28125 4.50293 4.09668 4.69434 4.09668 4.91992C4.09668 5.15918 4.28125 5.35059 4.51367 5.35059ZM4.51367 7.53125H11.4043C11.6367 7.53125 11.8281 7.33301 11.8281 7.10059C11.8281 6.86816 11.6367 6.67676 11.4043 6.67676H4.51367C4.28125 6.67676 4.09668 6.86816 4.09668 7.10059C4.09668 7.33301 4.28125 7.53125 4.51367 7.53125ZM4.51367 9.70508H9.00488C9.2373 9.70508 9.42188 9.51367 9.42188 9.28125C9.42188 9.04199 9.2373 8.85742 9.00488 8.85742H4.51367C4.28125 8.85742 4.09668 9.04199 4.09668 9.28125C4.09668 9.51367 4.28125 9.70508 4.51367 9.70508Z"})})}}]);