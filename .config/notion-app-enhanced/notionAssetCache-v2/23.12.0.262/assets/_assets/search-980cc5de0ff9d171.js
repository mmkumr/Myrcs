"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6464],{10912:(e,t,r)=>{r.d(t,{Z:()=>M});r(57658),r(67294);var i=r(83355),s=r(27531),n=r(41432),o=r(80951),l=r(95538),a=r(21202),d=r(97880),h=r(78316),p=r(17311),c=r(35328),u=r(26350),m=r(24927),g=r(12981),v=r(43568),y=r(81865),C=r(33411),S=r(35541),x=r(85893);function b(e){return"number"==typeof e}class f extends i.Z{constructor(){super(...arguments),this.renderContentBlock=e=>{const{store:t,renderAdditionalBlocks:r,rendererBlockStyle:i}=this.props,n=u.G.createChildStore(t,{table:a.iU,id:e}),o=n.getType(),l=r&&void 0!==o?(0,S.u)(n):(0,m.h)(n);if(l)return(0,x.jsx)(s.D,{value:this.restrictedContentStore,children:(0,x.jsx)(l,{store:n,disabled:!0,disableCommentMenu:!0,disableHoverMenu:!0,hideContent:(0,c.BX)(n),style:{fontSize:12,opacity:.8,pointerEvents:"none",...i},isQuickFind:!0,numberedListCounterStore:this.createComputedStore((()=>({depth:0,numberedListBlockIdsWithFormat:this.createNumberedListCounterStore(e)})))})},e)},this.coverStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:t=!1}=this.props,r=(0,h.NU)(e,t);return r.image?r.image:!(this.props.showLoadingShimmer&&0===r.blockIds.length&&!r.isDefined)&&r.blockIds})),this.restrictedContentStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:t=!1}=this.props,r=(0,h.wK)(e,t);return r.image?void 0:r.blockIds})),this.numberedLists=this.createComputedStore((()=>{const{store:e}=this.props,t=this.coverStore.state,r=[];if(Array.isArray(t)){let i=0;for(;i<t.length;){let s=t[i],o=u.G.createChildStore(e,{table:a.iU,id:s});if(o.getType()===n.Ti.numberedList){const l=[{blockId:s,idx:1}],d=[{id:s,format:void 0,depth:l.length-1,index:l[0].idx}];for(i+=1;i<t.length&&(s=t[i],o=u.G.createChildStore(e,{table:a.iU,id:s}),o.getType()===n.Ti.numberedList);){{const e=o.getParentId();if(o.getParentId()===l[l.length-1].blockId)l.push({blockId:s,idx:1});else{let t=l[l.length-1].idx;for(;l.length>0&&l[l.length-1].blockId!==e;)t=l[l.length-1].idx,l.pop();l.push({blockId:s,idx:t+1})}d.push({id:s,format:void 0,depth:l.length-1,index:l[l.length-1].idx})}i+=1}r.push(d)}else i+=1}}return r}))}didUpdate(e){this.props.coverFormat.type!==e.coverFormat.type&&this.props.onLoadProxiedImage()}renderComponent(){const{coverFormat:e}=this.props;return"page_cover"===e.type?this.renderPageCover():"page_content"===e.type?this.renderPageContent():"property"===e.type?this.renderProperty(e.property):void 0}renderPageCover(){var e;const{store:t}=this.props,r=null===(e=t.getCover())||void 0===e?void 0:e.cover;return r?(0,x.jsxs)("div",{style:this.getImageCoverWrapStyle(),children:[(0,x.jsx)(y.Z,{url:r,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:T(this.props.coverWidth,this.props.coverSizeFormat),onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),render:(e,t)=>{if(t)return(0,x.jsx)(g.Z,{style:{...j(this.props.style),...this.getCoverStyle(),...F(this.props.coverAspectFormat),objectPosition:`center ${100*(1-I(this.props.store,this.props.coverPosition))}%`},src:t})}}),this.renderImageBorder()]}):this.props.showEmptyGalleryCover?this.renderEmptyGalleryCover():void 0}renderPageContent(){const e=this.coverStore.state,t=this.restrictedContentStore.state;if(!1===e)return this.renderLoadingShimmer();if(e){if(!Array.isArray(e))return(0,x.jsxs)("div",{style:this.getImageCoverWrapStyle(),children:[(0,x.jsx)(y.Z,{url:e.url,onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),isAuthenticated:!0,permissionRecord:e.pointer,width:T(this.props.coverWidth,this.props.coverSizeFormat),render:(e,t)=>{if(t)return(0,x.jsx)(g.Z,{style:{...j(this.props.style),...this.getPageContentImageStyle(),...F(this.props.coverAspectFormat),objectPosition:`center ${100*(1-I(this.props.store,this.props.coverPosition))}%`},src:t})}}),this.renderImageBorder()]});if(e.length>0)return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{style:this.getContentWrapStyle(),children:[t?e.filter((e=>t.indexOf(e)>=0)).map(this.renderContentBlock):e.map(this.renderContentBlock),this.props.coverContentFadedOverlay&&(0,x.jsx)("div",{style:this.getContentFadedOverlayStyle()})]})});if(this.props.showEmptyGalleryCover)return this.renderEmptyGalleryCover()}else if(this.props.showEmptyGalleryCover)return this.renderEmptyGalleryCover()}renderProperty(e){const{store:t}=this.props,r=(0,o.g)(t.getPropertyValue(e)).find((e=>(0,l.SR)({url:e.url})));return r?(0,x.jsxs)("div",{style:this.getImageCoverWrapStyle(),children:[(0,x.jsx)(y.Z,{onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),url:r.url,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:T(this.props.coverWidth,this.props.coverSizeFormat),render:(e,t)=>{if(t)return(0,x.jsx)(g.Z,{style:{...j(this.props.style),...this.getCoverStyle(),...F(this.props.coverAspectFormat),objectPosition:`center ${100*(1-I(this.props.store,this.props.coverPosition))}%`},src:t})}}),this.renderImageBorder()]}):this.props.showEmptyGalleryCover?this.renderEmptyGalleryCover():void 0}renderEmptyGalleryCover(){return(0,x.jsx)("div",{style:{height:k(this.props.coverHeight,this.props.coverSizeFormat),...this.props.emptyGalleryCoverStyle}})}renderLoadingShimmer(){return(0,x.jsx)("div",{style:{height:k(this.props.coverHeight,this.props.coverSizeFormat),...this.props.loadingShimmerStyle},children:(0,x.jsx)(C.Z,{show:!0,showDelay:100,showHold:0,render:e=>e?(0,x.jsx)(v.Z,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]}):void 0})})}renderImageBorder(){switch(this.props.variant){case"default":return null;case"gallery":return(0,x.jsx)("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:`1px solid ${this.theme.regularDividerColor}`}});default:(0,d.t1)(this.props.variant)}}createNumberedListCounterStore(e){const t=this.numberedLists.state;for(const r of t)if(r.find((t=>t.id===e)))return r;return[]}getImageCoverWrapStyle(){return{height:k(this.props.coverHeight,this.props.coverSizeFormat),position:"relative",pointerEvents:"none",overflow:"hidden",...this.props.imageCoverWrapStyle}}getContentWrapVariantStyle(){const{ThemeStore:e}=this.environment,t="dark"===e.state.mode;switch(this.props.variant){case"default":return{};case"gallery":return{background:this.theme.collectionGalleryPreviewCardCover,padding:"8px 8px 0",boxShadow:t?"transparent":`inset 0 -1px 0 0 ${this.theme.regularDividerColor}`,...this.props.contentWrapStyle};default:(0,d.t1)(this.props.variant)}}getContentWrapStyle(){return{height:k(this.props.coverHeight,this.props.coverSizeFormat),pointerEvents:"none",overflow:"hidden",position:this.props.coverContentFadedOverlay?"relative":"static",...this.getContentWrapVariantStyle(),...this.props.contentWrapStyle}}getContentFadedOverlayStyle(){return{width:"100%",height:40,position:"absolute",bottom:0,left:0,background:`linear-gradient(to bottom, transparent, ${this.theme.accentColors.gray[30]} 100%)`,...this.props.coverContentFadedOverlayStyle}}getCoverVariantStyle(){switch(this.props.variant){case"default":return{border:`1px solid ${this.theme.stroke.regular}`,borderRadius:4};case"gallery":return{borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1};default:(0,d.t1)(this.props.variant)}}getCoverStyle(){return{width:"100%",height:k(this.props.coverHeight,this.props.coverSizeFormat),...this.getCoverVariantStyle(),objectPosition:"center"}}getPageContentImageStyle(){return{...this.getCoverStyle(),objectPosition:"center center"}}}f.displayName="CollectionItemCover";const M=f;function I(e,t){if(b(t))return t;if(e.getFormatStore().isDefined()){const{page_cover_position:t,card_cover_position:r}=e.getFormat();if(b(r))return r;if(b(t))return t}return.5}function j(e){return e||{}}function k(e,t){if(e)return e;switch(t){case"large":return p.Z.card.desktop.large.height;case"small":return p.Z.card.desktop.small.height;case"medium":default:return p.Z.card.desktop.medium.height}}function T(e,t){return e||(0,h.rD)(t)}function F(e){return{objectFit:void 0===e?"cover":e}}},255:(e,t,r)=>{r.d(t,{Z:()=>l});r(67294);var i=r(480),s=r(53465),n=r(73063),o=r(85893);const l=function(e){window.__c={n:"MenuItemRemoveButton"};const t=(0,i.O7)(),r={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:l,disabled:a}=e,{device:d}=t,h=d.isMobile?{...r.removeFilterButton,...r.removeFilterButtonMobile}:r.removeFilterButton;return(0,o.jsx)(n.Z,{icon:s.X,onClick:l,disabled:a,disableBackground:!0,style:h})}},97820:(e,t,r)=>{r.d(t,{Z:()=>u});r(67294);var i=r(83355),s=r(99036),n=r(39068),o=r(82990),l=r(19124),a=r(61766),d=r(33846),h=r(76836),p=r(85893);class c extends i.Z{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:a.Z,nameInputStore:d.Z}}renderComponent(){const{device:e}=this.environment,{propertySchema:t,showIcon:r,hideName:i,showBadge:s,style:n}=this.props,l=e.isMobile?16:14;return(0,p.jsxs)("div",{style:{...c.baseStyle,fontSize:l,...n},children:[r&&(0,p.jsx)("div",{style:m(this.props.hideName,this.props.iconStyle),children:this.renderIcon()}),!i&&(0,p.jsx)("div",{style:{...o.Z.textOverflowStyle},children:t.name}),s&&this.renderBadge()]})}renderIcon(){const{device:e}=this.environment,{propertySchema:t}=this.props,{theme:r}=this,i=e.isMobile?18:16;return(0,p.jsx)(n.ZP,{type:t.type,icon:t.icon,size:this.props.iconSize||i,theme:r,style:this.props.iconStyle})}renderBadge(){const{propertySchema:e}=this.props;if((0,l.Zt)(this.environment)&&s.qQ(e)&&s.q3(e)&&("text"===e.type||(0,l.KZ)()))return(0,p.jsx)(h.Z,{})}}c.displayName="Property",c.baseStyle={display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0};const u=c;function m(e,t){return{marginRight:e?void 0:6,...t}}},83890:(e,t,r)=>{r.d(t,{Z:()=>S});var i=r(67294),s=r(83355),n=r(66897),o=r(22686),l=r(19889),a=r(7928),d=r(31412),h=r(31299),p=r(26350),c=r(92864),u=r(93044),m=r(255),g=r(97680),v=r(8319),y=r(85893);class C extends s.Z{constructor(){super(...arguments),this.renderFilterListItem=(e,t)=>{let{disabled:r,onRemove:i,onClick:s}=t;const o=this.styles,l=this.getUserValue(e),a=(0,y.jsx)(m.Z,{disabled:r,onClick:i});return(0,y.jsx)(g.Z,{disabled:r,focused:!1,actor:(0,n.m3)(l),right:a,style:o.menuItem,desktopTitleStyle:o.menuItemTitle,onClick:s},e)},this.renderItemForSummary=e=>(0,a.Nz)(this.props.intl,this.getUserValue(e)),this.renderToken=(e,t)=>{const{userIds:r}=this.props,i=1===r.length,s=this.getUserValue(e);if(s)return(0,y.jsx)(c.ZP,{format:this.environment.device.isMobile?u.lP.Large:u.lP.Small,showRemoveButton:!0,isSingle:i,onClickRemove:t.onRemove,actor:(0,n.m3)(s),shouldShrink:!0,style:{background:"transparent"}},e)},this.renderResultMenuItem=(e,t)=>{const r=this.getUserValue(e);return(0,i.createElement)(g.Z,{...t,key:e,actor:(0,n.m3)(r)})},this.performRequest=async e=>{let{query:t,current:r}=e;const i=new Set(r);return(await h.Yu({environment:this.environment,query:t,membersOnly:!1})).filter((e=>!i.has(e.id))).slice(0,20).map((e=>e.id))},this.getUserValue=e=>this.createUserStore(e).getValue(),this.createUserStore=e=>{const{parentStore:t}=this.props;return p.U6.createChildStore(t,{table:l.KJ,id:e})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}renderComponent(){const{mode:e,title:t,userIds:r,onChange:i,disabled:s,focused:n,onMenuDismiss:l,onMenuOpen:a,intl:h}=this.props;return(0,y.jsx)(v.Z,{mode:e,title:t,icon:o.f,iconStyles:this.styles.recordIcon,items:r,onChange:i,disabled:s,focused:n,renderFilter:this.renderFilterListItem,renderToken:this.renderToken,renderItemForSummary:this.renderItemForSummary,addItemLabel:(0,y.jsx)(d.FormattedMessage,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:t,tokenInputPlaceholder:h.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:this.performRequest,renderResultMenuItem:this.renderResultMenuItem,onMenuDismiss:l,onMenuOpen:a,hasItemsSelected:(null==r?void 0:r.length)>0})}}C.displayName="SearchPersonFilter";const S=(0,d.injectIntl)(C)},8319:(e,t,r)=>{r.d(t,{z:()=>O,Z:()=>U});var i=r(67294),s=r(83355),n=r(47453),o=r(72126),l=r(97880),a=r(31412),d=r(75024),h=r(49085);class p extends h.default{getInitialState(){return{isMenuOpen:!1,inputTemporaryValue:"",indexToReplace:void 0,popupOriginRect:void 0}}}const c=p;var u=r(33338),m=r(42922),g=r(52275),v=r(89728),y=r(53437),C=r(72495),S=r(75689),x=r(91642),b=r(68626),f=r(91155),M=r(87279),I=r(29798),j=r(72087),k=r(78140),T=r(32163),F=r(43765),Z=r(40721),L=r(77137),R=r(47082),B=r(85893);class P extends s.Z{constructor(){super(...arguments),this.storeTypes={requestStore:j.Z,menuListStore:I.Z},this.renderRequest=(e,t,r)=>{const{labelText:i,value:s}=this.props,{menuListStore:n}=this.stores,o=e=>(0,B.jsx)(C.Z,{...e,title:i.resultSectionTitle,loading:!r});if(e)return b.log({level:"error",from:i.componentDebugName,type:"requestFailed",error:(0,f.Ui)(e),data:{miscDataToConvertToString:{query:s}}}),(0,B.jsx)(o,{children:(0,B.jsx)(F.Z,{title:(0,B.jsx)(a.FormattedMessage,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!t)return(0,B.jsx)(o,{children:(0,B.jsx)(F.Z,{title:(0,B.jsx)(a.FormattedMessage,{defaultMessage:"Loadingâ€¦",id:"search.inputMenu.loading.message"})})});if(t&&0===t.length)return(0,B.jsx)(o,{children:(0,B.jsx)(F.Z,{title:(0,B.jsx)(a.FormattedMessage,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const l={key:"results",items:t.map(this.getResultMenuItem),render:o};return(0,B.jsx)(T.Z,{type:T.i.Vertical,store:n,initialFocus:0,sections:[l]})},this.handleMenuInputRemoveLast=()=>{const{items:e,onRemove:t}=this.props,r=o.Z$(e);r&&t(r)},this.getResultMenuItem=e=>{const{renderResultMenuItem:t,onConfirm:r}=this.props;return{key:e,action:()=>r(e),render:r=>t(e,r)}},this.styles={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}}}renderComponent(){const{value:e,items:t,performRequest:r}=this.props,{requestStore:i}=this.stores,s={query:e,current:t};return(0,B.jsx)(k.Z,{...this.getMenuProps(),children:(0,B.jsx)(L.Z,{debounce:100,requestStore:i,request:s,performRequest:r,render:this.renderRequest})})}renderTokenInput(){const{labelText:e,value:t,items:r,disabled:i,onChange:s,renderToken:n,onRemove:o,onClear:l}=this.props,a=r.map((e=>n(e,{onRemove:()=>o(e)})));return(0,B.jsx)(R.Z,{focus:!this.isMobile()||void 0,focusAfterAnimation:!0,format:R.Z.Format.FilterValue,tokens:a,placeholder:e.tokenInputPlaceholder,onRemoveLastToken:this.handleMenuInputRemoveLast,onClearButtonClick:l,value:t,onChange:s,showClearButton:!0,disabled:Boolean(i),style:this.styles.inputMenu})}getMenuProps(){const{onDismiss:e,labelText:t}=this.props,r=this.styles;if(this.isMobile()){return{menuType:M.og.Modal,title:t.title,right:(0,B.jsx)(Z.DoneMenuText,{}),onClickRight:e,header:this.renderTokenInput()}}return{menuType:M.og.Popup,onClickOutside:e,header:this.renderTokenInput(),...r.menu}}isMobile(){const{device:e}=this.environment;return e.isMobile}}P.displayName="SearchTokenInputMenu";const w=P;let O=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});class A extends s.Z{constructor(){super(...arguments),this.animationFrame=void 0,this.origin=i.createRef(),this.storeTypes={componentStore:c},this.renderMobileFilterSummary=e=>{const{title:t,items:r,renderItemForSummary:s}=this.props,{disableFilters:n}=e,o=this.styles,l={...d.mK,...o.summary},a=r.length-1,h=(0,B.jsx)("ul",{style:l,children:r.map(((e,t)=>(0,B.jsx)("li",{style:o.summaryItem,children:(0,B.jsxs)(i.Fragment,{children:[s(e),t!==a&&","," "]})},e)))});return(0,B.jsx)(S.Z,{disabled:n,onClick:this.handleMenuOpenMobile,onClickClear:this.clearItems,label:t,title:h})},this.renderMenu=()=>{const{renderToken:e,renderFooter:t,allowApplyBatchSelection:r}=this.props,{componentStore:{state:i}}=this.stores;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(w,{...this.props,value:i.inputTemporaryValue,onChange:this.handleMenuInputChange,onDismiss:this.handleMenuClose,onConfirm:this.handleItemConfirm,onClear:()=>{this.handleClearTemporary(),this.clearItems()},onRemove:this.handleFilterRemove,renderToken:e}),t&&(0,B.jsxs)(C.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"},children:[(0,B.jsx)(v.Z,{onClick:()=>{this.clearItems()},children:(0,B.jsx)(a.FormattedMessage,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),r&&(0,B.jsx)(m.Z,{onClick:()=>{this.handleMenuClose("applyButton")},children:(0,B.jsx)(a.FormattedMessage,{id:"searchTokenFilter.applyButton",defaultMessage:"Apply"})})]})]})},this.handleMenuOpen=e=>{const{onMenuOpen:t}=this.props;t&&t(),this.scheduleMeasurement(void 0,(t=>({...t,isMenuOpen:!0,indexToReplace:e})))},this.handleMenuOpenMobile=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,isMenuOpen:!0})},this.handleMenuClose=e=>{const{onMenuDismiss:t}=this.props,{componentStore:r}=this.stores;this.clearInput(),r.setState({...r.state,isMenuOpen:!1,indexToReplace:void 0}),t&&t(e)},this.handleClearTemporary=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,inputTemporaryValue:""})},this.handleItemConfirm=e=>{const{items:t}=this.props,{componentStore:r}=this.stores,{indexToReplace:i}=r.state;"number"==typeof i&&i<t.length?this.replaceItem(i,e):t.includes(e)&&A.Mode.Pill?this.removeItem(e):function(e,t,r){const i=t.concat(e);r(o.jj(i))}(e,this.props.items,this.props.onChange),this.props.keepInputOnItemConfirm||this.clearInput()},this.handleFilterRemove=e=>{this.removeItem(e)},this.handleMenuInputChange=e=>{const{componentStore:t}=this.stores,{target:r}=e;t.setState({...t.state,inputTemporaryValue:String(r.value)})},this.scheduleMeasurement=(e,t)=>{this.animationFrame=requestAnimationFrame(this.measureOriginRect(t))},this.measureOriginRect=e=>t=>{const{componentStore:r}=this.stores;if(!this.origin)return;if(!this.origin.current)return;const i=e?e(r.state):r.state;r.setState({...i,popupOriginRect:this.origin.current.getBoundingClientRect()})},this.isMenuOpen=()=>{const{componentStore:{state:e}}=this.stores;return e.isMenuOpen},this.removeItem=e=>{const{items:t,onChange:r}=this.props;r(t.filter((t=>t!==e)))},this.clearItems=()=>{const{onChange:e}=this.props;e([])},this.replaceItem=(e,t)=>{const{items:r,onChange:i}=this.props;i(r.slice(0,e).concat(t,r.slice(e+1)))},this.clearInput=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,inputTemporaryValue:"",indexToReplace:void 0})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:d.yv(this.environment,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===this.props.mode?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}didMount(){window.addEventListener("resize",this.scheduleMeasurement)}willUnmount(){window.removeEventListener("resize",this.scheduleMeasurement),this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}didUpdate(e){(e.items.length!==this.props.items.length||e.mode!==this.props.mode)&&this.scheduleMeasurement()}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?this.renderMobile(t):this.renderDesktop(t)}renderDesktop(e){const{title:t,disabled:r}=this.props,{componentStore:{state:i}}=this.stores,s=r||i.isMenuOpen;let n;const o=(()=>e===A.Mode.Section?(n=t,this.renderSectionOrigin()):e===A.Mode.Button?this.renderButtonOrigin():e===A.Mode.Pill?this.renderPillOrigin():void(0,l.t1)(e))();return(0,B.jsxs)(x.Z,{title:n,marginAfter:e===A.Mode.Section,style:this.styles.sectionMenuItem,children:[e!==A.Mode.Pill&&this.renderFilters({disableFilters:s,showLabel:!1}),o,(0,B.jsx)(y.ZP,{popupType:y.ZP.PopupType.Popup,placementToOrigin:y.ZP.Placement.Bottom,alignmentToOrigin:y.ZP.Alignment.Start,open:this.isMenuOpen(),originRect:i.popupOriginRect,render:()=>this.renderMenu(),onDismiss:this.handleMenuClose,keepFocus:!0,preventScaleTransition:!0})]})}renderButtonOrigin(){const{icon:e,title:t,disabled:r,focused:i}=this.props,s=this.styles,n=this.getThemeColors(),o={...s.menuItem,...n.buttonMenuItem};return(0,B.jsx)("div",{ref:this.origin,style:s.menuItemWrapper,children:(0,B.jsx)(g.Z,{disabled:r||this.isMenuOpen(),icon:e(s.icon),title:t,focused:i,onClick:e=>this.handleMenuOpen(),style:o})})}renderPillOrigin(){const{icon:e,title:t,disabled:r,iconStyles:i}=this.props,s=this.styles,n=this.props.mode===O.Pill&&this.props.hasItemsSelected;return(0,B.jsx)("div",{ref:this.origin,style:s.menuItemWrapper,children:(0,B.jsx)(u.Z,{on:n,icon:e({...s.icon,...i}),title:(0,B.jsx)("span",{children:t}),onClick:e=>this.handleMenuOpen(),wrapStyle:{opacity:r?.4:1}})})}renderSectionOrigin(){const{addItemLabel:e,disabled:t}=this.props,r=this.styles,s=this.getThemeColors();return(0,B.jsxs)(i.Fragment,{children:[(0,B.jsx)("div",{ref:this.origin,style:r.menuItemWrapper}),(0,B.jsx)(g.Z,{disabled:t||this.isMenuOpen(),icon:(0,n.R)(r.iconSmall),title:e,focused:!1,onClick:e=>this.handleMenuOpen(),style:{...r.appendListItemButton,...s.appendListItemButton}})]})}renderMobile(e){const{disabled:t}=this.props,r=t||this.isMenuOpen(),i=e===A.Mode.Section?this.renderMobileFilterSummary({disableFilters:r}):this.renderMobileButtonOrigin({disableFilters:r});return(0,B.jsx)(y.ZP,{popupType:y.ZP.PopupType.SlideUp,open:this.isMenuOpen(),origin:i,render:this.renderMenu,onDismiss:this.handleMenuClose,keepFocus:!0})}renderMobileButtonOrigin(e){const{icon:t,title:r}=this.props,i=this.styles;return(0,B.jsx)(g.Z,{disabled:e.disableFilters,focused:!1,icon:t({...i.icon}),title:r,onClick:e=>this.handleMenuOpenMobile()})}renderFilters(e){const{items:t,renderFilter:r}=this.props,{device:i}=this.environment,s=t.map(((t,s)=>(0,B.jsx)("li",{children:r(t,{disabled:e.disableFilters,onRemove:()=>this.handleFilterRemove(t),onClick:()=>i.isMobile?this.handleMenuOpenMobile():this.handleMenuOpen(s)})},`${t}_${s}`)));return(0,B.jsx)("ul",{style:d.mK,children:s})}getThemeColors(){return{buttonMenuItem:{color:this.theme.mediumTextColor},appendListItemButton:{color:this.theme.lightTextColor}}}}A.displayName="SearchTokenFilter",A.Mode=O;const U=A},75689:(e,t,r)=>{r.d(t,{Z:()=>h});r(67294);var i=r(83355),s=r(82990),n=r(52275),o=r(24006),l=r(255),a=r(85893);class d extends i.Z{constructor(){super(...arguments),this.styles={menuItem:{background:void 0,minHeight:void 0,fontSize:this.environment.device.isMobile?s.Z.fontSize.UISmall.mobile:s.Z.fontSize.UIRegular.desktop,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}renderComponent(){const{disabled:e,label:t,title:r,onClick:i,isToggle:s,...o}=this.props,l=this.getThemeColors(),d=this.styles,h=(0,a.jsx)("span",{style:l.menuItemLabel,children:t});return(0,a.jsx)(n.Z,{focused:!1,...o,inline:s,disabled:e,icon:h,title:r,right:this.renderRight(),onClick:i,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:d.menuItem,desktopIconStyle:d.menuItemLabel})}renderRight(){const{disabled:e}=this.props,t=this.styles.rightWrapper;return this.props.isToggle?(0,a.jsx)("div",{style:t,children:(0,a.jsx)(o.Z,{on:this.props.isToggleActive,onClick:this.props.onClick})}):(0,a.jsx)(l.Z,{disabled:e,onClick:this.props.onClickClear})}getThemeColors(){return{menuItemLabel:{color:this.theme.lightTextColor}}}}d.displayName="SearchFilterSummaryMenuItem";const h=d},91642:(e,t,r)=>{r.d(t,{Z:()=>n});r(67294);var i=r(72495),s=r(85893);const n=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:r,marginAfter:n,desktopStyle:o,desktopTitleStyle:l,...a}=e,d=(n||o)&&{...n&&t.marginAfter,...o},h=l?{...t.desktopTitleStyle,...l}:t.desktopTitleStyle;return(0,s.jsx)(i.Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:h,shouldShowBottomDivider:!1,title:r,...a})}},90683:(e,t,r)=>{r.d(t,{a:()=>a});r(67294);var i=r(66897),s=r(97880),n=r(70301),o=r(45653),l=r(85893);function a(e){const{actor:t}=e,r={size:e.size??14,style:{marginRight:2,...e.style}};return(0,i.YU)(t)?(0,l.jsx)(n.Z,{botValue:t.asActor,...r}):(0,i.$S)(t)?(0,l.jsx)(o.Z,{userValue:t.asActor,...r}):(0,i.Iq)(t)?(0,l.jsx)(o.Z,{userValue:void 0,...r}):void(0,s.t1)(t)}},34700:(e,t,r)=>{function i(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}r.d(t,{X:()=>i})},13148:(e,t,r)=>{r.d(t,{U:()=>n});r(67294);var i=r(45238),s=r(85893);const n=(0,i.I)("close",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M2.89795 13.3428C3.18799 13.6262 3.6626 13.6262 3.93945 13.3494L7.99341 9.29541L12.0474 13.3494C12.3308 13.6262 12.8054 13.6328 13.0889 13.3428C13.3723 13.0593 13.3723 12.5847 13.0955 12.3079L9.0415 8.24731L13.0955 4.19336C13.3723 3.9165 13.3789 3.4353 13.0889 3.15845C12.7988 2.875 12.3308 2.875 12.0474 3.15186L7.99341 7.20581L3.93945 3.15186C3.6626 2.875 3.1814 2.86841 2.89795 3.15186C2.6145 3.44189 2.62109 3.9231 2.89795 4.19336L6.9519 8.24731L2.89795 12.3079C2.62109 12.5781 2.6145 13.0659 2.89795 13.3428Z"})})},64878:(e,t,r)=>{r.d(t,{h:()=>n});r(67294);var i=r(45238),s=r(85893);const n=(0,i.I)("dot",{viewBox:"0 0 5 4",svg:(0,s.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},97439:(e,t,r)=>{r.d(t,{D:()=>n});r(67294);var i=r(45238),s=r(85893);const n=(0,i.I)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},27714:(e,t,r)=>{r.d(t,{N:()=>n});r(67294);var i=r(45238),s=r(85893);const n=(0,i.I)("link",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M7.69922 10.8945L8.73828 9.84863C7.91797 9.77344 7.34375 9.51367 6.91992 9.08984C5.76465 7.93457 5.76465 6.29395 6.91309 5.14551L9.18262 2.87598C10.3379 1.7207 11.9717 1.7207 13.127 2.87598C14.2891 4.04492 14.2822 5.67188 13.1338 6.82031L11.958 7.99609C12.1768 8.49512 12.2451 9.10352 12.1289 9.62988L14.0908 7.6748C15.7725 6 15.7793 3.62109 14.084 1.92578C12.3887 0.223633 10.0098 0.237305 8.33496 1.91211L5.95605 4.29785C4.28125 5.97266 4.26758 8.35156 5.96289 10.0469C6.36621 10.4434 6.90625 10.7441 7.69922 10.8945ZM8.30078 5.13184L7.26855 6.17773C8.08203 6.25293 8.66309 6.51953 9.08008 6.93652C10.2422 8.09863 10.2422 9.73242 9.08691 10.8809L6.81738 13.1504C5.66211 14.3057 4.03516 14.3057 2.87305 13.1504C1.71094 11.9883 1.71777 10.3545 2.87305 9.20605L4.04199 8.03027C3.83008 7.53125 3.75488 6.92969 3.87109 6.39648L1.91602 8.35156C0.234375 10.0264 0.227539 12.4121 1.92285 14.1074C3.61816 15.8027 5.99707 15.7891 7.67188 14.1143L10.0439 11.7354C11.7256 10.0537 11.7324 7.6748 10.0371 5.98633C9.64062 5.58301 9.10059 5.28223 8.30078 5.13184Z"})})},22686:(e,t,r)=>{r.d(t,{f:()=>n});r(67294);var i=r(45238),s=r(85893);const n=(0,i.I)("person",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,r)=>{r.d(t,{X:()=>n});r(67294);var i=r(45238),s=r(85893);const n=(0,i.I)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,s.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,s.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},35840:(e,t,r)=>{r.d(t,{R:()=>n,T:()=>s});r(67294);var i=r(45238);const s=(0,r(85893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),n=(0,i.I)("search",{viewBox:"0 0 16 16",svg:s})},80503:(e,t,r)=>{r.d(t,{Aj:()=>s,R6:()=>o,TT:()=>i,br:()=>n,u3:()=>l});const i=52,s=45,n=37;function o(e,t){return t?i:e?n:s}function l(e){return 2*o(e)}}}]);