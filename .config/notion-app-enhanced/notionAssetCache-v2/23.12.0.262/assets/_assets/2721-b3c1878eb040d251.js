"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2721],{66653:(t,e,i)=>{i.d(e,{Z:()=>f});i(67294);var n=i(83355),s=i(40506),r=i(53877),o=i(84795),a=i(72126),d=i(97880),l=i(31412),p=i(17335),u=i(48141),h=i(67950),c=i(74194),g=i(68894),v=i(26388),m=i(85893);class y extends n.Z{constructor(){super(...arguments),this.storeTypes={store:h.Z},this.renderInput=()=>{const{device:t}=this.environment,{store:e,hideClearButton:i,focused:n,value:s,...r}=this.props,o=t.isMobile&&"relative"!==(null==s?void 0:s.type)?"date":"text",a="date"===o?c.Z.Format.Transparent:c.Z.Format.Large,d=t.isMobile?void 0:n;return(0,m.jsx)(g.ZP,{...r,type:o,format:a,left:this.renderMobilePlaceholder(o),showClearButton:this.showClearButton(),focus:d,onFocus:this.handleFocus,onClearButtonClick:this.handleClear,onChange:this.handleChange,onSubmit:this.handleSubmit,onBlur:this.handleBlur,value:this.getInputValue(),disableInput:"relative"===(null==s?void 0:s.type),...this.getInputStyles()})},this.handleFocus=t=>{const{onFocus:e}=this.props,{store:i}=this.stores;i.setState({...i.state,edited:!1}),e&&e(t)},this.handleClear=()=>{const{onClearButtonClick:t,onUpdate:e}=this.props,{store:i}=this.stores;i.setState({...i.state,edited:!0,temporary:"",error:void 0});const n=this.validateCurrent();n&&e(n),i.setState({...i.state,edited:!1}),t&&t()},this.handleChange=t=>{const{device:e}=this.environment,{store:i}=this.stores;i.setState({...i.state,edited:!0,temporary:t.target.value||""}),e.isAndroid&&this.handleBlur()},this.handleSubmit=t=>{const{onUpdate:e,onSubmit:i}=this.props,{store:n}=this.stores,s=this.validateCurrent();s&&(e(s),s.error?n.setState({...n.state,edited:!1,error:s.error}):n.reset()),i&&i(t,s)},this.handleBlur=t=>{const{onUpdate:e,onBlur:i}=this.props,{store:n}=this.stores,s=this.validateCurrent();s?(e(s),s.error?n.setState({...n.state,edited:!1,error:s.error}):n.reset()):n.setState({...n.state,edited:!1}),t&&i&&i(t)},this.styles={menuItem:{marginBottom:this.environment.device.isMobile?1:8},inputWrapper:{borderRadius:4,height:28,paddingRight:this.showClearButton()?8:0,position:"relative"},inputEditRegion:{width:this.showClearButton()?"calc(100% - 14px)":"100%"},inputEditRegionMobile:{padding:"2px 6px",position:"relative"},placeholder:{position:"absolute",left:this.environment.device.isIpad?26:12,top:this.environment.device.isIpad?void 0:"50%",transform:"translateY(-50%)"},tooltipOriginGap:-8}}didUpdate(t){const{store:e}=this.stores;a.Xy(t.value,this.props.value)||e.reset()}renderComponent(){const t=this.styles,e=this.getError();return e?(0,m.jsx)(v.Z,{renderTooltip:()=>e,forceVisibleState:!0,placement:v.Z.Placement.Left,render:this.renderInput,originGap:t.tooltipOriginGap}):this.renderInput()}getDateFormat(){const{device:t}=this.environment;return t.isMobile?"YYYY-MM-DD":this.props.desktopDateFormat??s.sF}renderMobilePlaceholder(t){const{placeholder:e,value:i}=this.props,n=this.styles,s=this.getThemeColors();if("date"===t&&!i)return(0,m.jsx)("div",{style:{...n.placeholder,...s.placeholder},children:e})}getInputValue(){const{device:t}=this.environment,{value:e,intl:i}=this.props,{store:n}=this.stores;if(e&&"relative"===e.type)return(0,p.x)(e);const s=e&&"date"!==e.type?r.Id(e):e;return t.isMobile?s?u.p6(s,i,this.getDateFormat()):"":n.state.temporary||n.state.edited?n.state.temporary:s?u.p6(s,i,this.getDateFormat()):""}getError(){const{store:t}=this.stores,{intl:e}=this.props;if(t.state.error)switch(t.state.error){case h.B.INVALID_DATE:return e.formatMessage({id:"dateInputError.invalidDateError.tooltip",defaultMessage:"Invalid date"});case h.B.INVALID_RANGE:return e.formatMessage({id:"dateInputError.invalidDateRangeError.tooltip",defaultMessage:"Invalid range"});default:(0,d.t1)(t.state.error)}}validateCurrent(){const{validate:t}=this.props,e=this.parseCurrentValue();if(e)return t?t(e):e}parseCurrentValue(){const{store:t}=this.stores;if(!t.state.edited)return;if(!t.state.temporary)return{value:void 0};const e=(0,o.parseDateValueWithInputFormat)(t.state.temporary,this.environment.device.isMobile?r.Iq:this.getDateFormat(),this.props.intl);return e?{value:{type:"date",start_date:e}}:{error:h.B.INVALID_DATE}}showClearButton(){const{device:t}=this.environment,{hideClearButton:e}=this.props;return!!t.isMobile||!e}getInputStyles(){const{device:t}=this.environment,{inputStyle:e,inputOuterStyle:i,style:n}=this.props,s=this.styles;return{style:{...s.menuItem,...n,marginRight:0},inputOuterStyle:{...this.getInputBorders(),...s.inputWrapper,...i},inputStyle:{...s.inputEditRegion,...t.isMobile&&s.inputEditRegionMobile,...e}}}getInputBorders(){const{disabled:t,focused:e}=this.props,i=this.getThemeColors(),n=this.getError();if(!t)return n?i.inputError:e?i.inputFocused:i.inputDefault}getThemeColors(){return{inputDefault:{background:this.theme.inputBackground,boxShadow:this.theme.inputBoxShadow},inputFocused:{background:this.theme.inputBackground,boxShadow:this.theme.outlineBlueInputBoxShadow},inputError:{background:this.theme.inputBackground,boxShadow:this.theme.outlineRedInputBoxShadow},placeholder:{color:this.theme.lightTextColor}}}}y.displayName="DateInputMenuItem";const f=(0,l.injectIntl)(y)},41209:(t,e,i)=>{i.d(e,{Z:()=>v});i(67294);var n=i(480),s=i(76205),r=i(17335),o=i(33929),a=i(87279),d=i(52275),l=i(31945),p=i(78140),u=i(32163),h=i(53437),c=i(72495),g=i(85893);function v(t){window.__c={n:"DateOrRangeFilterOperatorValueMenu"};const{filterValue:e,renderOrigin:i,buttonPopupStore:v}=t,m=(0,n.O7)(),y=t=>"relative"===t.filter.type&&"custom"===t.filter.value?o.default.formatMessage(r.HL[t.filter.value]):"date"===t.type?(0,r.x)(t.filter):(0,r.ip)(t.filter);return(0,g.jsx)(l.ZP,{popupType:m.device.isMobile?h.kQ.SlideUp:h.kQ.Popup,buttonPopupStore:v,render:()=>{let i;i=m.device.isMobile?{menuType:a.og.ActionSheet}:{menuType:a.og.Popup};const n="date"===t.type?(()=>{const t=s.tO;return[...t.filter((t=>"relative"===t.type)),...t.filter((t=>"exact"===t.type))]})().map((i=>({key:"relative"===i.type?i.value:i.type,render:t=>(0,g.jsx)(d.Z,{...t,title:y({type:"date",filter:i}),checkState:i.type===e.type&&(void 0===i.value||i.value===e.value)}),action:()=>{t.onUpdate(i),v.setState({open:!1})}}))):(()=>{const t=(0,s.v8)();return[...t.filter((t=>"relative"===t.type)),...t.filter((t=>"exact"===t.type))]})().map((i=>({key:(0,s.eX)(i),render:t=>(0,g.jsx)(d.Z,{...t,title:y({type:"daterange",filter:i}),checkState:i.type===e.type&&(void 0===i.value||i.value===e.value)}),action:()=>{t.onUpdate(i),v.setState({open:!1})}})));return(0,g.jsx)(p.Z,{...i,children:(0,g.jsx)(u.Z,{type:u.i.Vertical,sections:[{key:"filterOperators",render:t=>(0,g.jsx)(c.Z,{disableMobilePadding:!0,...t}),items:n}],initialFocus:void 0})})},renderOrigin:i,style:{width:240},originGap:2,placementToOrigin:l.pO.Bottom,alignmentToOrigin:l.vR.Center,disabled:t.disabled})}},83264:(t,e,i)=>{i.d(e,{Z:()=>C});i(67294);var n=i(83355),s=i(76205),r=i(53877),o=i(42875),a=i(97880),d=i(31412),l=i(28020),p=i(33929),u=i(87279),h=i(48141),c=i(67950),g=i(41558),v=i(78140),m=i(40721),y=i(72495),f=i(64369),S=i(66653),x=i(41209),b=i(46945),D=i(14390),M=i(85893);const k=(0,d.defineMessages)({startingMessage:{defaultMessage:"Starting",id:"search.dateRangeMenu.startingMessage"},endingMessage:{defaultMessage:"Ending",id:"search.dateRangeMenu.endingMessage"}});class w extends n.Z{constructor(){super(...arguments),this.storeTypes={store:g.Z},this.renderInputs=()=>{const{value:t,relativeRangePopupStore:e,onUpdateRelativeFilter:i}=this.props;if(e&&i){const n="type"in t?t:{type:"exact",value:void 0};return(0,M.jsx)(x.Z,{type:"daterange",filterValue:n,onUpdate:i,renderOrigin:t=>"exact"===n.type?this.renderStartEnd(t):"relative"!==n.type||"surrounding"!==n.value&&"custom"!==n.value?void 0:this.renderRelativePicker(t,i,n),disabled:"exact"===n.type,buttonPopupStore:e})}return this.renderStartEnd()},this.renderRelativePicker=(t,e,i)=>(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:this.environment.device.isMobile?"wrap":void 0,marginBottom:12},children:(0,M.jsx)("div",{style:{width:"92%",marginLeft:10,marginRight:10},children:(0,M.jsx)(D.b,{onUpdate:e,filter:i})})}),this.renderStartEnd=t=>{const{value:e,disabled:i,allowRelativeRangeFilter:n}=this.props,{store:s}=this.stores,r=s.getFocus(),o=function(t,e){if("type"in t)return;const i=t.starting&&h.p6(t.starting,e,"YYYY-MM-DD"),n=t.ending&&h.p6(t.ending,e,"YYYY-MM-DD");return{earliestValidEnding:i,latestValidStarting:n}}(this.props.value,this.props.intl),a="type"in e?{starting:void 0,ending:void 0}:e;return(0,M.jsxs)("div",{...t,style:{display:"flex",flexDirection:n&&!this.environment.device.isMobile?"row":"column",alignItems:"center",width:this.environment.device.isMobile?void 0:280},children:[(0,M.jsx)(S.Z,{disabled:i,placeholder:this.environment.device.isMobile?void 0:p.default.formatMessage(k.startingMessage),focused:"starting"===r,value:a.starting,validate:this.validateStart,onUpdate:this.handleUpdateStart,onFocus:()=>this.handleFocus("starting"),onSubmit:this.handleStartSubmit,inputElementAttributes:o?{max:o.latestValidStarting}:void 0,inputOuterStyle:this.styles.firstDateInput,textWrapperStyle:n&&!this.environment.device.isMobile?{marginRight:2}:{},desktopDateFormat:n?"YYYY/MM/DD":void 0}),(0,M.jsx)(S.Z,{disabled:i,placeholder:this.environment.device.isMobile?void 0:p.default.formatMessage(k.endingMessage),focused:"ending"===r,value:a.ending,validate:this.validateEnd,onUpdate:this.handleUpdateEnd,onFocus:()=>this.handleFocus("ending"),onSubmit:this.handleEndSubmit,inputElementAttributes:o?{min:o.earliestValidEnding}:void 0,textWrapperStyle:n&&!this.environment.device.isMobile?{marginLeft:2}:{},desktopDateFormat:n?"YYYY/MM/DD":void 0})]})},this.renderCalendar=()=>{const{device:t}=this.environment,{value:e,onUpdate:i}=this.props,{store:n}=this.stores,p=this.styles,u=this.getThemeColors(),h={...p.pickerSection,...t.isMobile&&p.pickerSectionMobile,...t.isMobile&&u.pickerSectionMobile},c="type"in e?function(t){return"custom"===t.value?function(t,e,i){const n=(0,s.Fo)(t,e,i,(0,o.r)());switch(t){case"past":return{starting:r.ME(n),ending:r.Lg((0,o.r)())};case"future":return{starting:r.Lg((0,o.r)()),ending:r.ME(n)};default:(0,a.t1)(t)}}(t.direction,t.count,t.unit):"surrounding"===t.value?function(t){const{start:e,end:i}=(0,s.je)(t,(0,o.r)(),l.AK.state);return{starting:r.ME(e),ending:r.ME(i)}}(t.unit):function(t){switch(t.value){case"this_week":return{starting:T((0,o.r)()),ending:I((0,o.r)())};case"the_past_month":return{starting:r.dj((0,o.r)()),ending:r.Lg((0,o.r)())};case"the_past_week":return{starting:r.Oo((0,o.r)()),ending:r.Lg((0,o.r)())};case"the_past_year":return{starting:r.b8((0,o.r)()),ending:r.Lg((0,o.r)())};case"the_next_month":return{starting:r.Lg((0,o.r)()),ending:r.nD((0,o.r)())};case"the_next_week":return{starting:r.Lg((0,o.r)()),ending:r.Kq((0,o.r)())};case"the_next_year":return{starting:r.Lg((0,o.r)()),ending:r.NJ((0,o.r)())};default:(0,a.t1)(t)}}(t)}(e):e;return(0,M.jsx)(y.Z,{style:p.calendarWrapper,children:(0,M.jsxs)("div",{style:h,children:[(0,M.jsx)(b.Z,{value:c,store:n,onUpdate:i,validate:this.validateField,readonly:"type"in e}),"type"in e&&(0,M.jsx)(f.Z,{isSmall:!0,style:{marginLeft:4,marginTop:4},children:(0,M.jsx)(d.FormattedMessage,{id:"collectionFilterMenu.dateRangeFilter.relativeDateRangeFilter.description",defaultMessage:"Filter will update with the current date"})})]})})},this.handleFocus=t=>{const{store:e}=this.stores;e.setState({...e.state,focus:t})},this.handleUpdateStart=t=>{const{onUpdate:e}=this.props;t.error||e({value:{starting:t.value}})},this.handleUpdateEnd=t=>{const{onUpdate:e}=this.props;t.error||e({value:{ending:t.value}})},this.handleStartSubmit=(t,e)=>{const{store:i}=this.stores;e&&e.error||i.setState({...i.state,focus:"ending"})},this.handleEndSubmit=(t,e)=>{const{onDismiss:i}=this.props;e&&e.error||i&&i(t)},this.validateStart=t=>{const e=this.validateField("starting",t);return e.error?e:{value:e.value.starting}},this.validateEnd=t=>{const e=this.validateField("ending",t);return e.error?e:{value:e.value.ending}},this.validateField=(t,e)=>{const{value:i}=this.props;if("type"in i)return{value:{starting:void 0,ending:void 0}};if(e.error)return e;const n=e.value&&"date"!==e.value.type?r.Id(e.value):e.value;return this.validateRange({...i,[t]:n})},this.validateRange=t=>{if(t.starting&&t.ending){const e=r.OQ.notionDateToLuxon(t.starting);return r.OQ.notionDateToLuxon(t.ending)>=e?{value:t}:{error:c.B.INVALID_RANGE}}return{value:t}},this.getMenuProps=()=>{const{device:t}=this.environment,{onDismiss:e,title:i}=this.props;if(t.isMobile){return{menuType:u.og.Modal,title:i,right:(0,M.jsx)(m.DoneMenuText,{}),onClickRight:e,header:this.renderInputs()}}return{menuType:u.og.Popup,onClickOutside:e}},this.styles={calendarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},pickerSection:{paddingLeft:16,paddingRight:16},pickerSectionMobile:{paddingTop:16,paddingBottom:8},firstDateInput:{marginTop:2}}}renderComponent(){const{disableMenuWrap:t,hideDateInputMenuItems:e}=this.props,{device:i}=this.environment;return t?(0,M.jsxs)(M.Fragment,{children:[!e&&this.renderInputs(),this.renderCalendar()]}):(0,M.jsxs)(v.Z,{...this.getMenuProps(),children:[!i.isMobile&&!e&&this.renderInputs(),this.renderCalendar()]})}getThemeColors(){return{pickerSectionMobile:{background:this.theme.popoverBackground,boxShadow:`0 1px 0 ${this.theme.regularDividerColor}`,marginBottom:1}}}}w.displayName="DateRangeMenu";const C=(0,d.injectIntl)(w);function T(t){return{type:"date",start_date:r.em(Date.now(),r.aN(),t).toFormat(r.Iq)}}function I(t){return{type:"date",start_date:r.gQ(Date.now(),r.aN(),t).toFormat(r.Iq)}}},46945:(t,e,i)=>{i.d(e,{Z:()=>g});i(67294);var n=i(83355),s=i(13991),r=i(8848),o=i(53877),a=i(42875),d=i(82990),l=i(28020),p=i(77907),u=i(13854),h=i(85893);class c extends n.Z{constructor(){super(...arguments),this.currentDate=void 0,this.handleDayClick=t=>{const{disabled:e,store:i,dateTimeStore:n,value:s,validate:r,onUpdate:a,readonly:d}=this.props;if(e||d)return;const l=i.getFocus(),p=r(l,{value:o.OQ.toPersistedDate(t.valueOf())});if(a(p.error?p:{value:{[l]:p.value[l]}}),i.setState({...i.state,hovered:void 0}),n&&n.setState({...n.state,hovered:void 0}),p.error)return;"starting"!==l||s.ending||(i.setState({...i.state,focus:"ending"}),n&&n.setState({...n.state,focus:u.yO.ending}));const h="starting"===l?"ending":"starting";i.setState({...i.state,focus:h}),n&&n.setState({...n.state,focus:u.yO[h]})},this.handleDayMouseEnter=t=>{const{disabled:e,store:i,dateTimeStore:n,value:s,readonly:r}=this.props,a=i.getFocus(),d=o.OQ.jsDateToLuxon(t);if(!e&&!r)if("starting"===a&&s.ending&&!s.starting){o.OQ.notionDateToLuxon(s.ending)>=d&&(i.setState({...i.state,hovered:t}),n&&n.setState({...n.state,hovered:t}))}else if("ending"===a&&s.starting&&!s.ending){o.OQ.notionDateToLuxon(s.starting)<=d&&(i.setState({...i.state,hovered:t}),n&&n.setState({...n.state,hovered:t}))}},this.handleMonthChange=t=>{const{store:e,dateTimeStore:i}=this.props;e.setState({...e.state,displayMonth:o.OQ.jsDateToLuxon(t)}),i&&i.setState({...i.state,displayMonth:o.OQ.jsDateToLuxon(t)})},this.styles={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:r.ZP.blueWithAlpha(.15)},active:{backgroundColor:r.ZP.blue,color:r.ZP.white},inactive:{backgroundColor:r.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:d.Z.fontWeight.regular}}}renderComponent(){const{readonly:t}=this.props,e=this.getDisplayMonth();return(0,h.jsx)(p.LazyDayPicker,{className:"notion-calendar-picker",defaultMonth:e,month:e,numberOfMonths:1,weekStartsOn:l.AK.state,locale:s.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,onMonthSelected:this.handleMonthChange,modifiers:this.getModifiers(),modifiersStyles:this.getModifiersStyles(),disabled:!!t||void 0})}getCurrentDate(){if(!this.currentDate){const t=o.Lg((0,a.r)());this.currentDate=o.OQ.notionDateToJsDate(t)}return this.currentDate}getDisplayMonth(){const{value:t,store:e}=this.props;if(e.state.displayMonth)return e.state.displayMonth.toJSDate();if("starting"===e.getFocus()){if(t.starting)return o.OQ.notionDateToJsDate(t.starting);if(t.ending)return o.OQ.notionDateToJsDate(t.ending)}if("ending"===e.getFocus()){if(t.ending)return o.OQ.notionDateToJsDate(t.ending);if(t.starting)return o.OQ.notionDateToJsDate(t.starting)}return this.getCurrentDate()}getModifiers(){const{store:t,disabled:e,value:i}=this.props,n=function(t,e,i){if(e)return t=>!0;const n=t=>"ending"===i.getFocus()&&{before:t},s=t=>"starting"===i.getFocus()&&{after:t};if(t.starting&&t.ending){const e=o.OQ.notionDateToJsDate(t.starting),i=o.OQ.notionDateToJsDate(t.ending);return n(e)||s(i)}if(t.starting){return n(o.OQ.notionDateToJsDate(t.starting))}if(t.ending){return s(o.OQ.notionDateToJsDate(t.ending))}return!1}(this.props.value,this.props.disabled,this.props.store),{hovered:s}=t.state;if(e)return{disabled:n};if(i.starting&&i.ending){const t=o.OQ.notionDateToJsDate(i.starting),e=o.OQ.notionDateToJsDate(i.ending);return{range:{from:t,to:e},start:t,end:e,disabled:n}}if(i.starting){const t=o.OQ.notionDateToJsDate(i.starting);return{range:s&&{from:t,to:s},start:t,end:s,disabled:n,selected:[t,s]}}if(i.ending){const t=o.OQ.notionDateToJsDate(i.ending);return{range:s&&{from:s,to:t},start:s,end:t,disabled:n,selected:[t,s]}}}getModifiersStyles(){const{store:t}=this.props,e=this.styles,i=this.getThemeColors(),n=t.getFocus(),s=e.selectedRange,r={...e.disabled,...i.disabled},o={...e.today,...i.today};return{range:s,start:"starting"===n?e.active:e.inactive,end:"ending"===n?e.active:e.inactive,disabled:r,today:o}}getThemeColors(){return{disabled:{color:this.theme.lightTextColor},today:{color:r.ZP.white}}}}c.displayName="DateRangePicker";const g=c},62045:(t,e,i)=>{i.d(e,{Z:()=>u});i(67294);var n=i(83355),s=i(8848),r=i(42853),o=i(52275),a=i(8982),d=i(63296),l=i(85893);class p extends n.Z{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick&&this.props.onClick()}}renderComponent(){const{device:t}=this.environment,e=Boolean(this.props.title);if(t.isMobile)return(0,l.jsx)(o.Z,{showExtensionArrow:!this.props.disabled,focused:!1,title:e?(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",...this.props.innerStyle},children:this.props.title}):(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",color:s.ZP.uiGray,...this.props.innerStyle},children:this.props.placeholder}),onClick:this.props.onClick});{const t="dark"===this.theme.mode?this.theme.lightTextColor:this.theme.mediumTextColor;return(0,l.jsx)(a.i,{action:this.handleClick,disabled:this.props.disabled,render:i=>(0,l.jsxs)(d.Z,{...i,hovered:i.focused,isLarge:!0,backgroundColor:this.theme.buttonBackground,style:{marginRight:8,maxWidth:180,padding:"0 8px",...i.disabled&&{opacity:.5},...this.props.disableMargins&&{marginRight:0,maxWidth:"100%",justifyContent:"space-between"},...this.props.desktopStyle},children:[(0,l.jsx)("div",{style:{display:"flex",minWidth:0,color:e?this.theme.regularTextColor:t,...this.props.innerStyle},children:e?this.props.title:this.props.placeholder}),!this.props.disabled&&(0,r.i)({width:10,marginLeft:6,fill:this.theme.lightIconColor})]})})}}}p.displayName="QueryMenuDropdownItem";const u=p},14390:(t,e,i)=>{i.d(e,{b:()=>C});i(67294);var n=i(480),s=i(86628),r=i(24405),o=i(42853),a=i(63143),d=i(31412),l=i(17335),p=i(33929),u=i(87279),h=i(61766),c=i(52275),g=i(31945),v=i(73063),m=i(68894),y=i(78140),f=i(32163),S=i(63296),x=i(53437),b=i(72495),D=i(64369),M=i(62045),k=i(85893);function w(t){window.__c={n:"DateRangePickerButton"};const{humanReadableLabel:e,placeholder:i,outlineButtonStyle:n,buttonWrapperStyle:s,renderAsQueryDropdown:a,events:d,isMobile:l}=t,p=(0,r.yK)((t=>({iconStyle:{...!l&&{height:12,width:12},color:t.mediumIconColor},textStyle:{marginLeft:6,color:t.regularTextColor}})),[l]);return a?(0,k.jsx)(M.Z,{...d,placeholder:i,title:(0,k.jsx)(D.Z,{isMobile:l,children:e}),disableMargins:!0}):(0,k.jsx)("div",{style:s,...d,children:(0,k.jsxs)(S.Z,{isLarge:l,style:n,children:[(0,k.jsx)("div",{style:p.textStyle,children:e}),(0,k.jsx)(v.Z,{disableBackground:!0,icon:o.i,iconStyle:p.iconStyle})]})})}function C(t){window.__c={n:"RelativeDateRangePicker"};const{onUpdate:e,filter:i,renderAsQueryDropdown:o}=t,v=(0,n.Fy)(),S=(0,d.useIntl)(),D=(0,s.qz)(void 0,h.Z),M=(0,s.qz)(void 0,h.Z),C="count"in i,T=(0,r.yK)((t=>({directionButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:70,justifyContent:"space-between",...v.isMobile&&{marginTop:12,width:"100%",paddingLeft:12,marginBottom:6},...!C&&{marginRight:4}},unitButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:90,justifyContent:"space-between",width:"100%",...v.isMobile&&{paddingLeft:12,marginTop:6}},directionButtonWrapperStyle:{...v.isMobile&&{width:"100%"},flexGrow:0},unitButtonWrapperStyle:{...v.isMobile&&{width:"100%"},flexGrow:2},inputStyle:{minWidth:35,height:16},inputOuterStyle:{minWidth:60,height:32},container:{display:"flex",justifyContent:"start",alignItems:"center",flexDirection:v.isMobile?"column":"row",width:"100%"},textWrapper:{marginRight:6,marginLeft:o?16:6}})),[v.isMobile,o,C]);function I(t){return"this"===t?p.default.formatMessage(l.Fc[t]):p.default.formatMessage(l.Sj[t])}function R(t,e){return e&&e>1?p.default.formatMessage(l.D0[t]):p.default.formatMessage(l.Sb[t])}const j=["day","week","month","year"].map((t=>({key:t,render:e=>(0,k.jsx)(c.Z,{...e,title:R(t,C?i.count:void 0),checkState:t===i.unit}),action:n=>{e({...i,unit:t}),D.setState({open:!1})}}))),Z=["past","future","this"].map((t=>({key:t,render:e=>(0,k.jsx)(c.Z,{...e,checkState:"surrounding"===i.value?"this"===t:t===i.direction,title:I(t)}),action:n=>{"this"===t&&"custom"===i.value?e({type:"relative",value:"surrounding",unit:i.unit}):"this"!==t&&"surrounding"===i.value?e({type:"relative",value:"custom",count:1,direction:t,unit:i.unit}):"this"!==t&&"custom"===i.value&&e({...i,direction:t}),M.setState({open:!1})}})));return(0,k.jsxs)("div",{style:T.container,children:[(0,k.jsx)(g.ZP,{buttonPopupStore:M,popupType:v.isMobile?x.kQ.SlideUp:x.kQ.Popup,renderOrigin:t=>(0,k.jsx)(w,{events:t,placeholder:S.formatMessage(l.$7.direction),renderAsQueryDropdown:o,isMobile:v.isMobile,outlineButtonStyle:T.directionButtonStyle,buttonWrapperStyle:T.directionButtonWrapperStyle,humanReadableLabel:I("direction"in i?i.direction:"this")}),render:()=>(0,k.jsx)(y.Z,{menuType:v.isMobile?u.og.ActionSheet:u.og.Popup,children:(0,k.jsx)(f.Z,{initialFocus:void 0,type:f.i.Vertical,sections:[{key:"directionOptions",render:t=>(0,k.jsx)(b.Z,{disableMobilePadding:!0,...t}),items:Z}]})})}),C&&(0,k.jsx)(m.ZP,{type:"number",style:T.inputStyle,textWrapperStyle:T.textWrapper,inputOuterStyle:T.inputOuterStyle,min:"1",value:i.count.toString(),onChange:t=>{const n=parseInt(t.target.value);!(0,a.hj)(n)||n<1||e({...i,count:n})}}),(0,k.jsx)(g.ZP,{buttonPopupStore:D,popupType:v.isMobile?x.kQ.SlideUp:x.kQ.Popup,renderOrigin:t=>(0,k.jsx)(w,{events:t,placeholder:S.formatMessage(l.$7.unit),renderAsQueryDropdown:o,isMobile:v.isMobile,outlineButtonStyle:T.unitButtonStyle,buttonWrapperStyle:T.unitButtonWrapperStyle,humanReadableLabel:R(i.unit,"count"in i?i.count:void 0)}),render:()=>(0,k.jsx)(y.Z,{menuType:v.isMobile?u.og.ActionSheet:u.og.Popup,children:(0,k.jsx)(f.Z,{initialFocus:void 0,type:f.i.Vertical,sections:[{key:"unitOptions",render:t=>(0,k.jsx)(b.Z,{disableMobilePadding:!0,...t}),items:j}]})})})]})}},47082:(t,e,i)=>{i.d(e,{Z:()=>S});i(67294);var n=i(83355),s=i(53465),r=i(72126),o=i(87279),a=i(98742),d=i(34859),l=i(64113),p=i(64921),u=i(37601),h=i(74194),c=i(3386),g=i(53336),v=i(64369),m=i(85893),y=function(t){return t[t.Select=0]="Select",t[t.Person=1]="Person",t[t.Relation=2]="Relation",t[t.FilterValue=3]="FilterValue",t[t.Share=4]="Share",t[t.Group=5]="Group",t}(y||{});class f extends n.Z{constructor(){super(...arguments),this.storeTypes={store:l.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleKeyDown=t=>{"Backspace"===t.key&&0===this.props.value.length&&this.props.onRemoveLastToken(),this.props.onKeyDown&&this.props.onKeyDown(t)},this.handleSubmit=t=>{0===this.props.value.length&&this.props.onEmptySubmit&&this.props.onEmptySubmit(),this.props.onSubmit&&this.props.onSubmit(t)},this.handleContainerClick=()=>{var t,e;this.props.disabled||(this.input.focusInput(),null===(t=(e=this.props).onClick)||void 0===t||t.call(e))}}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:t}=this.props;return(0,m.jsx)(c.Z,{capture:!t,onLeft:r.yR,onRight:r.yR,onSelectAll:r.yR,onRedo:r.yR,onUndo:r.yR,onToggleBold:r.yR,onToggleItalics:r.yR,onToggleCode:r.yR,onCut:r.yR,onCopy:r.yR,onPaste:r.yR,onKeypress:r.yR,children:(0,m.jsx)(c.Z,{capture:!t&&this.props.value.length>0,onDelete:r.yR,onBackspace:r.yR,children:(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",gap:this.props.message?4:void 0},children:[this.renderTokenInput(),(0,m.jsx)(v.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:t,showClearButton:e}=this.props;return t||e?(0,m.jsxs)(g.Z,{type:d.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,m.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,m.jsx)("div",{style:{flexShrink:0},children:this.renderRight()})]}):this.environment.device.isMobile?(0,m.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,m.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:x(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,m.jsx)(u.Z,{show:this.stores.store.state.focused})]}):(0,m.jsxs)(g.Z,{type:d.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderRight(){const{showClearButton:t,right:e,onClearButtonClick:i,tokens:n,value:r}=this.props,{isMobile:o}=this.environment.device;return e||(t&&(n.length>0||r.length>0)?(0,m.jsx)(p.Z,{onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:o?24:20,marginTop:2},children:(0,s.X)({width:o?16:14,height:o?16:14,fill:this.theme.lightIconColor})}):void 0)}renderInput(){const t=0===this.props.tokens.length;return(0,m.jsx)(h.Z,{disabled:this.props.disabled,format:h.Z.Format.Transparent,...(0,a.Z)({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:this.getInputDivStyle(),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:x(this.props.format)?20:18},size:1,ref:t=>t&&(this.input=t),type:this.props.type,placeholder:t?this.props.placeholder:"",onSubmit:this.handleSubmit,onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete})}getDesktopWrapStyle(){const{disabled:t}=this.props;return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":this.theme.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}getMobileWrapStyle(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${this.theme.regularDividerColor}`,fontSize:16,background:this.theme.popoverBackground}}getWrapStyle(){var t,e;const{focus:i,format:n}=this.props,{WindowSizeStore:s}=this.environment;return{...this.environment.device.isMobile?{...this.getMobileWrapStyle(),paddingTop:14,paddingBottom:8,paddingLeft:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==o.og.Popup?s.getSafePaddingLeftCSS(16):16,paddingRight:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==o.og.Popup?s.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...this.getDesktopWrapStyle(),...this.getStyles()[n].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&i&&this.getStyles()[this.props.format].inputDivDesktopFocusStyle}}getStyles(){const t={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[y.Select]:t,[y.Person]:t,[y.Relation]:t,[y.Group]:t,[y.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[y.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}getInputDivStyle(){return{flexGrow:1,flexShrink:1,flexBasis:this.props.inputFullWidth?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...this.environment.device.isMobile?{margin:"0 8px 8px 0"}:this.getStyles()[this.props.format].inputDivDesktopStyle,...this.props.inputDivStyle}}}f.displayName="TokenInputMenuItem",f.contextTypes={...o.mw,...n.w},f.Format=y;const S=f;function x(t){return t===y.Group}},67950:(t,e,i)=>{i.d(e,{B:()=>s,Z:()=>o});var n=i(49085);const s={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class r extends n.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const o=r},76150:(t,e,i)=>{i.d(e,{Hv:()=>s,ZP:()=>a,pd:()=>r});var n=i(49085);let s=function(t){return t.StartDate="startDate",t.StartTime="startTime",t.EndDate="endDate",t.EndTime="endTime",t}({}),r=function(t){return t.InvalidDate="Invalid date",t.InvalidTime="Invalid time",t.InvalidRange="Invalid range",t}({});class o extends n.default{getInitialState(){return{focus:s.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const a=o},13854:(t,e,i)=>{i.d(e,{QJ:()=>r,ZP:()=>d,yO:()=>o});var n=i(49085),s=i(76150);const r={[s.Hv.StartDate]:"starting",[s.Hv.StartTime]:"starting",[s.Hv.EndDate]:"ending",[s.Hv.EndTime]:"ending"},o={starting:s.Hv.StartDate,ending:s.Hv.EndDate};class a extends n.default{getInitialState(){return{isOpen:!1,focus:s.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const d=a},41558:(t,e,i)=>{i.d(e,{Z:()=>r});var n=i(49085);class s extends n.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const r=s}}]);